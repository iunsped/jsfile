var Laya = window.Laya = function(h, t) {
    var u = {
        __internals: [],
        __packages: {},
        __classmap: {
            Object: Object,
            Function: Function,
            Array: Array,
            String: String
        },
        __sysClass: {
            object: "Object",
            array: "Array",
            string: "String",
            dictionary: "Dictionary"
        },
        __propun: {
            writable: true,
            enumerable: false,
            configurable: true
        },
        __presubstr: String.prototype.substr,
        __substr: function(t, e) {
            return arguments.length == 1 ? u.__presubstr.call(this, t) : u.__presubstr.call(this, t, e > 0 ? e : this.length + e)
        },
        __init: function(t) {
            t.forEach(function(t) {
                t.__init$ && t.__init$()
            })
        },
        __isClass: function(t) {
            return t && (t.__isclass || t == Object || t == String || t == Array)
        },
        __newvec: function(t, e) {
            var i = [];
            i.length = t;
            for (var n = 0; n < t; n++)
                i[n] = e;
            return i
        },
        __extend: function(t, e) {
            for (var i in e) {
                if (!e.hasOwnProperty(i))
                    continue;
                var n = Object.getOwnPropertyDescriptor(e, i);
                var s = n.get
                  , r = n.set;
                if (s || r) {
                    if (s && r)
                        Object.defineProperty(t, i, n);
                    else {
                        s && Object.defineProperty(t, i, s);
                        r && Object.defineProperty(t, i, r)
                    }
                } else
                    t[i] = e[i]
            }
            function a() {
                u.un(this, "constructor", t)
            }
            a.prototype = e.prototype;
            t.prototype = new a;
            u.un(t.prototype, "__imps", u.__copy({}, e.prototype.__imps))
        },
        __copy: function(t, e) {
            if (!e)
                return null;
            t = t || {};
            for (var i in e)
                t[i] = e[i];
            return t
        },
        __package: function(t, e) {
            if (u.__packages[t])
                return;
            u.__packages[t] = true;
            var i = h
              , n = t.split(".");
            if (n.length > 1) {
                for (var s = 0, r = n.length - 1; s < r; s++) {
                    var a = i[n[s]];
                    i = a ? a : i[n[s]] = {}
                }
            }
            i[n[n.length - 1]] || (i[n[n.length - 1]] = e || {})
        },
        __hasOwnProperty: function(t, e) {
            e = e || this;
            function n(t, e) {
                if (Object.hasOwnProperty.call(e.prototype, t))
                    return true;
                var i = e.prototype.__super;
                return i == null ? null : n(t, i)
            }
            return Object.hasOwnProperty.call(e, t) || n(t, e.__class)
        },
        __typeof: function(t, e) {
            if (!t || !e)
                return false;
            if (e === String)
                return typeof t === "string";
            if (e === Number)
                return typeof t === "number";
            if (e.__interface__)
                e = e.__interface__;
            else if (typeof e != "string")
                return t instanceof e;
            return t.__imps && t.__imps[e] || t.__class == e
        },
        __as: function(t, e) {
            return this.__typeof(t, e) ? t : null
        },
        __int: function(t) {
            return t ? parseInt(t) : 0
        },
        interface: function(t, e) {
            u.__package(t, {});
            var i = u.__internals;
            var n = i[t] = i[t] || {
                self: t
            };
            if (e) {
                var s = e.split(",");
                n.extend = [];
                for (var r = 0; r < s.length; r++) {
                    var a = s[r];
                    i[a] = i[a] || {
                        self: a
                    };
                    n.extend.push(i[a])
                }
            }
            var o = h
              , l = t.split(".");
            for (var r = 0; r < l.length - 1; r++)
                o = o[l[r]];
            o[l[l.length - 1]] = {
                __interface__: t
            }
        },
        class: function(t, e, i, n) {
            i && u.__extend(t, i);
            if (e) {
                u.__package(e, t);
                u.__classmap[e] = t;
                if (e.indexOf(".") > 0) {
                    if (e.indexOf("laya.") == 0) {
                        var s = e.split(".");
                        n = n || s[s.length - 1];
                        if (u[n])
                            console.log("Warning!,this class[" + n + "] already exist:", u[n]);
                        u[n] = t
                    }
                } else {
                    if (e == "Main")
                        h.Main = t;
                    else {
                        if (u[e]) {
                            console.log("Error!,this class[" + e + "] already exist:", u[e])
                        }
                        u[e] = t
                    }
                }
            }
            var r = u.un
              , a = t.prototype;
            r(a, "hasOwnProperty", u.__hasOwnProperty);
            r(a, "__class", t);
            r(a, "__super", i);
            r(a, "__className", e);
            r(t, "__super", i);
            r(t, "__className", e);
            r(t, "__isclass", true);
            r(t, "super", function(t) {
                this.__super.call(t)
            })
        },
        imps: function(t, e) {
            if (!e)
                return null;
            var s = t.__imps || u.un(t, "__imps", {});
            function r(t) {
                var e, i;
                if (!(e = u.__internals[t]))
                    return;
                s[t] = true;
                if (!(i = e.extend))
                    return;
                for (var n = 0; n < i.length; n++) {
                    r(i[n].self)
                }
            }
            for (var i in e)
                r(i)
        },
        superSet: function(t, e, i, n) {
            var s = t.prototype["_$set_" + i];
            s && s.call(e, n)
        },
        superGet: function(t, e, i) {
            var n = t.prototype["_$get_" + i];
            return n ? n.call(e) : null
        },
        getset: function(t, e, i, n, s) {
            if (!t) {
                n && u.un(e, "_$get_" + i, n);
                s && u.un(e, "_$set_" + i, s)
            } else {
                n && (e["_$GET_" + i] = n);
                s && (e["_$SET_" + i] = s)
            }
            if (n && s)
                Object.defineProperty(e, i, {
                    get: n,
                    set: s,
                    enumerable: false,
                    configurable: true
                });
            else {
                n && Object.defineProperty(e, i, {
                    get: n,
                    enumerable: false,
                    configurable: true
                });
                s && Object.defineProperty(e, i, {
                    set: s,
                    enumerable: false,
                    configurable: true
                })
            }
        },
        static: function(i, n) {
            for (var s = 0, t = n.length; s < t; s += 2) {
                if (n[s] == "length")
                    i.length = n[s + 1].call(i);
                else {
                    function e() {
                        var e = n[s];
                        var t = n[s + 1];
                        Object.defineProperty(i, e, {
                            get: function() {
                                delete this[e];
                                return this[e] = t.call(this)
                            },
                            set: function(t) {
                                delete this[e];
                                this[e] = t
                            },
                            enumerable: true,
                            configurable: true
                        })
                    }
                    e()
                }
            }
        },
        un: function(t, e, i) {
            i || (i = t[e]);
            u.__propun.value = i;
            Object.defineProperty(t, e, u.__propun);
            return i
        },
        uns: function(e, t) {
            t.forEach(function(t) {
                u.un(e, t)
            })
        }
    };
    h.console = h.console || {
        log: function() {}
    };
    h.trace = h.console.log;
    Error.prototype.throwError = function() {
        throw arguments
    }
    ;
    Object.defineProperty(Array.prototype, "fixed", {
        enumerable: false
    });
    return u
}(window, document);
(function(a, e, st) {
    var t = st.un
      , i = st.uns
      , u = st.static
      , x = st.class
      , p = st.getset
      , g = st.__newvec;
    st.interface("laya.ui.IItem");
    st.interface("laya.ui.ISelect");
    st.interface("laya.runtime.IMarket");
    st.interface("laya.filters.IFilter");
    st.interface("laya.display.ILayout");
    st.interface("laya.resource.IDispose");
    st.interface("laya.runtime.IConchNode");
    st.interface("laya.webgl.shapes.IShape");
    st.interface("laya.webgl.submit.ISubmit");
    st.interface("laya.filters.IFilterAction");
    st.interface("laya.webgl.text.ICharSegment");
    st.interface("laya.runtime.ICPlatformClass");
    st.interface("laya.webgl.canvas.save.ISaveData");
    st.interface("laya.webgl.resource.IMergeAtlasBitmap");
    st.interface("laya.filters.IFilterActionGL", "laya.filters.IFilterAction");
    var G = function() {
        function r() {}
        x(r, "laya.utils.RunDriver");
        r.FILTER_ACTIONS = [];
        r.pixelRatio = -1;
        r._charSizeTestDiv = null;
        r.now = function() {
            return Date.now()
        }
        ;
        r.getWindow = function() {
            return a
        }
        ;
        r.getPixelRatio = function() {
            if (r.pixelRatio < 0) {
                var t = He.context;
                var e = t.backingStorePixelRatio || t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1;
                r.pixelRatio = (He.window.devicePixelRatio || 1) / e;
                if (r.pixelRatio < 1)
                    r.pixelRatio = 1
            }
            return r.pixelRatio
        }
        ;
        r.getIncludeStr = function(t) {
            return null
        }
        ;
        r.createShaderCondition = function(t) {
            var e = "(function() {return " + t + ";})";
            return st._runScript(e)
        }
        ;
        r.fontMap = [];
        r.measureText = function(t, e) {
            var i = r.hanzi.test(t);
            if (i && r.fontMap[e]) {
                return r.fontMap[e]
            }
            var n = He.context;
            n.font = e;
            var s = n.measureText(t);
            if (i)
                r.fontMap[e] = s;
            return s
        }
        ;
        r.getWebGLContext = function(t) {}
        ;
        r.beginFlush = function() {}
        ;
        r.endFinish = function() {}
        ;
        r.addToAtlas = null;
        r.flashFlushImage = function(t) {}
        ;
        r.drawToCanvas = function(t, e, i, n, s, r) {
            var a = Ss.create("2D");
            var o = new ke(i,n,a);
            Pe.renders[e]._fun(t, o, s, r);
            return a
        }
        ;
        r.createParticleTemplate2D = null;
        r.createGLTextur = null;
        r.createWebGLContext2D = null;
        r.changeWebGLSize = function(t, e) {}
        ;
        r.createRenderSprite = function(t, e) {
            return new Pe(t,e)
        }
        ;
        r.createFilterAction = function(t) {
            return new fe
        }
        ;
        r.createGraphics = function() {
            return new S
        }
        ;
        r.clear = function(t) {
            Be._context.ctx.clear()
        }
        ;
        r.cancelLoadByUrl = function(t) {}
        ;
        r.clearAtlas = function(t) {}
        ;
        r.isAtlas = function(t) {
            return false
        }
        ;
        r.addTextureToAtlas = function(t) {}
        ;
        r.getTexturePixels = function(t, e, i, n, s) {
            return null
        }
        ;
        r.skinAniSprite = function() {
            return null
        }
        ;
        r.update3DLoop = function() {}
        ;
        u(r, ["hanzi", function() {
            return this.hanzi = new RegExp("^[一-龥]$")
        }
        ]);
        return r
    }();
    var n = function() {
        p(1, st, "alertGlobalError", null, function(t) {
            var r = 0;
            if (t) {
                He.window.onerror = function(t, e, i, n, s) {
                    if (r++ < 5 && s)
                        alert("出错啦，请把此信息截图给研发商\n" + t + "\n" + s.stack || s)
                }
            } else {
                He.window.onerror = null
            }
        });
        st.init = function(t, e, i) {
            var n = [];
            for (var s = 2, r = arguments.length; s < r; s++)
                n.push(arguments[s]);
            if (st._isinit)
                return;
            ArrayBuffer.prototype.slice || (ArrayBuffer.prototype.slice = st._arrayBufferSlice);
            st._isinit = true;
            He.__init__();
            Fe.__init__();
            S.__init__();
            st.timer = new si;
            st.scaleTimer = new si;
            st.loader = new an;
            li.__init__();
            for (var s = 0, a = n.length; s < a; s++) {
                if (n[s].enable)
                    n[s].enable()
            }
            se.__init__();
            ne.__init__();
            Xe.__init__();
            ze.beginCheck();
            st._currentStage = st.stage = new ys;
            st.stage.conchModel && st.stage.conchModel.setRootNode();
            st._getUrlPath();
            st.render = new Be(0,0);
            st.stage.size(t, e);
            Pe.__init__();
            le.__init__();
            he.instance.__init__(st.stage, Be.canvas);
            $s.__init__();
            Re.autoStopMusic = true;
            Ie.__init__();
            return Be.canvas
        }
        ;
        st._getUrlPath = function() {
            var t = He.window.location;
            var e = t.pathname;
            e = e.charAt(2) == ":" ? e.substring(1) : e;
            Ge.rootPath = Ge.basePath = Ge.getPath(t.protocol == "file:" ? e : t.protocol + "//" + t.host + t.pathname)
        }
        ;
        st._arrayBufferSlice = function(t, e) {
            var i = this;
            var n = new Uint8Array(i,t,e - t);
            var s = new Uint8Array(n.length);
            s.set(n);
            return s.buffer
        }
        ;
        st._runScript = function(t) {
            return He.window[st._evcode](t)
        }
        ;
        st.stage = null;
        st.timer = null;
        st.scaleTimer = null;
        st.loader = null;
        st.version = "1.8.11";
        st.render = null;
        st._currentStage = null;
        st._isinit = false;
        st.MiniAdpter = {
            init: function() {
                if (a.navigator && a.navigator.userAgent && a.navigator.userAgent.indexOf("MiniGame") > -1)
                    console.error("请先引用小游戏适配库laya.wxmini.js,详细教程：https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0")
            }
        };
        u(st, ["conchMarket", function() {
            return this.conchMarket = a.conch ? conchMarket : null
        }
        , "PlatformClass", function() {
            return this.PlatformClass = a.PlatformClass
        }
        , "_evcode", function() {
            return this._evcode = "e" + String.fromCharCode(100 + 10 + 8) + "a" + "l"
        }
        ]);
        return st
    }();
    var f = function() {
        function r() {
            this.curFileIdx = 0;
            this.logoBgSpr = null;
            this.delayHideFalshTime = 0;
            this.LAYALOGODATA = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAwFBMVEUAAAA96NH///8tqpb+//////89/OP////8///////////Z9/b///////////////////85x7L///////////////854uI34NJL4dL///////////////////////8xwbL///9C+eY4zbc72sRD2sQwsp892sRIuqw/581E8NdK8tc+28Izr6D///8ztKEztqEzs581uKT+//81vqmV3NDj9/NWwbCC1cdFvqrL7+n2+fmt5Ns52sBmy7u+5+E6zrcQQy7iAAAALXRSTlMAYpz2HAFJYQWLTwzyqHcwQP0oaoLbGjVEFNToxbc6e1dT06Tz5Ipj8L7Q2J2j9QHYAAADJklEQVRYw+2W13raQBCFxw6KmpGpphd3p8yuCggw7f3fKjOjJRiTG0m+yAX/9yGtVjvHZ87KCLhw4UIp7iadL9F5rUfJpLxM5zlRSkVJt5yM/5hoxejk4a6EzqQehcoQ1V+cgjLdeqI+kjzdF9qrB+nKYEz9yL1/zkvdyHwy9ZgrKquzTzIPRzdKZ6Z+3js50nnOFPRsvkqlfrmbr3Vm6leOpL5/y1zMkFgv1VIGK53NXuURyvqIUXg351RmdQGhdzwhVfmFlDA70dkprUknyivERYs5HpjP2GWYNyMpoUN4aC+V64IZhSS0wIzZX538GWkVRqtja8uDp7yONPlhnUWCacoPwbKYEBFmz+Fyvs0GYZHt11S1xFO2qsD2a81Bn7IOdYGwNXd2ykqFuVsLqeTcEcvkeyCfQ856i6csIk2ekjxfuN2N1MzxhDTh18nkLtc3Nr2HPve2jkJ6K3VyvxkfKI4dHplHKqq/FnurqXD3QYfebFAM63eitllO7wudPPolfog87ZN0MZul0f6tU/K3yH6TqGjz1IWyWN23zeYKSuM44Hd7AL5lgVXCDinxByzLKe9JBC98GQ2vdhzfAvRsr8Hjimf7ALc0ZmpT2x6bRa1rm06+7ctVs2KKRxjDAR72EFHGiA4db7LtQ+aahy0exbfg8y1ecBC6lgmhgkgGPMQpgI3okRHESibUBMtGchLwwRmgT6sDgDYCnAu5iFU6DdhSjG0aVhFb8nRyOZAliz4MVtkbjLF2LiT+Y4tyQayNEW/ZoswQbHIcN6BB00yfndxIt+dCNhJBFhviyOTBEuDEMc0NAKbcqlg1mf5LCNENECUrogfcX7OFbREaBU2b6mofhTxO8FyohjGXehKWRDOlGR9xTEIyDRg4prUhAt0KhvGZEN/DAeXcB05J1rdphnKoyq6ZiLl39jrkxmTmKBT3CQfQ0JBdr7GcoWIc2TilnsZcRHMu92XzwoMRoedSgcTTluY9MdSzWK5qHkj58yOyyTvgUffi2jZCniv4TVfc225Acq5LooE75Rm5EVSHwxEvoGG/ParxQrnq0f/LhQv/GX8A5ey2vgcbADQAAAAASUVORK5CYII=";
            this.progressBar = null;
            this.logoSpr = null;
            this.txtInfo = null;
            this.healtTxt = null;
            this.engineInfo = null;
            this.wwwSpr = null;
            this.layalogoSpr = null;
            this.copyRightText = null;
            this.codeJsMap = new Object;
            r.Ins = this;
            m.Init();
            o.LoginStep(90);
            try {
                var t = "1003";
                phoentjs2csharp.js2csharp(t)
            } catch (t) {
                console.log("phoentjs2csharp 1003 err " + t.errorID + " " + t.message)
            }
        }
        x(r, "boot");
        var t = r.prototype;
        t.OnContextInited = function() {
            this.delayHideFalshTime = 500;
            var t = [];
            if (m.nativeLoginRule == 0) {
                t.push({
                    url: "res/ui/image/login/progressBar.png",
                    type: "image"
                });
                t.push({
                    url: "res/ui/image/login/progressBar$bar.png",
                    type: "image"
                });
                t.push({
                    url: h.GetLogoImageUrl(),
                    type: "image"
                });
                t.push({
                    url: h.GetloadingBGImageUrl(),
                    type: "image"
                })
            } else {
                t.push({
                    url: h.GetloadingBGImageUrl(),
                    type: "image"
                })
            }
            st.loader.load(t, b.create(this, this.OnBootResLoaded));
            st.timer.frameLoop(1, this, this.OnLoop)
        }
        ;
        t.OnLoop = function() {
            this.Layout()
        }
        ;
        t.Layout = function() {
            if (this.progressBar == null)
                return;
            var t = new Se(st.stage.width / 2,st.stage.height / 2);
            this.progressBar.width = st.stage.width * .7;
            this.progressBar.pos(t.x - this.progressBar.width / 2, st.stage.height - 150);
            this.logoSpr.pos(t.x - this.logoSpr.width / 2, 30);
            this.txtInfo.width = this.progressBar.width;
            this.txtInfo.pos(t.x - this.txtInfo.width / 2, st.stage.height - 205);
            if (this.healtTxt != null) {
                this.healtTxt.width = st.stage.width;
                this.healtTxt.height = 80;
                this.healtTxt.pos(0, st.stage.height - 100)
            }
            this.engineInfo.width = 300;
            this.engineInfo.pos(0, st.stage.height - 30);
            this.layalogoSpr.x = this.engineInfo.x + this.engineInfo.textWidth + this.layalogoSpr.width + 10;
            this.layalogoSpr.y = this.engineInfo.y + this.engineInfo.height / 2 - this.layalogoSpr.height / 2 - 15;
            if (this.logoBgSpr != null)
                this.logoBgSpr.pos(t.x - this.logoBgSpr.width / 2, t.y - this.logoBgSpr.height / 2)
        }
        ;
        t.DelayHideLoadingViewFlash = function() {
            if (Be.isConchApp) {
                if (He.window.loadingView != null) {
                    He.window.loadingView.loading(100)
                }
            }
        }
        ;
        t.OnBootResLoaded = function() {
            o.LoginStep(91);
            if (this.delayHideFalshTime > 0)
                st.timer.once(this.delayHideFalshTime, this, this.DelayHideLoadingViewFlash);
            else
                this.DelayHideLoadingViewFlash();
            if (m.nativeLoginRule == 0) {
                this.ShowProgressBar()
            } else {
                this.logoBgSpr = new Dn;
                var t = fn.getRes(h.GetloadingBGImageUrl());
                if (t != null) {
                    this.logoBgSpr.width = t.width;
                    this.logoBgSpr.height = t.height;
                    this.logoBgSpr.graphics.drawTexture(t)
                }
                this.logoBgSpr.pos(0, 0);
                st.stage.addChild(this.logoBgSpr)
            }
            if (!r.IS_PACK_MODE) {
                this.DownLoadUICfg()
            } else {
                if (!r.IS_PACK_COMPRESS) {
                    this.LoadNextJSFile()
                } else {
                    {
                        st.loader.load(m.GetCodeUrl("itemicon.res"), b.create(this, this.OnJSCompressLoaded), null, "arraybuffer")
                    }
                }
            }
        }
        ;
        t.LoadNextJSFile = function() {
            if (r.JS_FILES.length > this.curFileIdx) {
                st.loader.load(r.JS_FILES[this.curFileIdx], b.create(this, this.OnJSFileLoadHandler))
            } else {
                this.DownLoadUICfg()
            }
        }
        ;
        t.OnJSFileLoadHandler = function() {
            var t = r.JS_FILES[this.curFileIdx];
            console.log("=============开始装载JS===>" + t);
            this.txtInfo.text = o.GetString(1, [t]);
            var e = fn.getRes(t);
            a.eval(e + "\n//@ sourceURL=" + t);
            this.curFileIdx++;
            fn.clearRes(t);
            if (this.progressBar != null && this.txtInfo != null) {
                this.progressBar.value = this.curFileIdx / r.JS_FILES.length;
                this.txtInfo.text = o.GetString(2, [Math.floor(this.progressBar.value * 100)])
            }
            this.LoadNextJSFile()
        }
        ;
        t.OnJSCompressLoaded = function() {
            o.LoginStep(92);
            var t = st.loader.getRes(m.GetCodeUrl("itemicon.res"));
            if (t == null) {
                this.LoadNextJSFile()
            } else {
                r.IS_PACK_COMPRESS_MODE = true;
                var e = new vn;
                e.writeArrayBuffer(t);
                e.pos = 0;
                e.endian = "littleEndian";
                try {
                    e.uncompress();
                    this.curFileIdx = 0;
                    this.uncompressJSFile(e)
                } catch (t) {
                    console.log("解码主程序错误itemicon.res2!")
                }
            }
        }
        ;
        t.uncompressJSFile = function(t) {
            try {
                var e = "";
                var i = t.readInt();
                var n = t.readUTFBytes(i);
                console.log("=============开始解码JS文件==>>" + n);
                i = t.readInt();
                e = t.readUTFBytesOld(i);
                this.codeJsMap[n] = e;
                this.curFileIdx++;
                if (this.txtInfo != null && this.progressBar != null) {
                    this.progressBar.value = this.curFileIdx / r.JS_FILES.length;
                    this.txtInfo.text = o.GetString(3, [Math.floor(this.progressBar.value * 100)])
                }
                if (this.curFileIdx < r.JS_FILES.length)
                    st.timer.frameOnce(1, this, this.uncompressJSFile, [t])
            } catch (t) {
                console.log("解码主程序错误itemicon.res!");
                return
            }
            if (this.curFileIdx >= r.JS_FILES.length) {
                var s = "itemicon.res";
                st.loader.clearRes(s);
                t.clear();
                this.curFileIdx = 0;
                this.EvalJSCode(this.codeJsMap)
            }
        }
        ;
        t.EvalJSCode = function(t) {
            var e = r.JS_FILES[this.curFileIdx];
            var i = null;
            console.log("=========================onMobile:" + He.onMobile + " app:" + Be.isConchApp);
            i = t[e];
            t[e] = null;
            delete t[e];
            console.log("=================================1");
            if (i != null) {
                console.log("=============开始装载JS===>" + e);
				console.log(a);
                a.eval(i);
                this.curFileIdx++;
                if (this.progressBar != null && this.txtInfo != null) {
                    this.progressBar.value = this.curFileIdx / r.JS_FILES.length;
                    this.txtInfo.text = o.GetString(4, [Math.floor(this.progressBar.value * 100)])
                }
                if (this.curFileIdx < r.JS_FILES.length)
                    st.timer.frameOnce(1, this, this.EvalJSCode, [t])
            }
            if (this.curFileIdx >= r.JS_FILES.length) {
                o.LoginStep(93);
                this.DownLoadUICfg()
            }
        }
        ;
        t.ShowProgressBar = function() {
            var t = new Se(st.stage.width / 2,st.stage.height / 2);
            this.logoBgSpr = new Dn;
            var e = fn.getRes(h.GetloadingBGImageUrl());
            if (e != null) {
                this.logoBgSpr.width = e.width;
                this.logoBgSpr.height = e.height;
                this.logoBgSpr.graphics.drawTexture(e)
            }
            this.logoBgSpr.pos(t.x - this.logoBgSpr.width / 2, t.y - this.logoBgSpr.height / 2);
            st.stage.addChild(this.logoBgSpr);
            this.progressBar = new Ps("res/ui/image/login/progressBar.png");
            this.progressBar.width = st.stage.width * .7;
            this.progressBar.pos(t.x - this.progressBar.width / 2, st.stage.height - 150);
            this.progressBar.sizeGrid = "5,5,5,5";
            this.progressBar.changeHandler = new b(this,this.OnProgressHandler);
            st.stage.addChild(this.progressBar);
            this.logoSpr = new Dn;
            var e = fn.getRes(h.GetLogoImageUrl());
            if (e != null) {
                this.logoSpr.width = e.width;
                this.logoSpr.height = e.height;
                this.logoSpr.graphics.drawTexture(e)
            }
            this.logoSpr.pos(t.x - this.logoSpr.width / 2, 30);
            st.stage.addChild(this.logoSpr);
            this.txtInfo = new hs;
            this.txtInfo.overflow = hs.HIDDEN;
            this.txtInfo.color = "#FFFFFF";
            this.txtInfo.fontSize = 20;
            this.txtInfo.width = this.progressBar.width;
            this.txtInfo.align = "center";
            this.txtInfo.text = o.GetString(5);
            this.txtInfo.pos(t.x - this.txtInfo.width / 2, st.stage.height - 205);
            st.stage.addChild(this.txtInfo);
            {
                this.copyRightText = new hs;
                this.copyRightText.overflow = hs.HIDDEN;
                this.copyRightText.color = "#e8e1c5";
                this.copyRightText.fontSize = 12;
                this.copyRightText.width = 280;
                this.copyRightText.height = 150;
                this.copyRightText.leading = 5;
                this.copyRightText.text = o.GetString(11);
                this.copyRightText.pos(st.stage.width - 280, st.stage.height - 110);
                st.stage.addChild(this.copyRightText)
            }
            this.engineInfo = new hs;
            this.engineInfo.overflow = hs.HIDDEN;
            this.engineInfo.color = "#FFFFFF";
            this.engineInfo.fontSize = 20;
            this.engineInfo.width = 300;
            this.engineInfo.align = "left";
            this.engineInfo.text = "Powered by LayaAir Engine";
            this.engineInfo.pos(0, st.stage.height - 30);
            st.stage.addChild(this.engineInfo);
            this.layalogoSpr = new Es;
            this.layalogoSpr.skin = this.LAYALOGODATA;
            this.layalogoSpr.width = 72;
            this.layalogoSpr.height = 72;
            this.layalogoSpr.x = this.engineInfo.x + this.engineInfo.textWidth + this.layalogoSpr.width + 10;
            this.layalogoSpr.y = this.engineInfo.y + this.engineInfo.height / 2 - this.layalogoSpr.height / 2 - 15;
            st.stage.addChild(this.layalogoSpr)
        }
        ;
        t.HideProgressBar = function() {
            if (this.progressBar != null)
                this.progressBar.destroy();
            if (this.layalogoSpr != null) {
                this.layalogoSpr.destroy();
                this.layalogoSpr = null
            }
            if (this.wwwSpr != null) {
                this.wwwSpr.destroy();
                this.wwwSpr = null
            }
            if (this.logoSpr != null) {
                this.logoSpr.destroy();
                fn.clearRes(h.GetloadingBGImageUrl(), true);
                this.logoSpr = null
            }
            if (this.logoBgSpr != null) {
                this.logoBgSpr.destroy();
                this.logoBgSpr = null
            }
            if (this.txtInfo != null) {
                this.txtInfo.destroy();
                this.txtInfo = null
            }
            if (this.engineInfo != null) {
                this.engineInfo.destroy();
                this.engineInfo = null
            }
            if (this.healtTxt != null) {
                this.healtTxt.destroy();
                this.healtTxt = null
            }
        }
        ;
        t.OnProgressHandler = function(t) {
            console.log("progress: " + Math.floor(t * 100) + "%")
        }
        ;
        t.DownLoadUICfg = function() {
            if (this.txtInfo != null && this.progressBar != null) {
                this.progressBar.value = .9;
                this.txtInfo.text = o.GetString(6, [Math.floor(this.progressBar.value * 100)])
            }
            st.loader.load(m.GetCodeUrl("basepanel.res"), b.create(this, this.OnUICfgLoadedHandler), null, "arraybuffer")
        }
        ;
        t.OnUICfgLoadedHandler = function() {
            st.timer.once(1, this, this.DownLoadUILangCfg)
        }
        ;
        t.DownLoadUILangCfg = function() {
            if (this.txtInfo != null && this.progressBar != null) {
                this.progressBar.value = .95;
                this.txtInfo.text = o.GetString(7, [Math.floor(this.progressBar.value * 100)])
            }
            st.loader.load(m.GetCodeUrl("basepanellang.res"), b.create(this, this.OnUILangCfgLoadedHandler), null, "arraybuffer")
        }
        ;
        t.OnUILangCfgLoadedHandler = function() {
            st.timer.once(1, this, this.DownLoadCodeLangCfg)
        }
        ;
        t.DownLoadCodeLangCfg = function() {
            if (this.txtInfo != null && this.progressBar != null) {
                this.progressBar.value = .98;
                this.txtInfo.text = o.GetString(8, [Math.floor(this.progressBar.value * 100)])
            }
            this.AllLoadEnd()
        }
        ;
        t.OnCodeLangCfgLoadedHandler = function() {
            st.timer.once(1, this, this.DownLoadImgPubAtlas)
        }
        ;
        t.DownLoadImgPubAtlas = function() {
            if (this.txtInfo != null && this.progressBar != null) {
                this.progressBar.value = .99;
                this.txtInfo.text = o.GetString(9, [Math.floor(this.progressBar.value * 100)])
            }
            var t = [];
            t.push({
                url: "res/ui/image/other/tongyong.png",
                type: "image"
            });
            t.push({
                url: "res/ui/image/other/tongyong.json",
                type: "json"
            });
            st.loader.load(t, b.create(this, this.OnLoadImgPubAtlas))
        }
        ;
        t.OnLoadImgPubAtlas = function() {
            var t = st.loader.getRes("res/ui/image/other/tongyong.png");
            var e = st.loader.getRes("res/ui/image/other/tongyong.json");
            fn.setPubImgAtlas(e, t);
            console.log("OnLoadImgPubAtlas ok");
            this.AllLoadEnd()
        }
        ;
        t.AllLoadEnd = function() {
            console.log(o.GetStackTrace("GameMain开始！！"));
            st.timer.clear(this, this.OnLoop);
            l.reg();
            if (r.GameMainClass != null)
                (new r.GameMainClass).GameStart();
            else
                (new GameMain).GameStart()
        }
        ;
        r.Ins = null;
        r.IS_PACK_MODE = true;
        r.IS_PACK_COMPRESS = true;
        r.IS_PACK_COMPRESS_MODE = false;
        r.JS_COMPRESS_FILE = "itemicon.res";
        r.FILENAME_BASEPANEL = "basepanel.res";
        r.FILENAME_PANEL_LANG = "basepanellang.res";
        r.FILENAME_CODE_LANG = "basecodelang.res";
        r.GameMainClass = null;
        u(r, ["JS_FILES", function() {
            return this.JS_FILES = ["js/px_engine.js", "js/px_datasets.js", "js/px_ui.js", "js/px_com.js"]
        }
        ]);
        return r
    }();
    var m = function() {
        function c() {}
        x(c, "bootstrap.BootContext");
        c.Init = function() {
            console.log("BootContext URL Params:" + He.window["location"]["search"]);
            var t = He.window["location"]["search"];
            var e = new Object;
            if (He.window["OPEN_DATA"] != null) {
                var i = He.window.OPEN_DATA;
                var n = decodeURIComponent(i["appurl"]);
                t = n.substr(n.indexOf("?"));
                console.log("urlParams:" + t)
            } else if (He.window["PHOENTSTARTPARAM"] != null) {
                t = He.window["PHOENTSTARTPARAM"]
            }
            if (t != null && t != "") {
                t = decodeURIComponent(t);
                var s = t.substr(1).split("&");
                for (var r = 0; r < s.length; ++r) {
                    if (s[r] != null) {
                        var a = s[r].indexOf("=");
                        if (a != -1) {
                            var o = s[r].substr(0, a);
                            var l = s[r].substr(a + 1);
							if(o == "svrip")
							{
								l = "27.150.188.181";
							}else if(o == "svrsport")
							{
								l = "8030"
							}
                            l = l.replace(/\@and@/g, "&");
                            e[o] = l;
                            console.log("★" + o + "=" + l)
                        } else {
                            console.log("☆" + s[r])
                        }
                    }
                }
            }
            c.startParams = e;
            if (c.startParams["nursery"]) {
                c.isNurseryMode = c.startParams["nursery"] == "1"
            }
            c._CheckDistribute();
            c._InitEngine();
            var h;
            var u;
            if (c.distributeType == 1) {
                h = c.startParams["cdn"];
                if (h != null && h != "") {
                    Ge.basePath = h;
                    Ge.rootPath = h
                }
                u = c.startParams["resver"];
                if (u == null)
                    u = "";
                Ge.customFormat = function(t) {
                    if (u != "")
                        return u + "/" + t;
                    return t
                }
                ;
                st.timer.callLater(f.Ins, f.Ins.OnContextInited)
            } else if (c.distributeType == 3) {
                h = c.startParams["cdn"];
                if (h != null && h != "") {
                    Ge.basePath = h;
                    Ge.rootPath = h
                }
                u = c.startParams["resver"];
                if (u == null)
                    u = "";
                Ge.customFormat = function(t) {
                    if (u != "")
                        return u + "/" + t;
                    return t
                }
                ;
                st.timer.callLater(f.Ins, f.Ins.OnContextInited)
            } else if (c.distributeType == 2) {
                h = c.startParams["cdn"];
                if (h != null && h != "") {
                    Ge.basePath = h;
                    Ge.rootPath = h
                }
                u = c.startParams["resver"];
                if (u == null)
                    u = "";
                Ge.customFormat = function(t) {
                    if (u != "")
                        return u + "/" + t;
                    return t
                }
                ;
                st.timer.callLater(f.Ins, f.Ins.OnContextInited)
            } else {
                st.timer.callLater(f.Ins, f.Ins.OnContextInited)
            }
        }
        ;
        c.GetResUrl = function(t) {
            var e = c.GetStartParamString("resver");
            if (e == "" || e == null)
                return t;
            return Ge.basePath + e + "/" + t
        }
        ;
        c.GetCodeUrl = function(t) {
            var e = c.GetStartParamString("gver");
            if (e == "" || e == null)
                return t;
            return Ge.basePath + e + "/" + t
        }
        ;
        c.GetDataUrl = function(t) {
            var e = c.GetStartParamString("dataver");
            if (e == "" || e == null)
                return t;
            return Ge.basePath + e + "/" + t
        }
        ;
        c._InitEngine = function() {
            console.log("Boot: rendertype:" + He.window.ConchRenderType);
            var t = He.clientWidth;
            var e = He.clientHeight;
            c.initClientW = t;
            c.initClientH = e;
            c.initPixRatio = He.pixelRatio;
            var i = 1280;
            var n = 720;
            if (c.isNurseryMode) {
                i = 640;
                n = 1136
            }
            var s = t / e;
            var r = i / n;
            if (Be.isConchApp || !He.onPC) {
                if (s > r) {
                    i = Math.floor(s * n);
                    if (i % 2 != 0)
                        i++
                } else {
                    n = Math.floor(i / s);
                    if (n % 2 != 0)
                        n++
                }
            }
            se.defaultFamily = "SimSun";
            se.defaultFont = "SimSun";
            se.defaultSize = 12;
            se.defaultColor = "#ffffff";
            Oe.labelColor = "#ffffff";
            Oe.buttonLabelColors = ["#ffffff", "#32cc6b", "#ff0000", "#C0C0C0"];
            if (c.distributeType == 2) {
                He.container = He.getElementById("flashdiv");
                ys.bottomHeight = 20
            }
            st.init(i, n, d);
            st.stage.alignV = "middle";
            st.stage.alignH = "center";
            if (!c.isNurseryMode)
                st.stage.scaleMode = "full";
            else {
                st.stage.scaleMode = "showall";
                st.stage.screenMode = "vertical"
            }
            st.stage.bgColor = "#232628";
            Re.autoStopMusic = false;
            if (He.window["conchConfig"] != null) {
                var a = He.window["conchConfig"];
                var o = a.getUsedMem();
                var l = a.getTotalMem();
                var h = a.getAvalidMem();
                var u = a.getOS();
                console.log("总内存:" + l + " 使用的内存：" + o + " 可用内存：" + h + " 系统:" + u)
            }
        }
        ;
        c._CheckDistribute = function() {
            if (c.startParams["distribute"] == "game2") {
                c.distributeType = 1
            } else if (c.startParams["distribute"] == "openqq") {
                c.distributeType = 2
            } else if (c.startParams["distribute"] == "gf") {
                c.distributeType = 3
            } else {
                c.distributeType = 0
            }
            console.log("BootContext distributeType:" + c.distributeType)
        }
        ;
        c.OnNativeConnectEnd = function(t) {
            c.startParams = t;
            if (He.onIOS) {
                var e = t["loginType"];
                if (e != null && e != "") {
                    c.nativeLoginRule = parseInt(e);
                    console.log("OnNativeConnect loginType：" + c.nativeLoginRule)
                }
                var i = t["dataJson"];
                if (i != null && i != "") {
                    i = K.decodeToByte(i).readUTFBytes();
                    c.nativeAngetObj = JSON.parse(i);
                    console.log("OnNativeConnect angetObjS ok ")
                } else {
                    c.nativeLoginRule = 0;
                    c.nativeAngetObj = null
                }
            } else if (He.onAndroid) {
                c.nativeLoginRule = T.GetGameLoginType();
                var n = null;
                if (c.nativeLoginRule == 1) {
                    n = T.GetAgentJsonStr();
                    if (n != null) {
                        c.nativeAngetObj = JSON.parse(n)
                    } else {
                        c.nativeLoginRule = 0;
                        c.nativeAngetObj = null
                    }
                }
            }
            var s = t["urlcdn"];
            if (s != null && s != "") {
                Ge.basePath = s;
                Ge.rootPath = s
            }
            console.log("Native Back CDN Address：" + s);
            if (t["closenativealert"] == "1") {
                console.log("Native Close Alert");
                a.showAlertOnJsException(false)
            }
            c.appIdent = t["appident"];
            c.isIosCheck = t["ioscheck"] == "1" || t["ioscheck"] == 1;
            c.forceInnerLoginPanel = t.forceshowinnerlogin == "1" || t.forceshowinnerlogin == 1;
            c.isInternalSvr = t.urlindex != null && t.urlindex.indexOf("banshutest") >= 0;
            c.loginStepId = t.logingid;
            f.Ins.OnContextInited()
        }
        ;
        c.GetStartParamString = function(t) {
            if (c.startParams[t] != null)
                return c.startParams[t];
            return null
        }
        ;
        c.PARAME_NURSERY = "nursery";
        c.PARAME_OPEN_AGENT = "opagent";
        c.PARAME_LOGIN_CODE = "logincode";
        c.distributeType = 0;
        c.forceInnerLoginPanel = false;
        c.appIdent = "";
        c.isIosCheck = false;
        c.isInternalSvr = false;
        c.loginStepId = "";
        c.nativeLoginRule = 0;
        c.nativeAngetObj = null;
        c.clientSelServerObj = null;
        c.showSelectServer = false;
        c.isNurseryMode = false;
        c.initClientW = 0;
        c.initClientH = 0;
        c.initPixRatio = 0;
        u(c, ["startParams", function() {
            return this.startParams = new Object
        }
        ]);
        return c
    }();
    var o = function() {
        function c() {}
        x(c, "bootstrap.BootUtil");
        c.GetLang = function(t) {
            if (1 == t)
                return "开始装载JS:{0}";
            else if (2 == t)
                return "装载文件进度:{0}%";
            else if (3 == t)
                return "解压文件进度:{0}%";
            else if (4 == t)
                return "载入模块进度:{0}%";
            else if (5 == t)
                return "文件检查中...";
            else if (6 == t)
                return "装载UI配置文件:{0}%";
            else if (7 == t)
                return "装载UI包文件:{0}%";
            else if (8 == t)
                return "装载文本包文件:{0}%";
            else if (9 == t)
                return "装载UI资源包文件:{0}%";
            else if (10 == t)
                return "抵制不良游戏    拒绝盗版游戏    注意自我保护    谨防受骗上当    适度游戏益脑    沉迷游戏伤身    合理安排时间    享受健康生活";
            else if (11 == t)
                return "出版单位：上海同济大学电子音像出版社有限公司\r\n著作权人：杭州偷偷乐数码科技有限公司\r\n软著登记号：2012SR110014\r\n版号批文号：新出审字[2013]342号";
            return ""
        }
        ;
        c.GetString = function(t, e) {
            var i = c.GetLang(t);
            if (i == null)
                return i;
            if (e != null) {
                var n = e.length;
                for (var s = 0; s < n; ++s) {
                    i = i.replace("{" + s + "}", e[s])
                }
            }
            return i
        }
        ;
        c.GetStackTrace = function(t) {
            var e = "";
            e += "// ==========================================================================\n";
            e += t + "\n";
            var i = arguments.callee.caller;
            var n = 0;
            e += "***----------------------------------------  ** " + (n + 1) + "\n";
            while (i && n < 10) {
                e += i.toString() + "\n";
                i = i.caller;
                n++;
                e += "***---------------------------------------- ** " + (n + 1) + "\n"
            }
            e += "// ==========================================================================\n";
            return e
        }
        ;
        c.ParseInt = function(t) {
            if (t == null)
                return 0;
            var e = parseInt(t);
            if (isNaN(e))
                e = 0;
            return e
        }
        ;
        c.LogLoginStep = function(t) {
            if (t == null || t.length <= 0 || t[0] == 0)
                return;
            c.lastStepId = t[0];
            t[0] = 0
        }
        ;
        c.LoginStep = function(t) {
            try {
                if (m.startParams["isloginsteplog"] == null || m.startParams["isloginsteplog"] == "" || m.startParams["isloginsteplog"] == "0" || m.startParams["isloginsteplog"] == 0) {
                    return
                }
                if (c.contentMap == null) {
                    c.contentMap = new Object;
                    c.contentMap[90] = "boot";
                    c.contentMap[91] = "bootresok";
                    c.contentMap[92] = "bootjsok";
                    c.contentMap[93] = "bootjsevalok";
                    c.contentMap[100] = "loginapp";
                    c.contentMap[101] = "loginapp_connect";
                    c.contentMap[102] = "";
                    c.contentMap[103] = "loginapp_logining";
                    c.contentMap[104] = "loginapp_showpanel";
                    c.contentMap[105] = "loginapp_clickcreate";
                    c.contentMap[106] = "loginapp_createsend";
                    c.contentMap[107] = "loginapp_createok";
                    c.contentMap[200] = "mainapp";
                    c.contentMap[201] = "mainapp_loginuires";
                    c.contentMap[202] = "mainapp_init3d";
                    c.contentMap[203] = "mainapp_initmgr";
                    c.contentMap[204] = "mainapp_preres";
                    c.contentMap[205] = "mainapp_enterscene";
                    c.contentMap[206] = "mainapp_gettask";
                    c.contentMap[207] = "mainapp_completetask"
                }
                if (t != 0) {
                    var e = m.GetStartParamString("agent");
                    var i = m.GetStartParamString("zoneid");
                    var n = m.GetStartParamString("account");
                    var s = m.GetStartParamString("loginstepurl");
                    var r = m.GetStartParamString("gamenametype");
                    if (s == null || s == "")
                        return;
                    if (r == null || r == "")
                        return;
                    if (c.loginStepGid == 0) {
                        if (m.startParams["localref"] != null && m.startParams["localref"] != "")
                            c.loginStepGid = parseInt(m.startParams["localref"])
                    }
                    var a = 0;
                    if (c.loginStepGid == 0) {
                        var o = new Date;
                        a = Math.floor(o.getTime() / 1e3) + Math.floor(Math.random() * 1e4);
                        c.loginStepGid = a
                    } else
                        a = c.loginStepGid;
                    var l = s;
                    var h = "";
                    h += "?c=loginlogall";
                    h += "&game=" + r;
                    h += "&type=" + t;
                    if (i != null)
                        h += "&svrid=" + i;
                    if (e != null)
                        h += "&platform=" + e;
                    h += "&account=" + n;
                    h += "&gid=" + a;
                    h += "&content=" + (c.contentMap[t] != null ? c.contentMap[t] : t.toString());
                    l = l + h;
                    var u = new nn;
                    u.send(l, null, "post")
                }
            } catch (t) {}
        }
        ;
        c.lastStepId = 0;
        c.LANG_1 = 1;
        c.LANG_2 = 2;
        c.LANG_3 = 3;
        c.LANG_4 = 4;
        c.LANG_5 = 5;
        c.LANG_6 = 6;
        c.LANG_7 = 7;
        c.LANG_8 = 8;
        c.LANG_9 = 9;
        c.LANG_10 = 10;
        c.LANG_11 = 11;
        c.agentVo = null;
        c.loginStepGid = 0;
        c.contentMap = null;
        return c
    }();
    var s = function() {
        function t() {}
        x(t, "bootstrap.enum.EnumDistributeType");
        t.DISTRIBUTE_WEB = 0;
        t.DISTRIBUTE_GAME2 = 1;
        t.DISTRIBUTE_OPENQQ = 2;
        t.DISTRIBUTE_GF = 3;
        return t
    }();
    var r = function() {
        function t() {}
        x(t, "bootstrap.enum.EnumLoginStep");
        u(t, ["BOOT_BOOT", function() {
            return this.BOOT_BOOT = [90, "boot"]
        }
        , "BOOT_LOADLOGINAPP", function() {
            return this.BOOT_LOADLOGINAPP = [91, "loadloginapp"]
        }
        , "BOOT_LOADMAINAPP", function() {
            return this.BOOT_LOADMAINAPP = [92, "loadmainapp"]
        }
        , "BOOT_loginapp", function() {
            return this.BOOT_loginapp = [100, "loginapp"]
        }
        , "BOOT_loginapp_connect", function() {
            return this.BOOT_loginapp_connect = [101, "loginapp_connect"]
        }
        , "BOOT_", function() {
            return this.BOOT_ = [102, ""]
        }
        , "BOOT_loginapp_logining", function() {
            return this.BOOT_loginapp_logining = [103, "loginapp_logining"]
        }
        , "BOOT_loginapp_showpanel", function() {
            return this.BOOT_loginapp_showpanel = [104, "loginapp_showpanel"]
        }
        , "BOOT_loginapp_clickcreate", function() {
            return this.BOOT_loginapp_clickcreate = [105, "loginapp_clickcreate"]
        }
        , "BOOT_loginapp_createsend", function() {
            return this.BOOT_loginapp_createsend = [106, "loginapp_createsend"]
        }
        , "BOOT_loginapp_createok", function() {
            return this.BOOT_loginapp_createok = [107, "loginapp_createok"]
        }
        , "BOOT_mainapp", function() {
            return this.BOOT_mainapp = [200, "mainapp"]
        }
        , "BOOT_mainapp_loginuires", function() {
            return this.BOOT_mainapp_loginuires = [201, "mainapp_loginuires"]
        }
        , "BOOT_mainapp_init3d", function() {
            return this.BOOT_mainapp_init3d = [202, "mainapp_init3d"]
        }
        , "BOOT_mainapp_initmgr", function() {
            return this.BOOT_mainapp_initmgr = [203, "mainapp_initmgr"]
        }
        , "BOOT_mainapp_preres", function() {
            return this.BOOT_mainapp_preres = [204, "mainapp_preres"]
        }
        , "BOOT_mainapp_enterscene", function() {
            return this.BOOT_mainapp_enterscene = [205, "mainapp_enterscene"]
        }
        , "BOOT_mainapp_gettask", function() {
            return this.BOOT_mainapp_gettask = [206, "mainapp_gettask"]
        }
        , "BOOT_mainapp_completetask", function() {
            return this.BOOT_mainapp_completetask = [207, "mainapp_completetask"]
        }
        ]);
        return t
    }();
    var c = function() {
        function t() {}
        x(t, "bootstrap.enum.EnumNativeMessageID");
        t.C = function(t, e) {
            return t * 1e3 + e
        }
        ;
        t.M = function(t) {
            return t / 1e3 | 0
        }
        ;
        t.OLD0 = 100;
        t.OLD1 = 101;
        t.OLD2 = 102;
        t.BASE = 900;
        t.AGENT = 990;
        t.PUSH = 800;
        t.VOICE = 810;
        u(t, ["CONNECT_APP_RECV", function() {
            return this.CONNECT_APP_RECV = t.C(100, 101)
        }
        , "CONNECT_APP_SEND", function() {
            return this.CONNECT_APP_SEND = t.C(100, 201)
        }
        , "QUIT_APP", function() {
            return this.QUIT_APP = t.C(900, 101)
        }
        , "URL_POST", function() {
            return this.URL_POST = t.C(900, 102)
        }
        , "URL_GET", function() {
            return this.URL_GET = t.C(900, 103)
        }
        , "SET_PACKVERSION", function() {
            return this.SET_PACKVERSION = t.C(900, 104)
        }
        , "ADD_DEBUG_MENU", function() {
            return this.ADD_DEBUG_MENU = t.C(900, 105)
        }
        , "SCREEN_ROTATE_STATE", function() {
            return this.SCREEN_ROTATE_STATE = t.C(900, 106)
        }
        , "LOCAL_PUSH_IOS_ADD", function() {
            return this.LOCAL_PUSH_IOS_ADD = t.C(800, 201)
        }
        , "LOCAL_PUSH_IOS_DELETE", function() {
            return this.LOCAL_PUSH_IOS_DELETE = t.C(800, 202)
        }
        , "PUSH_BIND_TAG", function() {
            return this.PUSH_BIND_TAG = t.C(800, 101)
        }
        , "PUSH_BIND_ACC", function() {
            return this.PUSH_BIND_ACC = t.C(800, 102)
        }
        , "JOINQQ", function() {
            return this.JOINQQ = t.C(990, 200)
        }
        , "RESET_GAME", function() {
            return this.RESET_GAME = t.C(990, 201)
        }
        , "FCM_QUERY", function() {
            return this.FCM_QUERY = t.C(990, 202)
        }
        , "PHONE_QUERY", function() {
            return this.PHONE_QUERY = t.C(990, 203)
        }
        , "IDCARD_QUERY", function() {
            return this.IDCARD_QUERY = t.C(990, 204)
        }
        , "SHOW_FCM_WINDOW", function() {
            return this.SHOW_FCM_WINDOW = t.C(990, 205)
        }
        , "SHOW_USER_RULE_WINDOW", function() {
            return this.SHOW_USER_RULE_WINDOW = t.C(990, 206)
        }
        , "VOICE_INIT", function() {
            return this.VOICE_INIT = t.C(810, 101)
        }
        , "VOICE_RECORD", function() {
            return this.VOICE_RECORD = t.C(810, 102)
        }
        , "VOICE_PLAY", function() {
            return this.VOICE_PLAY = t.C(810, 103)
        }
        ]);
        return t
    }();
    var d = function() {
        function t() {}
        x(t, "bootstrap.extra.MWebGL");
        t.enable = function() {
            var t = Hi.enable();
            if (t) {
                rr.create = function(t, e) {
                    return new Or(t,e,6408,false)
                }
            }
            return t
        }
        ;
        return t
    }();
    var l = function() {
        function t() {}
        x(t, "bootstrap.extra.RegPackClass");
        t.reg = function() {
            GameMain = com.GameMain
        }
        ;
        return t
    }();
    var h = function() {
        function t() {}
        x(t, "bootstrap.VestUtil");
        t.Init = function() {}
        ;
        t.GetLogoImageUrl = function() {
            if (m.distributeType == 2 || m.distributeType == 3) {
                return "res/ui/image/login/logo/logo_axjh.png"
            } else {
                return "res/ui/image/login/logo/logo_game.png"
            }
        }
        ;
        t.GetloadingBGImageUrl = function() {
            if (t.appIdent == null || t.IdentConfig[t.appIdent] == null)
                return "res/ui/image/other/loading/ditu01.png";
            return t.IdentConfig[t.appIdent].loadingbgurl
        }
        ;
        t.GetLoginBGImageUrl = function() {
            if (t.appIdent == null || t.IdentConfig[t.appIdent] == null)
                return "res/ui/image/login/chuangjianjuese/image/beijing2.jpg";
            return t.IdentConfig[t.appIdent].loginbgurl
        }
        ;
        t.IdentConfig = {};
        t.appIdent = null;
        return t
    }();
    var _ = function() {
        var d, t;
        function _() {
            this._text = null;
            this._scene = 0;
            this._handler = null;
            this._replacetext = null;
            this._httpRequest = null;
            this._url = null;
            this._timeoutRetry = 0
        }
        x(_, "bootstrap.WordFilterUnit");
        var e = _.prototype;
        e.DoCheckWord = function() {
            if (this._text == null || this._text == "") {
                this.DoHand();
                return
            }
            if (m.distributeType != 2) {
                this.DoHand();
                return
            }
            var t = m.startParams;
            var e = t["agent"];
            var i = parseInt(t["zoneid"]);
            var n = t["svrip"];
            var s = t["account"];
            var r = t["appid"];
            var a = "";
            var o = "";
            var l = {};
            var h = "";
            try {
                var u = t["agent_coldatas"];
                if (u != null) {
                    var c = this.jsondecode(u) || new Object;
                    l = this.jsondecode(u) || {};
                    a = l["pf"];
                    o = l["openkey"];
                    h = l["server"]
                }
            } catch (t) {
                l = {};
                a = ""
            }
            if (s != null && s.indexOf("phoent") == 0) {
                this.DoHand();
                return
            }
            if (i == 8001 || i == 8002) {
                this.DoHand();
                return
            }
            var f = null;
            if (e != null && e.indexOf("qq") == e.length - 2) {
                f = "http://s" + h + ".app" + r + ".qqopenapp.com/server_php/svr" + e + "/" + e + "_worldfilter_win.php";
                f += "?account=" + s;
                f += "&zone=" + i;
                f += "&ts=" + 0;
                f += "&text=" + encodeURIComponent(K.encodeStr2(this._text));
                f += "&scene=" + this._scene;
                f += "&openkey=" + o
            }
            if (f != null) {
                this._url = f;
                this._httpRequest = new d(this,this.OkCompHandler,this.ErrorHandler);
                this._httpRequest.Send(f);
                if (_.LogFunc != null) {
                    _.LogFunc(f, this)
                }
            } else {
                this.DoHand()
            }
        }
        ;
        e.ErrorHandler = function(t) {
            if (_.ErrorFunc != null) {
                _.ErrorFunc(1, t)
            }
            console.log("WordFilterUnit:Error " + this._text + " " + this._url + " " + t)
        }
        ;
        e.OkCompHandler = function(t) {
            if (t) {
                var e = this.jsondecode(t);
                if (e == null) {
                    if (_.ErrorFunc != null) {
                        _.ErrorFunc(2, t)
                    }
                    console.log("WordFilterUnit:Error1 " + this._text + " " + this._url);
                    return
                }
                var i = parseInt(e["ret"]);
                if (i < 0) {
                    if (e["err"] == "timeout") {
                        if (this._timeoutRetry < 2) {
                            this._timeoutRetry++;
                            console.log("WordFilterUnit:Retry " + this._timeoutRetry + " " + this._text + " " + this._url);
                            st.timer.once(100, this, this.DelayRetry);
                            return
                        }
                    }
                    if (_.ErrorFunc != null) {
                        _.ErrorFunc(3, e["err"])
                    }
                    console.log("WordFilterUnit:Error2 " + this._text + " " + this._url + " " + i);
                    return
                }
                if (i == 0) {
                    this.DoHand()
                } else if (i == 1) {
                    this._replacetext = "";
                    this.DoHand()
                } else if (i == 2) {
                    this._replacetext = e["text"];
                    if (this._replacetext == null)
                        this._replacetext = "";
                    this.DoHand()
                } else {
                    if (_.ErrorFunc != null) {
                        _.ErrorFunc(4, e["msg"])
                    }
                    console.log("WordFilterUnit:Error3 " + this._text + " " + this._url + " " + i)
                }
            } else {
                console.log("WordFilterUnit:Error0 " + this._text + " " + this._url)
            }
        }
        ;
        e.DelayRetry = function() {
            if (this._httpRequest != null) {
                this._httpRequest.Dispose();
                this._httpRequest = null
            }
            this._httpRequest = new d(this,this.OkCompHandler,this.ErrorHandler);
            this._httpRequest.Send(this._url)
        }
        ;
        e.DoHand = function() {
            this._handler.runWith(this)
        }
        ;
        e.jsondecode = function(t) {
            var e = null;
            try {
                if (t == null || t == "")
                    return null;
                e = JSON.parse(t)
            } catch (t) {
                e = null
            }
            return e
        }
        ;
        p(0, e, "replacetext", function() {
            return this._replacetext
        });
        p(0, e, "text", function() {
            return this._text
        });
        _.CheckWordName = function(t, e) {
            _._CheckWord(t, e, 1)
        }
        ;
        _.CheckWordMsg = function(t, e) {
            _._CheckWord(t, e, 2)
        }
        ;
        _.CheckWordInfo = function(t, e) {
            _._CheckWord(t, e, 5)
        }
        ;
        _.CheckWordSearch = function(t, e) {
            _._CheckWord(t, e, 6)
        }
        ;
        _._CheckWord = function(t, e, i) {
            var n = new _;
            n._text = e;
            n._scene = i;
            n._handler = t;
            n._replacetext = e;
            n.DoCheckWord()
        }
        ;
        _.ErrorFunc = null;
        _.LogFunc = null;
        _.__init$ = function() {
            d = function(t) {
                function n(t, e, i) {
                    this._caller = null;
                    this._success = null;
                    this._error = null;
                    this._req = null;
                    n.__super.call(this);
                    this._caller = t;
                    this._success = e;
                    this._error = i
                }
                x(n, "", t);
                var e = n.prototype;
                e.Dispose = function() {
                    if (this._req != null) {
                        this._req = null
                    }
                }
                ;
                e.Send = function(t) {
                    this._req = new nn;
                    this._req.on("complete", this, this.CompleteHandler);
                    this._req.on("error", this, this.ErrorHandler);
                    this._req.send(t)
                }
                ;
                e.Clear = function() {
                    this._caller = null;
                    this._success = null;
                    this._error = null
                }
                ;
                e.CompleteHandler = function(t) {
                    if (this._success != null) {
                        this._success.call(this._caller, t)
                    }
                    this.Clear()
                }
                ;
                e.ErrorHandler = function(t) {
                    if (this._error != null) {
                        this._error.call(this._caller, t)
                    }
                    this.Clear()
                }
                ;
                return n
            }(v);
            t = function() {
                function o() {}
                x(o, "");
                o.encode = function(t) {
                    var e = new vn;
                    e.writeUTFBytes(t);
                    return o.encodeByteArray(e)
                }
                ;
                o.encodeByteArray = function(t) {
                    var e = "";
                    var i;
                    var n = new Array(4);
                    t.pos = 0;
                    while (t.bytesAvailable > 0) {
                        i = [];
                        for (var s = 0; s < 3 && t.bytesAvailable > 0; s++) {
                            i[s] = t.readUnsignedByte()
                        }
                        n[0] = (i[0] & 252) >> 2;
                        n[1] = (i[0] & 3) << 4 | i[1] >> 4;
                        n[2] = (i[1] & 15) << 2 | i[2] >> 6;
                        n[3] = i[2] & 63;
                        for (var r = i.length; r < 3; r++) {
                            n[r + 1] = 64
                        }
                        for (var a = 0; a < n.length; a++) {
                            e += o.BASE64_CHARS.charAt(n[a])
                        }
                    }
                    return e
                }
                ;
                o.decode = function(t) {
                    var e = o.decodeToByteArray(t);
                    return e.readUTFBytes(e.length)
                }
                ;
                o.decodeToByteArray = function(t) {
                    var e = new vn;
                    var i = new Array(4);
                    var n = new Array(3);
                    for (var s = 0; s < t.length; s += 4) {
                        for (var r = 0; r < 4 && s + r < t.length; r++) {
                            i[r] = o.BASE64_CHARS.indexOf(t.charAt(s + r))
                        }
                        n[0] = (i[0] << 2) + ((i[1] & 48) >> 4);
                        n[1] = ((i[1] & 15) << 4) + ((i[2] & 60) >> 2);
                        n[2] = ((i[2] & 3) << 6) + i[3];
                        for (var a = 0; a < n.length; a++) {
                            if (i[a + 1] == 64)
                                break;
                            e.writeByte(n[a])
                        }
                    }
                    e.pos = 0;
                    return e
                }
                ;
                o.BASE64_CHARS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
                o.version = "1.0.0";
                return o
            }()
        }
        ;
        return _
    }();
    var v = function() {
        var l;
        function e() {
            this._events = null
        }
        x(e, "laya.events.EventDispatcher");
        var t = e.prototype;
        t.hasListener = function(t) {
            var e = this._events && this._events[t];
            return !!e
        }
        ;
        t.event = function(t, e) {
            if (!this._events || !this._events[t])
                return false;
            var i = this._events[t];
            if (i.run) {
                if (i.once)
                    delete this._events[t];
                e != null ? i.runWith(e) : i.run()
            } else {
                for (var n = 0, s = i.length; n < s; n++) {
                    var r = i[n];
                    if (r) {
                        e != null ? r.runWith(e) : r.run()
                    }
                    if (!r || r.once) {
                        i.splice(n, 1);
                        n--;
                        s--
                    }
                }
                if (i.length === 0 && this._events)
                    delete this._events[t]
            }
            return true
        }
        ;
        t.on = function(t, e, i, n) {
            return this._createListener(t, e, i, n, false)
        }
        ;
        t.once = function(t, e, i, n) {
            return this._createListener(t, e, i, n, true)
        }
        ;
        t._createListener = function(t, e, i, n, s, r) {
            r === void 0 && (r = true);
            r && this.off(t, e, i, s);
            var a = l.create(e || this, i, n, s);
            this._events || (this._events = {});
            var o = this._events;
            if (!o[t])
                o[t] = a;
            else {
                if (!o[t].run)
                    o[t].push(a);
                else
                    o[t] = [o[t], a]
            }
            return this
        }
        ;
        t.off = function(t, e, i, n) {
            n === void 0 && (n = false);
            if (!this._events || !this._events[t])
                return this;
            var s = this._events[t];
            if (s != null) {
                if (s.run) {
                    if ((!e || s.caller === e) && s.method === i && (!n || s.once)) {
                        delete this._events[t];
                        s.recover()
                    }
                } else {
                    var r = 0;
                    for (var a = 0, o = s.length; a < o; a++) {
                        var l = s[a];
                        if (!l) {
                            r++;
                            continue
                        }
                        if (l && (!e || l.caller === e) && l.method === i && (!n || l.once)) {
                            r++;
                            s[a] = null;
                            l.recover()
                        }
                    }
                    if (r === o)
                        delete this._events[t]
                }
            }
            return this
        }
        ;
        t.offAll = function(t) {
            var e = this._events;
            if (!e)
                return this;
            if (t) {
                this._recoverHandlers(e[t]);
                delete e[t]
            } else {
                for (var i in e) {
                    this._recoverHandlers(e[i])
                }
                this._events = null
            }
            return this
        }
        ;
        t._recoverHandlers = function(t) {
            if (!t)
                return;
            if (t.run) {
                t.recover()
            } else {
                for (var e = t.length - 1; e > -1; e--) {
                    if (t[e]) {
                        t[e].recover();
                        t[e] = null
                    }
                }
            }
        }
        ;
        t.isMouseEvent = function(t) {
            return e.MOUSE_EVENTS[t]
        }
        ;
        e.MOUSE_EVENTS = {
            rightmousedown: true,
            rightmouseup: true,
            rightclick: true,
            mousedown: true,
            mouseup: true,
            mousemove: true,
            mouseover: true,
            mouseout: true,
            click: true,
            doubleclick: true
        };
        e.__init$ = function() {
            Object.defineProperty(laya.events.EventDispatcher.prototype, "_events", {
                enumerable: false,
                writable: true
            });
            l = function(t) {
                function s(t, e, i, n) {
                    s.__super.call(this, t, e, i, n)
                }
                x(s, "", t);
                var e = s.prototype;
                e.recover = function() {
                    if (this._id > 0) {
                        this._id = 0;
                        s._pool.push(this.clear())
                    }
                }
                ;
                s.create = function(t, e, i, n) {
                    n === void 0 && (n = true);
                    if (s._pool.length)
                        return s._pool.pop().setTo(t, e, i, n);
                    return new s(t,e,i,n)
                }
                ;
                s._pool = [];
                return s
            }(b)
        }
        ;
        return e
    }();
    var b = function() {
        function s(t, e, i, n) {
            this.once = false;
            this._id = 0;
            n === void 0 && (n = false);
            this.setTo(t, e, i, n)
        }
        x(s, "laya.utils.Handler");
        var t = s.prototype;
        t.setTo = function(t, e, i, n) {
            this._id = s._gid++;
            this.caller = t;
            this.method = e;
            this.args = i;
            this.once = n;
            return this
        }
        ;
        t.run = function() {
            if (this.method == null)
                return null;
            var t = this._id;
            var e = this.method.apply(this.caller, this.args);
            this._id === t && this.once && this.recover();
            return e
        }
        ;
        t.runWith = function(t) {
            if (this.method == null)
                return null;
            var e = this._id;
            if (t == null)
                var i = this.method.apply(this.caller, this.args);
            else if (!this.args && !t.unshift)
                i = this.method.call(this.caller, t);
            else if (this.args)
                i = this.method.apply(this.caller, this.args.concat(t));
            else
                i = this.method.apply(this.caller, t);
            this._id === e && this.once && this.recover();
            return i
        }
        ;
        t.clear = function() {
            this.caller = null;
            this.method = null;
            this.args = null;
            return this
        }
        ;
        t.recover = function() {
            if (this._id > 0) {
                this._id = 0;
                s._pool.push(this.clear())
            }
        }
        ;
        s.create = function(t, e, i, n) {
            n === void 0 && (n = true);
            if (s._pool.length)
                return s._pool.pop().setTo(t, e, i, n);
            return new s(t,e,i,n)
        }
        ;
        s._pool = [];
        s._gid = 1;
        return s
    }();
    var y = function() {
        function t() {}
        x(t, "laya.events.Event");
        var e = t.prototype;
        e.setTo = function(t, e, i) {
            this.type = t;
            this.currentTarget = e;
            this.target = i;
            return this
        }
        ;
        e.stopPropagation = function() {
            this._stoped = true
        }
        ;
        p(0, e, "stageY", function() {
            return st.stage.mouseY
        });
        p(0, e, "charCode", function() {
            return this.nativeEvent.charCode
        });
        p(0, e, "touches", function() {
            var t = this.nativeEvent.touches;
            if (t) {
                var e = st.stage;
                for (var i = 0, n = t.length; i < n; i++) {
                    var s = t[i];
                    var r = Se.TEMP;
                    r.setTo(s.clientX, s.clientY);
                    e._canvasTransform.invertTransformPoint(r);
                    e.transform.invertTransformPoint(r);
                    s.stageX = r.x;
                    s.stageY = r.y
                }
            }
            return t
        });
        p(0, e, "keyLocation", function() {
            return this.nativeEvent.keyLocation
        });
        p(0, e, "ctrlKey", function() {
            return this.nativeEvent.ctrlKey
        });
        p(0, e, "altKey", function() {
            return this.nativeEvent.altKey
        });
        p(0, e, "shiftKey", function() {
            return this.nativeEvent.shiftKey
        });
        p(0, e, "stageX", function() {
            return st.stage.mouseX
        });
        t.EMPTY = new t;
        t.MOUSE_DOWN = "mousedown";
        t.MOUSE_UP = "mouseup";
        t.CLICK = "click";
        t.RIGHT_MOUSE_DOWN = "rightmousedown";
        t.RIGHT_MOUSE_UP = "rightmouseup";
        t.RIGHT_CLICK = "rightclick";
        t.MOUSE_MOVE = "mousemove";
        t.MOUSE_OVER = "mouseover";
        t.MOUSE_OUT = "mouseout";
        t.MOUSE_WHEEL = "mousewheel";
        t.ROLL_OVER = "mouseover";
        t.ROLL_OUT = "mouseout";
        t.DOUBLE_CLICK = "doubleclick";
        t.CHANGE = "change";
        t.CHANGED = "changed";
        t.RESIZE = "resize";
        t.ADDED = "added";
        t.REMOVED = "removed";
        t.DISPLAY = "display";
        t.UNDISPLAY = "undisplay";
        t.ERROR = "error";
        t.COMPLETE = "complete";
        t.LOADED = "loaded";
        t.PROGRESS = "progress";
        t.INPUT = "input";
        t.RENDER = "render";
        t.OPEN = "open";
        t.MESSAGE = "message";
        t.CLOSE = "close";
        t.KEY_DOWN = "keydown";
        t.KEY_PRESS = "keypress";
        t.KEY_UP = "keyup";
        t.FRAME = "enterframe";
        t.DRAG_START = "dragstart";
        t.DRAG_MOVE = "dragmove";
        t.DRAG_END = "dragend";
        t.ENTER = "enter";
        t.SELECT = "select";
        t.BLUR = "blur";
        t.FOCUS = "focus";
        t.VISIBILITY_CHANGE = "visibilitychange";
        t.FOCUS_CHANGE = "focuschange";
        t.PLAYED = "played";
        t.PAUSED = "paused";
        t.STOPPED = "stopped";
        t.START = "start";
        t.END = "end";
        t.ENABLE_CHANGED = "enablechanged";
        t.ACTIVE_IN_HIERARCHY_CHANGED = "activeinhierarchychanged";
        t.COMPONENT_ADDED = "componentadded";
        t.COMPONENT_REMOVED = "componentremoved";
        t.LAYER_CHANGED = "layerchanged";
        t.HIERARCHY_LOADED = "hierarchyloaded";
        t.RECOVERED = "recovered";
        t.RELEASED = "released";
        t.LINK = "link";
        t.LABEL = "label";
        t.FULL_SCREEN_CHANGE = "fullscreenchange";
        t.DEVICE_LOST = "devicelost";
        t.MESH_CHANGED = "meshchanged";
        t.MATERIAL_CHANGED = "materialchanged";
        t.WORLDMATRIX_NEEDCHANGE = "worldmatrixneedchanged";
        t.ANIMATION_CHANGED = "animationchanged";
        t.TRIGGER_ENTER = "triggerenter";
        t.TRIGGER_STAY = "triggerstay";
        t.TRIGGER_EXIT = "triggerexit";
        t.TRAIL_FILTER_CHANGE = "trailfilterchange";
        t.DOMINO_FILTER_CHANGE = "dominofilterchange";
        return t
    }();
    var w = function() {
        function f() {
            this._hit = null;
            this._unHit = null
        }
        x(f, "laya.utils.HitArea");
        var t = f.prototype;
        t.isHit = function(t, e) {
            if (!f.isHitGraphic(t, e, this.hit))
                return false;
            return !f.isHitGraphic(t, e, this.unHit)
        }
        ;
        t.contains = function(t, e) {
            return this.isHit(t, e)
        }
        ;
        p(0, t, "hit", function() {
            if (!this._hit)
                this._hit = new S;
            return this._hit
        }, function(t) {
            this._hit = t
        });
        p(0, t, "unHit", function() {
            if (!this._unHit)
                this._unHit = new S;
            return this._unHit
        }, function(t) {
            this._unHit = t
        });
        f.isHitGraphic = function(t, e, i) {
            if (!i)
                return false;
            var n;
            n = i.cmds;
            if (!n && i._one) {
                n = f._cmds;
                n.length = 1;
                n[0] = i._one
            }
            if (!n)
                return false;
            var s = 0
              , r = 0;
            r = n.length;
            var a;
            for (s = 0; s < r; s++) {
                a = n[s];
                if (!a)
                    continue;
                var o = Be._context;
                switch (a.callee) {
                case o._translate:
                case 6:
                    t -= a[0];
                    e -= a[1];
                default:
                }
                if (f.isHitCmd(t, e, a))
                    return true
            }
            return false
        }
        ;
        f.isHitCmd = function(t, e, i) {
            if (!i)
                return false;
            var n = Be._context;
            var s = false;
            switch (i["callee"]) {
            case n._drawRect:
            case 13:
                f._rec.setTo(i[0], i[1], i[2], i[3]);
                s = f._rec.contains(t, e);
                break;
            case n._drawCircle:
            case n._fillCircle:
            case 14:
                ;var r = NaN;
                t -= i[0];
                e -= i[1];
                r = t * t + e * e;
                s = r < i[2] * i[2];
                break;
            case n._drawPoly:
            case 18:
                t -= i[0];
                e -= i[1];
                s = f.ptInPolygon(t, e, i[2]);
                break;
            default:
                break
            }
            return s
        }
        ;
        f.ptInPolygon = function(t, e, i) {
            var n;
            n = f._ptPoint;
            n.setTo(t, e);
            var s = 0;
            var r = NaN
              , a = NaN
              , o = NaN
              , l = NaN;
            var h = 0;
            h = i.length;
            for (var u = 0; u < h; u += 2) {
                r = i[u];
                a = i[u + 1];
                o = i[(u + 2) % h];
                l = i[(u + 3) % h];
                if (a == l)
                    continue;
                if (n.y < Math.min(a, l))
                    continue;
                if (n.y >= Math.max(a, l))
                    continue;
                var c = (n.y - a) * (o - r) / (l - a) + r;
                if (c > n.x) {
                    s++
                }
            }
            return s % 2 == 1
        }
        ;
        f._cmds = [];
        u(f, ["_rec", function() {
            return this._rec = new Te
        }
        , "_ptPoint", function() {
            return this._ptPoint = new Se
        }
        ]);
        return f
    }();
    var C = function() {
        function t() {}
        x(t, "laya.webgl.shader.ShaderValue");
        return t
    }();
    var S = function() {
        function c() {
            this._one = null;
            this._cmds = null;
            this._render = this._renderEmpty;
            if (Be.isConchNode) {
                var t = this;
                t._nativeObj = new a._conchGraphics;
                t.id = t._nativeObj.conchID
            }
        }
        x(c, "laya.display.Graphics");
        var t = c.prototype;
        t.destroy = function() {
            this.clear();
            if (this._graphicBounds)
                this._graphicBounds.destroy();
            this._graphicBounds = null;
            this._vectorgraphArray = null;
            this._sp && (this._sp._renderType = 0);
            this._sp = null
        }
        ;
        t.clear = function(t) {
            t === void 0 && (t = false);
            var e = 0
              , i = 0;
            if (t) {
                var n = this._one;
                if (this._cmds) {
                    i = this._cmds.length;
                    for (e = 0; e < i; e++) {
                        n = this._cmds[e];
                        if (n && (n.callee === Be._context._drawTexture || n.callee === Be._context._drawTextureWithTransform)) {
                            n[0] = null;
                            c._cache.push(n)
                        }
                    }
                    this._cmds.length = 0
                } else if (n) {
                    if (n && (n.callee === Be._context._drawTexture || n.callee === Be._context._drawTextureWithTransform)) {
                        n[0] = null;
                        c._cache.push(n)
                    }
                }
            } else {
                this._cmds = null
            }
            this._one = null;
            this._render = this._renderEmpty;
            this._sp && (this._sp._renderType &= ~1 & ~512);
            this._repaint();
            if (this._vectorgraphArray) {
                for (e = 0,
                i = this._vectorgraphArray.length; e < i; e++) {
                    oi.getInstance().deleteShape(this._vectorgraphArray[e])
                }
                this._vectorgraphArray.length = 0
            }
        }
        ;
        t._clearBoundsCache = function() {
            if (this._graphicBounds)
                this._graphicBounds.reset()
        }
        ;
        t._initGraphicBounds = function() {
            if (!this._graphicBounds) {
                this._graphicBounds = new ae;
                this._graphicBounds._graphics = this
            }
        }
        ;
        t._repaint = function() {
            this._clearBoundsCache();
            this._sp && this._sp.repaint()
        }
        ;
        t._isOnlyOne = function() {
            return !this._cmds || this._cmds.length === 0
        }
        ;
        t.getBounds = function(t) {
            t === void 0 && (t = false);
            this._initGraphicBounds();
            return this._graphicBounds.getBounds(t)
        }
        ;
        t.getBoundPoints = function(t) {
            t === void 0 && (t = false);
            this._initGraphicBounds();
            return this._graphicBounds.getBoundPoints(t)
        }
        ;
        t._addCmd = function(t) {
            this._cmds = this._cmds || [];
            t.callee = t.shift();
            this._cmds.push(t)
        }
        ;
        t.setFilters = function(t) {
            this._saveToCmd(Be._context._setFilters, t)
        }
        ;
        t.drawTexture = function(t, e, i, n, s, r, a) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            a === void 0 && (a = 1);
            if (!t || a < .01)
                return null;
            if (!n)
                n = t.sourceWidth;
            if (!s)
                s = t.sourceHeight;
            a = a < 0 ? 0 : a > 1 ? 1 : a;
            var o = !Be.isWebGL && (He.onFirefox || He.onEdge || He.onIE || He.onSafari) ? .5 : 0;
            var l = n / t.sourceWidth;
            var h = s / t.sourceHeight;
            n = t.width * l;
            s = t.height * h;
            if (t.loaded && (n <= 0 || s <= 0))
                return null;
            e += t.offsetX * l;
            i += t.offsetY * h;
            this._sp && (this._sp._renderType |= 512);
            var u;
            e -= o;
            i -= o;
            n += 2 * o;
            s += 2 * o;
            if (c._cache.length) {
                u = c._cache.pop();
                u[0] = t;
                u[1] = e;
                u[2] = i;
                u[3] = n;
                u[4] = s;
                u[5] = r;
                u[6] = a
            } else {
                u = [t, e, i, n, s, r, a]
            }
            u.callee = r || a != 1 ? Be._context._drawTextureWithTransform : Be._context._drawTexture;
            if (this._one == null && !r && a == 1) {
                this._one = u;
                this._render = this._renderOneImg
            } else {
                this._saveToCmd(u.callee, u)
            }
            if (!t.loaded) {
                t.once("loaded", this, this._textureLoaded, [t, u])
            }
            this._repaint();
            return u
        }
        ;
        t.cleanByTexture = function(t, e, i, n, s) {
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            if (!t)
                return this.clear();
            if (this._one && this._render === this._renderOneImg) {
                if (!n)
                    n = t.sourceWidth;
                if (!s)
                    s = t.sourceHeight;
                var r = n / t.sourceWidth;
                var a = s / t.sourceHeight;
                n = t.width * r;
                s = t.height * a;
                e += t.offsetX * r;
                i += t.offsetY * a;
                this._one[0] = t;
                this._one[1] = e;
                this._one[2] = i;
                this._one[3] = n;
                this._one[4] = s;
                this._repaint()
            } else {
                this.clear();
                t && this.drawTexture(t, e, i, n, s)
            }
        }
        ;
        t.drawTextures = function(t, e) {
            if (!t)
                return;
            this._saveToCmd(Be._context._drawTextures, [t, e])
        }
        ;
        t.fillTexture = function(t, e, i, n, s, r, a) {
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            r === void 0 && (r = "repeat");
            if (!t)
                return;
            var o = [t, e, i, n, s, r, a || Se.EMPTY, {}];
            if (!t.loaded) {
                t.once("loaded", this, this._textureLoaded, [t, o])
            }
            this._saveToCmd(Be._context._fillTexture, o)
        }
        ;
        t._textureLoaded = function(t, e) {
            e[3] = e[3] || t.width;
            e[4] = e[4] || t.height;
            this._repaint()
        }
        ;
        t.fillCircle = function(t, e, i, n, s, r, a) {
            i.bitmap.enableMerageInAtlas = false;
            var o = new Float32Array((a + 1) * 2);
            var l = new Float32Array((a + 1) * 2);
            var h = new Uint16Array(a * 3);
            var u = 2 * Math.PI / a;
            var c = 0;
            o[0] = n;
            o[1] = s;
            l[0] = n / i.width;
            l[1] = s / i.height;
            var f = 2;
            for (var d = 0; d < a; d++) {
                var _ = r * Math.cos(c) + n;
                var p = r * Math.sin(c) + s;
                o[f] = _;
                o[f + 1] = p;
                l[f] = _ / i.width;
                l[f + 1] = p / i.height;
                c += u;
                f += 2
            }
            f = 0;
            for (d = 0; d < a; d++) {
                h[f++] = 0;
                h[f++] = d + 1;
                h[f++] = d + 2 >= a + 1 ? 1 : d + 2
            }
            this.drawTriangles(i, t, e, o, l, h)
        }
        ;
        t.drawTriangles = function(t, e, i, n, s, r, a, o, l, h) {
            o === void 0 && (o = 1);
            this._saveToCmd(Be._context.drawTriangles, [t, e, i, n, s, r, a, o, l, h])
        }
        ;
        t._saveToCmd = function(t, e) {
            this._sp && (this._sp._renderType |= 512);
            if (this._one == null) {
                this._one = e;
                this._render = this._renderOne
            } else {
                this._sp && (this._sp._renderType &= ~1);
                this._render = this._renderAll;
                (this._cmds || (this._cmds = [])).length === 0 && this._cmds.push(this._one);
                this._cmds.push(e)
            }
            e.callee = t;
            this._repaint();
            return e
        }
        ;
        t.clipRect = function(t, e, i, n) {
            this._saveToCmd(Be._context._clipRect, [t, e, i, n])
        }
        ;
        t.fillText = function(t, e, i, n, s, r, a) {
            a === void 0 && (a = 0);
            this._saveToCmd(Be._context._fillText, [t, e, i, n || se.defaultFont, s, r])
        }
        ;
        t.fillBorderText = function(t, e, i, n, s, r, a, o) {
            this._saveToCmd(Be._context._fillBorderText, [t, e, i, n || se.defaultFont, s, r, a, o])
        }
        ;
        t.strokeText = function(t, e, i, n, s, r, a) {
            this._saveToCmd(Be._context._strokeText, [t, e, i, n || se.defaultFont, s, r, a])
        }
        ;
        t.alpha = function(t) {
            t = t < 0 ? 0 : t > 1 ? 1 : t;
            this._saveToCmd(Be._context._alpha, [t])
        }
        ;
        t.setAlpha = function(t) {
            t = t < 0 ? 0 : t > 1 ? 1 : t;
            this._saveToCmd(Be._context._setAlpha, [t])
        }
        ;
        t.transform = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            this._saveToCmd(Be._context._transform, [t, e, i])
        }
        ;
        t.rotate = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            this._saveToCmd(Be._context._rotate, [t, e, i])
        }
        ;
        t.scale = function(t, e, i, n) {
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            this._saveToCmd(Be._context._scale, [t, e, i, n])
        }
        ;
        t.translate = function(t, e) {
            this._saveToCmd(Be._context._translate, [t, e])
        }
        ;
        t.save = function() {
            this._saveToCmd(Be._context._save, [])
        }
        ;
        t.restore = function() {
            this._saveToCmd(Be._context._restore, [])
        }
        ;
        t.replaceText = function(t) {
            this._repaint();
            var e = this._cmds;
            if (!e) {
                if (this._one && this._isTextCmd(this._one.callee)) {
                    if (this._one[0].toUpperCase)
                        this._one[0] = t;
                    else
                        this._one[0].setText(t);
                    return true
                }
            } else {
                for (var i = e.length - 1; i > -1; i--) {
                    if (this._isTextCmd(e[i].callee)) {
                        if (e[i][0].toUpperCase)
                            e[i][0] = t;
                        else
                            e[i][0].setText(t);
                        return true
                    }
                }
            }
            return false
        }
        ;
        t._isTextCmd = function(t) {
            return t === Be._context._fillText || t === Be._context._fillBorderText || t === Be._context._strokeText
        }
        ;
        t.replaceTextColor = function(t) {
            this._repaint();
            var e = this._cmds;
            if (!e) {
                if (this._one && this._isTextCmd(this._one.callee)) {
                    this._one[4] = t;
                    if (!this._one[0].toUpperCase)
                        this._one[0].changed = true
                }
            } else {
                for (var i = e.length - 1; i > -1; i--) {
                    if (this._isTextCmd(e[i].callee)) {
                        e[i][4] = t;
                        if (!e[i][0].toUpperCase)
                            e[i][0].changed = true
                    }
                }
            }
        }
        ;
        t.loadImage = function(t, e, i, n, s, r) {
            var a = this;
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            var o = fn.getRes(t);
            if (o)
                l(o);
            else
                st.loader.load(t, b.create(null, l), null, "image");
            function l(t) {
                if (t) {
                    a.drawTexture(t, e, i, n, s);
                    if (r != null)
                        r.call(a._sp, t)
                }
            }
        }
        ;
        t._renderEmpty = function(t, e, i, n) {}
        ;
        t._renderAll = function(t, e, i, n) {
            var s = this._cmds, r;
            for (var a = 0, o = s.length; a < o; a++) {
                (r = s[a]).callee.call(e, i, n, r)
            }
        }
        ;
        t._renderOne = function(t, e, i, n) {
            this._one.callee.call(e, i, n, this._one)
        }
        ;
        t._renderOneImg = function(t, e, i, n) {
            this._one.callee.call(e, i, n, this._one);
            if (t._renderType !== 2305) {
                t._renderType |= 1
            }
        }
        ;
        t.drawLine = function(t, e, i, n, s, r) {
            r === void 0 && (r = 1);
            var a = 0;
            if (Be.isWebGL) {
                a = oi.getInstance().getId();
                if (this._vectorgraphArray == null)
                    this._vectorgraphArray = [];
                this._vectorgraphArray.push(a)
            }
            var o = r % 2 === 0 ? 0 : .5;
            var l = [t + o, e + o, i + o, n + o, s, r, a];
            this._saveToCmd(Be._context._drawLine, l)
        }
        ;
        t.drawLines = function(t, e, i, n, s) {
            s === void 0 && (s = 1);
            var r = 0;
            if (!i || i.length < 4)
                return;
            if (Be.isWebGL) {
                r = oi.getInstance().getId();
                if (this._vectorgraphArray == null)
                    this._vectorgraphArray = [];
                this._vectorgraphArray.push(r)
            }
            var a = s % 2 === 0 ? 0 : .5;
            var o = [t + a, e + a, i, n, s, r];
            this._saveToCmd(Be._context._drawLines, o)
        }
        ;
        t.drawCurves = function(t, e, i, n, s) {
            s === void 0 && (s = 1);
            var r = [t, e, i, n, s];
            this._saveToCmd(Be._context._drawCurves, r)
        }
        ;
        t.drawRect = function(t, e, i, n, s, r, a) {
            a === void 0 && (a = 1);
            var o = r ? a / 2 : 0;
            var l = r ? a : 0;
            var h = [t + o, e + o, i - l, n - l, s, r, a];
            this._saveToCmd(Be._context._drawRect, h)
        }
        ;
        t.drawCircle = function(t, e, i, n, s, r) {
            r === void 0 && (r = 1);
            var a = s ? r / 2 : 0;
            var o = 0;
            if (Be.isWebGL) {
                o = oi.getInstance().getId();
                if (this._vectorgraphArray == null)
                    this._vectorgraphArray = [];
                this._vectorgraphArray.push(o)
            }
            var l = [t, e, i - a, n, s, r, o];
            this._saveToCmd(Be._context._drawCircle, l)
        }
        ;
        t.drawPie = function(t, e, i, n, s, r, a, o) {
            o === void 0 && (o = 1);
            var l = a ? o / 2 : 0;
            var h = a ? o : 0;
            var u = 0;
            if (Be.isWebGL) {
                u = oi.getInstance().getId();
                if (this._vectorgraphArray == null)
                    this._vectorgraphArray = [];
                this._vectorgraphArray.push(u)
            }
            var c = [t + l, e + l, i - h, n, s, r, a, o, u];
            c[3] = ai.toRadian(n);
            c[4] = ai.toRadian(s);
            this._saveToCmd(Be._context._drawPie, c)
        }
        ;
        t.drawPoly = function(t, e, i, n, s, r) {
            r === void 0 && (r = 1);
            var a = 0;
            var o = false;
            if (Be.isWebGL) {
                a = oi.getInstance().getId();
                if (this._vectorgraphArray == null)
                    this._vectorgraphArray = [];
                this._vectorgraphArray.push(a);
                if (i.length > 6) {
                    o = false
                } else {
                    o = true
                }
            }
            var l = s ? r % 2 === 0 ? 0 : .5 : 0;
            var h = [t + l, e + l, i, n, s, r, a, o];
            this._saveToCmd(Be._context._drawPoly, h)
        }
        ;
        t.drawPath = function(t, e, i, n, s) {
            var r = [t, e, i, n, s];
            this._saveToCmd(Be._context._drawPath, r)
        }
        ;
        t.setDirection = function(t) {}
        ;
        p(0, t, "cmds", function() {
            return this._cmds
        }, function(t) {
            this._sp && (this._sp._renderType |= 512);
            this._cmds = t;
            this._render = this._renderAll;
            this._repaint()
        });
        c.__init__ = function() {
            if (Be.isConchNode) {
                var t = laya.display.Graphics.prototype;
                var e = He.window.ConchGraphics.prototype;
                var i = ["setDirection", "clear", "destroy", "alpha", "rotate", "transform", "scale", "translate", "save", "restore", "clipRect", "blendMode", "fillText", "fillBorderText", "_fands", "drawRect", "drawCircle", "drawPie", "drawPoly", "drawPath", "drawImageM", "drawLine", "drawLines", "_drawPs", "drawCurves", "replaceText", "replaceTextColor", "_fillImage", "fillTexture", "setSkinMesh", "drawParticle", "drawImageS"];
                for (var n = 0, s = i.length; n <= s; n++) {
                    var r = i[n];
                    t[r] = e[r]
                }
                t._saveToCmd = null;
                if (e.drawImageS) {
                    t.drawTextures = function(t, e) {
                        if (!t)
                            return;
                        if (!(t.loaded && t.bitmap && t.source)) {
                            return
                        }
                        var i = t.uv
                          , n = t.bitmap.width
                          , s = t.bitmap.height;
                        this.drawImageS(t.bitmap.source, i[0] * n, i[1] * s, (i[2] - i[0]) * n, (i[5] - i[3]) * s, t.offsetX, t.offsetY, t.width, t.height, e)
                    }
                }
                t.drawTexture = function(t, e, i, n, s, r, a) {
                    e === void 0 && (e = 0);
                    i === void 0 && (i = 0);
                    n === void 0 && (n = 0);
                    s === void 0 && (s = 0);
                    a === void 0 && (a = 1);
                    if (!t)
                        return;
                    if (!t.loaded) {
                        t.once("loaded", this, function() {
                            this.drawTexture(t, e, i, n, s, r)
                        });
                        return
                    }
                    if (!(t.loaded && t.bitmap && t.source)) {
                        return
                    }
                    if (!n)
                        n = t.sourceWidth;
                    if (!s)
                        s = t.sourceHeight;
                    a = a < 0 ? 0 : a > 1 ? 1 : a;
                    n = n - t.sourceWidth + t.width;
                    s = s - t.sourceHeight + t.height;
                    if (n <= 0 || s <= 0)
                        return;
                    e += t.offsetX;
                    i += t.offsetY;
                    var o = t.uv
                      , l = t.bitmap.width
                      , h = t.bitmap.height;
                    if (o[4] < o[0] && o[5] < o[1]) {
                        this.drawImageM(t.bitmap.source, o[4] * l, o[5] * h, (o[0] - o[4]) * l, (o[1] - o[5]) * h, e, i, n, s, r, a)
                    } else {
                        this.drawImageM(t.bitmap.source, o[0] * l, o[1] * h, (o[2] - o[0]) * l, (o[5] - o[3]) * h, e, i, n, s, r, a)
                    }
                    this._repaint()
                }
                ;
                t.fillTexture = function(t, e, i, n, s, r, a) {
                    n === void 0 && (n = 0);
                    s === void 0 && (s = 0);
                    r === void 0 && (r = "repeat");
                    if (!t)
                        return;
                    if (t.loaded) {
                        var o = Be._context.ctx;
                        var l = t.bitmap.width
                          , h = t.bitmap.height
                          , u = t.uv;
                        var c;
                        if (t.uv != _n.DEF_UV) {
                            c = o.createPattern(t.bitmap.source, r, u[0] * l, u[1] * h, (u[2] - u[0]) * l, (u[5] - u[3]) * h)
                        } else {
                            c = o.createPattern(t.bitmap.source, r)
                        }
                        var f = 0
                          , d = 0;
                        if (a) {
                            e += a.x % t.width;
                            i += a.y % t.height;
                            f -= a.x % t.width;
                            d -= a.y % t.height
                        }
                        this._fillImage(c, e, i, f, d, n, s)
                    }
                }
            }
        }
        ;
        c._cache = [];
        return c
    }();
    var Nt = function() {
        function e(t) {
            this._xd_ = true;
            this._allocated_ = 8;
            this._pos_ = 0;
            this._length = 0;
            if (t) {
                this._u8d_ = new Uint8Array(t);
                this._d_ = new DataView(this._u8d_.buffer);
                this._length = this._d_.byteLength
            } else {
                this.___resizeBuffer(this._allocated_)
            }
        }
        x(e, "laya.utils.Byte");
        var t = e.prototype;
        t.___resizeBuffer = function(e) {
            try {
                var t = new Uint8Array(e);
                if (this._u8d_ != null) {
                    if (this._u8d_.length <= e)
                        t.set(this._u8d_);
                    else
                        t.set(this._u8d_.subarray(0, e))
                }
                this._u8d_ = t;
                this._d_ = new DataView(t.buffer)
            } catch (t) {
                throw "___resizeBuffer err:" + e
            }
        }
        ;
        t.getString = function() {
            return this.rUTF(this.getUint16())
        }
        ;
        t.getFloat32Array = function(t, e) {
            var i = t + e;
            i = i > this._length ? this._length : i;
            var n = new Float32Array(this._d_.buffer.slice(t, i));
            this._pos_ = i;
            return n
        }
        ;
        t.getUint8Array = function(t, e) {
            var i = t + e;
            i = i > this._length ? this._length : i;
            var n = new Uint8Array(this._d_.buffer.slice(t, i));
            this._pos_ = i;
            return n
        }
        ;
        t.getInt16Array = function(t, e) {
            var i = t + e;
            i = i > this._length ? this._length : i;
            var n = new Int16Array(this._d_.buffer.slice(t, i));
            this._pos_ = i;
            return n
        }
        ;
        t.getFloat32 = function() {
            if (this._pos_ + 4 > this._length)
                throw "getFloat32 error - Out of bounds";
            var t = this._d_.getFloat32(this._pos_, this._xd_);
            this._pos_ += 4;
            return t
        }
        ;
        t.getFloat64 = function() {
            if (this._pos_ + 8 > this._length)
                throw "getFloat64 error - Out of bounds";
            var t = this._d_.getFloat64(this._pos_, this._xd_);
            this._pos_ += 8;
            return t
        }
        ;
        t.writeFloat32 = function(t) {
            this.ensureWrite(this._pos_ + 4);
            this._d_.setFloat32(this._pos_, t, this._xd_);
            this._pos_ += 4
        }
        ;
        t.writeFloat64 = function(t) {
            this.ensureWrite(this._pos_ + 8);
            this._d_.setFloat64(this._pos_, t, this._xd_);
            this._pos_ += 8
        }
        ;
        t.getInt32 = function() {
            if (this._pos_ + 4 > this._length)
                throw "getInt32 error - Out of bounds";
            var t = this._d_.getInt32(this._pos_, this._xd_);
            this._pos_ += 4;
            return t
        }
        ;
        t.getUint32 = function() {
            if (this._pos_ + 4 > this._length)
                throw "getUint32 error - Out of bounds";
            var t = this._d_.getUint32(this._pos_, this._xd_);
            this._pos_ += 4;
            return t
        }
        ;
        t.writeInt32 = function(t) {
            this.ensureWrite(this._pos_ + 4);
            this._d_.setInt32(this._pos_, t, this._xd_);
            this._pos_ += 4
        }
        ;
        t.writeUint32 = function(t) {
            this.ensureWrite(this._pos_ + 4);
            this._d_.setUint32(this._pos_, t, this._xd_);
            this._pos_ += 4
        }
        ;
        t.getInt16 = function() {
            if (this._pos_ + 2 > this._length)
                throw "getInt16 error - Out of bounds";
            var t = this._d_.getInt16(this._pos_, this._xd_);
            this._pos_ += 2;
            return t
        }
        ;
        t.getUint16 = function() {
            if (this._pos_ + 2 > this._length)
                throw "getUint16 error - Out of bounds";
            var t = this._d_.getUint16(this._pos_, this._xd_);
            this._pos_ += 2;
            return t
        }
        ;
        t.writeUint16 = function(t) {
            this.ensureWrite(this._pos_ + 2);
            this._d_.setUint16(this._pos_, t, this._xd_);
            this._pos_ += 2
        }
        ;
        t.writeInt16 = function(t) {
            this.ensureWrite(this._pos_ + 2);
            this._d_.setInt16(this._pos_, t, this._xd_);
            this._pos_ += 2
        }
        ;
        t.getUint8 = function() {
            if (this._pos_ + 1 > this._length)
                throw "getUint8 error - Out of bounds";
            return this._d_.getUint8(this._pos_++)
        }
        ;
        t.writeUint8 = function(t) {
            this.ensureWrite(this._pos_ + 1);
            this._d_.setUint8(this._pos_, t);
            this._pos_++
        }
        ;
        t._getUInt8 = function(t) {
            return this._d_.getUint8(t)
        }
        ;
        t._getUint16 = function(t) {
            return this._d_.getUint16(t, this._xd_)
        }
        ;
        t._getMatrix = function() {
            var t = new Ce(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32());
            return t
        }
        ;
        t.rUTF = function(t) {
            var e = ""
              , i = this._pos_ + t
              , n = 0
              , s = 0
              , r = 0
              , a = String.fromCharCode;
            var o = this._u8d_
              , l = 0;
            while (this._pos_ < i) {
                n = o[this._pos_++];
                if (n < 128) {
                    if (n != 0) {
                        e += a(n)
                    }
                } else if (n < 224) {
                    e += a((n & 63) << 6 | o[this._pos_++] & 127)
                } else if (n < 240) {
                    s = o[this._pos_++];
                    e += a((n & 31) << 12 | (s & 127) << 6 | o[this._pos_++] & 127)
                } else {
                    s = o[this._pos_++];
                    r = o[this._pos_++];
                    e += a((n & 15) << 18 | (s & 127) << 12 | r << 6 & 127 | o[this._pos_++] & 127)
                }
                l++
            }
            return e
        }
        ;
        t.getCustomString = function(t) {
            var e = ""
              , i = 0
              , n = 0
              , s = 0
              , r = String.fromCharCode;
            var a = this._u8d_
              , o = 0;
            while (t > 0) {
                n = a[this._pos_];
                if (n < 128) {
                    e += r(n);
                    this._pos_++;
                    t--
                } else {
                    i = n - 128;
                    this._pos_++;
                    t -= i;
                    while (i > 0) {
                        n = a[this._pos_++];
                        s = a[this._pos_++];
                        e += r(s << 8 | n);
                        i--
                    }
                }
            }
            return e
        }
        ;
        t.clear = function() {
            this._pos_ = 0;
            this.length = 0
        }
        ;
        t.__getBuffer = function() {
            return this._d_.buffer
        }
        ;
        t.writeUTFBytes = function(t) {
            t = t + "";
            for (var e = 0, i = t.length; e < i; e++) {
                var n = t.charCodeAt(e);
                if (n <= 127) {
                    this.writeByte(n)
                } else if (n <= 2047) {
                    this.ensureWrite(this._pos_ + 2);
                    this._u8d_.set([192 | n >> 6, 128 | n & 63], this._pos_);
                    this._pos_ += 2
                } else if (n <= 65535) {
                    this.ensureWrite(this._pos_ + 3);
                    this._u8d_.set([224 | n >> 12, 128 | n >> 6 & 63, 128 | n & 63], this._pos_);
                    this._pos_ += 3
                } else {
                    this.ensureWrite(this._pos_ + 4);
                    this._u8d_.set([240 | n >> 18, 128 | n >> 12 & 63, 128 | n >> 6 & 63, 128 | n & 63], this._pos_);
                    this._pos_ += 4
                }
            }
        }
        ;
        t.writeUTFString = function(t) {
            var e = this.pos;
            this.writeUint16(1);
            this.writeUTFBytes(t);
            var i = this.pos - e - 2;
            if (i >= 65536) {
                throw "writeUTFString byte len more than 65536"
            }
            this._d_.setUint16(e, i, this._xd_)
        }
        ;
        t.readUTFString = function() {
            return this.readUTFBytes(this.getUint16())
        }
        ;
        t.getUTFString = function() {
            return this.readUTFString()
        }
        ;
        t.readUTFBytes = function(t) {
            t === void 0 && (t = -1);
            if (t == 0)
                return "";
            var e = this.bytesAvailable;
            if (t > e)
                throw "readUTFBytes error - Out of bounds";
            t = t > 0 ? t : e;
            return this.rUTF(t)
        }
        ;
        t.getUTFBytes = function(t) {
            t === void 0 && (t = -1);
            return this.readUTFBytes(t)
        }
        ;
        t.writeByte = function(t) {
            this.ensureWrite(this._pos_ + 1);
            this._d_.setInt8(this._pos_, t);
            this._pos_ += 1
        }
        ;
        t.readByte = function() {
            if (this._pos_ + 1 > this._length)
                throw "readByte error - Out of bounds";
            return this._d_.getInt8(this._pos_++)
        }
        ;
        t.getByte = function() {
            return this.readByte()
        }
        ;
        t.ensureWrite = function(t) {
            if (this._length < t)
                this._length = t;
            if (this._allocated_ < t)
                this.length = t
        }
        ;
        t.writeArrayBuffer = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            if (e < 0 || i < 0)
                throw "writeArrayBuffer error - Out of bounds";
            if (i == 0)
                i = t.byteLength - e;
            this.ensureWrite(this._pos_ + i);
            var n = new Uint8Array(t);
            this._u8d_.set(n.subarray(e, e + i), this._pos_);
            this._pos_ += i
        }
        ;
        t.readArrayBuffer = function(t) {
            var e;
            e = this._u8d_.buffer.slice(this._pos_, this._pos_ + t);
            this._pos_ = this._pos_ + t;
            return e
        }
        ;
        p(0, t, "buffer", function() {
            var t = this._d_.buffer;
            if (t.byteLength == this.length)
                return t;
            return t.slice(0, this.length)
        });
        p(0, t, "endian", function() {
            return this._xd_ ? "littleEndian" : "bigEndian"
        }, function(t) {
            this._xd_ = t == "littleEndian"
        });
        p(0, t, "length", function() {
            return this._length
        }, function(t) {
            if (this._allocated_ < t)
                this.___resizeBuffer(this._allocated_ = Math.floor(Math.max(t, this._allocated_ * 2)));
            if (t == 0)
                this.___resizeBuffer(this._allocated_ = t);
            this._length = t
        });
        p(0, t, "pos", function() {
            return this._pos_
        }, function(t) {
            this._pos_ = t
        });
        p(0, t, "bytesAvailable", function() {
            return this._length - this._pos_
        });
        e.getSystemEndian = function() {
            if (!e._sysEndian) {
                var t = new ArrayBuffer(2);
                new DataView(t).setInt16(0, 256, true);
                e._sysEndian = new Int16Array(t)[0] === 256 ? "littleEndian" : "bigEndian"
            }
            return e._sysEndian
        }
        ;
        e.BIG_ENDIAN = "bigEndian";
        e.LITTLE_ENDIAN = "littleEndian";
        e._sysEndian = null;
        return e
    }();
    var T = function() {
        function n() {}
        x(n, "NativeUtil");
        p(1, n, "IsConnect", function() {
            return n._nativeProxy != null
        });
        n.GetGameLoginType = function() {
            var t = 0;
            if (He.onAndroid) {
                if (n._nativeProxy != null)
                    t = n._nativeProxy.call("getLoginType")
            }
            console.log("获取登录类型:" + t);
            return t
        }
        ;
        n.GetAgentJsonStr = function() {
            var t = null;
            if (He.onAndroid) {
                if (n._nativeProxy != null)
                    t = n._nativeProxy.call("getAgentVoJsonStr")
            }
            console.log("获取登录类型:" + t);
            return t
        }
        ;
        n.JoinQQGroup = function(t) {
            if (He.onAndroid) {
                if (n._nativeProxy != null) {
                    n._nativeProxy.call("joinQQGroup", t)
                }
            }
        }
        ;
        n.GameRefresh = function() {
            console.log("GameRefresh Start");
            var t = null;
            if (He.onAndroid) {
                if (n._nativeProxy != null) {
                    n._nativeProxy.call("setAgentVoJsonStr", "")
                }
            } else if (He.onIOS) {
                if (n._nativeProxy != null) {
                    n._nativeProxy.call("setAgentVoJsonStr:", "")
                }
            }
            a.location.reload()
        }
        ;
        n.GameRestart = function(t, e) {
            console.log("GameRestart Start");
            var i = null;
            if (He.onAndroid) {
                if (e != null) {
                    i = JSON.stringify(e);
                    console.log("GameRestart Save agentJson:" + i)
                }
                if (i == null)
                    i = "";
                n._nativeProxy.call("setAgentVoJsonStr", i);
                n._nativeProxy.call("resetGame", t)
            } else if (He.onIOS) {
                if (e != null) {
                    i = JSON.stringify(e);
                    console.log("GameRestart Save agentJson:" + i);
                    if (n._nativeProxy != null) {
                        if (i == null)
                            i = "";
                        n._nativeProxy.call("setAgentVoJsonStr:", i)
                    }
                }
                n.CallAnyMessageId(c.RESET_GAME)
            }
            console.log("GameRestart Set Ok!")
        }
        ;
        n.CallPlatform = function(t) {
            if (!Be.isConchApp)
                return;
            if (n._nativeProxy != null) {
                if (He.onIOS)
                    n._nativeProxy.call("CallFromJS:", t);
                else
                    n._nativeProxy.call("CallFromJS", t)
            } else {
                n.Log("NativeUtil CallPlatform (_nativeProxy == null)")
            }
        }
        ;
        n.CallFromPlatformMul = function(t) {
            if (t == null)
                t = "";
            n._mulCallString += t
        }
        ;
        n.CallFromPlatformMulEnd = function(t) {
            if (t == null)
                t = "";
            var e = n._mulCallString + t;
            n.CallFromPlatform(e)
        }
        ;
        n.CallFromPlatform = function(e) {
            try {
                n._mulCallString = "";
                var t = JSON.parse(e);
                if (t.msgid == c.CONNECT_APP_RECV) {
                    if (t != null) {
                        n.Log("[ConnectNativeComplete]===SUCC")
                    } else {
                        n.Log("[ConnectNativeComplete]===FAIL")
                    }
                    if (n._callBackHandler != null) {
                        n._callBackHandler.runWith(t);
                        n._callBackHandler = null
                    }
                } else {
                    if (n.IsConnect == false) {
                        n.Log("NativeUtil MESSAGE SQU ERROR (IsConnect == false)" + e);
                        return
                    }
                    var i = com.game.natives.NativeMessageMgr.Ins.RecvData(t);
                    if (i) {
                        n.Log("CallFromPlatform[SUC]:" + e)
                    } else {
                        n.Log("CallFromPlatformp[FAIL]:" + e)
                    }
                }
            } catch (t) {
                n.Log("CallFromPlatform[ERROR]:len" + e.length + " value:" + e)
            }
        }
        ;
        n.ConnectNative = function(t) {
            if (!Be.isConchApp)
                return;
            if (n._nativeProxy == null && st.PlatformClass != null) {
                if (He.onAndroid)
                    n._nativeProxy = st.PlatformClass.createClass("com.phoent.platform.PlatformUtil");
                else if (He.onIOS)
                    n._nativeProxy = st.PlatformClass.createClass("PXGameNative")
            }
            n._callBackHandler = t;
            n.CallAnyMessageId(c.CONNECT_APP_SEND)
        }
        ;
        n.CallAnyMessage = function(t) {
            n.CallPlatform(JSON.stringify(t))
        }
        ;
        n.CallAnyMessageId = function(t, e) {
            if (e == null) {
                e = new Object
            }
            e.msgid = t;
            n.CallPlatform(JSON.stringify(e))
        }
        ;
        n.Log = function(t) {
            console.log("[" + He.now() + "]" + t)
        }
        ;
        n._nativeProxy = null;
        n._mulCallString = "";
        n._callBackHandler = null;
        return n
    }();
    var R = function() {
        function h() {}
        x(h, "NatPushUtil");
        p(1, h, "nativeCls", function() {
            if (h._nativeCls == null)
                h._nativeCls = st.PlatformClass.createClass("com.phoent.wmhy.utils.PushUtil");
            return h._nativeCls
        });
        h.GetServerDate = function() {
            if (h.serverTime != 0)
                return new Date(h.serverTime * 1e3);
            return new Date
        }
        ;
        h.LocalPushMsgDelete = function(t) {
            if (He.onIOS) {
                var e = new Object;
                e.ident = t.toString();
                T.CallAnyMessageId(c.LOCAL_PUSH_IOS_DELETE, e)
            }
        }
        ;
        h.LocalPushMsg = function(t, e, i, n, s, r) {
            r === void 0 && (r = 1);
            var a = h.GetServerDate();
            var o = Math.floor((t - a.getTime()) / 1e3);
            if (o < 0) {
                console.log("LocalPushMsg TimeOut:" + t);
                return 0
            }
            if (He.onAndroid) {
                return h.nativeCls.call("LocalPush", t, e, i, n, s.toString(), r)
            } else if (He.onIOS) {
                var l = new Object;
                l.waittime = o;
                l.ident = s.toString();
                l.title = e;
                l.body = i;
                l.cover = r;
                T.CallAnyMessageId(c.LOCAL_PUSH_IOS_ADD, l);
                return 0
            }
            return 0
        }
        ;
        h.SetPushAcc = function(t) {
            if (He.onAndroid) {
                h.nativeCls.call("SetAccount", t)
            } else if (He.onIOS) {
                var e = new Object;
                e.acc = t;
                e.bind = "1";
                T.CallAnyMessageId(c.PUSH_BIND_ACC, e)
            }
        }
        ;
        h.SetPushTag = function(t) {
            if (He.onAndroid) {
                h.nativeCls.call("SetTag", t)
            } else if (He.onIOS) {
                var e = new Object;
                e.acc = t;
                e.bind = "1";
                T.CallAnyMessageId(c.PUSH_BIND_TAG, e)
            }
        }
        ;
        h.SetBadgeNum = function(t) {
            if (He.onAndroid) {
                h.nativeCls.call("SetBadgeNum", t)
            } else if (He.onIOS) {}
        }
        ;
        h.serverTime = 0;
        h._nativeCls = null;
        h.IDENT_INCOMECARD_END_FEATS = 1001;
        h.IDENT_INCOMECARD_END_EXP = 1002;
        h.IDENT_INCOMECARD_END_CULTIVATION = 1003;
        h.IDENT_INCOMECARD_END_MONEY = 1004;
        h.IDENT_BOSS_REFRESH_1 = 2001;
        h.IDENT_BOSS_REFRESH_2 = 2002;
        h.IDENT_BOSS_REFRESH_3 = 2003;
        h.IDENT_BOSS_REFRESH_4 = 2004;
        h.IDENT_LOGINGIFT = 3001;
        return h
    }();
    var I = function() {
        function t() {}
        x(t, "Config");
        t.WebGLTextCacheCount = 500;
        t.atlasEnable = false;
        t.showCanvasMark = false;
        t.animationInterval = 50;
        t.isAntialias = false;
        t.isAlpha = false;
        t.premultipliedAlpha = true;
        t.isStencil = true;
        t.preserveDrawingBuffer = false;
        t.useRetinalCanvas = false;
        t.CborderSize = 12;
        return t
    }();
    var M = function() {
        function t() {
            this.nodes = null;
            this.name = null;
            this.playTime = NaN;
            this.bone3DMap = null;
            this.totalKeyframeDatasLength = 0
        }
        x(t, "laya.ani.AnimationContent");
        return t
    }();
    var L = function() {
        function t() {
            this.name = null;
            this.parentIndex = 0;
            this.parent = null;
            this.keyframeWidth = 0;
            this.lerpType = 0;
            this.interpolationMethod = null;
            this.childs = null;
            this.keyFrame = null;
            this.playTime = NaN;
            this.extenData = null;
            this.dataOffset = 0
        }
        x(t, "laya.ani.AnimationNodeContent");
        return t
    }();
    var A = function() {
        function t() {}
        x(t, "laya.ani.AnimationParser01");
        t.parse = function(t, e) {
            var i = e.__getBuffer();
            var n = 0
              , s = 0
              , r = 0
              , a = 0
              , o = 0
              , l = 0
              , h = 0;
            var u = e.readUTFString();
            t._aniClassName = u;
            var c = e.readUTFString().split("\n");
            var f = e.getUint8();
            var d = e.getUint32();
            var _ = e.getUint32();
            var p;
            if (d > 0)
                p = i.slice(d, _);
            var m = new Nt(p);
            if (_ > 0)
                t._publicExtData = i.slice(_, i.byteLength);
            t._useParent = !!e.getUint8();
            t._anis.length = f;
            for (n = 0; n < f; n++) {
                var g = t._anis[n] = new M;
                {}
                g.nodes = new Array;
                var v = g.name = c[e.getUint16()];
                t._aniMap[v] = n;
                g.bone3DMap = {};
                g.playTime = e.getFloat32();
                var b = g.nodes.length = e.getUint8();
                g.totalKeyframeDatasLength = 0;
                for (s = 0; s < b; s++) {
                    var y = g.nodes[s] = new L;
                    {}
                    y.childs = [];
                    var x = e.getInt16();
                    if (x >= 0) {
                        y.name = c[x];
                        g.bone3DMap[y.name] = s
                    }
                    y.keyFrame = new Array;
                    y.parentIndex = e.getInt16();
                    y.parentIndex == -1 ? y.parent = null : y.parent = g.nodes[y.parentIndex];
                    y.lerpType = e.getUint8();
                    var w = e.getUint32();
                    m.pos = w;
                    var C = y.keyframeWidth = m.getUint16();
                    g.totalKeyframeDatasLength += C;
                    if (y.lerpType === 0 || y.lerpType === 1) {
                        y.interpolationMethod = [];
                        y.interpolationMethod.length = C;
                        for (r = 0; r < C; r++)
                            y.interpolationMethod[r] = Yn.interpolation[m.getUint8()]
                    }
                    if (y.parent != null)
                        y.parent.childs.push(y);
                    var S = e.getUint16();
                    if (S > 0) {
                        y.extenData = i.slice(e.pos, e.pos + S);
                        e.pos += S
                    }
                    var T = e.getUint16();
                    y.keyFrame.length = T;
                    var R = 0;
                    var I;
                    for (r = 0,
                    a = T; r < a; r++) {
                        I = y.keyFrame[r] = new X;
                        {}
                        I.duration = e.getFloat32();
                        I.startTime = R;
                        if (y.lerpType === 2) {
                            I.interpolationData = [];
                            var A = e.getUint8();
                            var G = 0;
                            G = e.getFloat32();
                            switch (G) {
                            case 254:
                                I.interpolationData.length = C;
                                for (h = 0; h < C; h++)
                                    I.interpolationData[h] = 0;
                                break;
                            case 255:
                                I.interpolationData.length = C;
                                for (h = 0; h < C; h++)
                                    I.interpolationData[h] = 5;
                                break;
                            default:
                                I.interpolationData.push(G);
                                for (l = 1; l < A; l++) {
                                    I.interpolationData.push(e.getFloat32())
                                }
                            }
                        }
                        I.data = new Float32Array(C);
                        for (o = 0; o < C; o++) {
                            I.data[o] = e.getFloat32();
                            if (I.data[o] > -1e-8 && I.data[o] < 1e-8)
                                I.data[o] = 0
                        }
                        R += I.duration
                    }
                    I.startTime = g.playTime;
                    y.playTime = g.playTime;
                    t._calculateKeyFrame(y, T, C)
                }
            }
        }
        ;
        return t
    }();
    var W = function() {
        function w() {}
        x(w, "laya.ani.AnimationParser02");
        w.READ_DATA = function() {
            w._DATA.offset = w._reader.getUint32();
            w._DATA.size = w._reader.getUint32()
        }
        ;
        w.READ_BLOCK = function() {
            var t = w._BLOCK.count = w._reader.getUint16();
            var e = w._BLOCK.blockStarts = [];
            var i = w._BLOCK.blockLengths = [];
            for (var n = 0; n < t; n++) {
                e.push(w._reader.getUint32());
                i.push(w._reader.getUint32())
            }
        }
        ;
        w.READ_STRINGS = function() {
            var t = w._reader.getUint32();
            var e = w._reader.getUint16();
            var i = w._reader.pos;
            w._reader.pos = t + w._DATA.offset;
            for (var n = 0; n < e; n++)
                w._strings[n] = w._reader.readUTFString();
            w._reader.pos = i
        }
        ;
        w.parse = function(t, e) {
            w._templet = t;
            w._reader = e;
            var i = e.__getBuffer();
            w.READ_DATA();
            w.READ_BLOCK();
            w.READ_STRINGS();
            for (var n = 0, s = w._BLOCK.count; n < s; n++) {
                var r = e.getUint16();
                var a = w._strings[r];
                var o = w["READ_" + a];
                if (o == null)
                    throw new Error("model file err,no this function:" + r + " " + a);
                else
                    o.call()
            }
        }
        ;
        w.READ_ANIMATIONS = function() {
            var t = w._reader;
            var e = t.__getBuffer();
            var i = 0
              , n = 0
              , s = 0
              , r = 0
              , a = 0;
            var o = t.getUint16();
            var l = [];
            l.length = o;
            for (i = 0; i < o; i++)
                l[i] = Yn.interpolation[t.getByte()];
            var h = t.getUint8();
            w._templet._anis.length = h;
            for (i = 0; i < h; i++) {
                var u = w._templet._anis[i] = {};
                u.nodes = new Array;
                var c = u.name = w._strings[t.getUint16()];
                w._templet._aniMap[c] = i;
                u.bone3DMap = {};
                u.playTime = t.getFloat32();
                var f = u.nodes.length = t.getInt16();
                u.totalKeyframeDatasLength = 0;
                for (n = 0; n < f; n++) {
                    var d = u.nodes[n] = {};
                    d.keyframeWidth = o;
                    d.childs = [];
                    var _ = t.getUint16();
                    if (_ >= 0) {
                        d.name = w._strings[_];
                        u.bone3DMap[d.name] = n
                    }
                    d.keyFrame = new Array;
                    d.parentIndex = t.getInt16();
                    d.parentIndex == -1 ? d.parent = null : d.parent = u.nodes[d.parentIndex];
                    u.totalKeyframeDatasLength += o;
                    d.interpolationMethod = l;
                    if (d.parent != null)
                        d.parent.childs.push(d);
                    var p = t.getUint16();
                    d.keyFrame.length = p;
                    var m = null
                      , g = null;
                    for (s = 0,
                    r = p; s < r; s++) {
                        m = d.keyFrame[s] = {};
                        m.startTime = t.getFloat32();
                        g && (g.duration = m.startTime - g.startTime);
                        var v = w._DATA.offset;
                        var b = t.getUint32();
                        var y = o * 4;
                        var x = e.slice(v + b, v + b + y);
                        m.data = new Float32Array(x);
                        g = m
                    }
                    m.duration = 0;
                    d.playTime = u.playTime;
                    w._templet._calculateKeyFrame(d, p, o)
                }
            }
        }
        ;
        w._templet = null;
        w._reader = null;
        w._strings = [];
        u(w, ["_BLOCK", function() {
            return this._BLOCK = {
                count: 0
            }
        }
        , "_DATA", function() {
            return this._DATA = {
                offset: 0,
                size: 0
            }
        }
        ]);
        return w
    }();
    var E = function() {
        function t() {}
        x(t, "laya.ani.AnimationState");
        t.stopped = 0;
        t.paused = 1;
        t.playing = 2;
        return t
    }();
    var Vt = function() {
        function r() {
            this.name = null;
            this.root = null;
            this.parentBone = null;
            this.length = 10;
            this.transform = null;
            this.inheritScale = true;
            this.inheritRotation = true;
            this.rotation = NaN;
            this.resultRotation = NaN;
            this.d = -1;
            this._tempMatrix = null;
            this._sprite = null;
            this.resultTransform = new Jt;
            this.resultMatrix = new Ce;
            this._children = []
        }
        x(r, "laya.ani.bone.Bone");
        var t = r.prototype;
        t.setTempMatrix = function(t) {
            this._tempMatrix = t;
            var e = 0
              , i = 0;
            var n;
            for (e = 0,
            i = this._children.length; e < i; e++) {
                n = this._children[e];
                n.setTempMatrix(this._tempMatrix)
            }
        }
        ;
        t.update = function(t) {
            this.rotation = this.transform.skX;
            var e;
            if (t) {
                e = this.resultTransform.getMatrix();
                Ce.mul(e, t, this.resultMatrix);
                this.resultRotation = this.rotation
            } else {
                this.resultRotation = this.rotation + this.parentBone.resultRotation;
                if (this.parentBone) {
                    if (this.inheritRotation && this.inheritScale) {
                        e = this.resultTransform.getMatrix();
                        Ce.mul(e, this.parentBone.resultMatrix, this.resultMatrix)
                    } else {
                        var i = 0;
                        var n = this.parentBone;
                        var s = NaN;
                        var r = NaN;
                        var a = NaN;
                        var o = this.parentBone.resultMatrix;
                        e = this.resultTransform.getMatrix();
                        var l = o.a * e.tx + o.c * e.ty + o.tx;
                        var h = o.b * e.tx + o.d * e.ty + o.ty;
                        var u = new Ce;
                        if (this.inheritRotation) {
                            s = Math.atan2(n.resultMatrix.b, n.resultMatrix.a);
                            r = Math.cos(s),
                            a = Math.sin(s);
                            u.setTo(r, a, -a, r, 0, 0);
                            Ce.mul(this._tempMatrix, u, Ce.TEMP);
                            Ce.TEMP.copyTo(u);
                            e = this.resultTransform.getMatrix();
                            Ce.mul(e, u, this.resultMatrix);
                            if (this.resultTransform.scX * this.resultTransform.scY < 0) {
                                this.resultMatrix.rotate(Math.PI * .5)
                            }
                            this.resultMatrix.tx = l;
                            this.resultMatrix.ty = h
                        } else if (this.inheritScale) {
                            e = this.resultTransform.getMatrix();
                            Ce.TEMP.identity();
                            Ce.TEMP.d = this.d;
                            Ce.mul(e, Ce.TEMP, this.resultMatrix);
                            this.resultMatrix.tx = l;
                            this.resultMatrix.ty = h
                        } else {
                            e = this.resultTransform.getMatrix();
                            Ce.TEMP.identity();
                            Ce.TEMP.d = this.d;
                            Ce.mul(e, Ce.TEMP, this.resultMatrix);
                            this.resultMatrix.tx = l;
                            this.resultMatrix.ty = h
                        }
                    }
                } else {
                    e = this.resultTransform.getMatrix();
                    e.copyTo(this.resultMatrix)
                }
            }
            var c = 0
              , f = 0;
            var d;
            for (c = 0,
            f = this._children.length; c < f; c++) {
                d = this._children[c];
                d.update()
            }
        }
        ;
        t.updateChild = function() {
            var t = 0
              , e = 0;
            var i;
            for (t = 0,
            e = this._children.length; t < e; t++) {
                i = this._children[t];
                i.update()
            }
        }
        ;
        t.setRotation = function(t) {
            if (this._sprite) {
                this._sprite.rotation = t * 180 / Math.PI
            }
        }
        ;
        t.updateDraw = function(t, e) {
            if (!r.ShowBones || r.ShowBones[this.name]) {
                if (this._sprite) {
                    this._sprite.x = t + this.resultMatrix.tx;
                    this._sprite.y = e + this.resultMatrix.ty
                } else {
                    this._sprite = new Dn;
                    this._sprite.graphics.drawCircle(0, 0, 5, "#ff0000");
                    this._sprite.graphics.drawLine(0, 0, this.length, 0, "#00ff00");
                    this._sprite.graphics.fillText(this.name, 0, 0, "20px Arial", "#00ff00", "center");
                    st.stage.addChild(this._sprite);
                    this._sprite.x = t + this.resultMatrix.tx;
                    this._sprite.y = e + this.resultMatrix.ty
                }
            }
            var i = 0
              , n = 0;
            var s;
            for (i = 0,
            n = this._children.length; i < n; i++) {
                s = this._children[i];
                s.updateDraw(t, e)
            }
        }
        ;
        t.addChild = function(t) {
            this._children.push(t);
            t.parentBone = this
        }
        ;
        t.findBone = function(t) {
            if (this.name == t) {
                return this
            } else {
                var e = 0
                  , i = 0;
                var n;
                var s;
                for (e = 0,
                i = this._children.length; e < i; e++) {
                    n = this._children[e];
                    s = n.findBone(t);
                    if (s) {
                        return s
                    }
                }
            }
            return null
        }
        ;
        t.localToWorld = function(t) {
            var e = t[0];
            var i = t[1];
            t[0] = e * this.resultMatrix.a + i * this.resultMatrix.c + this.resultMatrix.tx;
            t[1] = e * this.resultMatrix.b + i * this.resultMatrix.d + this.resultMatrix.ty
        }
        ;
        r.ShowBones = {};
        return r
    }();
    var Zt = function() {
        function y() {
            this.name = null;
            this.parent = null;
            this.attachmentName = null;
            this.srcDisplayIndex = -1;
            this.type = "src";
            this.templet = null;
            this.currSlotData = null;
            this.currTexture = null;
            this.currDisplayData = null;
            this.displayIndex = -1;
            this.originalIndex = -1;
            this._diyTexture = null;
            this._parentMatrix = null;
            this._resultMatrix = null;
            this._replaceDic = {};
            this._curDiyUV = null;
            this._curDiyVS = null;
            this._skinSprite = null;
            this.deformData = null;
            this._mVerticleArr = null
        }
        x(y, "laya.ani.bone.BoneSlot");
        var t = y.prototype;
        t.showSlotData = function(t, e) {
            e === void 0 && (e = true);
            this.currSlotData = t;
            if (e)
                this.displayIndex = this.srcDisplayIndex;
            this.currDisplayData = null;
            this.currTexture = null
        }
        ;
        t.showDisplayByName = function(t) {
            if (this.currSlotData) {
                this.showDisplayByIndex(this.currSlotData.getDisplayByName(t))
            }
        }
        ;
        t.replaceDisplayByName = function(t, e) {
            if (!this.currSlotData)
                return;
            var i = 0;
            i = this.currSlotData.getDisplayByName(t);
            var n = 0;
            n = this.currSlotData.getDisplayByName(e);
            this.replaceDisplayByIndex(i, n)
        }
        ;
        t.replaceDisplayByIndex = function(t, e) {
            if (!this.currSlotData)
                return;
            this._replaceDic[t] = e;
            if (this.originalIndex == t) {
                this.showDisplayByIndex(t)
            }
        }
        ;
        t.showDisplayByIndex = function(t) {
            this.originalIndex = t;
            if (this._replaceDic[t] != null)
                t = this._replaceDic[t];
            if (this.currSlotData && t > -1 && t < this.currSlotData.displayArr.length) {
                this.displayIndex = t;
                this.currDisplayData = this.currSlotData.displayArr[t];
                if (this.currDisplayData) {
                    var e = this.currDisplayData.name;
                    this.currTexture = this.templet.getTexture(e);
                    if (this.currTexture && this.currDisplayData.type == 0 && this.currDisplayData.uvs && (!Be.isConchApp || Be.isConchApp && Dn.RUNTIMEVERION > "0.9.15")) {
                        this.currTexture = this.currDisplayData.createTexture(this.currTexture)
                    }
                }
            } else {
                this.displayIndex = -1;
                this.currDisplayData = null;
                this.currTexture = null
            }
        }
        ;
        t.replaceSkin = function(t) {
            this._diyTexture = t;
            if (this._curDiyUV)
                this._curDiyUV.length = 0;
            if (this.currDisplayData && this._diyTexture == this.currDisplayData.texture) {
                this._diyTexture = null
            }
        }
        ;
        t.setParentMatrix = function(t) {
            this._parentMatrix = t
        }
        ;
        t.draw = function(t, e, i, n) {
            i === void 0 && (i = false);
            n === void 0 && (n = 1);
            if (this._diyTexture == null && this.currTexture == null || this.currDisplayData == null) {
                if (!(this.currDisplayData && this.currDisplayData.type == 3)) {
                    return
                }
            }
            var s = this.currTexture;
            if (this._diyTexture)
                s = this._diyTexture;
            var r;
            switch (this.currDisplayData.type) {
            case 0:
                if (t) {
                    var a = this.getDisplayMatrix();
                    if (this._parentMatrix) {
                        var o = false;
                        if (a) {
                            Ce.mul(a, this._parentMatrix, Ce.TEMP);
                            var l;
                            if (i) {
                                if (this._resultMatrix == null)
                                    this._resultMatrix = new Ce;
                                l = this._resultMatrix
                            } else {
                                l = new Ce
                            }
                            if (!Be.isWebGL && this.currDisplayData.uvs || Be.isWebGL && this._diyTexture && this.currDisplayData.uvs) {
                                var h = y._tempMatrix;
                                h.identity();
                                if (this.currDisplayData.uvs[1] > this.currDisplayData.uvs[5]) {
                                    h.d = -1
                                }
                                if (this.currDisplayData.uvs[0] > this.currDisplayData.uvs[4] && this.currDisplayData.uvs[1] > this.currDisplayData.uvs[5]) {
                                    o = true;
                                    h.rotate(-Math.PI / 2)
                                }
                                Ce.mul(h, Ce.TEMP, l)
                            } else {
                                Ce.TEMP.copyTo(l)
                            }
                            if (o) {
                                t.drawTexture(s, -this.currDisplayData.height / 2, -this.currDisplayData.width / 2, this.currDisplayData.height, this.currDisplayData.width, l)
                            } else {
                                t.drawTexture(s, -this.currDisplayData.width / 2, -this.currDisplayData.height / 2, this.currDisplayData.width, this.currDisplayData.height, l)
                            }
                        }
                    }
                }
                break;
            case 1:
                if (i) {
                    if (this._skinSprite == null) {
                        this._skinSprite = y.createSkinMesh()
                    }
                    r = this._skinSprite
                } else {
                    r = y.createSkinMesh()
                }
                if (r == null) {
                    return
                }
                ;var u;
                var c = 1;
                var f = 1;
                var d = 1;
                var _ = 1;
                if (this.currDisplayData.bones == null) {
                    var p = this.currDisplayData.weights;
                    if (this.deformData) {
                        p = this.deformData
                    }
                    var m;
                    if (this._diyTexture) {
                        if (!this._curDiyUV) {
                            this._curDiyUV = []
                        }
                        if (this._curDiyUV.length == 0) {
                            this._curDiyUV = F.getRelativeUV(this.currTexture.uv, this.currDisplayData.uvs, this._curDiyUV);
                            this._curDiyUV = F.getAbsoluteUV(this._diyTexture.uv, this._curDiyUV, this._curDiyUV)
                        }
                        m = this._curDiyUV
                    } else {
                        m = this.currDisplayData.uvs
                    }
                    this._mVerticleArr = p;
                    var g = this.currDisplayData.triangles.length / 3;
                    u = this.currDisplayData.triangles;
                    r.init2(s, null, u, this._mVerticleArr, m);
                    var v = this.getDisplayMatrix();
                    if (this._parentMatrix) {
                        if (v) {
                            Ce.mul(v, this._parentMatrix, Ce.TEMP);
                            var b;
                            if (i) {
                                if (this._resultMatrix == null)
                                    this._resultMatrix = new Ce;
                                b = this._resultMatrix
                            } else {
                                b = new Ce
                            }
                            Ce.TEMP.copyTo(b);
                            r.transform = b
                        }
                    }
                } else {
                    this.skinMesh(e, r, n)
                }
                t.drawSkin(r);
                break;
            case 2:
                if (i) {
                    if (this._skinSprite == null) {
                        this._skinSprite = y.createSkinMesh()
                    }
                    r = this._skinSprite
                } else {
                    r = y.createSkinMesh()
                }
                if (r == null) {
                    return
                }
                this.skinMesh(e, r, n);
                t.drawSkin(r);
                break;
            case 3:
                break
            }
        }
        ;
        t.skinMesh = function(t, e, i) {
            var n = this.currTexture;
            var s = this.currDisplayData.bones;
            var r;
            if (this._diyTexture) {
                n = this._diyTexture;
                if (!this._curDiyUV) {
                    this._curDiyUV = []
                }
                if (this._curDiyUV.length == 0) {
                    this._curDiyUV = F.getRelativeUV(this.currTexture.uv, this.currDisplayData.uvs, this._curDiyUV);
                    this._curDiyUV = F.getAbsoluteUV(this._diyTexture.uv, this._curDiyUV, this._curDiyUV)
                }
                r = this._curDiyUV
            } else {
                r = this.currDisplayData.uvs
            }
            var a = this.currDisplayData.weights;
            var o = this.currDisplayData.triangles;
            var l;
            var h = 0;
            var u = 0;
            var c = 0;
            var f;
            var d = NaN;
            var _ = NaN;
            var p = 0;
            var m = 0;
            var g = [];
            var v = 0
              , b = 0
              , y = 0;
            var x = 1;
            var w = 1;
            var C = 1;
            var S = i;
            if (this.deformData && this.deformData.length > 0) {
                var T = 0;
                for (v = 0,
                y = s.length; v < y; ) {
                    c = s[v++] + v;
                    h = 0,
                    u = 0;
                    for (; v < c; v++) {
                        f = t[s[v]];
                        d = a[p] + this.deformData[T++];
                        _ = a[p + 1] + this.deformData[T++];
                        m = a[p + 2];
                        h += (d * f.a + _ * f.c + f.tx) * m;
                        u += (d * f.b + _ * f.d + f.ty) * m;
                        p += 3
                    }
                    g.push(h, u)
                }
            } else {
                for (v = 0,
                y = s.length; v < y; ) {
                    c = s[v++] + v;
                    h = 0,
                    u = 0;
                    for (; v < c; v++) {
                        f = t[s[v]];
                        d = a[p];
                        _ = a[p + 1];
                        m = a[p + 2];
                        h += (d * f.a + _ * f.c + f.tx) * m;
                        u += (d * f.b + _ * f.d + f.ty) * m;
                        p += 3
                    }
                    g.push(h, u)
                }
            }
            this._mVerticleArr = g;
            l = o;
            e.init2(n, null, l, this._mVerticleArr, r)
        }
        ;
        t.drawBonePoint = function(t) {
            if (t && this._parentMatrix) {
                t.drawCircle(this._parentMatrix.tx, this._parentMatrix.ty, 5, "#ff0000")
            }
        }
        ;
        t.getDisplayMatrix = function() {
            if (this.currDisplayData) {
                return this.currDisplayData.transform.getMatrix()
            }
            return null
        }
        ;
        t.getMatrix = function() {
            return this._resultMatrix
        }
        ;
        t.copy = function() {
            var t = new y;
            t.type = "copy";
            t.name = this.name;
            t.attachmentName = this.attachmentName;
            t.srcDisplayIndex = this.srcDisplayIndex;
            t.parent = this.parent;
            t.displayIndex = this.displayIndex;
            t.templet = this.templet;
            t.currSlotData = this.currSlotData;
            t.currTexture = this.currTexture;
            t.currDisplayData = this.currDisplayData;
            return t
        }
        ;
        y.createSkinMesh = function() {
            if (Be.isWebGL || Be.isConchApp) {
                return G.skinAniSprite()
            } else {
                if (!Be.isWebGL) {
                    if (rs.useSimpleMeshInCanvas) {
                        return new ns
                    } else {
                        return new xn
                    }
                }
            }
            return null
        }
        ;
        u(y, ["_tempMatrix", function() {
            return this._tempMatrix = new Ce
        }
        ]);
        return y
    }();
    var N = function() {
        function t() {
            this.mesh = null;
            this.transform = null;
            this.context = null;
            this.mode = 0
        }
        x(t, "laya.ani.bone.canvasmesh.CanvasMeshRender");
        var e = t.prototype;
        e.renderToContext = function(t) {
            this.context = t.ctx || t;
            if (this.mesh) {
                if (this.mode == 0) {
                    this._renderWithIndexes(this.mesh)
                } else {
                    this._renderNoIndexes(this.mesh)
                }
            }
        }
        ;
        e._renderNoIndexes = function(t) {
            var e = 0
              , i = t.vertices.length / 2;
            var n = 0;
            for (e = 0; e < i - 2; e++) {
                n = e * 2;
                this._renderDrawTriangle(t, n, n + 2, n + 4)
            }
        }
        ;
        e._renderWithIndexes = function(t) {
            var e = t.indexes;
            var i = 0
              , n = e.length;
            for (i = 0; i < n; i += 3) {
                var s = e[i] * 2;
                var r = e[i + 1] * 2;
                var a = e[i + 2] * 2;
                this._renderDrawTriangle(t, s, r, a)
            }
        }
        ;
        e._renderDrawTriangle = function(t, e, i, n) {
            var s = this.context;
            var r = t.uvs;
            var a = t.vertices;
            var o = t.texture;
            var l = o.bitmap;
            var h = l.source;
            var u = o.width;
            var c = o.height;
            var f = l.width;
            var d = l.height;
            var _ = NaN;
            var p = NaN;
            var m = NaN;
            var g = NaN;
            var v = NaN;
            var b = NaN;
            if (t.useUvTransform) {
                var y = t.uvTransform;
                _ = (r[e] * y.a + r[e + 1] * y.c + y.tx) * f;
                p = (r[i] * y.a + r[i + 1] * y.c + y.tx) * f;
                m = (r[n] * y.a + r[n + 1] * y.c + y.tx) * f;
                g = (r[e] * y.b + r[e + 1] * y.d + y.ty) * d;
                v = (r[i] * y.b + r[i + 1] * y.d + y.ty) * d;
                b = (r[n] * y.b + r[n + 1] * y.d + y.ty) * d
            } else {
                _ = r[e] * f;
                p = r[i] * f;
                m = r[n] * f;
                g = r[e + 1] * d;
                v = r[i + 1] * d;
                b = r[n + 1] * d
            }
            var x = a[e];
            var w = a[i];
            var C = a[n];
            var S = a[e + 1];
            var T = a[i + 1];
            var R = a[n + 1];
            if (t.canvasPadding > 0) {
                var I = t.canvasPadding;
                var A = t.canvasPadding;
                var G = (x + w + C) / 3;
                var M = (S + T + R) / 3;
                var L = x - G;
                var W = S - M;
                var E = Math.sqrt(L * L + W * W);
                x = G + L / E * (E + I);
                S = M + W / E * (E + A);
                L = w - G;
                W = T - M;
                E = Math.sqrt(L * L + W * W);
                w = G + L / E * (E + I);
                T = M + W / E * (E + A);
                L = C - G;
                W = R - M;
                E = Math.sqrt(L * L + W * W);
                C = G + L / E * (E + I);
                R = M + W / E * (E + A)
            }
            s.save();
            if (this.transform) {
                var N = this.transform;
                s.transform(N.a, N.b, N.c, N.d, N.tx, N.ty)
            }
            s.beginPath();
            s.moveTo(x, S);
            s.lineTo(w, T);
            s.lineTo(C, R);
            s.closePath();
            s.clip();
            var V = _ * v + g * m + p * b - v * m - g * p - _ * b;
            var Z = 1 / V;
            var B = x * v + g * C + w * b - v * C - g * w - x * b;
            var k = _ * w + x * m + p * C - w * m - x * p - _ * C;
            var P = _ * v * C + g * w * m + x * p * b - x * v * m - g * p * C - _ * w * b;
            var F = S * v + g * R + T * b - v * R - g * T - S * b;
            var X = _ * T + S * m + p * R - T * m - S * p - _ * R;
            var D = _ * v * R + g * T * m + S * p * b - S * v * m - g * p * R - _ * T * b;
            s.transform(B * Z, F * Z, k * Z, X * Z, P * Z, D * Z);
            s.drawImage(h, o.uv[0] * f, o.uv[1] * d, u, c, o.uv[0] * f, o.uv[1] * d, u, c);
            s.restore()
        }
        ;
        return t
    }();
    var V = function() {
        function t() {
            this.texture = null;
            this.uvs = [0, 0, 1, 0, 1, 1, 0, 1];
            this.vertices = [0, 0, 100, 0, 100, 100, 0, 100];
            this.indexes = [0, 1, 3, 3, 1, 2];
            this.uvTransform = null;
            this.useUvTransform = false;
            this.canvasPadding = 1
        }
        x(t, "laya.ani.bone.canvasmesh.MeshData");
        var e = t.prototype;
        e.getBounds = function() {
            return Te._getWrapRec(this.vertices)
        }
        ;
        return t
    }();
    var Bt = function() {
        function t() {
            this.skinName = null;
            this.deformSlotDataList = []
        }
        x(t, "laya.ani.bone.DeformAniData");
        return t
    }();
    var kt = function() {
        function t() {
            this.deformSlotDisplayList = []
        }
        x(t, "laya.ani.bone.DeformSlotData");
        return t
    }();
    var Pt = function() {
        function t() {
            this.boneSlot = null;
            this.slotIndex = -1;
            this.attachment = null;
            this.deformData = null;
            this.frameIndex = 0;
            this.timeList = [];
            this.vectices = [];
            this.tweenKeyList = []
        }
        x(t, "laya.ani.bone.DeformSlotDisplayData");
        var e = t.prototype;
        e.binarySearch1 = function(t, e) {
            var i = 0;
            var n = t.length - 2;
            if (n == 0)
                return 1;
            var s = n >>> 1;
            while (true) {
                if (t[Math.floor(s + 1)] <= e)
                    i = s + 1;
                else
                    n = s;
                if (i == n)
                    return i + 1;
                s = i + n >>> 1
            }
            return 0
        }
        ;
        e.apply = function(t, e, i) {
            i === void 0 && (i = 1);
            t += .05;
            if (this.timeList.length <= 0) {
                return
            }
            var n = 0;
            var s = 0;
            var r = this.timeList[0];
            if (t < r) {
                return
            }
            var a = this.vectices[0].length;
            var o = [];
            var l = this.binarySearch1(this.timeList, t);
            this.frameIndex = l;
            if (t >= this.timeList[this.timeList.length - 1]) {
                var h = this.vectices[this.vectices.length - 1];
                if (i < 1) {
                    for (n = 0; n < a; n++) {
                        o[n] += (h[n] - o[n]) * i
                    }
                } else {
                    for (n = 0; n < a; n++) {
                        o[n] = h[n]
                    }
                }
                this.deformData = o;
                return
            }
            var u = this.tweenKeyList[this.frameIndex];
            var c = this.vectices[this.frameIndex - 1];
            var f = this.vectices[this.frameIndex];
            var d = this.timeList[this.frameIndex - 1];
            var _ = this.timeList[this.frameIndex];
            if (this.tweenKeyList[l - 1]) {
                i = (t - d) / (_ - d)
            } else {
                i = 0
            }
            var p = NaN;
            for (n = 0; n < a; n++) {
                p = c[n];
                o[n] = p + (f[n] - p) * i
            }
            this.deformData = o
        }
        ;
        return t
    }();
    var Ft = function() {
        function t() {
            this.time = NaN;
            this.drawOrder = []
        }
        x(t, "laya.ani.bone.DrawOrderData");
        return t
    }();
    var Xt = function() {
        function t() {
            this.name = null;
            this.intValue = 0;
            this.floatValue = NaN;
            this.stringValue = null;
            this.audioValue = null;
            this.time = NaN
        }
        x(t, "laya.ani.bone.EventData");
        return t
    }();
    var Z = function() {
        function nt(t, e) {
            this._targetBone = null;
            this._bones = null;
            this._data = null;
            this.name = null;
            this.mix = NaN;
            this.bendDirection = NaN;
            this.isSpine = true;
            this._sp = null;
            this.isDebug = false;
            this._data = t;
            this._targetBone = e[t.targetBoneIndex];
            this.isSpine = t.isSpine;
            if (this._bones == null)
                this._bones = [];
            this._bones.length = 0;
            for (var i = 0, n = t.boneIndexs.length; i < n; i++) {
                this._bones.push(e[t.boneIndexs[i]])
            }
            this.name = t.name;
            this.mix = t.mix;
            this.bendDirection = t.bendDirection
        }
        x(nt, "laya.ani.bone.IkConstraint");
        var t = nt.prototype;
        t.apply = function() {
            switch (this._bones.length) {
            case 1:
                this._applyIk1(this._bones[0], this._targetBone.resultMatrix.tx, this._targetBone.resultMatrix.ty, this.mix);
                break;
            case 2:
                if (this.isSpine) {
                    this._applyIk2(this._bones[0], this._bones[1], this._targetBone.resultMatrix.tx, this._targetBone.resultMatrix.ty, this.bendDirection, this.mix)
                } else {
                    this._applyIk3(this._bones[0], this._bones[1], this._targetBone.resultMatrix.tx, this._targetBone.resultMatrix.ty, this.bendDirection, this.mix)
                }
                break
            }
        }
        ;
        t._applyIk1 = function(t, e, i, n) {
            var s = t.parentBone;
            var r = 1 / (s.resultMatrix.a * s.resultMatrix.d - s.resultMatrix.b * s.resultMatrix.c);
            var a = e - s.resultMatrix.tx;
            var o = i - s.resultMatrix.ty;
            var l = (a * s.resultMatrix.d - o * s.resultMatrix.c) * r - t.transform.x;
            var h = (o * s.resultMatrix.a - a * s.resultMatrix.b) * r - t.transform.y;
            var u = Math.atan2(h, l) * nt.radDeg - 0 - t.transform.skX;
            if (t.transform.scX < 0)
                u += 180;
            if (u > 180)
                u -= 360;
            else if (u < -180)
                u += 360;
            t.transform.skX = t.transform.skY = t.transform.skX + u * n;
            t.update()
        }
        ;
        t.updatePos = function(t, e) {
            if (this._sp) {
                this._sp.pos(t, e)
            }
        }
        ;
        t._applyIk2 = function(t, e, i, n, s, r) {
            if (r == 0) {
                return
            }
            var a = t.resultTransform.x
              , o = t.resultTransform.y;
            var l = t.transform.scX
              , h = t.transform.scY;
            var u = e.transform.scX;
            var c = 0
              , f = 0
              , d = 0;
            if (l < 0) {
                l = -l;
                c = 180;
                d = -1
            } else {
                c = 0;
                d = 1
            }
            if (h < 0) {
                h = -h;
                d = -d
            }
            if (u < 0) {
                u = -u;
                f = 180
            } else {
                f = 0
            }
            var _ = e.resultTransform.x
              , p = NaN
              , m = NaN
              , g = NaN;
            var v = t.resultMatrix.a
              , b = t.resultMatrix.c;
            var y = t.resultMatrix.b
              , x = t.resultMatrix.d;
            var w = Math.abs(l - h) <= 1e-4;
            if (!w) {
                p = 0;
                m = v * _ + t.resultMatrix.tx;
                g = y * _ + t.resultMatrix.ty
            } else {
                p = e.resultTransform.y;
                m = v * _ + b * p + t.resultMatrix.tx;
                g = y * _ + x * p + t.resultMatrix.ty
            }
            if (this.isDebug) {
                if (!this._sp) {
                    this._sp = new Dn;
                    st.stage.addChild(this._sp)
                }
                this._sp.graphics.clear();
                this._sp.graphics.drawCircle(i, n, 15, "#ffff00");
                this._sp.graphics.drawCircle(m, g, 15, "#ff00ff")
            }
            t.setRotation(Math.atan2(g - t.resultMatrix.ty, m - t.resultMatrix.tx));
            var C = t.parentBone;
            v = C.resultMatrix.a;
            b = C.resultMatrix.c;
            y = C.resultMatrix.b;
            x = C.resultMatrix.d;
            var S = 1 / (v * x - b * y);
            var T = i - C.resultMatrix.tx
              , R = n - C.resultMatrix.ty;
            var I = (T * x - R * b) * S - a;
            var A = (R * v - T * y) * S - o;
            T = m - C.resultMatrix.tx;
            R = g - C.resultMatrix.ty;
            var G = (T * x - R * b) * S - a;
            var M = (R * v - T * y) * S - o;
            var L = Math.sqrt(G * G + M * M);
            var W = e.length * u;
            var E = NaN
              , N = NaN;
            if (w) {
                W *= l;
                var V = (I * I + A * A - L * L - W * W) / (2 * L * W);
                if (V < -1)
                    V = -1;
                else if (V > 1)
                    V = 1;
                N = Math.acos(V) * s;
                v = L + W * V;
                b = W * Math.sin(N);
                E = Math.atan2(A * v - I * b, I * v + A * b)
            } else {
                v = l * W;
                b = h * W;
                var Z = v * v
                  , B = b * b
                  , k = I * I + A * A
                  , P = Math.atan2(A, I);
                y = B * L * L + Z * k - Z * B;
                var F = -2 * B * L
                  , X = B - Z;
                x = F * F - 4 * X * y;
                if (x > 0) {
                    var D = Math.sqrt(x);
                    if (F < 0)
                        D = -D;
                    D = -(F + D) / 2;
                    var Y = D / X
                      , O = y / D;
                    var U = Math.abs(Y) < Math.abs(O) ? Y : O;
                    if (U * U <= k) {
                        R = Math.sqrt(k - U * U) * s;
                        E = P - Math.atan2(R, U);
                        N = Math.atan2(R / h, (U - L) / l)
                    }
                }
                var H = 0
                  , z = Number.MAX_VALUE
                  , J = 0
                  , j = 0;
                var K = 0
                  , Q = 0
                  , q = 0
                  , $ = 0;
                T = L + v;
                x = T * T;
                if (x > Q) {
                    K = 0;
                    Q = x;
                    q = T
                }
                T = L - v;
                x = T * T;
                if (x < z) {
                    H = Math.PI;
                    z = x;
                    J = T
                }
                var tt = Math.acos(-v * L / (Z - B));
                T = v * Math.cos(tt) + L;
                R = b * Math.sin(tt);
                x = T * T + R * R;
                if (x < z) {
                    H = tt;
                    z = x;
                    J = T;
                    j = R
                }
                if (x > Q) {
                    K = tt;
                    Q = x;
                    q = T;
                    $ = R
                }
                if (k <= (z + Q) / 2) {
                    E = P - Math.atan2(j * s, J);
                    N = H * s
                } else {
                    E = P - Math.atan2($ * s, q);
                    N = K * s
                }
            }
            var et = Math.atan2(p, _) * d;
            var it = t.resultTransform.skX;
            E = (E - et) * nt.radDeg + c - it;
            if (E > 180)
                E -= 360;
            else if (E < -180)
                E += 360;
            t.resultTransform.x = a;
            t.resultTransform.y = o;
            t.resultTransform.skX = t.resultTransform.skY = it + E * r;
            it = e.resultTransform.skX;
            it = it % 360;
            N = ((N + et) * nt.radDeg - 0) * d + f - it;
            if (N > 180)
                N -= 360;
            else if (N < -180)
                N += 360;
            e.resultTransform.x = _;
            e.resultTransform.y = p;
            e.resultTransform.skX = e.resultTransform.skY = e.resultTransform.skY + N * r;
            t.update()
        }
        ;
        t._applyIk3 = function(t, e, i, n, s, r) {
            if (r == 0) {
                return
            }
            var a = NaN
              , o = NaN;
            var l = e.resultMatrix.a * e.length;
            var h = e.resultMatrix.b * e.length;
            var u = l * l + h * h;
            var c = Math.sqrt(u);
            var f = t.resultMatrix.tx;
            var d = t.resultMatrix.ty;
            var _ = e.resultMatrix.tx;
            var p = e.resultMatrix.ty;
            var m = _ - f;
            var g = p - d;
            var v = m * m + g * g;
            var b = Math.sqrt(v);
            m = i - t.resultMatrix.tx;
            g = n - t.resultMatrix.ty;
            var y = m * m + g * g;
            var x = Math.sqrt(y);
            var w = 0;
            if (c + b <= x || x + c <= b || x + b <= c) {
                var C = NaN;
                if (c + b <= x) {
                    C = 1
                } else {
                    C = -1
                }
                _ = f + C * (i - f) * b / x;
                p = d + C * (n - d) * b / x
            } else {
                var S = (v - u + y) / (2 * y);
                var T = Math.sqrt(v - S * S * y) / x;
                var R = f + m * S;
                var I = d + g * S;
                var A = -g * T;
                var G = m * T;
                if (s > 0) {
                    _ = R - A;
                    p = I - G
                } else {
                    _ = R + A;
                    p = I + G
                }
            }
            a = _;
            o = p;
            if (this.isDebug) {
                if (!this._sp) {
                    this._sp = new Dn;
                    st.stage.addChild(this._sp)
                }
                this._sp.graphics.clear();
                this._sp.graphics.drawCircle(f, d, 15, "#ff00ff");
                this._sp.graphics.drawCircle(i, n, 15, "#ffff00");
                this._sp.graphics.drawCircle(a, o, 15, "#ff00ff")
            }
            var M = NaN;
            M = Math.atan2(o - t.resultMatrix.ty, a - t.resultMatrix.tx);
            t.setRotation(M);
            var L;
            L = nt._tempMatrix;
            L.identity();
            L.rotate(M);
            L.scale(t.resultMatrix.getScaleX(), t.resultMatrix.getScaleY());
            L.translate(t.resultMatrix.tx, t.resultMatrix.ty);
            L.copyTo(t.resultMatrix);
            t.updateChild();
            var W = NaN;
            W = Math.atan2(n - o, i - a);
            e.setRotation(W);
            var E;
            E = nt._tempMatrix;
            E.identity();
            E.rotate(W);
            E.scale(e.resultMatrix.getScaleX(), e.resultMatrix.getScaleY());
            E.translate(a, o);
            L.copyTo(e.resultMatrix);
            e.updateChild()
        }
        ;
        u(nt, ["radDeg", function() {
            return this.radDeg = 180 / Math.PI
        }
        , "degRad", function() {
            return this.degRad = Math.PI / 180
        }
        , "_tempMatrix", function() {
            return this._tempMatrix = new Ce
        }
        ]);
        return nt
    }();
    var Dt = function() {
        function t() {
            this.name = null;
            this.targetBoneName = null;
            this.bendDirection = 1;
            this.mix = 1;
            this.isSpine = true;
            this.targetBoneIndex = -1;
            this.boneNames = [];
            this.boneIndexs = []
        }
        x(t, "laya.ani.bone.IkConstraintData");
        return t
    }();
    var B = function() {
        function _() {}
        x(_, "laya.ani.bone.MeshTools");
        _.findEdge = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = true);
            var n = 0
              , s = 0;
            var r = 0;
            s = t.length;
            r = -1;
            for (n = 0; n < s; n += 2) {
                if (r < 0 || i == t[r + e] < t[n + e]) {
                    r = n
                }
            }
            return r
        }
        ;
        _.findBestTriangle = function(t) {
            var e = 0;
            e = _.findEdge(t, 1, true);
            var i = 0;
            i = _.findEdge(t, 1, false);
            var n = 0;
            n = _.findEdge(t, 0, true);
            var s = 0;
            s = _.findEdge(t, 0, false);
            var r;
            r = _._bestTriangle;
            r.length = 0;
            r.push(n, s);
            if (r.indexOf(e) < 0)
                r.push(e);
            if (r.indexOf(i) < 0)
                r.push(i);
            return r
        }
        ;
        _.solveMesh = function(t, e) {
            e = e || [];
            e.length = 0;
            var i;
            i = t.uvs;
            var n;
            n = t.vertices;
            var s;
            var r;
            r = _.findBestTriangle(i);
            var a = 0;
            var o = 0;
            var l = 0;
            a = r[0];
            o = r[1];
            l = r[2];
            _._absArr.length = 0;
            var h;
            if (_.isNormalUV(t.texture.uv)) {
                _.adptTexture(t)
            }
            s = _.solvePoints(t.texture.uv, i[a], i[a + 1], i[o] - i[a], i[o + 1] - i[a + 1], i[l] - i[a], i[l + 1] - i[a + 1], _._absArr);
            h = _.transPoints(s, n[a], n[a + 1], n[o] - n[a], n[o + 1] - n[a + 1], n[l] - n[a], n[l + 1] - n[a + 1], e);
            return h
        }
        ;
        _.findWrapRect = function(t) {
            var e = 0;
            e = _.findEdge(t, 1, true);
            var i = 0;
            i = _.findEdge(t, 1, false);
            var n = 0;
            n = _.findEdge(t, 0, true);
            var s = 0;
            s = _.findEdge(t, 0, false);
            var r = NaN;
            r = t[n];
            var a = NaN;
            a = t[s];
            var o = NaN;
            o = t[e + 1];
            var l = NaN;
            l = t[i + 1];
            var h;
            return [a, l, r - a, o - l]
        }
        ;
        _.adptTexture = function(t) {
            var e;
            e = _.findWrapRect(t.uvs);
            var i;
            var n;
            i = t.texture;
            var s = i.width;
            var r = i.height;
            n = _n.create(i, e[0] * s, e[1] * r, e[2] * s, e[3] * r);
            t.texture = n
        }
        ;
        _.isNormalUV = function(t) {
            return t[0] == 0 && t[1] == 0 && t[4] == 1 && t[5] == 1
        }
        ;
        _.solvePoints = function(t, e, i, n, s, r, a, o) {
            o = o || [];
            var l = 0
              , h = 0;
            h = t.length;
            var u;
            for (l = 0; l < h; l += 2) {
                u = _.solve2(t[l], t[l + 1], e, i, n, s, r, a);
                o.push(u[0], u[1])
            }
            return o
        }
        ;
        _.transPoints = function(t, e, i, n, s, r, a, o) {
            o = o || [];
            var l = 0
              , h = 0;
            h = t.length;
            var u;
            for (l = 0; l < h; l += 2) {
                u = _.transPoint(t[l], t[l + 1], e, i, n, s, r, a, o)
            }
            return o
        }
        ;
        _.transPoint = function(t, e, i, n, s, r, a, o, l) {
            l = l || [];
            var h = NaN;
            var u = NaN;
            h = i + s * t + a * e;
            u = n + r * t + o * e;
            l.push(h, u);
            return l
        }
        ;
        _.solve2 = function(t, e, i, n, s, r, a, o, l, h) {
            l === void 0 && (l = false);
            h = h || [];
            var u = NaN
              , c = NaN;
            if (s == 0) {
                return _.solve2(t, e, i, n, a, o, s, r, true, h)
            }
            var f = NaN;
            var d = NaN;
            f = t - i;
            d = e - n;
            c = (d - f * r / s) / (o - a * r / s);
            u = (f - c * a) / s;
            if (l) {
                h.push(c, u)
            } else {
                h.push(u, c)
            }
            return h
        }
        ;
        _.solve = function(t, e, i, n) {
            return _.solve2(t.x, t.y, e.x, e.y, i.x, i.y, n.x, n.y)
        }
        ;
        _._bestTriangle = [];
        _._absArr = [];
        return _
    }();
    var k = function() {
        function ot(t, e) {
            this.target = null;
            this.data = null;
            this.bones = null;
            this.position = NaN;
            this.spacing = NaN;
            this.rotateMix = NaN;
            this.translateMix = NaN;
            this._debugKey = false;
            this._spaces = null;
            this._segments = [];
            this._curves = [];
            this.data = t;
            this.position = t.position;
            this.spacing = t.spacing;
            this.rotateMix = t.rotateMix;
            this.translateMix = t.translateMix;
            this.bones = [];
            var i = this.data.bones;
            for (var n = 0, s = i.length; n < s; n++) {
                this.bones.push(e[i[n]])
            }
        }
        x(ot, "laya.ani.bone.PathConstraint");
        var t = ot.prototype;
        t.apply = function(t, e) {
            if (!this.target)
                return;
            var i = this.translateMix;
            var n = this.translateMix;
            var s = i > 0;
            var r = n > 0;
            var a = this.data.spacingMode;
            var o = a == "length";
            var l = this.data.rotateMode;
            var h = l == "tangent";
            var u = l == "chainScale";
            var c = [];
            var f = this.bones.length;
            var d = h ? f : f + 1;
            var _ = [];
            this._spaces = _;
            _[0] = this.position;
            var p = this.spacing;
            if (u || o) {
                for (var m = 0, g = d - 1; m < g; ) {
                    var v = this.bones[m];
                    var b = v.length;
                    var y = b * v.resultMatrix.a;
                    var x = b * v.resultMatrix.b;
                    b = Math.sqrt(y * y + x * x);
                    if (u)
                        c[m] = b;
                    _[++m] = o ? Math.max(0, b + p) : p
                }
            } else {
                for (m = 1; m < d; m++) {
                    _[m] = p
                }
            }
            var w = this.computeWorldPositions(this.target, t, e, d, h, this.data.positionMode == "percent", a == "percent");
            if (this._debugKey) {
                for (m = 0; m < w.length; m++) {
                    e.drawCircle(w[m++], w[m++], 5, "#00ff00")
                }
                var C = [];
                for (m = 0; m < w.length; m++) {
                    C.push(w[m++], w[m++])
                }
                e.drawLines(0, 0, C, "#ff0000")
            }
            var S = NaN;
            var T = NaN;
            var R = w[0];
            var I = w[1];
            var A = this.data.offsetRotation;
            var G = l == "chain" && A == 0;
            var M = NaN;
            for (m = 0,
            M = 3; m < f; m++,
            M += 3) {
                v = this.bones[m];
                v.resultMatrix.tx += (R - v.resultMatrix.tx) * i;
                v.resultMatrix.ty += (I - v.resultMatrix.ty) * i;
                y = w[M];
                x = w[M + 1];
                var L = y - R
                  , W = x - I;
                if (u) {
                    b = c[m];
                    if (b != 0) {
                        var E = (Math.sqrt(L * L + W * W) / b - 1) * n + 1;
                        v.resultMatrix.a *= E;
                        v.resultMatrix.c *= E
                    }
                }
                R = y;
                I = x;
                if (r) {
                    var N = v.resultMatrix.a;
                    var V = v.resultMatrix.c;
                    var Z = v.resultMatrix.b;
                    var B = v.resultMatrix.d;
                    var k = NaN;
                    var P = NaN;
                    var F = NaN;
                    if (h) {
                        k = w[M - 1]
                    } else if (_[m + 1] == 0) {
                        k = w[M + 2]
                    } else {
                        k = Math.atan2(W, L)
                    }
                    k -= Math.atan2(Z, N) - A / 180 * Math.PI;
                    if (G) {
                        P = Math.cos(k);
                        F = Math.sin(k);
                        b = v.length;
                        R += (b * (P * N - F * Z) - L) * n;
                        I += (b * (F * N + P * Z) - W) * n
                    }
                    if (k > Math.PI) {
                        k -= Math.PI * 2
                    } else if (k < -Math.PI) {
                        k += Math.PI * 2
                    }
                    k *= n;
                    P = Math.cos(k);
                    F = Math.sin(k);
                    v.resultMatrix.a = P * N - F * Z;
                    v.resultMatrix.c = P * V - F * B;
                    v.resultMatrix.b = F * N + P * Z;
                    v.resultMatrix.d = F * V + P * B
                }
            }
        }
        ;
        t.computeWorldVertices2 = function(t, e, i, n, s, r) {
            var a = t.currDisplayData.bones;
            var o = t.currDisplayData.weights;
            var l = t.currDisplayData.triangles;
            var h;
            var u = 0;
            var c = 0;
            var f = 0;
            var d = 0;
            var _ = 0;
            var p = 0;
            var m = 0;
            var g = 0;
            var v = 0;
            var b = 0;
            var y;
            var x = 0;
            if (a == null) {
                if (!l)
                    l = o;
                if (t.deformData)
                    l = t.deformData;
                var w;
                w = t.parent;
                if (e) {
                    x = e.length;
                    for (u = 0; u < x; u++) {
                        if (e[u].name == w) {
                            y = e[u];
                            break
                        }
                    }
                }
                var C;
                if (y) {
                    C = y.resultMatrix
                }
                if (!C)
                    C = ot._tempMt;
                var S = C.tx;
                var T = C.ty;
                var R = C.a
                  , I = C.b
                  , A = C.c
                  , G = C.d;
                if (y)
                    G *= y.d;
                for (c = i,
                _ = r; _ < n; c += 2,
                _ += 2) {
                    v = l[c],
                    b = l[c + 1];
                    s[_] = v * R + b * I + S;
                    s[_ + 1] = -(v * A + b * G + T)
                }
                return
            }
            for (u = 0; u < i; u += 2) {
                d = a[c];
                c += d + 1;
                f += d
            }
            var M = e;
            for (_ = r,
            p = f * 3; _ < n; _ += 2) {
                m = 0,
                g = 0;
                d = a[c++];
                d += c;
                for (; c < d; c++,
                p += 3) {
                    h = M[a[c]].resultMatrix;
                    v = o[p];
                    b = o[p + 1];
                    var L = o[p + 2];
                    m += (v * h.a + b * h.c + h.tx) * L;
                    g += (v * h.b + b * h.d + h.ty) * L
                }
                s[_] = m;
                s[_ + 1] = g
            }
        }
        ;
        t.computeWorldPositions = function(t, e, i, n, s, r, a) {
            var o = t.currDisplayData.bones;
            var l = t.currDisplayData.weights;
            var h = t.currDisplayData.triangles;
            var u = 0;
            var c = 0;
            var f = 0;
            var d;
            var _ = NaN;
            var p = NaN;
            var m = 0;
            var g = 0;
            var v = [];
            var b = 0
              , y = 0
              , x = 0;
            var w = t.currDisplayData.verLen;
            var C = t;
            var S = this.position;
            var T = this._spaces;
            var R = [];
            var I = [];
            var A = false;
            var G = w / 6;
            var M = -1;
            var L = NaN;
            var W = 0
              , E = 0;
            var N = NaN;
            var V = NaN;
            var Z = NaN;
            var B = NaN;
            if (!true) {
                var k = t.currDisplayData.lengths;
                G -= A ? 1 : 2;
                L = k[G];
                if (r)
                    S *= L;
                if (a) {
                    for (b = 0; b < n; b++)
                        T[b] *= L
                }
                R.length = 8;
                for (b = 0,
                W = 0,
                E = 0; b < n; b++,
                W += 3) {
                    V = T[b];
                    S += V;
                    N = S;
                    if (A) {
                        N %= L;
                        if (N < 0)
                            N += L;
                        E = 0
                    } else if (N < 0) {
                        if (M != ot.BEFORE) {
                            M = ot.BEFORE;
                            this.computeWorldVertices2(C, e, 2, 4, R, 0)
                        }
                        this.addBeforePosition(N, R, 0, I, W);
                        continue
                    } else if (N > L) {
                        if (M != ot.AFTER) {
                            M = ot.AFTER;
                            this.computeWorldVertices2(C, e, w - 6, 4, R, 0)
                        }
                        this.addAfterPosition(N - L, R, 0, I, W);
                        continue
                    }
                    for (; ; E++) {
                        B = k[E];
                        if (N > B)
                            continue;
                        if (E == 0)
                            N /= B;
                        else {
                            Z = k[E - 1];
                            N = (N - Z) / (B - Z)
                        }
                        break
                    }
                    if (E != M) {
                        M = E;
                        if (A && E == G) {
                            this.computeWorldVertices2(C, e, w - 4, 4, R, 0);
                            this.computeWorldVertices2(C, e, 0, 4, R, 4)
                        } else
                            this.computeWorldVertices2(C, e, E * 6 + 2, 8, R, 0)
                    }
                    this.addCurvePosition(N, R[0], R[1], R[2], R[3], R[4], R[5], R[6], R[7], I, W, s || b > 0 && V == 0)
                }
                return I
            }
            if (A) {
                w += 2;
                R[w - 2] = R[0];
                R[w - 1] = R[1]
            } else {
                G--;
                w -= 4;
                this.computeWorldVertices2(t, e, 2, w, v, 0);
                if (this._debugKey) {
                    for (b = 0; b < v.length; ) {
                        i.drawCircle(v[b++], v[b++], 10, "#ff0000")
                    }
                }
                R = v
            }
            this._curves.length = G;
            var P = this._curves;
            L = 0;
            var F = R[0]
              , X = R[1]
              , D = 0
              , Y = 0
              , O = 0
              , U = 0
              , H = 0
              , z = 0;
            var J = NaN
              , j = NaN
              , K = NaN
              , Q = NaN
              , q = NaN
              , $ = NaN
              , tt = NaN
              , et = NaN;
            var it = 0;
            for (b = 0,
            it = 2; b < G; b++,
            it += 6) {
                D = R[it];
                Y = R[it + 1];
                O = R[it + 2];
                U = R[it + 3];
                H = R[it + 4];
                z = R[it + 5];
                J = (F - D * 2 + O) * .1875;
                j = (X - Y * 2 + U) * .1875;
                K = ((D - O) * 3 - F + H) * .09375;
                Q = ((Y - U) * 3 - X + z) * .09375;
                q = J * 2 + K;
                $ = j * 2 + Q;
                tt = (D - F) * .75 + J + K * .16666667;
                et = (Y - X) * .75 + j + Q * .16666667;
                L += Math.sqrt(tt * tt + et * et);
                tt += q;
                et += $;
                q += K;
                $ += Q;
                L += Math.sqrt(tt * tt + et * et);
                tt += q;
                et += $;
                L += Math.sqrt(tt * tt + et * et);
                tt += q + K;
                et += $ + Q;
                L += Math.sqrt(tt * tt + et * et);
                P[b] = L;
                F = H;
                X = z
            }
            if (r)
                S *= L;
            if (a) {
                for (b = 0; b < n; b++)
                    T[b] *= L
            }
            var nt = this._segments;
            var st = 0;
            var rt = 0;
            for (b = 0,
            W = 0,
            E = 0,
            rt = 0; b < n; b++,
            W += 3) {
                V = T[b];
                S += V;
                N = S;
                if (A) {
                    N %= L;
                    if (N < 0)
                        N += L;
                    E = 0
                } else if (N < 0) {
                    this.addBeforePosition(N, R, 0, I, W);
                    continue
                } else if (N > L) {
                    this.addAfterPosition(N - L, R, w - 4, I, W);
                    continue
                }
                for (; ; E++) {
                    B = P[E];
                    if (N > B)
                        continue;
                    if (E == 0)
                        N /= B;
                    else {
                        Z = P[E - 1];
                        N = (N - Z) / (B - Z)
                    }
                    break
                }
                if (E != M) {
                    M = E;
                    var at = E * 6;
                    F = R[at];
                    X = R[at + 1];
                    D = R[at + 2];
                    Y = R[at + 3];
                    O = R[at + 4];
                    U = R[at + 5];
                    H = R[at + 6];
                    z = R[at + 7];
                    J = (F - D * 2 + O) * .03;
                    j = (X - Y * 2 + U) * .03;
                    K = ((D - O) * 3 - F + H) * .006;
                    Q = ((Y - U) * 3 - X + z) * .006;
                    q = J * 2 + K;
                    $ = j * 2 + Q;
                    tt = (D - F) * .3 + J + K * .16666667;
                    et = (Y - X) * .3 + j + Q * .16666667;
                    st = Math.sqrt(tt * tt + et * et);
                    nt[0] = st;
                    for (at = 1; at < 8; at++) {
                        tt += q;
                        et += $;
                        q += K;
                        $ += Q;
                        st += Math.sqrt(tt * tt + et * et);
                        nt[at] = st
                    }
                    tt += q;
                    et += $;
                    st += Math.sqrt(tt * tt + et * et);
                    nt[8] = st;
                    tt += q + K;
                    et += $ + Q;
                    st += Math.sqrt(tt * tt + et * et);
                    nt[9] = st;
                    rt = 0
                }
                N *= st;
                for (; ; rt++) {
                    B = nt[rt];
                    if (N > B)
                        continue;
                    if (rt == 0)
                        N /= B;
                    else {
                        Z = nt[rt - 1];
                        N = rt + (N - Z) / (B - Z)
                    }
                    break
                }
                this.addCurvePosition(N * .1, F, X, D, Y, O, U, H, z, I, W, s || b > 0 && V == 0)
            }
            return I
        }
        ;
        t.addBeforePosition = function(t, e, i, n, s) {
            var r = e[i]
              , a = e[i + 1]
              , o = e[i + 2] - r
              , l = e[i + 3] - a
              , h = Math.atan2(l, o);
            n[s] = r + t * Math.cos(h);
            n[s + 1] = a + t * Math.sin(h);
            n[s + 2] = h
        }
        ;
        t.addAfterPosition = function(t, e, i, n, s) {
            var r = e[i + 2]
              , a = e[i + 3]
              , o = r - e[i]
              , l = a - e[i + 1]
              , h = Math.atan2(l, o);
            n[s] = r + t * Math.cos(h);
            n[s + 1] = a + t * Math.sin(h);
            n[s + 2] = h
        }
        ;
        t.addCurvePosition = function(t, e, i, n, s, r, a, o, l, h, u, c) {
            if (t == 0)
                t = 1e-4;
            var f = t * t
              , d = f * t
              , _ = 1 - t
              , p = _ * _
              , m = p * _;
            var g = _ * t
              , v = g * 3
              , b = _ * v
              , y = v * t;
            var x = e * m + n * b + r * y + o * d
              , w = i * m + s * b + a * y + l * d;
            h[u] = x;
            h[u + 1] = w;
            if (c) {
                h[u + 2] = Math.atan2(w - (i * p + s * g * 2 + a * f), x - (e * p + n * g * 2 + r * f))
            } else {
                h[u + 2] = 0
            }
        }
        ;
        ot.NONE = -1;
        ot.BEFORE = -2;
        ot.AFTER = -3;
        u(ot, ["_tempMt", function() {
            return this._tempMt = new Ce
        }
        ]);
        return ot
    }();
    var Yt = function() {
        function t() {
            this.name = null;
            this.target = null;
            this.positionMode = null;
            this.spacingMode = null;
            this.rotateMode = null;
            this.offsetRotation = NaN;
            this.position = NaN;
            this.spacing = NaN;
            this.rotateMix = NaN;
            this.translateMix = NaN;
            this.bones = []
        }
        x(t, "laya.ani.bone.PathConstraintData");
        return t
    }();
    var Ot = function() {
        function t() {
            this.name = null;
            this.slotArr = []
        }
        x(t, "laya.ani.bone.SkinData");
        return t
    }();
    var Ut = function() {
        function t() {
            this.name = null;
            this.attachmentName = null;
            this.type = 0;
            this.transform = null;
            this.width = NaN;
            this.height = NaN;
            this.texture = null;
            this.bones = null;
            this.uvs = null;
            this.weights = null;
            this.triangles = null;
            this.vertices = null;
            this.lengths = null;
            this.verLen = 0
        }
        x(t, "laya.ani.bone.SkinSlotDisplayData");
        var e = t.prototype;
        e.createTexture = function(t) {
            if (this.texture)
                return this.texture;
            this.texture = new _n(t.bitmap,this.uvs);
            if (this.uvs[0] > this.uvs[4] && this.uvs[1] > this.uvs[5]) {
                this.texture.width = t.height;
                this.texture.height = t.width;
                this.texture.offsetX = -t.offsetX;
                this.texture.offsetY = -t.offsetY;
                this.texture.sourceWidth = t.sourceHeight;
                this.texture.sourceHeight = t.sourceWidth
            } else {
                this.texture.width = t.width;
                this.texture.height = t.height;
                this.texture.offsetX = -t.offsetX;
                this.texture.offsetY = -t.offsetY;
                this.texture.sourceWidth = t.sourceWidth;
                this.texture.sourceHeight = t.sourceHeight
            }
            if (!Be.isWebGL) {
                if (this.uvs[1] > this.uvs[5]) {
                    this.texture.offsetY = this.texture.sourceHeight - this.texture.height - this.texture.offsetY
                }
            }
            return this.texture
        }
        ;
        e.destory = function() {
            if (this.texture)
                this.texture.destroy()
        }
        ;
        return t
    }();
    var Ht = function() {
        function t() {
            this.name = null;
            this.displayArr = []
        }
        x(t, "laya.ani.bone.SlotData");
        var e = t.prototype;
        e.getDisplayByName = function(t) {
            var e;
            for (var i = 0, n = this.displayArr.length; i < n; i++) {
                e = this.displayArr[i];
                if (e.attachmentName == t) {
                    return i
                }
            }
            return -1
        }
        ;
        return t
    }();
    var P = function() {
        function t(t, e) {
            this._data = null;
            this._bones = null;
            this.target = null;
            this.rotateMix = NaN;
            this.translateMix = NaN;
            this.scaleMix = NaN;
            this.shearMix = NaN;
            this._temp = g(2, 0);
            this._data = t;
            if (this._bones == null) {
                this._bones = []
            }
            this.target = e[t.targetIndex];
            var i = 0
              , n = 0;
            for (i = 0,
            n = t.boneIndexs.length; i < n; i++) {
                this._bones.push(e[t.boneIndexs[i]])
            }
            this.rotateMix = t.rotateMix;
            this.translateMix = t.translateMix;
            this.scaleMix = t.scaleMix;
            this.shearMix = t.shearMix
        }
        x(t, "laya.ani.bone.TfConstraint");
        var e = t.prototype;
        e.apply = function() {
            var t;
            var e = this.target.resultMatrix.a
              , i = this.target.resultMatrix.b
              , n = this.target.resultMatrix.c
              , s = this.target.resultMatrix.d;
            for (var r = 0, a = this._bones.length; r < a; r++) {
                t = this._bones[r];
                if (this.rotateMix > 0) {
                    var o = t.resultMatrix.a
                      , l = t.resultMatrix.b
                      , h = t.resultMatrix.c
                      , u = t.resultMatrix.d;
                    var c = Math.atan2(n, e) - Math.atan2(h, o) + this._data.offsetRotation * Math.PI / 180;
                    if (c > Math.PI)
                        c -= Math.PI * 2;
                    else if (c < -Math.PI)
                        c += Math.PI * 2;
                    c *= this.rotateMix;
                    var f = Math.cos(c)
                      , d = Math.sin(c);
                    t.resultMatrix.a = f * o - d * h;
                    t.resultMatrix.b = f * l - d * u;
                    t.resultMatrix.c = d * o + f * h;
                    t.resultMatrix.d = d * l + f * u
                }
                if (this.translateMix) {
                    this._temp[0] = this._data.offsetX;
                    this._temp[1] = this._data.offsetY;
                    this.target.localToWorld(this._temp);
                    t.resultMatrix.tx += (this._temp[0] - t.resultMatrix.tx) * this.translateMix;
                    t.resultMatrix.ty += (this._temp[1] - t.resultMatrix.ty) * this.translateMix;
                    t.updateChild()
                }
                if (this.scaleMix > 0) {
                    var _ = Math.sqrt(t.resultMatrix.a * t.resultMatrix.a + t.resultMatrix.c * t.resultMatrix.c);
                    var p = Math.sqrt(e * e + n * n);
                    var m = _ > 1e-5 ? (_ + (p - _ + this._data.offsetScaleX) * this.scaleMix) / _ : 0;
                    t.resultMatrix.a *= m;
                    t.resultMatrix.c *= m;
                    _ = Math.sqrt(t.resultMatrix.b * t.resultMatrix.b + t.resultMatrix.d * t.resultMatrix.d);
                    p = Math.sqrt(i * i + s * s);
                    m = _ > 1e-5 ? (_ + (p - _ + this._data.offsetScaleY) * this.scaleMix) / _ : 0;
                    t.resultMatrix.b *= m;
                    t.resultMatrix.d *= m
                }
                if (this.shearMix > 0) {
                    l = t.resultMatrix.b,
                    u = t.resultMatrix.d;
                    var g = Math.atan2(u, l);
                    c = Math.atan2(s, i) - Math.atan2(n, e) - (g - Math.atan2(t.resultMatrix.c, t.resultMatrix.a));
                    if (c > Math.PI)
                        c -= Math.PI * 2;
                    else if (c < -Math.PI)
                        c += Math.PI * 2;
                    c = g + (c + this._data.offsetShearY * Math.PI / 180) * this.shearMix;
                    m = Math.sqrt(l * l + u * u);
                    t.resultMatrix.b = Math.cos(c) * m;
                    t.resultMatrix.d = Math.sin(c) * m
                }
            }
        }
        ;
        return t
    }();
    var zt = function() {
        function t() {
            this.name = null;
            this.targetIndex = 0;
            this.rotateMix = NaN;
            this.translateMix = NaN;
            this.scaleMix = NaN;
            this.shearMix = NaN;
            this.offsetRotation = NaN;
            this.offsetX = NaN;
            this.offsetY = NaN;
            this.offsetScaleX = NaN;
            this.offsetScaleY = NaN;
            this.offsetShearY = NaN;
            this.boneIndexs = []
        }
        x(t, "laya.ani.bone.TfConstraintData");
        return t
    }();
    var Jt = function() {
        function t() {
            this.skX = 0;
            this.skY = 0;
            this.scX = 1;
            this.scY = 1;
            this.x = 0;
            this.y = 0;
            this.skewX = 0;
            this.skewY = 0;
            this.mMatrix = null
        }
        x(t, "laya.ani.bone.Transform");
        var e = t.prototype;
        e.initData = function(t) {
            if (t.x != undefined) {
                this.x = t.x
            }
            if (t.y != undefined) {
                this.y = t.y
            }
            if (t.skX != undefined) {
                this.skX = t.skX
            }
            if (t.skY != undefined) {
                this.skY = t.skY
            }
            if (t.scX != undefined) {
                this.scX = t.scX
            }
            if (t.scY != undefined) {
                this.scY = t.scY
            }
        }
        ;
        e.getMatrix = function() {
            var t;
            if (this.mMatrix) {
                t = this.mMatrix
            } else {
                t = this.mMatrix = new Ce
            }
            t.identity();
            t.scale(this.scX, this.scY);
            if (this.skewX || this.skewY) {
                this.skew(t, this.skewX * Math.PI / 180, this.skewY * Math.PI / 180)
            }
            t.rotate(this.skX * Math.PI / 180);
            t.translate(this.x, this.y);
            return t
        }
        ;
        e.skew = function(t, e, i) {
            var n = Math.sin(i);
            var s = Math.cos(i);
            var r = Math.sin(e);
            var a = Math.cos(e);
            t.setTo(t.a * a - t.b * n, t.a * r + t.b * s, t.c * a - t.d * n, t.c * r + t.d * s, t.tx * a - t.ty * n, t.tx * r + t.ty * s);
            return t
        }
        ;
        return t
    }();
    var F = function() {
        function t() {}
        x(t, "laya.ani.bone.UVTools");
        t.getRelativeUV = function(t, e, i) {
            var n = t[0];
            var s = t[2] - t[0];
            var r = t[1];
            var a = t[5] - t[1];
            if (!i)
                i = [];
            i.length = e.length;
            var o = 0
              , l = 0;
            l = i.length;
            var h = 1 / s;
            var u = 1 / a;
            for (o = 0; o < l; o += 2) {
                i[o] = (e[o] - n) * h;
                i[o + 1] = (e[o + 1] - r) * u
            }
            return i
        }
        ;
        t.getAbsoluteUV = function(t, e, i) {
            if (t[0] == 0 && t[1] == 0 && t[4] == 1 && t[5] == 1) {
                if (i) {
                    ai.copyArray(i, e);
                    return i
                } else {
                    return e
                }
            }
            var n = t[0];
            var s = t[2] - t[0];
            var r = t[1];
            var a = t[5] - t[1];
            if (!i)
                i = [];
            i.length = e.length;
            var o = 0
              , l = 0;
            l = i.length;
            for (o = 0; o < l; o += 2) {
                i[o] = e[o] * s + n;
                i[o + 1] = e[o + 1] * a + r
            }
            return i
        }
        ;
        return t
    }();
    var X = function() {
        function t() {
            this.startTime = NaN;
            this.duration = NaN;
            this.interpolationData = null;
            this.data = null;
            this.nextData = null
        }
        x(t, "laya.ani.KeyFramesContent");
        return t
    }();
    var D = function() {
        function u() {}
        x(u, "laya.ani.math.BezierLerp");
        u.getBezierRate = function(t, e, i, n, s) {
            var r = u._getBezierParamKey(e, i, n, s);
            var a = r * 100 + t;
            if (u._bezierResultCache[a])
                return u._bezierResultCache[a];
            var o = u._getBezierPoints(e, i, n, s, r);
            var l = 0
              , h = 0;
            h = o.length;
            for (l = 0; l < h; l += 2) {
                if (t <= o[l]) {
                    u._bezierResultCache[a] = o[l + 1];
                    return o[l + 1]
                }
            }
            u._bezierResultCache[a] = 1;
            return 1
        }
        ;
        u._getBezierParamKey = function(t, e, i, n) {
            return (((t * 100 + e) * 100 + i) * 100 + n) * 100
        }
        ;
        u._getBezierPoints = function(t, e, i, n, s) {
            if (u._bezierPointsCache[s])
                return u._bezierPointsCache[s];
            var r;
            r = [0, 0, t, e, i, n, 1, 1];
            var a;
            a = new ye;
            var o;
            o = a.getBezierPoints(r, 100, 3);
            u._bezierPointsCache[s] = o;
            return o
        }
        ;
        u._bezierResultCache = {};
        u._bezierPointsCache = {};
        return u
    }();
    var Y = function() {
        function e() {}
        x(e, "laya.debug.data.Base64AtlasManager");
        e.replaceRes = function(t) {
            e.base64.replaceRes(t)
        }
        ;
        u(e, ["dataO", function() {
            return this.dataO = {
                "comp/button1.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABRCAYAAAApS3MNAAABSUlEQVR4Xu3a0QmFMADFUJ1JXM0h3moPZ6qg4AoNeLqAIenFn65jjLE40w2sQkxvcAMI0eggRKSDEEJUDEQ4/COEiBiIYFiEEBEDEQyLECJiIIJhEUJEDEQwLEKIiIEIhkUIETEQwbAIISIGIhgWIUTEQATDIoSIGIhgWIQQEQMRDIsQImIggnEvYvv9IzjfxDiP/XlgJsTcCyDEXP/v14UQImIggmERQkQMRDAsQoiIgQiGRQgRMRDBsAghIgYiGBYhRMRABMMihIgYiGBYhBARAxEMixAiYiCCYRFCRAxEMCxCiIiBCMa7iAjPpzG8fY3kF0KIiIEIhkUIETEQwbAIISIGIhgWIUTEQATDIoSIGIhgWIQQEQMRDIsQImIggmERQkQMRDAsQoiIgQiGRQgRMRDBsAghIgYiGBYhRMRABMMihIgYiGBcGJiOHTRZjZAAAAAASUVORK5CYII=",
                "comp/line2.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAAG0lEQVQYV2NkoDJgpLJ5DIxtra3/qWko1V0IAJvgApS1libIAAAAAElFTkSuQmCC",
                "view/create.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAkCAYAAAC9itu8AAAAdElEQVQ4T2NkwAIWLFjwH5t4QkICIyM2CXQxmAHka/j///9mXDYxMjL6YtgwBDUg+w8crIT8MBQ0oEca55JvWNPS9xgu4tISzADyNfz///8MnrRkgmHDENSALWng9fRQ0DA40xLecglbWhpqGoZCMUNKUQkANAHAJVkE5XwAAAAASUVORK5CYII=",
                "view/rendertime.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAkCAYAAAC9itu8AAABeUlEQVQ4T+2Uv0tCURSAvyNdcwiXBlsaaomWFgeHlqAtCPsDJHwIiUtDSxERtErtmQ6CjkHo4FpDBQ0tbVFR0BYE0eQvOnFF7T17QlOTd3m88873OD8+rtA9uVzOBIPBlIisAwvd8B1QajQahXQ63bIx6QHFYrEEJHrv7qeqZhzHOfYA+Xw+Yow5B+YHoGwymdxW1QAQEFWNAk8i8uEDuZM3gUcLZIEJYNcNqWrVcZyd7p9t8jLwYIFTYBx47UHlcjmcSCQ+B5JtpU0LnAFj3br7kE+yTalb4BCYczVqoT3AjteW4T73FlgFNgY+1IGQz4hPLGCAI2DGbweu2Auw1Vmcqk4C+8DsEOgZOBCR9/6mVdU2vgIsAdOuIVwANRFpezatuahpTYVSop1m+y6pasm8NQqSvvW61KwslkSHuCRkgvErr0taiUXaal1Sr0siWRO/9HfpF+RN9nfpB/qqmrXrv7mktVhYVm5GLo1cct9LI5e8d84/3UvfAgdlKH0EO7MAAAAASUVORK5CYII=",
                "view/cache.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAkCAYAAABSSLCCAAAAcElEQVQ4T2NcsGDB/4SEBEYGBgYGYtmMxCpENhhsA6mA8f///5tHNTEwkBcQpIYcSD15kUtWigi51vR/jVYdOGUQy2YkViGywWSnvTOkhiAonkY1gZIRqSEHTntkRe4g10RWQIyWe5Bgo2O5R7dkBADztyP+yFzirAAAAABJRU5ErkJggg==",
                "comp/clip_selectBox.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAYAAAAIeF9DAAAAsElEQVRoQ+3ZQQ0AMQzEwAuqEgh/Sj2pKObhIrBsrfLonHPu12MMTEGYFg+kIFaPgmA9ClIQzQDG0w0pCGYAw2khBcEMYDgtpCCYAQynhRQEM4DhtJCCYAYwnBZSEMwAhtNCCoIZwHBmd/tTh6IUBIrx/tRbiFWkIFaPFoL1KEhBNAMYTzekIJgBDKeFFAQzgOG0kIJgBjCcFlIQzACG00IKghnAcFpIQTADGE4LwYL8U/BE1dCJ3PsAAAAASUVORK5CYII=",
                "comp/label.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAASCAYAAACQCxruAAAAmElEQVRoQ+3aMQqAQBBDUef+hx4Zq1mrbPnhWylECHmghVZ397OOqqp97TlugdNzgEXFIaaFuwROt0LmBEay5aXb920+FjIpMJItLy1wvhUyKTCSLS8tcL4VMikwki0vLXC+FTIpMJItLy1wvhUyKTCSLS89wPP1Qeh8M0zy+84gMMbruqjA15OxbtjAu7mPa5bj0fb/A8cLgD4n/wQKNiIAAAAASUVORK5CYII=",
                "comp/clip_tree_arrow.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAQCAYAAAArij59AAAAwUlEQVQoU5WRPRKCMBCFWUt6vYQeB06RUDpoBbFDa7yDwm30FGi9dHnOMiQDBgvT5c3b7+0PRVEUlVV9A3NmzL6T//SRfMz5CgCdtVafjlmzaHAigAbM2tE8YVo1pf0yvABoc9D3wACgBbMKIgD4qqDJsqqlMV8VGL5n/88geCJKlijSMBXFZUNx/CSi9WwX1r7R99thzKKqkxXRbMUWSE2u2sEwHsxHCbrMVSq6N4xRD9HAvJstylEkarhurlqnfQC58YP5+CvQNwAAAABJRU5ErkJggg==",
                "view/bg_panel.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAMUlEQVRYR+3QQREAAAjDMGZk/l2CDD6pgl7SduexGCBAgAABAgQIECBAgAABAgS+BQ4oyStBhXcy5AAAAABJRU5ErkJggg==",
                "view/bg_top.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAMUlEQVRYR+3QQREAAAjDMKZp/rWBDD6pgl7SduexGCBAgAABAgQIECBAgAABAgS+BQ6WyDMhXMLeQgAAAABJRU5ErkJggg==",
                "view/clickselect.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAqCAYAAACDdWrxAAACfElEQVRIS8WVO2iTYRSGn5OWqpMOurg0VRBdVVCsg7GgDjpZECyirl4GEYfSgBlaB5VSpApdxCJIoeKgg7dKC21ALahIiyiKKUjxAiI4qCH1lRP/hPhfAnHpGZPv+c4573nP95ukO/xHmINmtq8RtswsPiipB/gAPAFem5nCbcSWKukIsD84/A2YBh4DL8ysWLkk0qOkDcD5GLF+Ac+Ap35ZHGjAdWB5gtJvgZFYVSWdBHaFwBlg1Mw8K0ngFiAbAm+a2XBij/6HpBbgBrAEmAVeAZ1AFU40QDCWrcBZL0/S4Vq4HtgB7DWzU5XyauDBMhhWz70ryVVdb2ZuhGpI2g1MODjfiMFrxZk3s9WNwJ6snHFxQUlXgXfAPeC5mf2O2Y5oqZLcMceCw1+AseCSSTP7mSiOpM3A7RixfvgYgAd+WUQcSSnfPWBlgtIvgf5YVSVdBA6GQF/mS2bmWcvbERmHJF+payFw0MzO1TWApKXBViwL3h5/Pk4AVTjRAMFY9njJXl6wLccrcD3wAHDUzBwuRw18JtbkbkFJruomM7sf2o4u4Jals/mFRgxeFcfBQm97UyOwM+WMiwums/k3QnMps+HWpuLIRC5TCrcRW2pbT35MRiY4XDRsVmiU5uJQIZfxb0k5Ij229eQPySJ287MLGO8Rd1M0XY6AO3LjzYVSy3fAH+VICL4a6o9VtTWbnzbYGKI+IrtQ6Ns2EFuq/5jOTnWD9f4DikeFvvbqhyg2Yzo3voJSy2fAjfEJMYPRQQ2caAAfC7AW2WkvrzU79dCwnRW4Hjgg6JrrbV9VKbkKw1Csyd2Ca7on1y2krHOub3t16//2n79SarbsH7BKtfejoCjmAAAAAElFTkSuQmCC",
                "view/resize.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAqCAYAAACDdWrxAAABeUlEQVRIS+2UvUpdURCFvxXRKJpIEBURsVAIiiBoaaGCjY2VLyH4MBaCPoWlnQlpI6SxsQmkURQL5eK/6JK57iuRnMPZtxAkuOFUhzWz96xvjcg8tluAT5LOQqJMHba/AgPAD0nOEtruAOaB6Lon6U+ucAoYTLe7Bb5XCm1/BCaAXqAVOAHyOkYn27PA5/TGWmXHxvBeT2i7TVIM4MUp7ZhGPlY3V/pVKUxEjAIjyac74LIAjK70PwCoyfYXYDJwyqDoHtiRdFOfql0naBgIrILF/ZIi1yH6h1XbYXCPpKOq7s34GEX7JB00m445YBzYlPSQ1dF2N7CaWN2W9DNXuJxAj1uGVeuVQtvh32LyuR34DexWCv+CfAXoBzYkHb8Boe1OSRcFkBdfNY18IQiUtFUpTJjNAPEFHVfAaQFyjZ3zNBzbQ8BSWkZViEbk1uIpjXR8AKbT7jwEvpVUqEk6L0pHLN5hSWWxeq7XjI/v6Sgz0vZ7Ov7DdDwCkcb1m86tSukAAAAASUVORK5CYII=",
                "view/clickanalyse.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAqCAYAAACDdWrxAAAC7UlEQVRIS5WWT2hUZxTFfyfGFolkoUVKrHQiEaX+IfgHa54UQzUqpWYhLbQU6ULNwgYXuog6yiiTgK2LgtAu6yqbFkpRBEURQzJEBN200NqKkxoDLnQhFUrizJU7vje8SSbzZr7FwDy+c75z7z3nfU80uMxMDin9JC0zewvYAHwIrAH65wWaWQuwOdy8CVgUHnBd0sUKoJktBbYC24B1QHMVNeck3ZWZrYhtXpUg/3/gS0kzDnT2/cDqpFqBUUnnK5pjZutDgo01Tr0g6XbVrprZypBgO9AUU/EK+ErSyzLQzC5XkTkCfBR7fl/Smeh/qasOlPRp9DAkOgp8H5P9o6SriUAnMrOzgNdswNeSntcL9IYNAQ8kHYuXU5Y6u8ZIupldAO5I+nkOsNb8wjk/ljTZKFCSvMbSMrPSiOpNx9uAz3UP4IbfWSsdrcDH4eZuYHF46LCk47PT8S6wG9gbJmRhlfoPSLrhJvdERJs7E+S73dZKmnagsx8JB50UEHdY3+x0dIUEO2qcekTSr/OlY21I4N5dEJMwA6yX9CKejqkqGn8DemPPb0v6YrZXpyS1xYbsRD3AtZjsk5IuJQKdyMyGAa/ZnbNR0tN6gd6wXwAP8SfV0jGnxki6mV1xyf4ubdTkPue/Jf3TEJCMNZFRMQLtyNwqvaTrSkdHZry1MFM8bLLPgY5U8/SyeYHvncotb5b1A/t8c2QGg3sT2WBLBbD95PiGogr9Ej0Gbap8r4ZJ5kR+MPhW7WdGd5npEFaa15IE+YWW5uklf2S6/1N7OnfasG+Ad5KiAfyVzwYfVDQnlc71YTaA8Ntrvtq/y2eDgapdTZ0a60UMhjdvmcCgWDClJge7npSBqfRYYY5M6U/M/NqO1mQ+G7xf4VUH5rNBOXtviLQfzH0afizop0fZroOJQCdKpcfyUKrZFhTpfDgU/F4nMNcH9gPwLJ8Nls3xarUaI+mp9NhTg5GJbPBZQyb3OReayP17rutmHPga1PpCOk+zrlEAAAAASUVORK5CYII=",
                "view/res.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAoCAYAAAD6xArmAAADwUlEQVRIS+3WT2gcdRQH8O/b2SwNC7l4MAEPvbilUkoPOUmLjSDrZn4hxYKH/kGwyB4tQogiu/N+GymyoWguhVBQKKkHQTHsW9fUQwqKp4AgtMXkInhILl4CkoTdmSe/6XZp2pntLli8uMedt9/3mze/33yW8Jw+9Jxy0TeYmV8FcFVVTxPRiwA6AP5U1TvZbHapUqn8nrawxGBVJWvtNVWdJ6K05h1V/dhaW08KT/wRM1sAVQCRqn5JRLdyudw9Iora7faJKIrKqnrBNSWiahAEC0+GHwpm5utEdD+KopsuBMDbzPxt0oqstRdV9Za7lslkzlar1Z8erzsUHATBJhG93C34fmJi4ly5XG6nzTEIgjoRzanqkrX2amowM98F8Fq3wK34PWb+Ii14cXExv7e3V6hWq78+axQrANwt/kVEl5j5h0G2IzMfUdWCtfa3R/VPzvhTAG8AOM/MfwwYehTANwB+ZOYPE4ODIDhJRJvMvD9IqLW2GEXRbSJ6AcBtZr6UGPzoS2Y+lc/nt+bm5v5Oa2CtvaKqywC8bs06M7+eGszMn7nTBqDOzPNpwcvLyyPb29vfAZh2Naq6Za0tpAbXarUzURS53eGKL1trv0oKZ+a3AHytqplMJlOOoui4tfaDvqOw1lZUtabubBOtqOqN0dHRB/v7++62XwHwDoB33dkAUGPmoO92e/yitXZeVT8BkE1acbdpPQiCj4hIBw52hQsLC8c6nc77AN4E8FK3yQ4R/Qzgc2b+Je0ZDPU+fjiZp1eXFD5U8CB7u+/DGybgXxnFMA3/m1GISGwegNMAeuYBuON53lKpVBrePBG5RkTuSPc1b2ZmZnDzRKRnHoDYvIODg3u5XM69/E8AKAO40G1aNcb0N6/ZbF5X1fsAbjpInXnGmETzGo3GRdew+0DPGmPSzRORTQA988bHx89NTk6mmtdoNGLziGjJ9/1085rN5l1VPWSeMSbVvLW1tXwYhoXp6en+5olIbB6A2Dzf9wcyb319/cju7m5hdnY22TwRic3zPO98qVQayLxWq3U0DMPYPGNMsnmrq6snx8bGNqempgYyT0SKzjoAsXnGmP7mNZvNU9lsdqtYLKaaJyJXABwyzxiTbp6IxOYRUd33/VTzNjY2RnZ2dnrmAdgyxqSbJyJnAMTmEdFl3/cTzROR2DzHk6qWiei4Maa/eSJScZY99FRXPM+7MTIy8iAMQ6/dbsfmEVHPPGPM4OaJiBtDqnmuqfuL4Pv+8Oa1Wq1jYRg+ZR6A2DxjzP/mPRupfwAf56Q4urCh6QAAAABJRU5ErkJggg==",
                "view/tab_panel.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAABICAYAAADyMAW8AAAAcUlEQVRYR+3WsQ3AMAhE0TCMeyTvP1tShRQo7lxYegxA8fUPLuac97VhwuKXKhTlFxRQ9GPDClawYvGEDwxIZu7pFRZXr4ACinY1ghWsYMX/NxWQr22edyvGGHt6hcV1NqGAon8QVrCCFYteISDnBuQB3xJuQcDkEngAAAAASUVORK5CYII=",
                "view/btn_close.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAqCAYAAACz+XvQAAACmUlEQVRIS7WWS0/bUBCFz7mJmyZxENm06mNVoVZC7LqGn9FNqy55/BSWSEhs2/4uuqFVoA150JLKJvGdaiIH2TfXNoKQpeP5PHPO3GMTK/5xxTwsAUWkBeBZ+qAByb/Zh4pIA8CL9NqY5Dj7vw9YA/ABwDsAfwB8ITnUIhF5CuATgNcAfgH4RnJSCkwLl6AA/lXBtLZQQxFxoTr6q6LOFl2WmuJAtcY7ZuXIixsczfRyTlPfhpSN7BpwBeBtFdQLFJE2gI8AXi7GBBBl3Fdnv5L87XbpWxuFfQbw3NXM0dQLLdrDIH3ylGTiLLYB8CS9lpCc3tmU+xzL1Z9lEXl/n06KavjowCiK1uM4fqMd1Ov1s3a7fZntZjabtSeTiQYHgiC4aLVavZwpbofT6TQYDAaH1tod3bMwDHc7nc5PLZrNZmG/3z8WkS1jzGm32z1oNBqjUqD+6YM2m81xFWyeNkUaulAAlyKyWdTZbdqUmZKFakEVrLRDV7P5zY6m3rQp6tA1AMC5tXY7he51Op0fdwbGcdwdDodHWc2MMdcL9wGM1tbW9sMw/L6UNm6HChuNRifW2g1XM0dTL3TJZS1KkkTDFbVaLQqCIJcm6k0URRpxuvg39Xo9rtzDh5zt1Z/lXq+32rR5dKC1dt0YM08bAGd65BxN1ZB52ojIBcl82rgdWmsDkocAdgDoW22X5DxtSIZJkhyT3AJwCuCAZD5tfCP7oMaYcRVs/tAiDT1QHX2zqLPbtCkzxYFqjXfM3GKXAR3NtC6nqTccioAeA84BbCuU5B4Af9r4gCLSBXCU1UxErjPuj0Rk3xiznDYuMIWdANhwNXM09UKXXNai9LtQ9y4yxuS/XUijr9L0lXBDMp82j370HhJdWvsftiHJYFPSIqEAAAAASUVORK5CYII=",
                "comp/combobox.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABCCAYAAAA476rKAAACfElEQVR4Xu3bMYsTURQF4PMmExgIWkgEU5hskyJYxGYKY5VS7NzCylL8Bftj3NbKQjuxTBWbaUwhKdIYLCJotlACA5m8kQTZZZkkeN9dbuNJOXPPu/DN5ZHkMa7dbpfgx0TAEdvEedeE2HbWxDa0JjaxLQUMe3HPJrahQECrNE3RarUOJheLBbIsq9znZAdgJ0mC4XCIer1eSa/Xa4xGI+R5TuwA272RTqeDfr9fuTeZTDCfz/dmONkK/cFggGazebnCcrnEeDw+uCKxFdiNRmO3nURRBO/9bvtYrVbEVpgejXa7XfR6PUynU8xms6O1nGzlU3DO7fbu7V5dlsf/0yO2ElsSJ7ZES1lLbCWgJE5siZaylthKQEmc2BItZS2xlYCSOLElWspaYisBJXFiS7SUtcRWAkrixJZoKWuJrQSUxIkt0VLWElsJKIkTW6L1t5an6wFooRGerofKBeZ4uh4IFxrj6XqoXECOp+sBaJoIT9c1esIsT9eFYFbl/J5tJc13agyliU1sWwHDbtyziW0oYNiKk22JfXJ6xnfXjcDdFttnb43a/b9tovQ5iG30/IltBL1tQ2xiGwoYtuJkE9tQILBV/ugl4rh2MF1sPJJP59fuc7IDsTe37mHz8Bki+MoKHhFqn9+j9vs7sQN9K7G89xRx837levHzG5Lph8p1TrZK3iF//ApxdLVI4YFk/BpA9Uc5sVXYwObOCfyDJ3AoUcIh+vIRtYuve1clthJ7G8/7p4hv30Xx6weSybuDKxL7BrARxcjTF0iyN4AviH0Tpto1ONlaQUGe2AIsbSmxtYKCPLEFWNpSYmsFBXliC7C0pZfY2oWY/zeBP8uaLni/AFTVAAAAAElFTkSuQmCC",
                "comp/textinput.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAAWCAYAAACv8OArAAAAZElEQVRYR+3UQQkAMAwEwcZI/LtsoSL2NTGwMByZ3b3HJQIDO3H+EdidNezQGjbsUiBs+dmwQ4EwZdmwQ4EwZdmwQ4EwZdmwQ4EwZdmwQ4EwZdmwQ4EwZdmwQ4EwZdmwQ4Ew9QBe0R29X9x+dwAAAABJRU5ErkJggg==",
                "comp/vscroll.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAhCAYAAAA/F0BXAAAAOklEQVRIS2N8+OzVf2YWFgYmJiYGcgHjqCEYQTcaJpipaTRMRsOEmDJmNJ2MppPRdEJMCIymE2JCCQAYonwDuu2VMAAAAABJRU5ErkJggg==",
                "comp/vscroll$down.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAzCAYAAABxCePHAAAC/klEQVRIS+2WS0wTURSG/zszBcrLFVvjio0LiAqRRDAmGpRodFE1MQQQkOKGqBujRo3ExLjB4MaKgDzUaGQhvoJGYwAjYoioERcuDGxYEIwPkBY6nWvObXuLnXZaSklYOIu5M/fxzZn/nvPPsInJKa5qGhRFQaIH+w8xSbcymtTd+gBFYXAdyjM9sf7ORxgGR0t5/j9jpkhq2t5B0xQwBrgqNsnJ9V0j4BzQdQNtNYXWkKz0NDiaXkBTFTCFoaWmCHVtQ+AGh+4z0HNiO2bmPNYQGiXQvkuPoaqqiIgi8Pl8eHBqtwlA86MKS6Cy8z1gjIFzjqcXHBEBlpBgRNuOd+HVlYqogJiQIChcg/BtW5k8SaSSkxPJ5PRPTttHfkI7kcghIpn8NYfp33NLXp+TnYG1OWvA3ox9499nPSjdkCsgHJxOIjc43VMrugL9dEUD4Oj/PA4CsUfDX/jOjbmisHTDCCzi4t4QgLDrQF+qTYOmqhgYGw9BvLpv0ZNjQwieaU9b7ZCDriFhSt3VBSZNartHA6aUJ7SK+jqO5n5pSp1HiqSw1e3Di0ypwBpiU1XsudwnTanraDEqrg2GmZLbGkJh2jQVZY29JlPqPe03JX/uxLE7Nk3DjjP3pCn1Ne7HrNsjdYoLQsmWYtNQ3NCBgeZKzLrn/foEoogbQgvSUmz4454P7VQikGhpHzGSZdVOUqqYTGli6gemZ9yJ+0lSTalk/TrxtQOYaBnESbTinokev4UG+p+9/xoyJQKQn8x7vf7JjEFZ1FJBBvuC12RINIdAwtkIQuksnxgHhKBUZ6scQtLSNyiWJpav47z9STjbjfJ8k5iVN0eEs911bhZjUTWpbR+RztZ6uFBERNCq1rfS2e43lFhDsjPscDS9lM7W4dyCquuvpbM9PFkq0iHm7mSl2yP+bj05uxdeXZe5FHOL6Xdr17nQ79bziwew4NXFqwUTMiaEtKBPwtZjnRi8WgXPglfqsyQITc60pwpAeNpH1GRZtRM0pWVVcTJM6S+dYaRsIf025wAAAABJRU5ErkJggg==",
                "comp/vscroll$bar.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAA/CAYAAAAGyyO8AAABYElEQVRYR+2Wv0sDMRTH30tarCg6dRWnQnFT6OiqoP+tk+Cig+AiHayDiNSlg+jgD47K1US+Lwm5s4o/mkElN1xy73KfcF/efTi+Ht3Y0X1Btw8FffdoLy3QSnuZ+HhwZe+exrS13hGGJYsTWSszN0rJ1zHDDbJ0eDYkgHjv5Nxub3TIGEsTY/xDVq6NAN7MfW2u2aCG1nQ0GEZIOXmp7Pw5BPDF+VaGIGQfbM6k0ng5kw8/wF/eJzP5JInZkjg2CSS8zk6vCys7Wb8r5qqsncAP+pdR1Lu9rvgVT4uYg+3F+PCtAzjzu/taKdKKBSS2/wkEMBg/Q+rB50zqzZb7ZPoD/GeZ1HySxGxJHJsEEl5nc22VmCFalpFJTjLKNUtFxlDfP72IogYAP8PPZekWM5OqjErFWpjjbxprABJRA/JYjOOOX4Bgo6bWGYKsfMg5k+lmy5n8uUxm8kkSs6Vw7Cstibc9Fv5vWQAAAABJRU5ErkJggg==",
                "comp/vscroll$up.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAzCAYAAABxCePHAAADF0lEQVRIS92WTUhUURTHz31vPv0KKmkXrtxUGNomkCANLdCUpEatJFuIClIEFRl9kGH0BYWQElLpotGKEJXAtKQooYUFpi1axLQZMCyyZJqv926cM2/uTM288emoUHfx3v16v3fuuef+72Hume/c7/cBAwaLKWaLBZjLPc0Zk0CSJGBs4SDOObDP7i9ckuXkIbLJRJDFFrJk2SGNvZNwy7ExoZEJLWnqfQ+4SlUFaHNs0gXpQhq6x0GWGe0Y7oCicGivyYsLigup7XgFJlkCJjFwNm2HqrZR4CqHoKLC3fr8GFAMpPLqEJhMoZjpay6Bnx4vpKfYoLx1kCwKBlXoOV78BygGsudCH1nwtNVBgHBBUFFzL1n0+Gx5YghOxhINiAbFG1uZODESxf+bJShKrulv8HUusp1G/IBz1qTZIGvdamBjU584Aopzs+lbDhwfFFgc2/imLq0fazgAHF5MumBtuh3YwJsPfGdeNqgY1qqqfcSprRLgr7rWZzWbwCTL8HLKFYEEgkrUn+eHIDzNbltBSG33O+jcnxNZmrYcw5Yc7hoXotRenRPyz0IgBzrGYkTp9qEtxiEV10eEKD08Wgh7bzwTonSvIV/soK5jd53rE6I0eGY3/PL5wWYxQ+nFgShRKqK6LqTwhJNEafRKNQHCcWK3WmDHqR5NlMoSQzAWUV+9vkBMsKXYLCSbs3Oe+SGqqupGrIL3h3YclifYkjo7yZ7izIzUUGrhnvXAzA+PURkR8xCwPnMVsCUVpW0bsiCUKOH9S0980JvaLJSQUTal9Q+9/RgRJQSgnvgCgdBkxkCKektSpC9cR0HCOQgiZUMI3njijwYg+COzLP9rkLr7E3Dn4Gbhp7BPDC+n0TkhlK2zJpccuSBIfVdsutVdt9U4pLbjtVC2B0cKYN/N50LZHh0rFGGguztV14aFsvWfLiVhSrVboaSlXyjbk/NlBNKFVLT0k7INX3KAx+sXfkBlKzjpJItGLlcmhmSkptAB83h9MTuCICxBRUkMwUmY5+uFPY7LmJ7GW05SZycsSos9xUsmSr8BfgGeWI6+BgEAAAAASUVORK5CYII=",
                "comp/button.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAABFCAYAAAAPWmvdAAABA0lEQVR4Xu3ZMRGDUBRFwXwfKSgxFhfRgAbUxEakkCEO3qmX+p9m5w7NW9v7cz18I4EFbeT1fwxtbgYtmEGDVgRC458GLQiExNKgBYGQWBq0IBASS4MWBEJiadCCQEgsDVoQCImlQQsCIbE0aEEgJJZW0Pbj64Q3hFvQhmL3CQ8atLlAKCwNWhAIiaVBCwIhsTRoQSAklgYtCITE0qAFgZBYGrQgEBJLgxYEQmJp0IJASCwNWhAIiaUVtOfrdMIbwi1oQ7H7hAcN2lwgFJYGLQiExNKgBYGQWBq0IBASS4MWBEJiadCCQEgsDVoQCImlQQsCIbE0aEEgJJYGLQiExNIC2g/MxaMp6CSauwAAAABJRU5ErkJggg==",
                "view/bg_tool.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAMklEQVRYR+3QQREAAAjDMCYG/DsEGXxSBb2ke7YeiwECBAgQIECAAAECBAgQIEDgW+AAAeIuAVS/mngAAAAASUVORK5CYII=",
                "comp/minBtn.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAA8CAYAAAB1odqiAAAArUlEQVRYR+3X0QmAMAwE0GQN19B9nM193CmiIH7ZXOAoRc/fpjl8jVDdOj/eOc8USBcXqUjLAtDQRMSOdHb3JatTYCZUXodIy10bGxTI1Lx6/YA0Ima6W2tKFcjmdpGKtCow7NBAdxozy+804Gfx/cDqbLzWDzs0ekNY4B9nOMEehMKTVIEEyKeFSKmc18+MppRtipJuYPCa1SkwEyqvo6Tlxm8bFEijvBt9n/QA/fOPydLHcUIAAAAASUVORK5CYII=",
                "view/zoom_out.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAoCAYAAAD6xArmAAACy0lEQVRIS92WQU8TQRTH/28oQkj0CL0QOMAJQkz4DkS6A+GA+A00Hrhj0uy8NiTwEdBPAOrB0Fnq3U8g6gkOSjxUjpCQCu08M5u2qaVAt7YmOqfNZPa3b9/+Z35L6NOgPnHx98Gbm5sTlUplA0AGQBpACcBBKpXazmaz3+5607YVM/MjEXlNRPdbASJyTkRrzPz+Nvg1MDNPAvgI4AGA10qpvHPuSCk17ZwLAazV4HPM/PUmeDvwSwBPAbxl5sf+RmYWZo7XMvOehwPYYebnScAnAMaVUrNhGH5pBefz+Rnn3GcAJ8w8kQT8E8A9AEMA/HXrqM9fMrO/bjvataJvFdd7/IaZfS9/67ExZpeIngB4xczPklQ8KSKHPmoispdKpXKjo6PHp6enU5VKxXhoV6moVXhnjpVS5wDOwjD81K7qG7e033lXV1cviMjvvDEAP0TkYHBwcKtarT4UkXcALolo1RhTaIV3dVYYY9aIyOfZDw9fMcYUm+FdgWvtYgCmBisrpRbCMPxQh3cNbgM3zJzvCdhDcrncuojMA8gy8/eegTvO8U0Lk87/UY9ve9h/BI6iyJ+1GyLScB4RHQDYDoKgO+dFURSfFQCuOQ9A7LwgCJI5r1gsTlar1YbznHP5crl8NDw8PK2Uip3n4QMDA3OLi4udO89a23Ce1jp2nrVWtNbxh7bWxs4jop0gCDp3XhRFJyIy7pybXV5ejp3XDN7f359RSsXO01p37jxrbey8i4uLoZGRkWvOa5q/1Fp37rx+VtxwntY6dl5zK6Io2hWR2Hla686dV0vFoY+aP8xFJJdOp49LpdIUEZkaNHkqfIWd5JiIzkXkLAiCZM7zO09EYueJyBgRxc4joi0ADeeJyOrS0lJvnBdFkf8xbDhPKbWSyWR647xCocC+53XnAVjQWvfGeS1wo7XunfOstesA5pVS2Uwm8w877xeHf444cscwYAAAAABJRU5ErkJggg==",
                "view/refresh2.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAA/CAYAAAAPIIPGAAAEIElEQVRYR+2XTUhjVxTH/+fGpBrGT/xoBQdFFMMQLNLNbLooLbaFzqKMUhCSZwsuhGG6KCNd6DuRLgqzmGVxUd8LUrpoYWZTKO1yNi2F1oVtceEHflSLqNEav8bklPuqgsl75sUPSsucTQj33v895+R/7y+XcA1B16CJ/6GoYRiDItKfzWZjExMTv5/XtoLlx2Kxm0qp1wH0AHgTwC4RfWRZ1mdewp6ig4ODN9Lp9CMieh+AchH41Lbtj92EXUUHBgaCh4eH3wJ4zSObGSLqtSzrZ9+ihmF8CODR8YIflFL3MplMNxF9IiJWIBC4Pz4+/ldR5RuG8QuAlwGsAWi3bTsVj8dvAWhOJpPfFPK2a/mGYewDeAHAV7Zt9+aK9PX1VYRCoVcApNxa4CX6J4B6AE9t2341V9QwjO8AvAFg27btytxxL9EvAbynJxNRj2VZX58sjMfjd4joyT9D9NiyrHf9iup+/gggBCALQPfxVwARAO8cWywD4LZt2z/5EtWT+vv774rIBIBSlx/mmT5dyWTyC9+WOpkYi8XalVIPRKQbwItEpHv9PRE9tCzrt6IsVcgyhcYLnv1CAkWXfxFBxzEXXXipq+8imz7P9CJdO3+N754y86A+vYFAIDY8PHw58DHzTQB54DNNs3jwMfONY6R4go+Z/YNvbGwsuLKyci74APQys3/wMfMZ8InIPaVUt4g44AuHw/eHhoaKAx8znwEfM6dGR0dviUizaZoXA59pmvtE5ICPmfPAx8wVABzwubXA1VLM7IBPRJ4mEok88DHzKfiY2R/4mPkUfCLSk0gkTsHHzHdE5Immnog8TiQS/sDHzK7gE5EIEZ2CTyl1e2RkxD/4TNO8S0Su4BORZ0qpftM0iwefaZrtAB4QkQM+AA74ADxk5ufgc78CfV99xdy61yMajUbfAvA5gJeKycZj7gqADygajf5xRYIn+6xoUbmCDM9I/LuidXV1qK2txdzcHPb39ZPAOwpmGgqFUFFRgerqauczm81iaWkJa2v64eLhU6+eKqXQ1NTkZOcWq6urWF5edh1zzZSI0NbWhvLyctdFBwcHmJ2dxe7urn/R+vp6J0sd6XQaCwsLqKysRGNjI9bX17G4uIhMRr8jiig/EokgHA7j6OgIU1NTjkBZWRl0f7e2tgo60LX8rq4u/UjC5uamU2ZuBAIBZ1O9mVsLXEU7OztRUlKCnZ0dTE9P54nqfmsnaNHJycm8cVfRlpYW1NTUOJN1pjrjk6iqqkJra6vzNZVKYWZmxp+oLq2jo8NpgQ7dx729PZSWlkKL6hARpwr9Q+aGp/m12Zubm6H9mhtacH5+HhsbG/4tdTJTZ9bQ0OD0LxgMOm7Y3t6GNv55R7XgMS3oH5cJ/y3Rq775V3X5bx8zSv8DuWzoa2vgb5tumbHGlerDAAAAAElFTkSuQmCC",
                "view/settings2.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAA/CAYAAAAPIIPGAAAD2ElEQVRYR+1Xz08bRxT+ZjAGYQoH4rS9IBJBQJEsUC8VKNdQtamUE0fLayqhKHeOaGbFkT8gFVLZtXzk1qqKSs4NUg8RXCIQVoOQ2jRFHHCwBRj2VW+zttY/14BXVaPOyR7NfPN9771536xACEOEgImPDHRhYaHv/Pz8kEMVjUbjq6urxVZhayo/lUo9chzndTabfWMYxkMAGx7QrG3bL5LJ5B0p5f1MJvNz7QENQdPp9LdE9CMAZrcHYAaoxJ8AvARwD8AtAI9t2/7JD9wQdH5+/q7jOLzx04DqeCelnFlbW/s9EJQXGIbxq8eQ//4mhPieiJjlEwBf8qQQYtOyLFZRNeqYJpPJWCQSeUBEzz3JrwqFwvT6+vo575ybm4vGYrFNAF8AICnlbKlU2sxms4Uych2oYRh5AJ9UFggxb1mW5aeSTqfTRLTmm3tv2/bAVUCfWpb1zA9qGAaHwD/XGjQU+WVGHU0Ug4ZSUjXFnwMwXVP8nP1RAPG2i5/Z+q9pKpWaFUL8wvNE9FUmk9m48jWtLWavofztNZTb124oN2neH1mTvmoo/pcfHDGtdZ9nLbw4rrW+nvGZpvlISvl6aWnpjWmaD4nINT4hxKxS6sXy8vIdx3HuK6XaMz6ttWt8QohDInKNTwjhJtWzlJdCiHtEdEtK+VgpFWx8Wuu7RMQbWxofEb0TQsxordszPq11Q+MjoidCCNf4AGxqrYONb2VlJVYsFh84jvPck/yKW5/W2jU+rXWUwdj4OBQcYzbCxcXF5sanlMoLIaqMTylVZXymaVYZHxG9N02zufE1AH2qlKoyPqUUh6AyFwgaivzyVehoorxkdL6k/MUPIEdE0/7i5zcUGx8Rxdsufmbrv6ZKqSrjM01z48rXtLbFeA3FNT4At6/dUIJ7V/MV/6HOn0gkvgbwA4DPbyLZ2/sWwHcikUj82SHAMqe3DMrv+I6Ofw9USonJyUlXzfb2NhzHaamsKdPBwUGcnp7i7OwMAwMDGBsbc4H29vaQz+fR09OD3t5eHB8f1x3QEJQBR0dHcXFx4QL39/dXbTw5OXEBI5EIcrlcHXBDUGYxPj6O7u7uljJLpRJ2d3ddNf7RVD6DlhkWCgUcHrof0YjH44jFYu5vnt/Z2QmWz0lhsHIMi8Wiu/HDF6T7mMDExAT6+vjR8iHGHA5/8uqYTk1Noaurq3L6/v4+jo6OqtgMDQ1hZGSkMnd5eYmtra3K/0DQg4ODivTyLg7B8PBw+6ChyC8f39FEMWgoJRVK8TPbjl/T2mruWEO5SYMNo/P/xaDfeB712U3YeXv/ALDwD+TbY8Dbd9BBAAAAAElFTkSuQmCC",
                "view/setting.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAkCAYAAAC9itu8AAACAklEQVQ4T5XUS4iOcRTH8c9xCeVeiiiXhSJRJFIusRO2lEtZKFlgY6GxZDUrk2TFwii22JJLlERRLKRQJmXBkHIb8+hM/2d6ememed93957n93v+55zf9/mHll9VVTNxopTPR8T3piTyT1VVs7AL9zEd+4roOn5gK25HxLfacAjL8A8TWw6ta28jorc2LMLhIu7Ds2Jah4XlRVci4mNUVTUDadiLFF/G5GL4iyOYjxsYMnQ1BDfxujk0VmJPecFAO4bV2Nk05Bqzz3Za6ut86JJDx2vN4Hbj3hjBbcOt4eCaQZXUj5daT4pGoNFimI1zpdYVEf2jsTQX+5MX5NaOFdFFJHzJ2bWI+FJv6SRWYACTWliqa68ioqc2LMWpwtJ7PCymzVhSWOqOiHeZdPachqNIcXdBJV/2B6cLa5cwZLjQYOkqnuNsOeEM1uJgE43xDBsaH9QQfJ21VNBoHfpBaWHLiKGLoeO1ZnAHkpcxgkvOeoeDa0FjTnNLEfF1PJamYkcR3YmIX6OxNA35Kb7BFKwvoqf4jeV4GRE/azQ2Yh4GMaGFpbr2OSKe1Ibse1MRJ84fimkxMqc0Pc55MrjsOYvZRoofNW6/vPUSwEQ+2+tPQ14h9fX4Ap+aQ2MB1pQTB9sx5K24qmnorKWCRvtDF0PHa+0suBaW0ry91O5mus3n/wHmQwUTIH+tVgAAAABJRU5ErkJggg==",
                "view/refresh.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAkCAYAAAC9itu8AAACiElEQVQ4T4WVS4iPYRTGf4/7/X6XcivXcktEUhTKQkqyYCOKjWyUhezFThbIlJ3LYrIRkoWGUhhhTMko4zJujYRpxgxHj9737/P3zfh239c57/uc5/zO+UQ3T0QsBRYCtZI+5jBVx0fEcGA6MA+YCXQCVyXddWwlISL6ARuARcXvhQPrJF3/nRARvYHtwLRuFLYCFyW15ITl6XTHvwIuJzlrgHrgiqSOiqSI2ANMAL4BxyW1R8RYYKSkp8Vb8w2HgD7AE0kXSozoD0wC2nPCAWAw0CyppiRhBzAD6MgJW4D5KdDFNeSkiJgFbEvONeYE698N2K0ArPsDMAZwguN+AmeKfZgLbAb6llj7A7gk6eFfnY6I0cDKpNc1tQFNwG1JvvFPp0sKXQ2sAGokveuJpVHAHGBJ4ul76vLNapbs9dYk6R8oU7driyztA2Z3w5L1n5LUnBPWptMd/xw4l+RscsHAeeNSZMloTAG+AIcltUXERPdB0qMylk4klu5LOlni2ABgqm3Oko4BQ4Fnko6WJOxPzlXg2wV4hv2czuOYhmsBsDf1rD7fYP0HkyyzZN0twHjACZmlI0WWFgM7e2DprKQ71SyNA9YDBnFYcq0RuOZ5/h9LdsVS6yV97YmlgYDn2X3wjUa7QdKLapY8015ePrWMJVtembhewLI0YWU4eZvck/Q525pXo4M/AY+TLMP40u+SuooseVjsitm/IakzItz5QcXhKSZsBCyrpdjlwuZwfSO8mLOkdYAHqFXSrRKWvErtXFdOcJcnp0AX96ZwuldQ5uxtTrD+VUmWWXqfujwk8eQ4f68rsuRG+d/gZVb9eIk9kPS6miXvIv91rNc12TXPc5MkTyO/AFhJCujHqZlCAAAAAElFTkSuQmCC",
                "comp/checkbox.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAqCAYAAACDdWrxAAABbUlEQVRIS+2TP0gCURzHv88GRYsrExyOo5cEQVEtWdQQpE4N0R+HxmirXXCrKYigqMF2IRqCQByaLJqNIFpyUIzu4rIwpExODy88ITD/cJ603Rsf7/OGz+/zI5TSEAE20cZRgBMySKni8XrbwICrWAwG2ESZIadFS53J0R25brCyHZNud1vbcRuPV7fDAOu9GXJatNSZHN2R6wb/PfJCrxOZCR8Gbk6hWc6Xg8PrcgBETMIVPdIGSjYG/NoOSHcfkLqDK3qsBSRIrgRAuBF1quUPEUPhYGMwb2dhywrqQ3F0Dt++jSokJMBdhmDO52pB2WwFP7OK8rgH9os99IgppNf3QWwMFP4RNHKALrmoflIj53l6CaWpRcBkgiIkYHl6gDTrh5JJg57v/kJ1YOUixw7jfWELxMpAKUmAXAR7tg3LZ7am3IbjKDBOvPiDqkUmcoj+9H1d7k3nmHdweBubB70ON9wRzQH8pVVQb+Q/zZAEfpwDCU4AAAAASUVORK5CYII=",
                "comp/btn_close.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAA8CAYAAAB1odqiAAAE6UlEQVRYR+3Y30+bVRgH8G/T0t/0Jy0USrIsC0E2GMKAVYcRpmSbEzIGZhqyxCxeceGVF3pjvJl/wYyJWZYY4hZBFnBuBBUW2ewYAxlsSMiyLKH8aEt/0vZtSxvM+562We15C6jlxr53zfO8z+ec5z2nOTmCk598tY19fAQs+Hlvz76QX1zpAwd+1NMNXzieU1QtFeKbvn4CXvqgC95wLKegRirC1e8GCPjh+53wMnRwedkG54aLG4yhSI/ycnPawHaKJ5M1MhGuXR8k4MX3OnjBx3NPcLX3DPfepSu3odfrYC4r5X7bVlbhcrnT4kdrjlA7xYLffj9EwJ6udnhCW9TEJ08XUgWTqE6n5XLdbk9G7MjhKmodrbwAfQPDBLxw7h1ecH3dDq/Xm1GYrZqceXIgGo0GJSXFvOCNmz8RsLv9NNyhKO+icTqc8Pl8acDLyWyr1Wo1DEYDbw2dXIz+4TsE7DzbBneQH2SruDZc8Pv9GSiLqVQq6Iv0WVe5TiHG4K1RAnaceguuYCTrCx63G4FAgAoqlUpodbqs7+sVEgyN/ELAs20t2Ajwgz6vF6FgMGtL5QoF1BoNL1qklODW6DgBT518gxcM+P1gQqFdLRqZXA6lSkVFWXDk198I2NZyAs7NMDXR7XRmYBKZjMuNMEzmljHQF46hUIrR8XsEbG228IJ+T/rGFkskkMoVHBgOBRGNRNI2vkpL/5YsODZhJeCbJ47D4WeoM4wyDLai5PsWiCUQJ2aXTN4pnswzqmS4e+8BAZstDbxg1qW3hyALTlinCPh6Uz1C0Rg2w/S/tz3UpaYWSgsgF4twf3IagvOXr297PR5YGuv+bd2s71sfzkCj1ULQe+3u9vraGlg0lw+LlZhMEIzUNu7vmYYFmz/9LJeTS9We+PIymaGl6wLizo2cokJDEawDNxLg+W7EHTkGjUWw/tBPwOMdnYg7nNQZep4/Q2B9jYspS0zQHjyUlrdTPJksNBrwYGiQgE3vtiNup4O2SSuOzk5y7z2ubYKyuBiaAwe5394XzxGw29Pi5iYLdeDCYgMmfxxOgKfPIG53UBNt049SBVNo4g864HRmxMz1x3hAIybv3CZg49ttiK/bqYneFRuCLldGYTY5OfPkQBR6PTRl6cfIVEtLivHw51ECNrS2Ir62zrtKfWtrCHo8acDLyWyrFVot1CYTbw2hqQRTY2MJsLk5K8hW8TkcCPp8GSiHqdVQG41ZtxUHTkwQ8NhrFsRXyUrke3wuF0L+TSooVxVCrc9+iBKWmvDodysB65saEFtZ5cX8Hi+YQDBrS2VKBVRa/jONqKwU05NTBKyrexWxlRUquOnfBBNidrVoZHIZClWF1DqisjLMzPxBwNraasRsdHDD6c7ApDIJVzTMRDJiRQb6EUNkLsPs7DwBa6qrELPZqCNzu/1pG1siEUOhkHK5wWAYkUg0La7T0U9tIrMZc/MLBKw+XImtZTrIMBFEouQkIBEXQJaYXXJ0O8WTeQXlZsw/XSRg1SsVvGDWpbuHIAsu/LlEwMrKCsQDAcQ93j2U2H2qUKuBUKnE4uISBF9f/Hj7wJwVhyordl/hH2Q+W1zCixoLOdNUj98Ei+byYbH5lnPkmJhL6O+18/c0/1m38/c0qVbm72nYVuTvadgu5O9pUtsif0+Tv6dhF8P/657mLz4NfQVdLmZiAAAAAElFTkSuQmCC",
                "comp/textarea.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAAXCAYAAABkrDOOAAAA4klEQVRoQ+3ZvQrCMBiF4e9rU+sPOErRqxDRe/KG9Fp0EAc3VzuIg1ML4uDmlkaaquDenMUTyJoDD+8W3ZyKlaoshSeogHOy1m1euOmoI1EU+auqQUf/8XHnnBzLp3jsWdaVJEnEGEPsADXU2Ifro8Gej/uSpqnHruvmaVegqirZX+4N9mIy8Nh13XEct7vE18RaK7vzjdiIFoiNUH5vEJvYQAHgFMsmNlAAOMWyiQ0UAE6xbGIDBYBTLJvYQAHgFMsmNlAAOMWyiQ0UAE79lM2fmrDy358a/q6Hhf68ng175QueKdEXxUGVVwAAAABJRU5ErkJggg==",
                "view/re.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAoCAYAAAD6xArmAAACpklEQVRIS+WWPUgcQRiG3+8O70QEUwTB1EJgsTGdRRrhOMjOtEtSRbBIBMFKuCtkZleES2uRQoWQJggKKW7Of7GyTRvBLkVShhS73OXMfWGOU85Es7uXs0m2XeZh+OZ95xnCHX10R1ykBvu+P5fP59+VSqVvf9pUarBS6jWAR0Q0rbWOboP3BCaiOQAHAKTW+vtN8L8BW96W4zjPPM/78Ss8FlypVEYajYbHzALAJIAHALJdoDWl1Esi4m74rWBmpiAI5pk5AHAvJj0VrXU5Fmyhvu+/AfA8YRxfaa1LsWDf92eZeSMJlJnXtdYvEo1Ca30G4GEH/ImI1lqt1nE+nz9vNBrLnVTY39uO4zxNdHgrKytjzWbzs13FzKfDw8PFxcXF8HL3Nscd8BEAN3HcgiCYbLVaHyyIiGaUUm+7R9JzQZRSo0T0BUCGmRd831/tBttK53K5zXK5/DV1pZVSG0Q0C2BXa/0kySEmKojWeoiZD4hoKpvNTiwtLX1MC7+1IFrrQWZeJaJxx3EKN5186lF0LwiC4DEz31dKvU+z69i7Ig0stnm9wv4zsDGm7bxCodBf5xlj2s5j5mkpZf+c1wHPEdFBGIbS87z+OO8S3EnAVhRFvTnv8PBwpF6ve0QkiGiSmX9znuu66ZxXq9XmAcQ6j5krUspkzqvVaqmcJ4SId54xxl6ZiZwHYN113WTOq1arZ0R05TwAa5lM5rher5/ncrllAPYl1HZeFEXJnLe3tzd2cXHRdh6A04GBgWKxWLxyXlcqjqIochPHbWdn58p5AGaEENec13NB9vf3R5vNZtt5RLTguu4159lKA9gUQqR3njHGHpx9tOxKKfvnvGq1OmQrC2AKwIQQon/OOzk5GQzD0I5hPIqi/jvPGNN2npTyH3feTzoJOzgswwlqAAAAAElFTkSuQmCC",
                "view/search.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAqCAYAAABcOxDuAAABX0lEQVRIS+3VsUrEQBAG4H9HiDZiJQg+gJVaiKAoWClYXWeZ7D6CtbWFr5Ai2ayQxkLQRgsLGwtBUQsRC6sDCxHxEIvIZSRwxRGSu83pNUe23c0H+89kR2AISwzBxAiinuctCSH2AawD+AFwRkR7QRC85CO0ur5SaoOZzwGM54A3IlrJw1aolPIewEJJUY+01jvde31RKeUMgNceXdLSWk9VQl3XnSWiZhnKzF9RFE1WQrPDUsonAHNFsBDiJAzDRmXUdd1tIjoFMJaDW0KI1TAMH61RpdQ0Mx8z8zMzHxLRAYBlAG0Al2ma7hpjHqxbqgNeAJgHcKW1XutEMeE4Ttv3/axXC1dh9XPgbZqmW8aYd9t3ohCVUt4BWARwkyTJZhzHH7Zgdq4MvQbw7ThOw/f9zypgKVoVsS7UX+C+v+kgeI0Oklrvb0Yw03rwlZW8Hnz14OvqjXrw1e/pPyfwCww91CttlMG7AAAAAElFTkSuQmCC",
                "view/save.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAoCAYAAAD6xArmAAAA1klEQVRIS+2VzQ3DIAyFwxwdoMMAA/VQ8ZByyEBhmA7QOVxxKLIaOcIoSZUfrlifHw/wM91Ky6zE7SZgANTaDEDhzYJ5odSMC7nA5U7+b4X2dVQr3ic4hHCTlMcY33xPZUUGcwBvdEJwjcfGGIQQ4rd2qenWA3hyAUuABwCP31NtN+i1v02qP4DicRybM885J2ceB/NCyUupfuLxBS4WbmKF9rNUv4p9gq21d0l5SunF91RWZDAH8EYnBNd4nDPPWitnXst0I6Leez+feVowEQ3e+wNk3ge7C/Qp3GfwkgAAAABJRU5ErkJggg=="
            }
        }
        , "base64", function() {
            return this.base64 = new J(e.dataO)
        }
        ]);
        return e
    }();
    var O = function() {
        function h() {
            this.tShowObj = null;
            this.preValueO = {};
            this.div = null;
            this.debug_view = null;
            this.height = 300;
            this.clickedHandler = null;
            this.fromMe = false;
            this._treeDataList = null;
            this._init()
        }
        x(h, "laya.debug.DebugPanel");
        var t = h.prototype;
        t.removeNoDisplayKeys = function(t) {
            var e = 0;
            for (e = t.length - 1; e >= 0; e--) {
                if (h.noDisplayKeys[t[e]]) {
                    t.splice(e, 1)
                }
            }
        }
        ;
        t.updateShowKeys = function() {
            h.tObjKeys.length = 0;
            if (!this.tShowObj)
                return;
            h.tObjKeys = $.getObjectDisplayAbleKeys(this.tShowObj, h.tObjKeys);
            if (this.tShowObj == st.stage) {
                this.removeNoDisplayKeys(h.tObjKeys)
            }
            h.tObjKeys.sort(we.sortSmallFirst)
        }
        ;
        t._init = function() {
            var i = this;
            this.div = He.document.createElement("div");
            He.document.body.appendChild(this.div);
            this.clickedHandler = new b(this,this.onClickSelected);
            this.debug_view = He.window.layaair_debug_view;
            this.debug_view.initLayaAirDebugView(this.div);
            this.debug_view.tree.attachEvent("onSelect", function(t) {
                var e;
                e = i.getDataByID(t, i._treeDataList[0]);
                if (e.target) {
                    U.showDisBound(e.target);
                    i.showTargetInfo(e.target)
                }
            });
            this.debug_view.setValueChangeHandler(function(t, e) {
                i.onValueChange(t, e)
            });
            this.debug_view.onRefresh(function() {
                h.I.setRoot(st.stage)
            });
            this.debug_view.onInspectElement(function() {
                tt.I.beginClickSelect(i.clickedHandler)
            });
            this.debug_view.onLogInfo(function() {
                console.log(i.tShowObj)
            });
            this.debug_view.onPrintEnabledNodeChain(function() {
                U.traceDisMouseEnable(i.tShowObj)
            });
            this.debug_view.onPrintSizeChain(function() {
                U.traceDisSizeChain(i.tShowObj)
            });
            this.debug_view.onToggleVisibility(function(t) {
                if (i.tShowObj) {
                    i.tShowObj.visible = i.debug_view.getVisibility()
                }
            });
            this.debug_view.onToggleDebugBorder(function(t) {
                if (!i.tShowObj)
                    return;
                _t.showDisplayBorder(i.tShowObj, i.debug_view.getShowDebugBorder())
            });
            this.debug_view.onToggleShowCurrentCache(function(t) {
                Q.showRecacheSprite = i.debug_view.getShowCurrentCache()
            });
            this.debug_view.onToggleShowAllCache(function(t) {
                Q.showCacheSprite = i.debug_view.getShowAllCache()
            });
            this.debug_view.onToggleShowAtlas(function(t) {
                console.log("toggle show atlas:", i.debug_view.getShowAtlas());
                if (i.debug_view.getShowAtlas()) {
                    z.getInstance().start()
                } else {
                    z.getInstance().end()
                }
            });
            bt.showToBody(this.div, 0, 0);
            st.stage.on("resize", this, this.adptPos);
            this.adptPos()
        }
        ;
        t.onClickSelected = function(t) {
            var e;
            if (!this._treeDataList)
                return;
            this.debug_view.tree.selectItem(gt.getObjID(t));
            this.debug_view.bounceUpInspectButton()
        }
        ;
        t.updateLoop = function() {
            if (this.tShowObj) {
                this.showTargetInfo(this.tShowObj)
            }
        }
        ;
        t.onSelectItem = function(t) {
            var e;
            e = t.target;
            this.showTargetInfo(e)
        }
        ;
        t.onValueChange = function(t, e) {
            if (t["type"] == "number") {
                e = h.mParseFloat(e)
            }
            if (t["type"] == "boolean") {
                e = e.toString() == "true"
            }
            if (this.tShowObj) {
                var i;
                i = t["key"];
                this.preValueO[i] = this.tShowObj[i] = e
            }
        }
        ;
        t.showTargetInfo = function(t) {
            if (!t)
                return;
            this.debug_view.setVisibility(t.visible);
            this.debug_view.setShowDebugBorder(_t.isDisplayShowBorder(t));
            var e = 0
              , i = 0;
            i = h.tObjKeys.length;
            var n;
            if (this.tShowObj == t) {
                for (e = 0; e < i; e++) {
                    n = h.tObjKeys[e];
                    if (this.preValueO[n] != t[n]) {
                        this.debug_view.changeValueByLabel(n, t[n])
                    }
                }
            } else {
                this.tShowObj = t;
                this.updateShowKeys();
                var s;
                s = h.getObjectData(t);
                this.debug_view.setContents(s)
            }
            for (e = 0; e < i; e++) {
                n = h.tObjKeys[e];
                this.preValueO[n] = t[n]
            }
        }
        ;
        t.adptPos = function() {
            if (this.fromMe)
                return;
            this.fromMe = true;
            bt.setPos(this.div, 0, He.clientHeight - this.height);
            this.debug_view.resize(He.clientWidth, this.height);
            if (!h.overlay) {
                st.stage.setScreenSize(He.clientWidth * He.pixelRatio, (He.clientHeight - this.height) * He.pixelRatio)
            }
            this.fromMe = false
        }
        ;
        t.setRoot = function(t) {
            var e;
            e = h.getSpriteTreeArr(t);
            this._treeDataList = [e];
            var i;
            i = {};
            i.id = 0;
            i.item = [e];
            this.debug_view.setTree(i);
            st.timer.loop(500, this, this.updateLoop)
        }
        ;
        t.getDataByID = function(t, e) {
            if (!e)
                return null;
            if (t == e.id)
                return e;
            var i;
            i = e["item"];
            if (!i)
                return null;
            var n = 0
              , s = 0;
            s = i.length;
            var r;
            for (n = 0; n < s; n++) {
                r = this.getDataByID(t, i[n]);
                if (r)
                    return r
            }
            return null
        }
        ;
        t.getDataByTarget = function(t, e) {
            if (!e)
                return null;
            if (t == e.target)
                return e;
            var i;
            i = e["item"];
            if (!i)
                return null;
            var n = 0
              , s = 0;
            s = i.length;
            var r;
            for (n = 0; n < s; n++) {
                r = this.getDataByTarget(t, i[n]);
                if (r)
                    return r
            }
            return null
        }
        ;
        h.init = function(t, e) {
            t === void 0 && (t = true);
            e === void 0 && (e = "#ffffff");
            if (!h.I) {
                h.overlay = !t;
                H.init();
                U.initBasicFunctions();
                ft.init();
                _t.init();
                h.I = new h;
                h.I.setRoot(st.stage);
                Q.showRecacheSprite = false;
                if (e) {
                    h.I.div.style.background = e
                }
            }
        }
        ;
        h.getSpriteTreeArr = function(t) {
            var e;
            e = {};
            e["text"] = "" + $.getNodeClassAndName(t);
            e.target = t;
            gt.idObj(t);
            e.id = gt.getObjID(t);
            var i;
            i = t._childs;
            var n = 0
              , s = 0;
            s = i.length;
            var r;
            var a;
            a = [];
            e["item"] = a;
            for (n = 0; n < s; n++) {
                a.push(h.getSpriteTreeArr(i[n]))
            }
            return e
        }
        ;
        h.getObjectData = function(t) {
            var e;
            var i;
            var n;
            var s;
            var r;
            e = [];
            var a;
            a = h.tObjKeys;
            var o = 0
              , l = 0;
            l = a.length;
            for (o = 0; o < l; o++) {
                n = a[o];
                s = t[n];
                r = typeof s;
                if (n.charAt(0) == "_")
                    continue;
                if (h.displayTypes[r]) {
                    i = {};
                    i["key"] = n;
                    i["value"] = s;
                    i["type"] = r;
                    e.push(i)
                }
            }
            return e
        }
        ;
        h.mParseFloat = function(t) {
            var e = NaN;
            e = parseFloat(t);
            if (isNaN(e))
                return 0;
            return e
        }
        ;
        h.I = null;
        h.overlay = false;
        h.ChildrenSign = "item";
        h.LabelSign = "text";
        h.tObjKeys = [];
        u(h, ["displayTypes", function() {
            return this.displayTypes = {
                boolean: true,
                number: true,
                string: true
            }
        }
        , "displayKeys", function() {
            return this.displayKeys = [["x", "number"], ["y", "number"], ["width", "number"], ["width", "number"], ["width", "number"], ["width", "number"], ["width", "number"], ["width", "number"], ["width", "number"], ["width", "number"], ["width", "number"]]
        }
        , "noDisplayKeys", function() {
            return this.noDisplayKeys = {
                desginWidth: true,
                desginHeight: true
            }
        }
        ]);
        return h
    }();
    var U = function() {
        function a() {}
        x(a, "laya.debug.DebugTool");
        p(1, a, "target", function() {
            return a._target
        }, function(t) {
            a._target = t
        });
        p(1, a, "isThisShow", function() {
            return false
        });
        p(1, a, "showStatu", null, function(t) {
            if (t) {
                ii.show()
            } else {
                ii.hide();
                a.clearDebugLayer()
            }
        });
        p(1, a, "showBound", function() {
            return a._showBound
        }, function(t) {
            a._showBound = t;
            if (!a._showBound) {
                a.clearDebugLayer()
            }
        });
        a.getMenuShowEvent = function() {
            if (He.onMobile) {
                return "doubleclick"
            } else {
                return "rightclick"
            }
        }
        ;
        a.init = function(t, e, i, n, s) {
            t === void 0 && (t = true);
            e === void 0 && (e = true);
            i === void 0 && (i = true);
            n === void 0 && (n = true);
            s === void 0 && (s = false);
            a.enableCacheAnalyse = t;
            if (a.enableCacheAnalyse) {
                ft.init()
            }
            if (n) {
                _t.init()
            }
            a.enableNodeCreateAnalyse = i;
            if (a.enableNodeCreateAnalyse) {
                ct.I.hookClass(tn)
            }
            if (e) {
                zn.init()
            }
            Q.showCacheSprite = s;
            ps.init();
            a.initBasicFunctions()
        }
        ;
        a.initBasicFunctions = function() {
            ht.initMe();
            if (!a.debugLayer) {
                _s.init();
                a.debugLayer = _s.I.graphicLayer;
                a.debugLayer.mouseEnabled = false;
                a.debugLayer.mouseThrough = true;
                a.showStatu = true;
                st.stage.on("keydown", null, a.keyHandler);
                a.cmdToTypeO[1] = "IMAGE";
                a.cmdToTypeO[2] = "ALPHA";
                a.cmdToTypeO[4] = "TRANSFORM";
                a.cmdToTypeO[16] = "CANVAS";
                a.cmdToTypeO[512] = "GRAPHICS";
                a.cmdToTypeO[1024] = "CUSTOM";
                a.cmdToTypeO[2048] = "CHILDS";
                rt.export()
            }
        }
        ;
        a.dTrace = function(t) {
            if (a._traceFun != null) {
                a._traceFun(t)
            }
            console.log(t)
        }
        ;
        a.keyHandler = function(t) {
            var e;
            e = String.fromCharCode(t.keyCode);
            if (!t.altKey)
                return;
            switch (t.keyCode) {
            case 38:
                a.showParent();
                break;
            case 40:
                a.showChild();
                break;
            case 37:
                a.showBrother(a.target, 1);
                break;
            case 39:
                a.showBrother(a.target, -1);
                break
            }
            a.dealCMDKey(e)
        }
        ;
        a.dealCMDKey = function(t) {
            switch (t) {
            case "上":
                a.showParent();
                break;
            case "下":
                a.showChild();
                break;
            case "左":
                a.showBrother(a.target, 1);
                break;
            case "右":
                a.showBrother(a.target, -1);
                break;
            case "B":
                a.showAllBrother();
                break;
            case "C":
                a.showAllChild();
                break;
            case "E":
                a.traceDisMouseEnable();
                break;
            case "S":
                a.traceDisSizeChain();
                break;
            case "D":
                lt.downDis(a.target);
                break;
            case "U":
                lt.upDis(a.target);
                break;
            case "N":
                a.getNodeInfo();
                break;
            case "M":
                a.showAllUnderMosue();
                break;
            case "I":
                break;
            case "O":
                Er.I.show();
                break;
            case "L":
                ot.I.switchType();
                break;
            case "Q":
                a.showNodeInfo();
                break;
            case "F":
                a.showToolPanel();
                break;
            case "P":
                a.showToolFilter();
                break;
            case "V":
                a.selectNodeUnderMouse();
                break;
            case "A":
                if (Mr.I.target) {
                    xt.analyseNode(Mr.I.target)
                }
                break;
            case "K":
                $t.traceStage();
                break;
            case "T":
                a.switchNodeTree();
                break;
            case "R":
                Zr.I.show();
                break;
            case "X":
                Sa.I.fresh();
                break;
            case "mCMD":
                a.traceCMD();
                break;
            case "allCMD":
                a.traceCMDR();
                break
            }
        }
        ;
        a.switchNodeTree = function() {
            vs.I.switchShow("Tree")
        }
        ;
        a.analyseMouseHit = function() {
            if (a.target)
                xt.analyseNode(a.target)
        }
        ;
        a.selectNodeUnderMouse = function() {
            ht.instance.selectDisUnderMouse();
            a.showDisBound();
            return
        }
        ;
        a.showToolPanel = function() {
            vs.I.switchShow("Find")
        }
        ;
        a.showToolFilter = function() {
            vs.I.switchShow("Filter")
        }
        ;
        a.showNodeInfo = function() {
            if (ps.I.isWorkState) {
                ps.I.recoverNodes()
            } else {
                ps.I.showDisInfo(a.target)
            }
        }
        ;
        a.switchDisController = function() {
            if (ot.I.target) {
                ot.I.target = null
            } else {
                if (a.target) {
                    ot.I.target = a.target
                }
            }
        }
        ;
        a.showParent = function(t) {
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            a.target = t.parent;
            a.autoWork()
        }
        ;
        a.showChild = function(t) {
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            if (t.numChildren > 0) {
                a.target = t.getChildAt(0);
                a.autoWork()
            }
        }
        ;
        a.showAllChild = function(t) {
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            a.selectedNodes = lt.getAllChild(t);
            a.showSelected()
        }
        ;
        a.showAllUnderMosue = function() {
            a.selectedNodes = lt.getObjectsUnderGlobalPoint(st.stage);
            a.showSelected()
        }
        ;
        a.showParentChain = function(t) {
            if (!t)
                return;
            a.selectedNodes = [];
            var e;
            e = t.parent;
            while (e) {
                a.selectedNodes.push(e);
                e = e.parent
            }
            a.showSelected()
        }
        ;
        a.showAllBrother = function(t) {
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            if (!t.parent)
                return;
            a.selectedNodes = lt.getAllChild(t.parent);
            a.showSelected()
        }
        ;
        a.showBrother = function(t, e) {
            e === void 0 && (e = 1);
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            var i;
            i = t.parent;
            if (!i)
                return;
            var n = 0;
            n = i.getChildIndex(t);
            n += e;
            if (n < 0)
                n += i.numChildren;
            if (n >= i.numChildren)
                n -= i.numChildren;
            a.target = i.getChildAt(n);
            a.autoWork()
        }
        ;
        a.clearDebugLayer = function() {
            if (a.debugLayer.graphics)
                a.debugLayer.graphics.clear()
        }
        ;
        a.showSelected = function() {
            if (!a.autoShowSelected)
                return;
            if (!a.selectedNodes || a.selectedNodes.length < 1)
                return;
            console.log("selected:", a.selectedNodes);
            var t = 0;
            var e = 0;
            e = a.selectedNodes.length;
            a.clearDebugLayer();
            for (t = 0; t < e; t++) {
                a.showDisBound(a.selectedNodes[t], false)
            }
        }
        ;
        a.getClassCreateInfo = function(t) {
            return Gt.getRunInfo(t)
        }
        ;
        a.autoWork = function() {
            if (!a.isThisShow)
                return;
            if (a.showBound)
                a.showDisBound();
            if (a.autoTraceSpriteInfo && a.target) {
                Lt.traceSpriteInfo(a.target, a.autoTraceBounds, a.autoTraceSize, a.autoTraceTree)
            }
            if (!a.target)
                return;
            if (a.autoTraceCMD) {
                a.traceCMD()
            }
            if (a.autoTraceCMDR) {
                a.traceCMDR()
            }
            if (a.autoTraceEnable) {
                a.traceDisMouseEnable(a.target)
            }
        }
        ;
        a.traceDisMouseEnable = function(t) {
            console.log("----------------traceDisMouseEnable--------------------");
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            var e;
            e = [];
            a.selectedNodes = [];
            while (t) {
                e.push($.getNodeClassAndName(t) + ": mouseEnabled:" + t.mouseEnabled + " hitFirst:" + t.hitTestPrior);
                a.selectedNodes.push(t);
                t = t.parent
            }
            console.log(e.join("\n"));
            a.showSelected();
            return e.join("\n")
        }
        ;
        a.traceDisSizeChain = function(t) {
            console.log("---------------------traceDisSizeChain-------------------");
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            a.selectedNodes = [];
            var e;
            e = [];
            while (t) {
                e.push($.getNodeClassAndName(t) + ": x:" + t.x + " y:" + t.y + " w:" + t.width + " h:" + t.height + " scaleX:" + t.scaleX + " scaleY:" + t.scaleY);
                a.selectedNodes.push(t);
                t = t.parent
            }
            console.log(e.join("\n"));
            a.showSelected();
            return e.join("\n")
        }
        ;
        a.showDisBound = function(t, e, i) {
            e === void 0 && (e = true);
            i === void 0 && (i = "#ff0000");
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            if (e)
                a.clearDebugLayer();
            var n;
            n = t._getBoundPointsM(true);
            if (!n || n.length < 1)
                return;
            n = xe.pListToPointList(n, true);
            jt.walkArr(n, t.localToGlobal, t);
            n = xe.pointListToPlist(n);
            a._disBoundRec = Te._getWrapRec(n, a._disBoundRec);
            a.debugLayer.graphics.drawRect(a._disBoundRec.x, a._disBoundRec.y, a._disBoundRec.width, a._disBoundRec.height, null, i);
            _s.I.setTop()
        }
        ;
        a.showDisBoundToSprite = function(t, e, i, n) {
            i === void 0 && (i = "#ff0000");
            n === void 0 && (n = 1);
            var s;
            s = t._getBoundPointsM(true);
            if (!s || s.length < 1)
                return;
            s = xe.pListToPointList(s, true);
            jt.walkArr(s, t.localToGlobal, t);
            s = xe.pointListToPlist(s);
            a._disBoundRec = Te._getWrapRec(s, a._disBoundRec);
            e.graphics.drawRect(a._disBoundRec.x, a._disBoundRec.y, a._disBoundRec.width, a._disBoundRec.height, null, i, n)
        }
        ;
        a.getNodeInfo = function() {
            a.counter.reset();
            jt.walkTarget(st.stage, a.addNodeInfo);
            console.log("node info:");
            a.counter.traceSelf();
            return a.counter.data
        }
        ;
        a.findByClass = function(t) {
            a._classList = [];
            a._tFindClass = t;
            jt.walkTarget(st.stage, a.addClassNode);
            a.selectedNodes = a._classList;
            a.showSelected();
            return a._classList
        }
        ;
        a.addClassNode = function(t) {
            var e;
            e = t["constructor"].name;
            if (e == a._tFindClass) {
                a._classList.push(t)
            }
        }
        ;
        a.traceCMD = function(t) {
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return null
            }
            console.log("self CMDs:");
            console.log(t.graphics.cmds);
            var e;
            e = Pe.renders[t._renderType];
            console.log("renderSprite:", e);
            a._rSpList.length = 0;
            while (e && e["_sign"] > 0) {
                a._rSpList.push(a.cmdToTypeO[e["_sign"]]);
                e = e._next
            }
            console.log("fun:", a._rSpList.join(","));
            a.counter.reset();
            a.addCMDs(t.graphics.cmds);
            a.counter.traceSelf();
            return a.counter.data
        }
        ;
        a.addCMDs = function(t) {
            jt.walkArr(t, a.addCMD)
        }
        ;
        a.addCMD = function(t) {
            a.counter.add(t.callee)
        }
        ;
        a.traceCMDR = function(t) {
            if (!t)
                t = a.target;
            if (!t) {
                console.log("no targetAvalible");
                return 0
            }
            a.counter.reset();
            jt.walkTarget(t, a.getCMdCount);
            console.log("cmds include children");
            a.counter.traceSelf();
            return a.counter.data
        }
        ;
        a.getCMdCount = function(t) {
            if (!t)
                return 0;
            if (!(t instanceof laya.display.Sprite))
                return 0;
            if (!t.graphics.cmds)
                return 0;
            a.addCMDs(t.graphics.cmds);
            var e = t.graphics.cmds.length;
            return e
        }
        ;
        a.addNodeInfo = function(t) {
            var e;
            e = t["constructor"].name;
            a.counter.add(e)
        }
        ;
        a.find = function(t, e) {
            e === void 0 && (e = true);
            var i;
            i = a.findTarget(st.stage, t);
            a.selectedNodes = i;
            if (a.selectedNodes) {
                a.target = a.selectedNodes[0]
            }
            if (e)
                a.showSelected();
            return i
        }
        ;
        a.findByName = function(t) {
            a.nameFilter.name = t;
            return a.find(a.nameFilter)
        }
        ;
        a.findNameStartWith = function(t) {
            a.nameFilter.name = a.getStartWithFun(t);
            return a.find(a.nameFilter)
        }
        ;
        a.findNameHas = function(t, e) {
            e === void 0 && (e = true);
            a.nameFilter.name = a.getHasFun(t);
            return a.find(a.nameFilter, e)
        }
        ;
        a.getStartWithFun = function(e) {
            var t = function(t) {
                if (!t)
                    return false;
                if (t.indexOf(e) == 0)
                    return true;
                return false
            };
            return t
        }
        ;
        a.getHasFun = function(e) {
            var t = function(t) {
                if (!t)
                    return false;
                if (t.indexOf(e) >= 0)
                    return true;
                return false
            };
            return t
        }
        ;
        a.findTarget = function(t, e) {
            var i = [];
            if (a.isFit(t, e))
                i.push(t);
            var n = 0;
            var s = 0;
            var r;
            s = t.numChildren;
            for (n = 0; n < s; n++) {
                r = t.getChildAt(n);
                if (r instanceof laya.display.Sprite) {
                    i = i.concat(a.findTarget(r, e))
                }
            }
            return i
        }
        ;
        a.findClassHas = function(t, e) {
            var i = [];
            if ($.getClassName(t).indexOf(e) >= 0)
                i.push(t);
            var n = 0;
            var s = 0;
            var r;
            s = t.numChildren;
            for (n = 0; n < s; n++) {
                r = t.getChildAt(n);
                if (r instanceof laya.display.Sprite) {
                    i = i.concat(a.findClassHas(r, e))
                }
            }
            return i
        }
        ;
        a.isFit = function(t, e) {
            if (!t)
                return false;
            if (!e)
                return true;
            if (typeof e == "function") {
                return e(t)
            }
            var i;
            for (i in e) {
                if (typeof e[i] == "function") {
                    if (!e[i](t[i]))
                        return false
                } else {
                    if (t[i] != e[i])
                        return false
                }
            }
            return true
        }
        ;
        a.log = function(t) {
            var e = arguments;
            var i;
            i = ut.getArgArr(e);
            if (a._logFun != null) {
                a._logFun(i.join(" "))
            }
        }
        ;
        a.enableCacheAnalyse = false;
        a.enableNodeCreateAnalyse = true;
        a._traceFun = null;
        a.debugLayer = null;
        a._target = null;
        a.selectedNodes = [];
        a.autoShowSelected = true;
        a._showBound = true;
        a._disBoundRec = null;
        a.autoTraceEnable = false;
        a.autoTraceBounds = false;
        a.autoTraceSize = false;
        a.autoTraceTree = true;
        a.autoTraceCMD = true;
        a.autoTraceCMDR = false;
        a.autoTraceSpriteInfo = true;
        a._classList = null;
        a._tFindClass = null;
        a._rSpList = [];
        a._logFun = null;
        u(a, ["text", function() {
            return this.text = new ii
        }
        , "cmdToTypeO", function() {
            return this.cmdToTypeO = {}
        }
        , "counter", function() {
            return this.counter = new it
        }
        , "nameFilter", function() {
            return this.nameFilter = {
                name: "name"
            }
        }
        ]);
        return a
    }();
    var H = function() {
        function e() {}
        x(e, "laya.debug.divui.DivScripts");
        e.init = function() {
            var t;
            t = K.decodeToByte(e.data).readUTFBytes();
            st._runScript(t)
        }
        ;
        e.data = "ZnVuY3Rpb24gZGh0bWx4RXZlbnQoZSx0LGkpe2UuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIodCxpLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIrdCxpKX1mdW5jdGlvbiBkaHRtbFhUcmVlT2JqZWN0KGUsdCxpLG4pe2lmKGRodG1seEV2ZW50LmluaXRUb3VjaCYmZGh0bWx4RXZlbnQuaW5pdFRvdWNoKCksX2lzSUUpdHJ5e2RvY3VtZW50LmV4ZWNDb21tYW5kKCJCYWNrZ3JvdW5kSW1hZ2VDYWNoZSIsITEsITApfWNhdGNoKG8pe30ib2JqZWN0IiE9dHlwZW9mIGU/dGhpcy5wYXJlbnRPYmplY3Q9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk6dGhpcy5wYXJlbnRPYmplY3Q9ZSx0aGlzLnBhcmVudE9iamVjdC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIix0aGlzLl9pdGltX2RnPSEwLHRoaXMuZGxtdHI9IiwiLHRoaXMuZHJvcExvd2VyPSExLHRoaXMuZW5hYmxlSUVJbWFnZUZpeCghMCksdGhpcy54bWxzdGF0ZT0wLHRoaXMubXl0eXBlPSJ0cmVlIix0aGlzLnNtY2hlY2s9ITAsdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWksdGhpcy5yb290SWQ9bix0aGlzLmNoaWxkQ2FsYz1udWxsLHRoaXMuZGVmX2ltZ194PSIxOHB4Iix0aGlzLmRlZl9pbWdfeT0iMThweCIsdGhpcy5kZWZfbGluZV9pbWdfeD0iMThweCIsdGhpcy5kZWZfbGluZV9pbWdfeT0iMjRweCIsdGhpcy5fZHJhZ2dlZD1uZXcgQXJyYXksdGhpcy5fc2VsZWN0ZWQ9bmV3IEFycmF5LHRoaXMuc3R5bGVfcG9pbnRlcj0icG9pbnRlciIsdGhpcy5fYWltZ3M9ITAsdGhpcy5odG1sY0E9IiBbIix0aGlzLmh0bWxjQj0iXSIsdGhpcy5sV2luPXdpbmRvdyx0aGlzLmNNZW51PTAsdGhpcy5tbGl0ZW1zPTAsdGhpcy5pY29uVVJMPSIiLHRoaXMuZGFkbW9kZT0wLHRoaXMuc2xvd1BhcnNlPSExLHRoaXMuYXV0b1Njcm9sbD0hMCx0aGlzLmhmTW9kZT0wLHRoaXMubm9kZUN1dD1uZXcgQXJyYXksdGhpcy5YTUxzb3VyY2U9MCx0aGlzLlhNTGxvYWRpbmdXYXJuaW5nPTAsdGhpcy5faWRwdWxsPXt9LHRoaXMuX3B1bGxTaXplPTAsdGhpcy50cmVlTGluZXNPbj0hMCx0aGlzLnRzY2hlY2s9ITEsdGhpcy50aW1nZW49ITAsdGhpcy5kcGNweT0hMSx0aGlzLl9sZF9pZD1udWxsLHRoaXMuX2R5bkRlbGV0ZUJyYW5jaGVzPXt9LHRoaXMuX29pZV9vblhMRT1bXSx0aGlzLmltUGF0aD13aW5kb3cuZGh4X2dsb2JhbEltZ1BhdGh8fCIiLHRoaXMuY2hlY2tBcnJheT1uZXcgQXJyYXkoImljb25VbmNoZWNrQWxsLmdpZiIsImljb25DaGVja0FsbC5naWYiLCJpY29uQ2hlY2tHcmF5LmdpZiIsImljb25VbmNoZWNrRGlzLmdpZiIsImljb25DaGVja0Rpcy5naWYiLCJpY29uQ2hlY2tEaXMuZ2lmIiksdGhpcy5yYWRpb0FycmF5PW5ldyBBcnJheSgicmFkaW9fb2ZmLmdpZiIsInJhZGlvX29uLmdpZiIsInJhZGlvX29uLmdpZiIsInJhZGlvX29mZi5naWYiLCJyYWRpb19vbi5naWYiLCJyYWRpb19vbi5naWYiKSx0aGlzLmxpbmVBcnJheT1uZXcgQXJyYXkoImxpbmUyLmdpZiIsImxpbmUzLmdpZiIsImxpbmU0LmdpZiIsYmxhbmtfYmFzZTY0LGJsYW5rX2Jhc2U2NCwibGluZTEuZ2lmIiksdGhpcy5taW51c0FycmF5PW5ldyBBcnJheSgibWludXMyLmdpZiIsIm1pbnVzMy5naWYiLCJtaW51czQuZ2lmIiwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRWdBWUFKRUNBTEd2clo2ZG5mVDA5QUFBQUNINUJBRUFBQUlBTEFBQUFBQVNBQmdBQUFJY2xJK3B5KzBQbzV5MFdoc0NEV0IzbUdYZnd3SG1oYWJxeXJaVEFRQTciLCJtaW51czUuZ2lmIiksdGhpcy5wbHVzQXJyYXk9bmV3IEFycmF5KCJwbHVzMi5naWYiLCJwbHVzMy5naWYiLCJwbHVzNC5naWYiLCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFZ0FZQUpFQ0FLR2duN0d2cmZUMDlBQUFBQ0g1QkFFQUFBSUFMQUFBQUFBU0FCZ0FBQUljbEkrcHkrMFBvNXkwVW5CRHlIc0NMUUZmT0U2ZGhhYnF5clpKQVFBNyIsInBsdXM1LmdpZiIpLHRoaXMuaW1hZ2VBcnJheT1uZXcgQXJyYXkoImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEVnQVNBS0VDQUplWGw3R3ZyZi8vLy8vLy95SDVCQUVLQUFJQUxBQUFBQUFTQUJJQUFBSXpsSStwQXUyOURBaTAxamlUWFJuTm0zVEhCNDVCYUoyZXVsQm94TENTL0s2d09OODBYcHQ2citCOUhrU2FJSVdFS1EwRkFEcz0iLCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFZ0FTQUtFQ0FKZVhsN0d2cmYvLy8vLy8veUg1QkFFS0FBSUFMQUFBQUFBU0FCSUFBQUl6bEkrcHl3Y1BtM21oV2drQ3NqQk92VmtpbUVsRzlabENCbFhkKzJYampMS2c1R3FvZVpYcXZzT1FYSy9palVaVEtWVUZBRHM9IiwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRWdBU0FLRUNBSmVYbDdHdnJmLy8vLy8vL3lINUJBRUtBQUlBTEFBQUFBQVNBQklBQUFJd2xJK3B5d2NQbTNtaFdna0NzakJPdlZraW1FbEc5WmxDdVlJWTZUWXMrNmJtSERPNGlnZmREM0dOaGhlVjBWUUFBRHM9IiksdGhpcy5jdXRJbWc9bmV3IEFycmF5KDAsMCwwKSx0aGlzLmN1dEltYWdlPSJidXRfY3V0LmdpZiIsZGh4NC5fZXZlbnRhYmxlKHRoaXMpLHRoaXMuaHRtbE5vZGU9bmV3IGRodG1sWFRyZWVJdGVtT2JqZWN0KHRoaXMucm9vdElkLCIiLDAsdGhpcyksdGhpcy5odG1sTm9kZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5odG1sTm9kZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWU9ImhpZGRlblJvdyIsdGhpcy5hbGxUcmVlPXRoaXMuX2NyZWF0ZVNlbGYoKSx0aGlzLmFsbFRyZWUuYXBwZW5kQ2hpbGQodGhpcy5odG1sTm9kZS5odG1sTm9kZSksZGh0bWx4LiRjdXN0b21TY3JvbGwmJmRodG1seC5DdXN0b21TY3JvbGwuZW5hYmxlKHRoaXMpLF9pc0ZGJiYodGhpcy5hbGxUcmVlLmNoaWxkTm9kZXNbMF0ud2lkdGg9IjEwMCUiLHRoaXMuYWxsVHJlZS5jaGlsZE5vZGVzWzBdLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKTt2YXIgcj10aGlzO2lmKHRoaXMuYWxsVHJlZS5vbnNlbGVjdHN0YXJ0PW5ldyBGdW5jdGlvbigicmV0dXJuIGZhbHNlOyIpLF9pc01hY09TJiYodGhpcy5hbGxUcmVlLm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2RvQ29udENsaWNrKGV8fHdpbmRvdy5ldmVudCwhMCl9KSx0aGlzLmFsbFRyZWUub25tb3VzZWRvd249ZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2RvQ29udENsaWNrKGV8fHdpbmRvdy5ldmVudCl9LHRoaXMuWE1MTG9hZGVyPXRoaXMuX3BhcnNlWE1MVHJlZSxfaXNJRSYmdGhpcy5wcmV2ZW50SUVDYXNoaW5nKCEwKSx0aGlzLnNlbGVjdGlvbkJhcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLnNlbGVjdGlvbkJhci5jbGFzc05hbWU9InNlbGVjdGlvbkJhciIsdGhpcy5zZWxlY3Rpb25CYXIuaW5uZXJIVE1MPSImbmJzcDsiLHRoaXMuc2VsZWN0aW9uQmFyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuYWxsVHJlZS5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkJhciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7dHJ5e3IuZGVzdHJ1Y3RvcigpfWNhdGNoKGUpe319LCExKSx3aW5kb3cuYXR0YWNoRXZlbnQmJndpbmRvdy5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7dHJ5e3IuZGVzdHJ1Y3RvcigpfWNhdGNoKGUpe319KSx0aGlzLnNldEltYWdlc1BhdGg9dGhpcy5zZXRJbWFnZVBhdGgsdGhpcy5zZXRJY29uc1BhdGg9dGhpcy5zZXRJY29uUGF0aCx0aGlzLnNldFNraW4oIm1hdGVyaWFsIiksZGh0bWx4LmltYWdlX3BhdGgpe3ZhciBsPWRodG1seC5pbWFnZV9wYXRoLHM9dGhpcy5wYXJlbnRPYmplY3QuY2xhc3NOYW1lLm1hdGNoKC9kaHh0cmVlX2RoeF8oW2Etel9dKikvaSk7bnVsbCE9cyYmbnVsbCE9c1sxXSYmKGwrPSJkaHh0cmVlXyIrc1sxXSsiLyIpLHRoaXMuc2V0SW1hZ2VQYXRoKGwpfXJldHVybiB0aGlzfWZ1bmN0aW9uIGNPYmplY3QoKXtyZXR1cm4gdGhpc31mdW5jdGlvbiBkaHRtbFhUcmVlSXRlbU9iamVjdChlLHQsaSxuLG8scil7cmV0dXJuIHRoaXMuaHRtbE5vZGU9IiIsdGhpcy5hY29sb3I9IiIsdGhpcy5zY29sb3I9IiIsdGhpcy50cj0wLHRoaXMuY2hpbGRzQ291bnQ9MCx0aGlzLnRlbXBET01NPTAsdGhpcy50ZW1wRE9NVT0wLHRoaXMuZHJhZ1NwYW49MCx0aGlzLmRyYWdNb3ZlPTAsdGhpcy5zcGFuPTAsdGhpcy5jbG9zZWJsZT0xLHRoaXMuY2hpbGROb2Rlcz1uZXcgQXJyYXksdGhpcy51c2VyRGF0YT1uZXcgY09iamVjdCx0aGlzLmNoZWNrc3RhdGU9MCx0aGlzLnRyZWVOb2Q9bix0aGlzLmxhYmVsPXQsdGhpcy5wYXJlbnRPYmplY3Q9aSx0aGlzLmFjdGlvbkhhbmRsZXI9byx0aGlzLmltYWdlcz1uZXcgQXJyYXkobi5pbWFnZUFycmF5WzBdLG4uaW1hZ2VBcnJheVsxXSxuLmltYWdlQXJyYXlbMl0pLHRoaXMuaWQ9bi5fZ2xvYmFsSWRTdG9yYWdlQWRkKGUsdGhpcyksdGhpcy50cmVlTm9kLmNoZWNrQm94T2ZmP3RoaXMuaHRtbE5vZGU9dGhpcy50cmVlTm9kLl9jcmVhdGVJdGVtKDEsdGhpcyxyKTp0aGlzLmh0bWxOb2RlPXRoaXMudHJlZU5vZC5fY3JlYXRlSXRlbSgwLHRoaXMsciksdGhpcy5odG1sTm9kZS5vYmpCZWxvbmc9dGhpcyx0aGlzfWZ1bmN0aW9uIGpzb25Qb2ludGVyKGUsdCl7dGhpcy5kPWUsdGhpcy5kcD10fWZ1bmN0aW9uIGRoeF9pbml0X3RyZWVzKCl7Zm9yKHZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSx0PTA7dDxlLmxlbmd0aDt0KyspImRodG1seFRyZWUiPT1lW3RdLmNsYXNzTmFtZSYmZGh0bWxYVHJlZUZyb21IVE1MKGVbdF0pfXZhciBibGFua19iYXNlNjQ9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEVnQVNBSUFBQVAvLy8vLy8veUg1QkFVVUFBRUFMQUFBQUFBU0FCSUFBQUlQakkrcHkrMFBvNXkwMm91ejNwd1hBRHM9IjsidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdy5kaHgmJih3aW5kb3cuZGh4PXdpbmRvdy5kaHg0PXt2ZXJzaW9uOiI1LjAiLHNraW46bnVsbCxsYXN0SWQ6MSxuZXdJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RJZCsrfSx6aW06e2RhdGE6e30sc3RlcDo1LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIDEwMH0sbGFzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZmlyc3QoKTtmb3IodmFyIHQgaW4gdGhpcy5kYXRhKWU9TWF0aC5tYXgoZSx0aGlzLmRhdGFbdF0pO3JldHVybiBlfSxyZXNlcnZlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGFbZV09dGhpcy5sYXN0KCkrdGhpcy5zdGVwLHRoaXMuZGF0YVtlXX0sY2xlYXI6ZnVuY3Rpb24oZSl7bnVsbCE9dGhpcy5kYXRhW2VdJiYodGhpcy5kYXRhW2VdPW51bGwsZGVsZXRlIHRoaXMuZGF0YVtlXSl9fSxzMmI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1lLnRvTG93ZXJDYXNlKCkpLDE9PWV8fDE9PWV8fCJ0cnVlIj09ZXx8IjEiPT1lfHwieWVzIj09ZXx8InkiPT1lfHwib24iPT1lfSxzMmo6ZnVuY3Rpb24ocyl7dmFyIG9iaj1udWxsO2RoeDQudGVtcD1udWxsO3RyeXtldmFsKCJkaHg0LnRlbXA9IitzKX1jYXRjaChlKXtkaHg0LnRlbXA9bnVsbH1yZXR1cm4gb2JqPWRoeDQudGVtcCxkaHg0LnRlbXA9bnVsbCxvYmp9LGFic0xlZnQ6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSksdGhpcy5nZXRPZmZzZXQoZSkubGVmdH0sYWJzVG9wOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkpLHRoaXMuZ2V0T2Zmc2V0KGUpLnRvcH0sX2FPZnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsaT0wO2U7KXQrPXBhcnNlSW50KGUub2Zmc2V0VG9wKSxpKz1wYXJzZUludChlLm9mZnNldExlZnQpLGU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJue3RvcDp0LGxlZnQ6aX19LF9hT2ZzUmVjdDpmdW5jdGlvbihlKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9ZG9jdW1lbnQuYm9keSxuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxvPXdpbmRvdy5wYWdlWU9mZnNldHx8bi5zY3JvbGxUb3B8fGkuc2Nyb2xsVG9wLHI9d2luZG93LnBhZ2VYT2Zmc2V0fHxuLnNjcm9sbExlZnR8fGkuc2Nyb2xsTGVmdCxsPW4uY2xpZW50VG9wfHxpLmNsaWVudFRvcHx8MCxzPW4uY2xpZW50TGVmdHx8aS5jbGllbnRMZWZ0fHwwLGE9dC50b3Arby1sLGQ9dC5sZWZ0K3ItcztyZXR1cm57dG9wOk1hdGgucm91bmQoYSksbGVmdDpNYXRoLnJvdW5kKGQpfX0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdD90aGlzLl9hT2ZzUmVjdChlKTp0aGlzLl9hT2ZzKGUpfSxfaXNPYmo6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJiJvYmplY3QiPT10eXBlb2YgZSYmInVuZGVmaW5lZCI9PXR5cGVvZiBlLmxlbmd0aH0sX2NvcHlPYmo6ZnVuY3Rpb24oZSl7aWYodGhpcy5faXNPYmooZSkpe3ZhciB0PXt9O2Zvcih2YXIgaSBpbiBlKSJvYmplY3QiPT10eXBlb2YgZVtpXSYmbnVsbCE9ZVtpXT90W2ldPXRoaXMuX2NvcHlPYmooZVtpXSk6dFtpXT1lW2ldfWVsc2UgZm9yKHZhciB0PVtdLGk9MDtpPGUubGVuZ3RoO2krKykib2JqZWN0Ij09dHlwZW9mIGVbaV0mJm51bGwhPWVbaV0/dFtpXT10aGlzLl9jb3B5T2JqKGVbaV0pOnRbaV09ZVtpXTtyZXR1cm4gdH19LHdpbmRvdy5kaHg0LmlzSUU9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIik+PTB8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiVHJpZGVudCIpPj0wLHdpbmRvdy5kaHg0LmlzSUU2PW51bGw9PXdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIik+PTAsd2luZG93LmRoeDQuaXNJRTc9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDcuMCIpPj0wJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlRyaWRlbnQiKTwwLHdpbmRvdy5kaHg0LmlzSUU4PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA4LjAiKT49MCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJUcmlkZW50Iik+PTAsd2luZG93LmRoeDQuaXNJRTk9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkuMCIpPj0wJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlRyaWRlbnQiKT49MCx3aW5kb3cuZGh4NC5pc0lFMTA9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDEwLjAiKT49MCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJUcmlkZW50Iik+PTAmJjEhPXdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQsd2luZG93LmRoeDQuaXNJRTExPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiVHJpZGVudCIpPj0wJiYxPT13aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkLHdpbmRvdy5kaHg0LmlzRWRnZT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkVkZ2UiKT49MCx3aW5kb3cuZGh4NC5pc09wZXJhPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiT3BlcmEiKT49MCx3aW5kb3cuZGh4NC5pc0Nocm9tZT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkNocm9tZSIpPj0wJiYhd2luZG93LmRoeDQuaXNFZGdlLHdpbmRvdy5kaHg0LmlzS0hUTUw9KG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+PTB8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiS29ucXVlcm9yIik+PTApJiYhd2luZG93LmRoeDQuaXNFZGdlLHdpbmRvdy5kaHg0LmlzRkY9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94Iik+PTAsd2luZG93LmRoeDQuaXNJUGFkPW5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9pUGFkL2dpKT49MCx3aW5kb3cuZGh4NC5kbmQ9e2V2czp7fSxwX2VuOih3aW5kb3cuZGh4NC5pc0lFfHx3aW5kb3cuZGh4NC5pc0VkZ2UpJiYod2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZHx8d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSxfbVRvdWNoOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuZGh4NC5pc0lFMTAmJmUucG9pbnRlclR5cGU9PWUuTVNQT0lOVEVSX1RZUEVfTU9VU0V8fHdpbmRvdy5kaHg0LmlzSUUxMSYmIm1vdXNlIj09ZS5wb2ludGVyVHlwZXx8d2luZG93LmRoeDQuaXNFZGdlJiYibW91c2UiPT1lLnBvaW50ZXJUeXBlfSxfdG91Y2hPbjpmdW5jdGlvbihlKXtudWxsPT1lJiYoZT1kb2N1bWVudC5ib2R5KSxlLnN0eWxlLnRvdWNoQWN0aW9uPWUuc3R5bGUubXNUb3VjaEFjdGlvbj0iIixlPW51bGx9LF90b3VjaE9mZjpmdW5jdGlvbihlKXtudWxsPT1lJiYoZT1kb2N1bWVudC5ib2R5KSxlLnN0eWxlLnRvdWNoQWN0aW9uPWUuc3R5bGUubXNUb3VjaEFjdGlvbj0ibm9uZSIsZT1udWxsfX0sMT09d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZD93aW5kb3cuZGh4NC5kbmQuZXZzPXtzdGFydDoicG9pbnRlcmRvd24iLG1vdmU6InBvaW50ZXJtb3ZlIixlbmQ6InBvaW50ZXJ1cCJ9OjE9PXdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD93aW5kb3cuZGh4NC5kbmQuZXZzPXtzdGFydDoiTVNQb2ludGVyRG93biIsbW92ZToiTVNQb2ludGVyTW92ZSIsZW5kOiJNU1BvaW50ZXJVcCJ9OiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJih3aW5kb3cuZGh4NC5kbmQuZXZzPXtzdGFydDoidG91Y2hzdGFydCIsbW92ZToidG91Y2htb3ZlIixlbmQ6InRvdWNoZW5kIn0pKSwidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdy5kaHg0Ll9ldmVudGFibGUmJih3aW5kb3cuZGh4NC5fZXZlbnRhYmxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuImNsZWFyIj09dD8oZS5kZXRhY2hBbGxFdmVudHMoKSxlLmRoeGV2cz1udWxsLGUuYXR0YWNoRXZlbnQ9bnVsbCxlLmRldGFjaEV2ZW50PW51bGwsZS5jaGVja0V2ZW50PW51bGwsZS5jYWxsRXZlbnQ9bnVsbCxlLmRldGFjaEFsbEV2ZW50cz1udWxsLHZvaWQoZT1udWxsKSk6KGUuZGh4ZXZzPXtkYXRhOnt9fSxlLmF0dGFjaEV2ZW50PWZ1bmN0aW9uKGUsdCl7ZT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKSx0aGlzLmRoeGV2cy5kYXRhW2VdfHwodGhpcy5kaHhldnMuZGF0YVtlXT17fSk7dmFyIGk9d2luZG93LmRoeDQubmV3SWQoKTtyZXR1cm4gdGhpcy5kaHhldnMuZGF0YVtlXVtpXT10LGl9LGUuZGV0YWNoRXZlbnQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuZGh4ZXZzLmRhdGEpe3ZhciBpPTA7Zm9yKHZhciBuIGluIHRoaXMuZGh4ZXZzLmRhdGFbdF0pbj09ZT8odGhpcy5kaHhldnMuZGF0YVt0XVtuXT1udWxsLGRlbGV0ZSB0aGlzLmRoeGV2cy5kYXRhW3RdW25dKTppKys7MD09aSYmKHRoaXMuZGh4ZXZzLmRhdGFbdF09bnVsbCxkZWxldGUgdGhpcy5kaHhldnMuZGF0YVt0XSl9fSxlLmNoZWNrRXZlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCksbnVsbCE9dGhpcy5kaHhldnMuZGF0YVtlXX0sZS5jYWxsRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZihlPVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpLG51bGw9PXRoaXMuZGh4ZXZzLmRhdGFbZV0pcmV0dXJuITA7dmFyIGk9ITA7Zm9yKHZhciBuIGluIHRoaXMuZGh4ZXZzLmRhdGFbZV0paT10aGlzLmRoeGV2cy5kYXRhW2VdW25dLmFwcGx5KHRoaXMsdCkmJmk7cmV0dXJuIGl9LGUuZGV0YWNoQWxsRXZlbnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuZGh4ZXZzLmRhdGEpe2Zvcih2YXIgdCBpbiB0aGlzLmRoeGV2cy5kYXRhW2VdKXRoaXMuZGh4ZXZzLmRhdGFbZV1bdF09bnVsbCxkZWxldGUgdGhpcy5kaHhldnMuZGF0YVtlXVt0XTt0aGlzLmRoeGV2cy5kYXRhW2VdPW51bGwsZGVsZXRlIHRoaXMuZGh4ZXZzLmRhdGFbZV19fSx2b2lkKGU9bnVsbCkpfSxkaHg0Ll9ldmVudGFibGUoZGh4NCkpLCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93LmRodG1seCYmKHdpbmRvdy5kaHRtbHg9e2V4dGVuZDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaSBpbiB0KWVbaV18fChlW2ldPXRbaV0pO3JldHVybiBlfSxleHRlbmRfYXBpOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj13aW5kb3dbZV07biYmKHdpbmRvd1tlXT1mdW5jdGlvbihlKXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUmJiFlLnRhZ05hbWUpe3ZhciBpPW4uYXBwbHkodGhpcyx0Ll9pbml0P3QuX2luaXQoZSk6YXJndW1lbnRzKTtmb3IodmFyIG8gaW4gZGh0bWx4KXRbb10mJnRoaXNbdFtvXV0oZGh0bWx4W29dKTtmb3IodmFyIG8gaW4gZSl0W29dP3RoaXNbdFtvXV0oZVtvXSk6MD09PW8uaW5kZXhPZigib24iKSYmdGhpcy5hdHRhY2hFdmVudChvLGVbb10pfWVsc2UgdmFyIGk9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQuX3BhdGNoJiZ0Ll9wYXRjaCh0aGlzKSxpfHx0aGlzfSx3aW5kb3dbZV0ucHJvdG90eXBlPW4ucHJvdG90eXBlLGkmJmRodG1seC5leHRlbmQod2luZG93W2VdLnByb3RvdHlwZSxpKSl9LHVybDpmdW5jdGlvbihlKXtyZXR1cm4tMSE9ZS5pbmRleE9mKCI/Iik/IiYiOiI/In19KSxfaXNGRj0hMSxfaXNJRT0hMSxfaXNPcGVyYT0hMSxfaXNLSFRNTD0hMSxfaXNNYWNPUz0hMSxfaXNDaHJvbWU9ITEsX0ZGcnY9ITEsX0tIVE1McnY9ITEsX09wZXJhUnY9ITEsLTEhPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTWFjaW50b3NoIikmJihfaXNNYWNPUz0hMCksbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImNocm9tZSIpPi0xJiYoX2lzQ2hyb21lPSEwKSwtMSE9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKXx8LTEhPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiS29ucXVlcm9yIik/KF9LSFRNTHJ2PXBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zdWJzdHIobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSs3LDUpKSxfS0hUTUxydj41MjU/KF9pc0ZGPSEwLF9GRnJ2PTEuOSk6X2lzS0hUTUw9ITApOi0xIT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk9wZXJhIik/KF9pc09wZXJhPSEwLF9PcGVyYVJ2PXBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zdWJzdHIobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJPcGVyYSIpKzYsMykpKTotMSE9bmF2aWdhdG9yLmFwcE5hbWUuaW5kZXhPZigiTWljcm9zb2Z0Iik/KF9pc0lFPSEwLCgtMSE9bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZigiTVNJRSA4LjAiKXx8LTEhPW5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIk1TSUUgOS4wIil8fC0xIT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJNU0lFIDEwLjAiKXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPjcpJiYiQmFja0NvbXBhdCIhPWRvY3VtZW50LmNvbXBhdE1vZGUmJihfaXNJRT04KSk6Ik5ldHNjYXBlIj09bmF2aWdhdG9yLmFwcE5hbWUmJi0xIT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlRyaWRlbnQiKT9faXNJRT04OihfaXNGRj0hMCxfRkZydj1wYXJzZUZsb2F0KG5hdmlnYXRvci51c2VyQWdlbnQuc3BsaXQoInJ2OiIpWzFdKSksInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cuZGh0bWx4RXZlbnQsbnVsbD09ZGh0bWx4RXZlbnQudG91Y2hEZWxheSYmKGRodG1seEV2ZW50LnRvdWNoRGVsYXk9MmUzKSwidW5kZWZpbmVkIj09dHlwZW9mIGRodG1seEV2ZW50LmluaXRUb3VjaCYmKGRodG1seEV2ZW50LmluaXRUb3VjaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihpKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO2UuaW5pdEV2ZW50KCJkYmxjbGljayIsITAsITApLGkuZGlzcGF0Y2hFdmVudChlKSx0PWk9bnVsbH19dmFyIHQsaSxuLG87ZGh0bWx4RXZlbnQoZG9jdW1lbnQuYm9keSwidG91Y2hzdGFydCIsZnVuY3Rpb24ocil7aT1yLnRvdWNoZXNbMF0udGFyZ2V0LG49ci50b3VjaGVzWzBdLmNsaWVudFgsbz1yLnRvdWNoZXNbMF0uY2xpZW50WSx0PXdpbmRvdy5zZXRUaW1lb3V0KGUsZGh0bWx4RXZlbnQudG91Y2hEZWxheSl9KSxkaHRtbHhFdmVudChkb2N1bWVudC5ib2R5LCJ0b3VjaG1vdmUiLGZ1bmN0aW9uKGUpe3QmJihNYXRoLmFicyhlLnRvdWNoZXNbMF0uY2xpZW50WC1uKT41MHx8TWF0aC5hYnMoZS50b3VjaGVzWzBdLmNsaWVudFktbyk+NTApJiYod2luZG93LmNsZWFyVGltZW91dCh0KSx0PWk9ITEpfSksZGh0bWx4RXZlbnQoZG9jdW1lbnQuYm9keSwidG91Y2hlbmQiLGZ1bmN0aW9uKGUpe3QmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHQpLHQ9aT0hMSl9KSxkaHRtbHhFdmVudC5pbml0VG91Y2g9ZnVuY3Rpb24oKXt9fSksZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2RvQ29udENsaWNrPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJjIhPWUuYnV0dG9uKXJldHVybiB0aGlzLl9hY01lbnUmJih0aGlzLl9hY01lbnUuaGlkZUNvbnRleHRNZW51P3RoaXMuX2FjTWVudS5oaWRlQ29udGV4dE1lbnUoKTp0aGlzLmNNZW51Ll9jb250ZXh0RW5kKCkpLCEwO2Zvcih2YXIgaT1faXNJRT9lLnNyY0VsZW1lbnQ6ZS50YXJnZXQ7aSYmIkJPRFkiIT1pLnRhZ05hbWUmJiFpLnBhcmVudE9iamVjdDspaT1pLnBhcmVudE5vZGU7aWYoIWl8fCFpLnBhcmVudE9iamVjdClyZXR1cm4hMDt2YXIgbj1pLnBhcmVudE9iamVjdDtpZih0aGlzLmNhbGxFdmVudCgib25SaWdodENsaWNrIixbbi5pZCxlXSl8fCgoZS5zcmNFbGVtZW50fHxlLnRhcmdldCkub25jb250ZXh0bWVudT1mdW5jdGlvbihlKXtyZXR1cm4oZXx8ZXZlbnQpLmNhbmNlbEJ1YmJsZT0hMCwhMX0pLHRoaXMuX2FjTWVudT1uLmNNZW51fHx0aGlzLmNNZW51LHRoaXMuX2FjTWVudSl7aWYoIXRoaXMuY2FsbEV2ZW50KCJvbkJlZm9yZUNvbnRleHRNZW51Iixbbi5pZF0pKXJldHVybiEwO2lmKF9pc01hY09TfHwoKGUuc3JjRWxlbWVudHx8ZS50YXJnZXQpLm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fGV2ZW50KS5jYW5jZWxCdWJibGU9ITAsITF9KSx0aGlzLl9hY01lbnUuc2hvd0NvbnRleHRNZW51KXt2YXIgbz13aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHI9d2luZG93LmRvY3VtZW50LmJvZHksbD1uZXcgQXJyYXkoby5zY3JvbGxMZWZ0fHxyLnNjcm9sbExlZnQsby5zY3JvbGxUb3B8fHIuc2Nyb2xsVG9wKTtpZihfaXNJRSl2YXIgcz1lLmNsaWVudFgrbFswXSxhPWUuY2xpZW50WStsWzFdO2Vsc2UgdmFyIHM9ZS5wYWdlWCxhPWUucGFnZVk7dGhpcy5fYWNNZW51LnNob3dDb250ZXh0TWVudShzLTEsYS0xKSx0aGlzLmNvbnRleHRJRD1uLmlkLGUuY2FuY2VsQnViYmxlPSEwLHRoaXMuX2FjTWVudS5fc2tpcF9oaWRlPSEwfWVsc2UgaS5jb250ZXh0TWVudUlkPW4uaWQsaS5jb250ZXh0TWVudT10aGlzLl9hY01lbnUsaS5hPXRoaXMuX2FjTWVudS5fY29udGV4dFN0YXJ0LGkuYShpLGUpLGkuYT1udWxsO3JldHVybiExfXJldHVybiEwfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5lbmFibGVJRUltYWdlRml4PWZ1bmN0aW9uKGUpe2U/KHRoaXMuX2dldEltZz1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpO3JldHVybiBlLmlubmVySFRNTD0iJm5ic3A7IixlLmNsYXNzTmFtZT0iZGh4X2JnX2ltZ19maXgiLGV9LHRoaXMuX3NldFNyYz1mdW5jdGlvbihlLHQpe2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIit0KyIpIn0sdGhpcy5fZ2V0U3JjPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3R5bGUuYmFja2dyb3VuZEltYWdlO3JldHVybiB0LnN1YnN0cig0LHQubGVuZ3RoLTUpLnJlcGxhY2UoLyheIil8KCIkKS9nLCIiKX0pOih0aGlzLl9nZXRJbWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZT09dGhpcy5yb290SWQ/ImRpdiI6ImltZyIpfSx0aGlzLl9zZXRTcmM9ZnVuY3Rpb24oZSx0KXtlLnNyYz10fSx0aGlzLl9nZXRTcmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3JjfSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmRlc3RydWN0b3I9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5faWRwdWxsKXt2YXIgdD10aGlzLl9pZHB1bGxbZV07dCYmKHQucGFyZW50T2JqZWN0PW51bGwsdC50cmVlTm9kPW51bGwsdC5jaGlsZE5vZGVzPW51bGwsdC5zcGFuPW51bGwsdC50ci5ub2RlbT1udWxsLHQudHI9bnVsbCx0Lmh0bWxOb2RlLm9iakJlbG9uZz1udWxsLHQuaHRtbE5vZGU9bnVsbCx0aGlzLl9pZHB1bGxbZV09bnVsbCl9dGhpcy5wYXJlbnRPYmplY3QuaW5uZXJIVE1MPSIiLHRoaXMuYWxsVHJlZS5vbnNlbGVjdHN0YXJ0PW51bGwsdGhpcy5hbGxUcmVlLm9uY29udGV4dG1lbnU9bnVsbCx0aGlzLmFsbFRyZWUub25tb3VzZWRvd249bnVsbDtmb3IodmFyIGUgaW4gdGhpcyl0aGlzW2VdPW51bGx9LGNPYmplY3QucHJvdG90eXBlPW5ldyBPYmplY3QsY09iamVjdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZT10aGlzLG5ldyBlfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fZ2xvYmFsSWRTdG9yYWdlQWRkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSwxLDEpPyhlPWUrIl8iKyhuZXcgRGF0ZSkudmFsdWVPZigpLHRoaXMuX2dsb2JhbElkU3RvcmFnZUFkZChlLHQpKToodGhpcy5faWRwdWxsW2VdPXQsdGhpcy5fcHVsbFNpemUrKyxlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2dsb2JhbElkU3RvcmFnZVN1Yj1mdW5jdGlvbihlKXt0aGlzLl9pZHB1bGxbZV0mJih0aGlzLl91bnNlbGVjdEl0ZW0odGhpcy5faWRwdWxsW2VdKSx0aGlzLl9pZHB1bGxbZV09bnVsbCx0aGlzLl9wdWxsU2l6ZS0tKSx0aGlzLl9sb2NrZXImJnRoaXMuX2xvY2tlcltlXSYmKHRoaXMuX2xvY2tlcltlXT0hMSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9nbG9iYWxJZFN0b3JhZ2VGaW5kPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBvPXRoaXMuX2lkcHVsbFtlXTtpZihvKXtpZihvLnVuUGFyc2VkJiYhaSYmdGhpcy5yZVBhcnNlKG8sMCksdGhpcy5fc3JuZCYmIW8uaHRtbE5vZGUmJnRoaXMuX2J1aWxkU1JORChvLGkpLG4mJnRoaXMuX2Vkc2Jwc0EpZm9yKHZhciByPTA7cjx0aGlzLl9lZHNicHNBLmxlbmd0aDtyKyspaWYodGhpcy5fZWRzYnBzQVtyXVsyXT09ZSlyZXR1cm4gZGh4NC5jYWxsRXZlbnQoIm9uZ2V0SXRlbUVycm9yIixbIlJlcXVlc3RlZCBpdGVtIHN0aWxsIGluIHBhcnNpbmcgcHJvY2Vzcy4iLGVdKSxudWxsO3JldHVybiBvfXJldHVybiB0aGlzLnNsb3dQYXJzZSYmMCE9ZSYmIXQ/dGhpcy5wcmVQYXJzZShlKTpudWxsfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fZHJhd05ld1RyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3JldHVybiBuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIgIikpLG8uY29sU3Bhbj0zLG8uYXBwZW5kQ2hpbGQoZSksaS5hcHBlbmRDaGlsZChuKSxpLmFwcGVuZENoaWxkKG8pLGl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCxpKXtpZigic3RyaW5nIj09dHlwZW9mIHQmJihpPXQsdD1udWxsKSwianNvbiI9PT1pKXJldHVybiB0aGlzLl9sb2FkSlNPTk9iamVjdChlLHQpO2lmKCJjc3YiPT09aSlyZXR1cm4gdGhpcy5fbG9hZENTVlN0cmluZyhlLHQpO2lmKCJqc2FycmF5Ij09PWkpcmV0dXJuIHRoaXMuX2xvYWRKU0FycmF5KGUsdCk7dmFyIG49dGhpczt0aGlzLnBhcnNDb3VudHx8dGhpcy5jYWxsRXZlbnQoIm9uWExTIixbbixudWxsXSksdGhpcy54bWxzdGF0ZT0xLHRoaXMuWE1MTG9hZGVyKHtyZXNwb25zZVhNTDpkaHg0LmFqYXgucGFyc2UoZSl9LHQpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fYXR0YWNoQ2hpbGROb2RlPWZ1bmN0aW9uKGUsdCxpLG4sbyxyLGwscyxhLGQsaCl7ZCYmZC5wYXJlbnRPYmplY3QmJihlPWQucGFyZW50T2JqZWN0KSwwPT1lLlhNTGxvYWQmJnRoaXMuWE1Mc291cmNlJiYhdGhpcy5YTUxsb2FkaW5nV2FybmluZyYmKGUuWE1MbG9hZD0xLHRoaXMuX2xvYWREeW5YTUwoZS5pZCkpO3ZhciBjPWUuY2hpbGRzQ291bnQsdT1lLmNoaWxkTm9kZXM7aWYoaCYmaC50ci5wcmV2aW91c1NpYmxpbmcmJihoLnRyLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmc/ZD1oLnRyLnByZXZpb3VzU2libGluZy5ub2RlbTpzPXMucmVwbGFjZSgiVE9QIiwiIikrIixUT1AiKSxkKXt2YXIgcCxfO2ZvcihwPTA7Yz5wO3ArKylpZih1W3BdPT1kKXtmb3IoXz1jO18hPXA7Xy0tKXVbMStfXT11W19dO2JyZWFrfXArKyxjPXB9aWYocylmb3IodmFyIG09cy5zcGxpdCgiLCIpLGc9MDtnPG0ubGVuZ3RoO2crKylzd2l0Y2gobVtnXSl7Y2FzZSJUT1AiOmZvcihlLmNoaWxkc0NvdW50PjAmJihkPW5ldyBPYmplY3QsZC50cj1lLmNoaWxkTm9kZXNbMF0udHIucHJldmlvdXNTaWJsaW5nKSxlLl9oYXNfdG9wPSEwLHA9YztwPjA7cC0tKXVbcF09dVtwLTFdO2M9MH12YXIgZjsoZj10aGlzLl9pZHB1bGxbdF0pJiYtMT09Zi5zcGFufHwoZj11W2NdPW5ldyBkaHRtbFhUcmVlSXRlbU9iamVjdCh0LGksZSx0aGlzLG4sMSksdD11W2NdLmlkLGUuY2hpbGRzQ291bnQrKyksZi5odG1sTm9kZXx8KGYubGFiZWw9aSxmLmh0bWxOb2RlPXRoaXMuX2NyZWF0ZUl0ZW0odGhpcy5jaGVja0JveE9mZj8xOjAsZiksZi5odG1sTm9kZS5vYmpCZWxvbmc9ZiksbyYmKGYuaW1hZ2VzWzBdPW8pLHImJihmLmltYWdlc1sxXT1yKSxsJiYoZi5pbWFnZXNbMl09bCk7dmFyIGI9dGhpcy5fZHJhd05ld1RyKGYuaHRtbE5vZGUpO2lmKCh0aGlzLlhNTGxvYWRpbmdXYXJuaW5nfHx0aGlzLl9oQWRJKSYmKGYuaHRtbE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxkJiZkLnRyJiZkLnRyLm5leHRTaWJsaW5nP2UuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5pbnNlcnRCZWZvcmUoYixkLnRyLm5leHRTaWJsaW5nKTp0aGlzLnBhcnNpbmdPbj09ZS5pZD90aGlzLnBhcnNlZEFycmF5W3RoaXMucGFyc2VkQXJyYXkubGVuZ3RoXT1iOmUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5hcHBlbmRDaGlsZChiKSxkJiYhZC5zcGFuJiYoZD1udWxsKSx0aGlzLlhNTHNvdXJjZSYmKGEmJjAhPWE/Zi5YTUxsb2FkPTA6Zi5YTUxsb2FkPTEpLGYudHI9YixiLm5vZGVtPWYsMD09ZS5pdGVtSWQmJihiLmNoaWxkTm9kZXNbMF0uY2xhc3NOYW1lPSJoaWRkZW5Sb3ciKSwoZS5fcl9sb2dpY3x8dGhpcy5fZnJidHIpJiZ0aGlzLl9zZXRTcmMoZi5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLHRoaXMuaW1QYXRoK3RoaXMucmFkaW9BcnJheVswXSkscylmb3IodmFyIG09cy5zcGxpdCgiLCIpLGc9MDtnPG0ubGVuZ3RoO2crKylzd2l0Y2gobVtnXSl7Y2FzZSJTRUxFQ1QiOnRoaXMuc2VsZWN0SXRlbSh0LCExKTticmVhaztjYXNlIkNBTEwiOnRoaXMuc2VsZWN0SXRlbSh0LCEwKTticmVhaztjYXNlIkNISUxEIjpmLlhNTGxvYWQ9MDticmVhaztjYXNlIkNIRUNLRUQiOnRoaXMuWE1MbG9hZGluZ1dhcm5pbmc/dGhpcy5zZXRDaGVja0xpc3QrPXRoaXMuZGxtdHIrdDp0aGlzLnNldENoZWNrKHQsMSk7YnJlYWs7Y2FzZSJIQ0hFQ0tFRCI6dGhpcy5fc2V0Q2hlY2soZiwidW5zdXJlIik7YnJlYWs7Y2FzZSJPUEVOIjpmLm9wZW5NZT0xfWlmKCF0aGlzLlhNTGxvYWRpbmdXYXJuaW5nJiYodGhpcy5fZ2V0T3BlblN0YXRlKGUpPDAmJiF0aGlzLl9oQWRJJiZ0aGlzLm9wZW5JdGVtKGUuaWQpLGQmJih0aGlzLl9jb3JyZWN0UGx1cyhkKSx0aGlzLl9jb3JyZWN0TGluZShkKSksdGhpcy5fY29ycmVjdFBsdXMoZSksdGhpcy5fY29ycmVjdExpbmUoZSksdGhpcy5fY29ycmVjdFBsdXMoZiksZS5jaGlsZHNDb3VudD49MiYmKHRoaXMuX2NvcnJlY3RQbHVzKHVbZS5jaGlsZHNDb3VudC0yXSksdGhpcy5fY29ycmVjdExpbmUodVtlLmNoaWxkc0NvdW50LTJdKSksMiE9ZS5jaGlsZHNDb3VudCYmdGhpcy5fY29ycmVjdFBsdXModVswXSksdGhpcy50c2NoZWNrJiZ0aGlzLl9jb3JyZWN0Q2hlY2tTdGF0ZXMoZSksdGhpcy5fb25yYWRoKSlpZigxPT10aGlzLnhtbHN0YXRlKXt2YXIgdj10aGlzLm9uWExFO3RoaXMub25YTEU9ZnVuY3Rpb24oZSl7dGhpcy5fb25yYWRoKHQpLHYmJnYoZSl9fWVsc2UgdGhpcy5fb25yYWRoKHQpO3JldHVybiBmfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fcGFyc2VJdGVtPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBvO2lmKHRoaXMuX3NybmQmJighdGhpcy5faWRwdWxsW289ZS5nZXQoImlkIildfHwhdGhpcy5faWRwdWxsW29dLnNwYW4pKXJldHVybiB2b2lkIHRoaXMuX2FkZEl0ZW1TUk5EKHQuaWQsbyxlKTt2YXIgcj1lLmdldF9hbGwoKTtpZigib2JqZWN0Ij09dHlwZW9mIHRoaXMud2FpdFVwZGF0ZVhNTCYmIXRoaXMud2FpdFVwZGF0ZVhNTFtyLmlkXSlyZXR1cm4gdm9pZCB0aGlzLl9wYXJzZShlLHIuaWQsMSk7bnVsbCE9PXIudGV4dCYmInVuZGVmaW5lZCIhPXR5cGVvZiByLnRleHR8fChyLnRleHQ9ZS5zdWIoIml0ZW10ZXh0Iiksci50ZXh0JiYoci50ZXh0PXIudGV4dC5jb250ZW50KCkpKTt2YXIgbD1bXTtpZihyLnNlbGVjdCYmbC5wdXNoKCJTRUxFQ1QiKSxyLnRvcCYmbC5wdXNoKCJUT1AiKSxyLmNhbGwmJih0aGlzLm5vZGVBc2tpbmdDYWxsPXIuaWQpLC0xPT1yLmNoZWNrZWQ/bC5wdXNoKCJIQ0hFQ0tFRCIpOnIuY2hlY2tlZCYmbC5wdXNoKCJDSEVDS0VEIiksci5vcGVuJiZsLnB1c2goIk9QRU4iKSx0aGlzLndhaXRVcGRhdGVYTUwpaWYodGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChyLmlkKSl2YXIgcz10aGlzLnVwZGF0ZUl0ZW0oci5pZCxyLnRleHQsci5pbTAsci5pbTEsci5pbTIsci5jaGVja2VkLHIuY2hpbGQpO2Vsc2V7MD09dGhpcy5ucGw/bC5wdXNoKCJUT1AiKTppPXQuY2hpbGROb2Rlc1t0aGlzLm5wbF07dmFyIHM9dGhpcy5fYXR0YWNoQ2hpbGROb2RlKHQsci5pZCxyLnRleHQsMCxyLmltMCxyLmltMSxyLmltMixsLmpvaW4oIiwiKSxyLmNoaWxkLDAsaSk7ci5pZD1zLmlkLGk9bnVsbH1lbHNlIHZhciBzPXRoaXMuX2F0dGFjaENoaWxkTm9kZSh0LHIuaWQsci50ZXh0LDAsci5pbTAsci5pbTEsci5pbTIsbC5qb2luKCIsIiksci5jaGlsZCxufHwwLGkpO2lmKHIudG9vbHRpcCYmKHMuc3Bhbi5wYXJlbnROb2RlLnBhcmVudE5vZGUudGl0bGU9ci50b29sdGlwKSxyLnN0eWxlJiYocy5zcGFuLnN0eWxlLmNzc1RleHQ/cy5zcGFuLnN0eWxlLmNzc1RleHQrPSI7IityLnN0eWxlOnMuc3Bhbi5zZXRBdHRyaWJ1dGUoInN0eWxlIixzLnNwYW4uZ2V0QXR0cmlidXRlKCJzdHlsZSIpKyI7ICIrci5zdHlsZSkpLHIucmFkaW8mJihzLl9yX2xvZ2ljPSEwKSxyLm5vY2hlY2tib3gpe3ZhciBhPXMuc3Bhbi5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmc7YS5zdHlsZS5kaXNwbGF5PSJub25lIixzLm5vY2hlY2tib3g9ITB9ci5kaXNhYmxlZCYmKG51bGwhPXIuY2hlY2tlZCYmdGhpcy5fc2V0Q2hlY2socyxyLmNoZWNrZWQpLHRoaXMuZGlzYWJsZUNoZWNrYm94KHMsMSkpLHMuX2FjYz1yLmNoaWxkfHwwLHRoaXMucGFyc2VyRXh0ZW5zaW9uJiZ0aGlzLnBhcnNlckV4dGVuc2lvbi5fcGFyc2VFeHRlbnNpb24uY2FsbCh0aGlzLGUscix0P3QuaWQ6MCksdGhpcy5zZXRJdGVtQ29sb3IocyxyLmFDb2wsci5zQ29sKSwiMSI9PXIubG9ja2VkJiZ0aGlzLmxvY2tJdGVtKHMuaWQsITAsITApLChyLmltd2lkdGh8fHIuaW1oZWlnaHQpJiZ0aGlzLnNldEljb25TaXplKHIuaW13aWR0aCxyLmltaGVpZ2h0LHMpLCIwIiE9ci5jbG9zZWFibGUmJiIxIiE9ci5jbG9zZWFibGV8fHRoaXMuc2V0SXRlbUNsb3NlYWJsZShzLHIuY2xvc2VhYmxlKTt2YXIgZD0iIjtyLnRvcG9mZnNldCYmdGhpcy5zZXRJdGVtVG9wT2Zmc2V0KHMsci50b3BvZmZzZXQpLHRoaXMuc2xvd1BhcnNlJiYib2JqZWN0IiE9dHlwZW9mIHRoaXMud2FpdFVwZGF0ZVhNTD8oIXMuY2hpbGRzQ291bnQmJmUuc3ViX2V4aXN0cygiaXRlbSIpJiYocy51blBhcnNlZD1lLmNsb25lKCkpLGUuZWFjaCgidXNlcmRhdGEiLGZ1bmN0aW9uKGUpe3RoaXMuc2V0VXNlckRhdGEoci5pZCxlLmdldCgibmFtZSIpLGUuY29udGVudCgpKX0sdGhpcykpOmUuc3ViX2V4aXN0cygiaXRlbSIpJiYoZD10aGlzLl9wYXJzZShlLHIuaWQsMSkpLCIiIT1kJiYodGhpcy5ub2RlQXNraW5nQ2FsbD1kKSxlLmVhY2goInVzZXJkYXRhIixmdW5jdGlvbih0KXt0aGlzLnNldFVzZXJEYXRhKGUuZ2V0KCJpZCIpLHQuZ2V0KCJuYW1lIiksdC5jb250ZW50KCkpfSx0aGlzKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3BhcnNlPWZ1bmN0aW9uKGUsdCxpLG4pe2lmKHRoaXMuX3NybmQmJiF0aGlzLnBhcmVudE9iamVjdC5vZmZzZXRIZWlnaHQpe3ZhciBvPXRoaXM7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5fcGFyc2UoZSx0LGksbil9LDEwMCl9aWYoZS5leGlzdHMoKSl7aWYodGhpcy5za2lwTG9jaz0hMCwhdCl7dD1lLmdldCgiaWQiKSx0aGlzLl9keW5EZWxldGVCcmFuY2hlc1t0XSYmKHRoaXMuZGVsZXRlQ2hpbGRJdGVtcyh0KSx0aGlzLl9keW5EZWxldGVCcmFuY2hlc1t0XS0tLHRoaXMuX2R5bkRlbGV0ZUJyYW5jaGVzW3RdfHxkZWxldGUgdGhpcy5fZHluRGVsZXRlQnJhbmNoZXNbdF0pO3ZhciByPWUuZ2V0KCJkaHhfc2VjdXJpdHkiKTtyJiYoZGh0bWx4LnNlY3VyaXR5X2tleT1yKSxlLmdldCgicmFkaW8iKSYmKHRoaXMuaHRtbE5vZGUuX3JfbG9naWM9ITApLHRoaXMucGFyc2luZ09uPXQsdGhpcy5wYXJzZWRBcnJheT1uZXcgQXJyYXksdGhpcy5zZXRDaGVja0xpc3Q9IiIsdGhpcy5ub2RlQXNraW5nQ2FsbD0iIn12YXIgbD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKHQpO2lmKCFsKXJldHVybiBkaHg0LmNhbGxFdmVudCgib25EYXRhU3RydWN0dXJlRXJyb3IiLFsiWE1MIHJlZmVycyB0byBub3QgZXhpc3RpbmcgcGFyZW50Il0pO2lmKHRoaXMucGFyc0NvdW50PXRoaXMucGFyc0NvdW50P3RoaXMucGFyc0NvdW50KzE6MSx0aGlzLlhNTGxvYWRpbmdXYXJuaW5nPTEsIWwuY2hpbGRzQ291bnR8fG58fHRoaXMuX2Vkc2Jwc3x8bC5faGFzX3RvcCl2YXIgcz0wO2Vsc2UgdmFyIHM9MDtpZih0aGlzLm5wbD0wLGUuZWFjaCgiaXRlbSIsZnVuY3Rpb24obixvKXtyZXR1cm4gbC5YTUxsb2FkPTEsdGhpcy5fcGFyc2VJdGVtKG4sbCwwLHMpLHRoaXMuX2Vkc2JwcyYmdGhpcy5ucGw9PXRoaXMuX2Vkc2Jwc0M/KHRoaXMuX2Rpc3RyaWJ1dGVkU3RhcnQoZSxvKzEsdCxpLGwuY2hpbGRzQ291bnQpLC0xKTp2b2lkIHRoaXMubnBsKyt9LHRoaXMsbiksIWkpe2lmKGUuZWFjaCgidXNlcmRhdGEiLGZ1bmN0aW9uKHQpe3RoaXMuc2V0VXNlckRhdGEoZS5nZXQoImlkIiksdC5nZXQoIm5hbWUiKSx0LmNvbnRlbnQoKSl9LHRoaXMpLGwuWE1MbG9hZD0xLHRoaXMud2FpdFVwZGF0ZVhNTCl7dGhpcy53YWl0VXBkYXRlWE1MPSExO2Zvcih2YXIgYT1sLmNoaWxkc0NvdW50LTE7YT49MDthLS0pbC5jaGlsZE5vZGVzW2FdLl9kbWFyayYmdGhpcy5kZWxldGVJdGVtKGwuY2hpbGROb2Rlc1thXS5pZCl9Zm9yKHZhciBhPSh0aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKHRoaXMucGFyc2luZ09uKSwwKTthPHRoaXMucGFyc2VkQXJyYXkubGVuZ3RoO2ErKylsLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uYXBwZW5kQ2hpbGQodGhpcy5wYXJzZWRBcnJheVthXSk7dGhpcy5wYXJzZWRBcnJheT1bXSx0aGlzLmxhc3RMb2FkZWRYTUxJZD10LHRoaXMuWE1MbG9hZGluZ1dhcm5pbmc9MDtmb3IodmFyIGQ9dGhpcy5zZXRDaGVja0xpc3Quc3BsaXQodGhpcy5kbG10ciksaD0wO2g8ZC5sZW5ndGg7aCsrKWRbaF0mJnRoaXMuc2V0Q2hlY2soZFtoXSwxKTt0aGlzLlhNTHNvdXJjZSYmdGhpcy50c2NoZWNrJiZ0aGlzLnNtY2hlY2smJmwuaWQhPXRoaXMucm9vdElkJiYoMD09PWwuY2hlY2tzdGF0ZT90aGlzLl9zZXRTdWJDaGVja2VkKDAsbCk6MT09PWwuY2hlY2tzdGF0ZSYmdGhpcy5fc2V0U3ViQ2hlY2tlZCgxLGwpKSx0aGlzLl9yZWRyYXdGcm9tKHRoaXMsbnVsbCxuKSxlLmdldCgib3JkZXIiKSYmIm5vbmUiIT1lLmdldCgib3JkZXIiKSYmdGhpcy5fcmVvcmRlckJyYW5jaChsLGUuZ2V0KCJvcmRlciIpLCEwKSwiIiE9dGhpcy5ub2RlQXNraW5nQ2FsbCYmdGhpcy5jYWxsRXZlbnQoIm9uQ2xpY2siLFt0aGlzLm5vZGVBc2tpbmdDYWxsLHRoaXMuZ2V0U2VsZWN0ZWRJdGVtSWQoKV0pLHRoaXMuX2JyYW5jaFVwZGF0ZSYmdGhpcy5fYnJhbmNoVXBkYXRlTmV4dChlKX1pZigxPT10aGlzLnBhcnNDb3VudCl7aWYodGhpcy5wYXJzaW5nT249bnVsbCx0aGlzLl9zcm5kJiZsLmlkIT10aGlzLnJvb3RJZCYmKHRoaXMucHJlcGFyZVNSKGwuaWQpLHRoaXMuWE1Mc291cmNlJiZ0aGlzLm9wZW5JdGVtKGwuaWQpKSxlLnRocm91Z2goIml0ZW0iLCJvcGVuIixudWxsLGZ1bmN0aW9uKGUpe3RoaXMub3Blbkl0ZW0oZS5nZXQoImlkIikpfSx0aGlzKSwhdGhpcy5fZWRzYnBzfHwhdGhpcy5fZWRzYnBzQS5sZW5ndGgpe3ZhciBjPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmNhbGxFdmVudCgib25YTEUiLFtjLHRdKX0sMSksdGhpcy54bWxzdGF0ZT0wfXRoaXMuc2tpcExvY2s9ITF9dGhpcy5wYXJzQ291bnQtLTt2YXIgYz10aGlzO3JldHVybiB0aGlzLl9lZHNicHMmJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5fZGlzdHJpYnV0ZWRTdGVwKHQpfSx0aGlzLl9lZHNicHNEKSwhaSYmdGhpcy5vblhMRSYmdGhpcy5vblhMRSh0aGlzLHQpLHRoaXMubm9kZUFza2luZ0NhbGx9fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fcmVkcmF3RnJvbT1mdW5jdGlvbihlLHQsaSxuKXtpZih0KW89dDtlbHNle3ZhciBvPWUuX2dsb2JhbElkU3RvcmFnZUZpbmQoZS5sYXN0TG9hZGVkWE1MSWQpO2lmKGUubGFzdExvYWRlZFhNTElkPS0xLCFvKXJldHVybiAwfWZvcih2YXIgcj0wLGw9aT9pLTE6MDtsPG8uY2hpbGRzQ291bnQ7bCsrKWlmKHRoaXMuX2JyYW5jaFVwZGF0ZSYmMSE9dGhpcy5fZ2V0T3BlblN0YXRlKG8pfHx0JiYxIT1ufHwoby5jaGlsZE5vZGVzW2xdLmh0bWxOb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5PSIiKSwxPT1vLmNoaWxkTm9kZXNbbF0ub3Blbk1lJiYodGhpcy5fb3Blbkl0ZW0oby5jaGlsZE5vZGVzW2xdKSxvLmNoaWxkTm9kZXNbbF0ub3Blbk1lPTApLGUuX3JlZHJhd0Zyb20oZSxvLmNoaWxkTm9kZXNbbF0pLG51bGwhPXRoaXMuY2hpbGRDYWxjKXtpZigoby5jaGlsZE5vZGVzW2xdLnVuUGFyc2VkfHwhby5jaGlsZE5vZGVzW2xdLlhNTGxvYWQmJnRoaXMuWE1Mc291cmNlKSYmKG8uY2hpbGROb2Rlc1tsXS5fYWNjP28uY2hpbGROb2Rlc1tsXS5zcGFuLmlubmVySFRNTD1vLmNoaWxkTm9kZXNbbF0ubGFiZWwrdGhpcy5odG1sY0Erby5jaGlsZE5vZGVzW2xdLl9hY2MrdGhpcy5odG1sY0I6by5jaGlsZE5vZGVzW2xdLnNwYW4uaW5uZXJIVE1MPW8uY2hpbGROb2Rlc1tsXS5sYWJlbCksby5jaGlsZE5vZGVzW2xdLmNoaWxkTm9kZXMubGVuZ3RoJiZ0aGlzLmNoaWxkQ2FsYyl7aWYoMT09dGhpcy5jaGlsZENhbGMmJihvLmNoaWxkTm9kZXNbbF0uc3Bhbi5pbm5lckhUTUw9by5jaGlsZE5vZGVzW2xdLmxhYmVsK3RoaXMuaHRtbGNBK28uY2hpbGROb2Rlc1tsXS5jaGlsZHNDb3VudCt0aGlzLmh0bWxjQiksMj09dGhpcy5jaGlsZENhbGMpe3ZhciBzPW8uY2hpbGROb2Rlc1tsXS5jaGlsZHNDb3VudC0oby5jaGlsZE5vZGVzW2xdLnB1cmVDaGlsZHN8fDApO3MmJihvLmNoaWxkTm9kZXNbbF0uc3Bhbi5pbm5lckhUTUw9by5jaGlsZE5vZGVzW2xdLmxhYmVsK3RoaXMuaHRtbGNBK3MrdGhpcy5odG1sY0IpLG8ucHVyZUNoaWxkcz9vLnB1cmVDaGlsZHMrKzpvLnB1cmVDaGlsZHM9MX1pZigzPT10aGlzLmNoaWxkQ2FsYyYmKG8uY2hpbGROb2Rlc1tsXS5zcGFuLmlubmVySFRNTD1vLmNoaWxkTm9kZXNbbF0ubGFiZWwrdGhpcy5odG1sY0Erby5jaGlsZE5vZGVzW2xdLl9hY2MrdGhpcy5odG1sY0IpLDQ9PXRoaXMuY2hpbGRDYWxjKXt2YXIgcz1vLmNoaWxkTm9kZXNbbF0uX2FjYztzJiYoby5jaGlsZE5vZGVzW2xdLnNwYW4uaW5uZXJIVE1MPW8uY2hpbGROb2Rlc1tsXS5sYWJlbCt0aGlzLmh0bWxjQStzK3RoaXMuaHRtbGNCKX19ZWxzZSA0PT10aGlzLmNoaWxkQ2FsYyYmcisrO3IrPW8uY2hpbGROb2Rlc1tsXS5fYWNjLDM9PXRoaXMuY2hpbGRDYWxjJiZyKyt9by51blBhcnNlZHx8IW8uWE1MbG9hZCYmdGhpcy5YTUxzb3VyY2V8fChvLl9hY2M9ciksZS5fY29ycmVjdExpbmUobyksZS5fY29ycmVjdFBsdXMobyksdGhpcy5jaGlsZENhbGMmJiF0JiZlLl9maXhDaGlsZENvdW50TGFiZWwobyl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9jcmVhdGVTZWxmPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuY2xhc3NOYW1lPSJjb250YWluZXJUYWJsZVN0eWxlIixlLnN0eWxlLndpZHRoPXRoaXMud2lkdGgsZS5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5wYXJlbnRPYmplY3QuYXBwZW5kQ2hpbGQoZSksZX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3hjbG9zZUFsbD1mdW5jdGlvbihlKXtpZighZS51blBhcnNlZCl7aWYodGhpcy5yb290SWQhPWUuaWQpe2lmKCFlLmh0bWxOb2RlKXJldHVybjtmb3IodmFyIHQ9ZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXMsaT10Lmxlbmd0aCxuPTE7aT5uO24rKyl0W25dLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuX2NvcnJlY3RQbHVzKGUpfWZvcih2YXIgbj0wO248ZS5jaGlsZHNDb3VudDtuKyspZS5jaGlsZE5vZGVzW25dLmNoaWxkc0NvdW50JiZ0aGlzLl94Y2xvc2VBbGwoZS5jaGlsZE5vZGVzW25dKX19LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl94b3BlbkFsbD1mdW5jdGlvbihlKXt0aGlzLl9IaWRlU2hvdyhlLDIpO2Zvcih2YXIgdD0wO3Q8ZS5jaGlsZHNDb3VudDt0KyspdGhpcy5feG9wZW5BbGwoZS5jaGlsZE5vZGVzW3RdKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2NvcnJlY3RQbHVzPWZ1bmN0aW9uKGUpe2lmKGUuaHRtbE5vZGUpe3ZhciB0PWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0ubGFzdENoaWxkLGk9ZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1syXS5jaGlsZE5vZGVzWzBdLG49dGhpcy5saW5lQXJyYXk7aWYodGhpcy5YTUxzb3VyY2UmJiFlLlhNTGxvYWQpe3ZhciBuPXRoaXMucGx1c0FycmF5O2lmKHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1syXSksdGhpcy5fdHh0aW1nKXJldHVybiB0LmlubmVySFRNTD0iWytdIn1lbHNlIGlmKGUuY2hpbGRzQ291bnR8fGUudW5QYXJzZWQpaWYoZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0mJiJub25lIiE9ZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uc3R5bGUuZGlzcGxheSl7aWYoIWUud3NpZ24pdmFyIG49dGhpcy5taW51c0FycmF5O2lmKHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1sxXSksdGhpcy5fdHh0aW1nKXJldHVybiB0LmlubmVySFRNTD0iWy1dIn1lbHNle2lmKCFlLndzaWduKXZhciBuPXRoaXMucGx1c0FycmF5O2lmKHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1syXSksdGhpcy5fdHh0aW1nKXJldHVybiB0LmlubmVySFRNTD0iWytdIn1lbHNlIHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1swXSk7dmFyIG89MjtlLnRyZWVOb2QudHJlZUxpbmVzT24/KGUucGFyZW50T2JqZWN0JiYobz10aGlzLl9nZXRDb3VudFN0YXR1cyhlLmlkLGUucGFyZW50T2JqZWN0KSksdGhpcy5fc2V0U3JjKHQsdGhpcy5pbVBhdGgrbltvXSkpOnRoaXMuX3NldFNyYyh0LHRoaXMuaW1QYXRoK25bM10pfX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2NvcnJlY3RMaW5lPWZ1bmN0aW9uKGUpe2lmKGUuaHRtbE5vZGUpe3ZhciB0PWUucGFyZW50T2JqZWN0O2lmKHQpaWYoMCE9dGhpcy5fZ2V0TGluZVN0YXR1cyhlLmlkLHQpJiZ0aGlzLnRyZWVMaW5lc09uKWZvcih2YXIgaT0xO2k8PWUuY2hpbGRzQ291bnQmJmUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldO2krKyllLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzWzBdLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrdGhpcy5pbVBhdGgrdGhpcy5saW5lQXJyYXlbNV0rIikiLGUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0icmVwZWF0LXkiO2Vsc2UgZm9yKHZhciBpPTE7aTw9ZS5jaGlsZHNDb3VudCYmZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbaV07aSsrKWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSIiLGUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0iIn19LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9nZXRMaW5lU3RhdHVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY2hpbGROb2Rlc1t0LmNoaWxkc0NvdW50LTFdLmlkPT1lPzA6MX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX0hpZGVTaG93PWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuX2xvY2tlcnx8dGhpcy5za2lwTG9ja3x8IXRoaXMuX2xvY2tlcltlLmlkXSl7aWYodGhpcy5YTUxzb3VyY2UmJiFlLlhNTGxvYWQpe2lmKDE9PXQpcmV0dXJuO3JldHVybiBlLlhNTGxvYWQ9MSx2b2lkIHRoaXMuX2xvYWREeW5YTUwoZS5pZCl9ZS51blBhcnNlZCYmdGhpcy5yZVBhcnNlKGUpO3ZhciBpPWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzLG49aS5sZW5ndGg7aWYobj4xKXsibm9uZSI9PWlbMV0uc3R5bGUuZGlzcGxheSYmMSE9dHx8Mj09dD9ub2Rlc3R5bGU9IiI6KHRoaXMuYWxsVHJlZS5jaGlsZE5vZGVzWzBdLmJvcmRlcj0iMSIsdGhpcy5hbGxUcmVlLmNoaWxkTm9kZXNbMF0uYm9yZGVyPSIwIixub2Rlc3R5bGU9Im5vbmUiKTtmb3IodmFyIG89MTtuPm87bysrKWlbb10uc3R5bGUuZGlzcGxheT1ub2Rlc3R5bGV9dGhpcy5fY29ycmVjdFBsdXMoZSl9fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fZ2V0T3BlblN0YXRlPWZ1bmN0aW9uKGUpe2lmKCFlLmh0bWxOb2RlKXJldHVybiAwO3ZhciB0PWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO3JldHVybiB0Lmxlbmd0aDw9MT8wOiJub25lIiE9dFsxXS5zdHlsZS5kaXNwbGF5PzE6LTF9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLm9uUm93Q2xpY2syPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJlbnRPYmplY3QudHJlZU5vZDtyZXR1cm4gZS5jYWxsRXZlbnQoIm9uRGJsQ2xpY2siLFt0aGlzLnBhcmVudE9iamVjdC5pZCxlXSk/KHRoaXMucGFyZW50T2JqZWN0LmNsb3NlYmxlJiYiMCIhPXRoaXMucGFyZW50T2JqZWN0LmNsb3NlYmxlP2UuX0hpZGVTaG93KHRoaXMucGFyZW50T2JqZWN0KTplLl9IaWRlU2hvdyh0aGlzLnBhcmVudE9iamVjdCwyKSxlLmNoZWNrRXZlbnQoIm9uT3BlbkVuZCIpJiYoZS54bWxzdGF0ZT8oZS5fb2llX29uWExFLnB1c2goZS5vblhMRSksZS5vblhMRT1lLl9lcG5GSGUpOmUuY2FsbEV2ZW50KCJvbk9wZW5FbmQiLFt0aGlzLnBhcmVudE9iamVjdC5pZCxlLl9nZXRPcGVuU3RhdGUodGhpcy5wYXJlbnRPYmplY3QpXSkpLCExKTohMX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUub25Sb3dDbGljaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyZW50T2JqZWN0LnRyZWVOb2Q7cmV0dXJuIGUuY2FsbEV2ZW50KCJvbk9wZW5TdGFydCIsW3RoaXMucGFyZW50T2JqZWN0LmlkLGUuX2dldE9wZW5TdGF0ZSh0aGlzLnBhcmVudE9iamVjdCldKT8odGhpcy5wYXJlbnRPYmplY3QuY2xvc2VibGUmJiIwIiE9dGhpcy5wYXJlbnRPYmplY3QuY2xvc2VibGU/ZS5fSGlkZVNob3codGhpcy5wYXJlbnRPYmplY3QpOmUuX0hpZGVTaG93KHRoaXMucGFyZW50T2JqZWN0LDIpLHZvaWQoZS5jaGVja0V2ZW50KCJvbk9wZW5FbmQiKSYmKGUueG1sc3RhdGU/KGUuX29pZV9vblhMRS5wdXNoKGUub25YTEUpLGUub25YTEU9ZS5fZXBuRkhlKTplLmNhbGxFdmVudCgib25PcGVuRW5kIixbdGhpcy5wYXJlbnRPYmplY3QuaWQsZS5fZ2V0T3BlblN0YXRlKHRoaXMucGFyZW50T2JqZWN0KV0pKSkpOjB9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmdldFNlbGVjdGVkSXRlbUlkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSx0PTA7dDx0aGlzLl9zZWxlY3RlZC5sZW5ndGg7dCsrKWVbdF09dGhpcy5fc2VsZWN0ZWRbdF0uaWQ7cmV0dXJuIGUuam9pbih0aGlzLmRsbXRyKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3NlbGVjdEl0ZW09ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmNoZWNrRXZlbnQoIm9uU2VsZWN0IikmJih0aGlzLl9vblNTQ0ZvbGQ9dGhpcy5nZXRTZWxlY3RlZEl0ZW1JZCgpKSx0aGlzLl9hbXNlbCYmdCYmKHQuY3RybEtleXx8dC5tZXRhS2V5fHx0LnNoaWZ0S2V5KXx8dGhpcy5fdW5zZWxlY3RJdGVtcygpLGUuaV9zZWwmJnRoaXMuX2Ftc2VsJiZ0JiYodC5jdHJsS2V5fHx0Lm1ldGFLZXkpKXRoaXMuX3Vuc2VsZWN0SXRlbShlKTtlbHNlIGlmKCEoZS5pX3NlbHx8dGhpcy5fYW1zZWxTJiYwIT10aGlzLl9zZWxlY3RlZC5sZW5ndGgmJnRoaXMuX3NlbGVjdGVkWzBdLnBhcmVudE9iamVjdCE9ZS5wYXJlbnRPYmplY3QpKWlmKHRoaXMuX2Ftc2VsJiZ0JiZ0LnNoaWZ0S2V5JiYwIT10aGlzLl9zZWxlY3RlZC5sZW5ndGgmJnRoaXMuX3NlbGVjdGVkW3RoaXMuX3NlbGVjdGVkLmxlbmd0aC0xXS5wYXJlbnRPYmplY3Q9PWUucGFyZW50T2JqZWN0KXt2YXIgaT10aGlzLl9nZXRJbmRleCh0aGlzLl9zZWxlY3RlZFt0aGlzLl9zZWxlY3RlZC5sZW5ndGgtMV0pLG49dGhpcy5fZ2V0SW5kZXgoZSk7aWYoaT5uKXt2YXIgbz1pO2k9bixuPW99Zm9yKHZhciByPWk7bj49cjtyKyspZS5wYXJlbnRPYmplY3QuY2hpbGROb2Rlc1tyXS5pX3NlbHx8dGhpcy5fbWFya0l0ZW0oZS5wYXJlbnRPYmplY3QuY2hpbGROb2Rlc1tyXSl9ZWxzZSB0aGlzLl9tYXJrSXRlbShlKTtpZih0aGlzLmNoZWNrRXZlbnQoIm9uU2VsZWN0Iikpe3ZhciBsPXRoaXMuZ2V0U2VsZWN0ZWRJdGVtSWQoKTtsIT10aGlzLl9vblNTQ0ZvbGQmJnRoaXMuY2FsbEV2ZW50KCJvblNlbGVjdCIsW2xdKX19LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9tYXJrSXRlbT1mdW5jdGlvbihlKXtlLnNjb2xvciYmKGUuc3Bhbi5zdHlsZS5jb2xvcj1lLnNjb2xvciksZS5zcGFuLmNsYXNzTmFtZT0ic2VsZWN0ZWRUcmVlUm93IixlLnNwYW4ucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTmFtZT0ic2VsZWN0ZWRUcmVlUm93RnVsbCIsZS5pX3NlbD0hMCx0aGlzLl9zZWxlY3RlZFt0aGlzLl9zZWxlY3RlZC5sZW5ndGhdPWV9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmdldEluZGV4QnlJZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGUpO3JldHVybiB0P3RoaXMuX2dldEluZGV4KHQpOm51bGx9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9nZXRJbmRleD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5wYXJlbnRPYmplY3QsaT0wO2k8dC5jaGlsZHNDb3VudDtpKyspaWYodC5jaGlsZE5vZGVzW2ldPT1lKXJldHVybiBpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fdW5zZWxlY3RJdGVtPWZ1bmN0aW9uKGUpe2lmKGUmJmUuaV9zZWwpe2Uuc3Bhbi5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZVJvdyIsZS5zcGFuLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc05hbWU9IiIsZS5hY29sb3ImJihlLnNwYW4uc3R5bGUuY29sb3I9ZS5hY29sb3IpLGUuaV9zZWw9ITE7Zm9yKHZhciB0PTA7dDx0aGlzLl9zZWxlY3RlZC5sZW5ndGg7dCsrKWlmKCF0aGlzLl9zZWxlY3RlZFt0XS5pX3NlbCl7dGhpcy5fc2VsZWN0ZWQuc3BsaWNlKHQsMSk7YnJlYWt9fX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3Vuc2VsZWN0SXRlbXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX3NlbGVjdGVkLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuX3NlbGVjdGVkW2VdO3Quc3Bhbi5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZVJvdyIsdC5zcGFuLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc05hbWU9IiIsdC5hY29sb3ImJih0LnNwYW4uc3R5bGUuY29sb3I9dC5hY29sb3IpLHQuaV9zZWw9ITF9dGhpcy5fc2VsZWN0ZWQ9bmV3IEFycmF5fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5vblJvd1NlbGVjdD1mdW5jdGlvbihlLHQsaSl7ZT1lfHx3aW5kb3cuZXZlbnQ7dmFyIG49dGhpcy5wYXJlbnRPYmplY3Q7dCYmKG49dC5wYXJlbnRPYmplY3QpO3ZhciBvPW4udHJlZU5vZCxyPW8uZ2V0U2VsZWN0ZWRJdGVtSWQoKTtlJiZlLnNraXBVblNlbHx8by5fc2VsZWN0SXRlbShuLGUpLGl8fChuLmFjdGlvbkhhbmRsZXI/bi5hY3Rpb25IYW5kbGVyKG4uaWQscik6by5jYWxsRXZlbnQoIm9uQ2xpY2siLFtuLmlkLHJdKSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9jcmVhdGVJdGVtPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO24uY2VsbFNwYWNpbmc9MCxuLmNlbGxQYWRkaW5nPTAsbi5ib3JkZXI9MCx0aGlzLmhmTW9kZSYmKG4uc3R5bGUudGFibGVMYXlvdXQ9ImZpeGVkIiksbi5zdHlsZS5tYXJnaW49MCxuLnN0eWxlLnBhZGRpbmc9MDt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7aWYobC5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZUltYWdlIix0aGlzLl90eHRpbWcpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuYXBwZW5kQ2hpbGQocykscy5jbGFzc05hbWU9ImRoeF90cmVlX3RleHRTaWduIn1lbHNle3ZhciBzPXRoaXMuX2dldEltZyh0LmlkKTtzLmJvcmRlcj0iMCIsIklNRyI9PXMudGFnTmFtZSYmKHMuYWxpZ249ImFic21pZGRsZSIpLGwuYXBwZW5kQ2hpbGQocykscy5zdHlsZS5wYWRkaW5nPTAscy5zdHlsZS5tYXJnaW49MCxzLnN0eWxlLndpZHRoPXRoaXMuZGVmX2xpbmVfaW1nX3h9dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKSxkPXRoaXMuX2dldEltZyh0aGlzLmNCUk9mP3RoaXMucm9vdElkOnQuaWQpO2QuY2hlY2tlZD0wLHRoaXMuX3NldFNyYyhkLHRoaXMuaW1QYXRoK3RoaXMuY2hlY2tBcnJheVswXSksZC5zdHlsZS53aWR0aD0iMThweCIsZC5zdHlsZS5oZWlnaHQ9IjE4cHgiLGV8fChhLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxhLmFwcGVuZENoaWxkKGQpLHRoaXMuY0JST2Z8fCJJTUciIT1kLnRhZ05hbWV8fChkLmFsaWduPSJhYnNtaWRkbGUiKSxkLm9uY2xpY2s9dGhpcy5vbkNoZWNrQm94Q2xpY2ssZC50cmVlTm9kPXRoaXMsZC5wYXJlbnRPYmplY3Q9dCx3aW5kb3cuX0tIVE1McnY/YS53aWR0aD0iMTZweCI6YS53aWR0aD0iMjBweCI7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtoLmNsYXNzTmFtZT0ic3RhbmRhcnRUcmVlSW1hZ2UiO3ZhciBjPXRoaXMuX2dldEltZyh0aGlzLnRpbWdlbj90LmlkOnRoaXMucm9vdElkKTtjLm9ubW91c2Vkb3duPXRoaXMuX3ByZXZlbnROc0RyYWcsYy5vbmRyYWdzdGFydD10aGlzLl9wcmV2ZW50TnNEcmFnLGMuYm9yZGVyPSIwIix0aGlzLl9haW1ncyYmKGMucGFyZW50T2JqZWN0PXQsCiJJTUciPT1jLnRhZ05hbWUmJihjLmFsaWduPSJhYnNtaWRkbGUiKSxjLm9uY2xpY2s9dGhpcy5vblJvd1NlbGVjdCksaXx8dGhpcy5fc2V0U3JjKGMsdGhpcy5pY29uVVJMK3RoaXMuaW1hZ2VBcnJheVswXSksaC5hcHBlbmRDaGlsZChjKSxjLnN0eWxlLnBhZGRpbmc9MCxjLnN0eWxlLm1hcmdpbj0wLHRoaXMudGltZ2VuPyhoLnN0eWxlLndpZHRoPWMuc3R5bGUud2lkdGg9dGhpcy5kZWZfaW1nX3gsYy5zdHlsZS5oZWlnaHQ9dGhpcy5kZWZfaW1nX3kpOihjLnN0eWxlLndpZHRoPSIwcHgiLGMuc3R5bGUuaGVpZ2h0PSIwcHgiLChfaXNPcGVyYXx8d2luZG93Ll9LSFRNTHJ2KSYmKGguc3R5bGUuZGlzcGxheT0ibm9uZSIpKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3JldHVybiB1LmNsYXNzTmFtZT0iZGh4VGV4dENlbGwgc3RhbmRhcnRUcmVlUm93Iix0LnNwYW49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpLHQuc3Bhbi5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZVJvdyIsdGhpcy5tbGl0ZW1zPyh0LnNwYW4uc3R5bGUud2lkdGg9dGhpcy5tbGl0ZW1zLHQuc3Bhbi5zdHlsZS5kaXNwbGF5PSJibG9jayIpOnUubm9XcmFwPSEwLGRoeDQuaXNJRTg/dS5zdHlsZS53aWR0aD0iOTk5OTlweCI6d2luZG93Ll9LSFRNTHJ2fHwodS5zdHlsZS53aWR0aD0iMTAwJSIpLHQuc3Bhbi5pbm5lckhUTUw9dC5sYWJlbCx1LmFwcGVuZENoaWxkKHQuc3BhbiksdS5wYXJlbnRPYmplY3Q9dCxsLnBhcmVudE9iamVjdD10LHUub25jbGljaz10aGlzLm9uUm93U2VsZWN0LGwub25jbGljaz10aGlzLm9uUm93Q2xpY2ssdS5vbmRibGNsaWNrPXRoaXMub25Sb3dDbGljazIsdGhpcy5ldHRpcCYmKHIudGl0bGU9dC5sYWJlbCksdGhpcy5kcmFnQW5kRHJvcE9mZiYmKHRoaXMuX2FpbWdzJiYodGhpcy5kcmFnZ2VyLmFkZERyYWdnYWJsZUl0ZW0oaCx0aGlzKSxoLnBhcmVudE9iamVjdD10KSx0aGlzLmRyYWdnZXIuYWRkRHJhZ2dhYmxlSXRlbSh1LHRoaXMpKSx0LnNwYW4uc3R5bGUucGFkZGluZ0xlZnQ9IjVweCIsdC5zcGFuLnN0eWxlLnBhZGRpbmdSaWdodD0iNXB4Iix1LnN0eWxlLnZlcnRpY2FsQWxpZ249IiIsdS5zdHlsZS5mb250U2l6ZT0iMTBwdCIsdS5zdHlsZS5jdXJzb3I9dGhpcy5zdHlsZV9wb2ludGVyLHIuYXBwZW5kQ2hpbGQobCksci5hcHBlbmRDaGlsZChhKSxyLmFwcGVuZENoaWxkKGgpLHIuYXBwZW5kQ2hpbGQodSksby5hcHBlbmRDaGlsZChyKSxuLmFwcGVuZENoaWxkKG8pLCh0aGlzLmVobHR8fHRoaXMuY2hlY2tFdmVudCgib25Nb3VzZUluIil8fHRoaXMuY2hlY2tFdmVudCgib25Nb3VzZU91dCIpKSYmKHIub25tb3VzZW1vdmU9dGhpcy5faXRlbU1vdXNlSW4scltfaXNJRT8ib25tb3VzZWxlYXZlIjoib25tb3VzZW91dCJdPXRoaXMuX2l0ZW1Nb3VzZU91dCksbn0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25SaWdodENsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvblJpZ2h0Q2xpY2siLGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRPbkNsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvbkNsaWNrIixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25TZWxlY3RTdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvblNlbGVjdCIsZSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldFhNTEF1dG9Mb2FkaW5nPWZ1bmN0aW9uKGUpe3RoaXMuWE1Mc291cmNlPWV9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldE9uQ2hlY2tIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuYXR0YWNoRXZlbnQoIm9uQ2hlY2siLGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRPbk9wZW5IYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuYXR0YWNoRXZlbnQoIm9uT3BlblN0YXJ0IixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25PcGVuU3RhcnRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuYXR0YWNoRXZlbnQoIm9uT3BlblN0YXJ0IixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25PcGVuRW5kSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvbk9wZW5FbmQiLGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRPbkRibENsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvbkRibENsaWNrIixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUub3BlbkFsbEl0ZW1zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7cmV0dXJuIHQ/dm9pZCB0aGlzLl94b3BlbkFsbCh0KTowfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5nZXRPcGVuU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlKTtyZXR1cm4gdD90aGlzLl9nZXRPcGVuU3RhdGUodCk6IiJ9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmNsb3NlQWxsSXRlbXM9ZnVuY3Rpb24oZSl7ZT09PXdpbmRvdy51bmRlZmluZWQmJihlPXRoaXMucm9vdElkKTt2YXIgdD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGUpO3JldHVybiB0Pyh0aGlzLl94Y2xvc2VBbGwodCksdGhpcy5hbGxUcmVlLmNoaWxkTm9kZXNbMF0uYm9yZGVyPSIxIix2b2lkKHRoaXMuYWxsVHJlZS5jaGlsZE5vZGVzWzBdLmJvcmRlcj0iMCIpKTowfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRVc2VyRGF0YT1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlLDAsITApO24mJigiaGludCI9PXQmJihuLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS50aXRsZT1pKSwidW5kZWZpbmVkIj09dHlwZW9mIG4udXNlckRhdGFbInRfIit0XSYmKG4uX3VzZXJkYXRhbGlzdD9uLl91c2VyZGF0YWxpc3QrPSIsIit0Om4uX3VzZXJkYXRhbGlzdD10KSxuLnVzZXJEYXRhWyJ0XyIrdF09aSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmdldFVzZXJEYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlLDAsITApO2lmKGkpcmV0dXJuIGkudXNlckRhdGFbInRfIit0XX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZ2V0SXRlbUNvbG9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7aWYoIXQpcmV0dXJuIDA7dmFyIGk9bmV3IE9iamVjdDtyZXR1cm4gdC5hY29sb3ImJihpLmFjb2xvcj10LmFjb2xvciksdC5zY29sb3ImJihpLnNjb2xvcj10LnNjb2xvciksaX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0SXRlbUNvbG9yPWZ1bmN0aW9uKGUsdCxpKXtpZihlJiZlLnNwYW4pdmFyIG49ZTtlbHNlIHZhciBuPXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7cmV0dXJuIG4/KG4uaV9zZWw/KGl8fHQpJiYobi5zcGFuLnN0eWxlLmNvbG9yPWl8fHQpOnQmJihuLnNwYW4uc3R5bGUuY29sb3I9dCksaSYmKG4uc2NvbG9yPWkpLHQmJihuLmFjb2xvcj10KSx2b2lkIDApOjB9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldE9uTW91c2VJbkhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5laGx0PSEwLHRoaXMuYXR0YWNoRXZlbnQoIm9uTW91c2VJbiIsZSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldE9uTW91c2VPdXRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuZWhsdD0hMCx0aGlzLmF0dGFjaEV2ZW50KCJvbk1vdXNlT3V0IixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZW5hYmxlVHJlZUxpbmVzPWZ1bmN0aW9uKGUpe3RoaXMudHJlZUxpbmVzT249ZGh4NC5zMmIoZSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLm9wZW5JdGVtPWZ1bmN0aW9uKGUpe3RoaXMuc2tpcExvY2s9ITA7dmFyIHQ9dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlKTtyZXR1cm4gdD90aGlzLl9vcGVuSXRlbSh0KTowfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fb3Blbkl0ZW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0T3BlblN0YXRlKGUpO2lmKDA+dHx8dGhpcy5YTUxzb3VyY2UmJiFlLlhNTGxvYWQpe2lmKCF0aGlzLmNhbGxFdmVudCgib25PcGVuU3RhcnQiLFtlLmlkLHRdKSlyZXR1cm4gMDt0aGlzLl9IaWRlU2hvdyhlLDIpLHRoaXMuY2hlY2tFdmVudCgib25PcGVuRW5kIikmJih0aGlzLm9uWExFPT10aGlzLl9lcG5GSGUmJnRoaXMuX2VwbkZIZSh0aGlzLGUuaWQsITApLHRoaXMueG1sc3RhdGUmJnRoaXMuWE1Mc291cmNlPyh0aGlzLl9vaWVfb25YTEUucHVzaCh0aGlzLm9uWExFKSx0aGlzLm9uWExFPXRoaXMuX2VwbkZIZSk6dGhpcy5jYWxsRXZlbnQoIm9uT3BlbkVuZCIsW2UuaWQsdGhpcy5fZ2V0T3BlblN0YXRlKGUpXSkpfWVsc2UgdGhpcy5fc3JuZCYmdGhpcy5fSGlkZVNob3coZSwyKTtlLnBhcmVudE9iamVjdCYmIXRoaXMuX3NraXBfb3Blbl9wYXJlbnQmJnRoaXMuX29wZW5JdGVtKGUucGFyZW50T2JqZWN0KX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2dldEFsbEZhdEl0ZW1zPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixpPTA7aTxlLmNoaWxkc0NvdW50O2krKylpZihlLmNoaWxkTm9kZXNbaV0udW5QYXJzZWR8fGUuY2hpbGROb2Rlc1tpXS5jaGlsZHNDb3VudD4wKXtpZih0P3QrPXRoaXMuZGxtdHIrZS5jaGlsZE5vZGVzW2ldLmlkOnQ9IiIrZS5jaGlsZE5vZGVzW2ldLmlkLGUuY2hpbGROb2Rlc1tpXS51blBhcnNlZCl2YXIgbj10aGlzLl9nZXRBbGxGYXRJdGVtc1hNTChlLmNoaWxkTm9kZXNbaV0udW5QYXJzZWQsMSk7ZWxzZSB2YXIgbj10aGlzLl9nZXRBbGxGYXRJdGVtcyhlLmNoaWxkTm9kZXNbaV0pO24mJih0Kz10aGlzLmRsbXRyK24pfXJldHVybiB0fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZWxlY3RJdGVtPWZ1bmN0aW9uKGUsdCxpKXt0PWRoeDQuczJiKHQpO3ZhciBuPXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7aWYoIW58fCFuLnBhcmVudE9iamVjdClyZXR1cm4gMDt0aGlzLlhNTGxvYWRpbmdXYXJuaW5nP24ucGFyZW50T2JqZWN0Lm9wZW5NZT0xOnRoaXMuX29wZW5JdGVtKG4ucGFyZW50T2JqZWN0KTt2YXIgbz1udWxsO2kmJihvPW5ldyBPYmplY3Qsby5jdHJsS2V5PSEwLG4uaV9zZWwmJihvLnNraXBVblNlbD0hMCkpLHQ/dGhpcy5vblJvd1NlbGVjdChvLG4uaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbM10sITEpOnRoaXMub25Sb3dTZWxlY3QobyxuLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzNdLCEwKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2NvbXByZXNzQ2hpbGRMaXN0PWZ1bmN0aW9uKGUsdCl7ZS0tO2Zvcih2YXIgaT0wO2U+aTtpKyspMD09dFtpXSYmKHRbaV09dFtpKzFdLHRbaSsxXT0wKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2RlbGV0ZU5vZGU9ZnVuY3Rpb24oZSx0LGkpe2lmKCF0fHwhdC5wYXJlbnRPYmplY3QpcmV0dXJuIDA7dmFyIG49MCxvPTA7dC50ci5uZXh0U2libGluZyYmKG49dC50ci5uZXh0U2libGluZy5ub2RlbSksdC50ci5wcmV2aW91c1NpYmxpbmcmJihvPXQudHIucHJldmlvdXNTaWJsaW5nLm5vZGVtKTtmb3IodmFyIHI9dC5wYXJlbnRPYmplY3QsbD1yLmNoaWxkc0NvdW50LHM9ci5jaGlsZE5vZGVzLGE9MDtsPmE7YSsrKWlmKHNbYV0uaWQ9PWUpe2l8fHIuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5yZW1vdmVDaGlsZChzW2FdLnRyKSxzW2FdPTA7YnJlYWt9dGhpcy5fY29tcHJlc3NDaGlsZExpc3QobCxzKSxpfHxyLmNoaWxkc0NvdW50LS0sbiYmKHRoaXMuX2NvcnJlY3RQbHVzKG4pLHRoaXMuX2NvcnJlY3RMaW5lKG4pKSxvJiYodGhpcy5fY29ycmVjdFBsdXMobyksdGhpcy5fY29ycmVjdExpbmUobykpLHRoaXMudHNjaGVjayYmdGhpcy5fY29ycmVjdENoZWNrU3RhdGVzKHIpLGl8fHRoaXMuX2dsb2JhbElkU3RvcmFnZVJlY1N1Yih0KX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZGVsZXRlQ2hpbGRJdGVtcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGUpO2lmKHQpZm9yKHZhciBpPXQuY2hpbGRzQ291bnQsbj0wO2k+bjtuKyspdGhpcy5fZGVsZXRlTm9kZSh0LmNoaWxkTm9kZXNbMF0uaWQsdC5jaGlsZE5vZGVzWzBdKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2dsb2JhbElkU3RvcmFnZVJlY1N1Yj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuY2hpbGRzQ291bnQ7dCsrKXRoaXMuX2dsb2JhbElkU3RvcmFnZVJlY1N1YihlLmNoaWxkTm9kZXNbdF0pLHRoaXMuX2dsb2JhbElkU3RvcmFnZVN1YihlLmNoaWxkTm9kZXNbdF0uaWQpO3RoaXMuX2dsb2JhbElkU3RvcmFnZVN1YihlLmlkKTt2YXIgaT1lO2kuc3Bhbj1udWxsLGkudHIubm9kZW09bnVsbCxpLnRyPW51bGwsaS5odG1sTm9kZT1udWxsfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fYXV0b1Njcm9sbD1mdW5jdGlvbihlLHQsaSl7dGhpcy5hdXRvU2Nyb2xsJiYoZSYmKHQ9ZGh4NC5hYnNUb3AoZSksaT1kaHg0LmFic1RvcCh0aGlzLmFsbFRyZWUpLXRoaXMuYWxsVHJlZS5zY3JvbGxUb3ApLHQtaS1wYXJzZUludCh0aGlzLmFsbFRyZWUuc2Nyb2xsVG9wKT5wYXJzZUludCh0aGlzLmFsbFRyZWUub2Zmc2V0SGVpZ2h0KS01MCYmKHRoaXMuYWxsVHJlZS5zY3JvbGxUb3A9cGFyc2VJbnQodGhpcy5hbGxUcmVlLnNjcm9sbFRvcCkrMjApLHQtaTxwYXJzZUludCh0aGlzLmFsbFRyZWUuc2Nyb2xsVG9wKSszMCYmKHRoaXMuYWxsVHJlZS5zY3JvbGxUb3A9cGFyc2VJbnQodGhpcy5hbGxUcmVlLnNjcm9sbFRvcCktMjApKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZW5hYmxlVGV4dFNpZ25zPWZ1bmN0aW9uKGUpe3RoaXMuX3R4dGltZz1kaHg0LnMyYihlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUucHJldmVudElFQ2FjaGluZz1mdW5jdGlvbihlKXtkaHg0LmFqYXguY2FjaGU9IWV9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnByZXZlbnRJRUNhc2hpbmc9ZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUucHJldmVudElFQ2FjaGluZyxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRJY29uU2l6ZT1mdW5jdGlvbihlLHQsaSl7aWYoaSl7aWYoaSYmaS5zcGFuKXZhciBuPWk7ZWxzZSB2YXIgbj10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGkpO2lmKCFuKXJldHVybiAwO3ZhciBvPW4uc3Bhbi5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZy5jaGlsZE5vZGVzWzBdO2UmJihvLnN0eWxlLndpZHRoPWUrInB4Iix3aW5kb3cuX0tIVE1McnYmJihvLnBhcmVudE5vZGUuc3R5bGUud2lkdGg9ZSsicHgiKSksdCYmKG8uc3R5bGUuaGVpZ2h0PXQrInB4Iix3aW5kb3cuX0tIVE1McnYmJihvLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0PXQrInB4IikpfWVsc2UgdGhpcy5kZWZfaW1nX3g9ZSsicHgiLHRoaXMuZGVmX2ltZ195PXQrInB4In0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZW5hYmxlU2luZ2xlUmFkaW9Nb2RlPWZ1bmN0aW9uKGUpe3RoaXMuX2ZyYnRycz1kaHg0LnMyYihlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUub3Blbk9uSXRlbUFkZGVkPWZ1bmN0aW9uKGUpe3RoaXMuX2hBZEk9IWRoeDQuczJiKGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5vcGVuT25JdGVtQWRkaW5nPWZ1bmN0aW9uKGUpe3RoaXMuX2hBZEk9IWRoeDQuczJiKGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5nZXRBbGxJdGVtc1dpdGhLaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEFsbEZhdEl0ZW1zKHRoaXMuaHRtbE5vZGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRTa2luPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50T2JqZWN0LmNsYXNzTmFtZS5yZXBsYWNlKC9kaHh0cmVlX1teIF0qL2dpLCIiKTt0aGlzLnBhcmVudE9iamVjdC5jbGFzc05hbWU9dCsiIGRoeHRyZWVfIitlLCJkaHhfdGVycmFjZSIhPWUmJiJkaHhfd2ViIiE9ZSYmIm1hdGVyaWFsIiE9ZXx8dGhpcy5lbmFibGVUcmVlTGluZXMoITEpLCJtYXRlcmlhbCI9PWUmJnRoaXMuc2V0SWNvblNpemUoIjI1IiwiMjUiKX0sanNvblBvaW50ZXIucHJvdG90eXBlPXt0ZXh0OmZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVtdLG49MDtuPGUubGVuZ3RoO24rKylpLnB1c2goInsiK3QoZVtuXSkrIn0iKTtyZXR1cm4gaS5qb2luKCIsIil9LHQ9ZnVuY3Rpb24oaSl7dmFyIG49W107Zm9yKHZhciBvIGluIGkpIm9iamVjdCI9PXR5cGVvZiBpW29dP28ubGVuZ3RoP24ucHVzaCgnIicrbysnIjpbJytlKGlbb10pKyJdIik6bi5wdXNoKCciJytvKyciOnsnK3QoaVtvXSkrIn0iKTpuLnB1c2goJyInK28rJyI6IicraVtvXSsnIicpO3JldHVybiBuLmpvaW4oIiwiKX07cmV0dXJuInsiK3QodGhpcy5kKSsifSJ9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kW2VdfSxleGlzdHM6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZH0sY29udGVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmQuY29udGVudH0sZWFjaDpmdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcy5kW2VdLG89bmV3IGpzb25Qb2ludGVyO2lmKG4pZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspby5kPW5bcl0sdC5hcHBseShpLFtvLHJdKX0sZ2V0X2FsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmR9LHN1YjpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGpzb25Qb2ludGVyKHRoaXMuZFtlXSx0aGlzLmQpfSxzdWJfZXhpc3RzOmZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy5kW2VdfSxlYWNoX3g6ZnVuY3Rpb24oZSx0LGksbixvKXt2YXIgcj10aGlzLmRbZV0sbD1uZXcganNvblBvaW50ZXIoMCx0aGlzLmQpO2lmKHIpZm9yKG89b3x8MDtvPHIubGVuZ3RoO28rKylpZihyW29dW3RdJiYobC5kPXJbb10sLTE9PWkuYXBwbHkobixbbCxvXSkpKXJldHVybn0sdXA6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBqc29uUG9pbnRlcih0aGlzLmRwLHRoaXMuZCl9LHNldDpmdW5jdGlvbihlLHQpe3RoaXMuZFtlXT10fSxjbG9uZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGpzb25Qb2ludGVyKHRoaXMuZCx0aGlzLmRwKX0sdGhyb3VnaDpmdW5jdGlvbihlLHQsaSxuLG8pe3ZhciByPXRoaXMuZFtlXTtpZihyLmxlbmd0aClmb3IodmFyIGw9MDtsPHIubGVuZ3RoO2wrKyl7aWYobnVsbCE9cltsXVt0XSYmIiIhPXJbbF1bdF0mJighaXx8cltsXVt0XT09aSkpe3ZhciBzPW5ldyBqc29uUG9pbnRlcihyW2xdLHRoaXMuZCk7bi5hcHBseShvLFtzLGxdKX12YXIgYT10aGlzLmQ7dGhpcy5kPXJbbF0sdGhpcy5zdWJfZXhpc3RzKGUpJiZ0aGlzLnRocm91Z2goZSx0LGksbixvKSx0aGlzLmQ9YX19fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5sb2FkSlNPTk9iamVjdD1mdW5jdGlvbihlLHQpe3JldHVybiB3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUuaW5mbyYmd2luZG93LmNvbnNvbGUuaW5mbygibG9hZEpTT05PYmplY3Qgd2FzIGRlcHJlY2F0ZWQiLCJodHRwOi8vZG9jcy5kaHRtbHguY29tL21pZ3JhdGlvbl9faW5kZXguaHRtbCNtaWdyYXRpb25mcm9tNDN0bzQ0IiksdGhpcy5fbG9hZEpTT05PYmplY3QoZSx0KX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2xvYWRKU09OT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5wYXJzQ291bnR8fHRoaXMuY2FsbEV2ZW50KCJvblhMUyIsW3RoaXMsbnVsbF0pLHRoaXMueG1sc3RhdGU9MTt2YXIgaT1uZXcganNvblBvaW50ZXIoZSk7dGhpcy5fcGFyc2UoaSksdGhpcy5fcD1pLHQmJnQoKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGRoeF9pbml0X3RyZWVzLCExKTp3aW5kb3cuYXR0YWNoRXZlbnQmJndpbmRvdy5hdHRhY2hFdmVudCgib25sb2FkIixkaHhfaW5pdF90cmVlcyk7dmFyIHN0eWxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7c3R5bGUuaW5uZXJIVE1MPSdAa2V5ZnJhbWVzIGRoeF9sb2FkZXJfcm90YXRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBkaHhfbG9hZGVyX2Rhc2h7MCV7c3Ryb2tlLWRhc2hhcnJheToxLDIwMDtzdHJva2UtZGFzaG9mZnNldDowO301MCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTM1cHg7fTEwMCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTEyNHB4O319LmRodG1seE1lbnVfbWF0ZXJpYWxfTWlkZGxle3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoyOHB4O2xpbmUtaGVpZ2h0OjI4cHg7YmFja2dyb3VuZC1jb2xvcjojZjVmNWY1O292ZXJmbG93OmhpZGRlbjtib3JkZXI6bm9uZTtmb250LXNpemU6MTRweDtmb250LWZhbWlseTpSb2JvdG8sQXJpYWwsSGVsdmV0aWNhO2NvbG9yOiM0MDQwNDA7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTstby11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX05vcm1hbCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9EaXNhYmxlZCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9TZWxlY3RlZHtwb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDpsZWZ0O2ZvbnQ6aW5oZXJpdDtoZWlnaHQ6MjhweDtsaW5lLWhlaWdodDoyOHB4O21hcmdpbjowO3BhZGRpbmc6MCA4cHg7Y3Vyc29yOmRlZmF1bHQ7d2hpdGUtc3BhY2U6bm93cmFwOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9Ob3JtYWwgZGl2LnRvcF9sZXZlbF90ZXh0LC5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX0Rpc2FibGVkIGRpdi50b3BfbGV2ZWxfdGV4dCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9TZWxlY3RlZCBkaXYudG9wX2xldmVsX3RleHR7ZmxvYXQ6bGVmdDttYXJnaW46MCAzcHg7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX05vcm1hbCBpLC5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX0Rpc2FibGVkIGksLmRodG1seE1lbnVfbWF0ZXJpYWxfTWlkZGxlIGRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1RvcExldmVsX0l0ZW1fU2VsZWN0ZWQgaXtoZWlnaHQ6aW5oZXJpdDtsaW5lLWhlaWdodDppbmhlcml0O2Zsb2F0OmxlZnQ7Y29sb3I6aW5oZXJpdDttYXJnaW46MCA0cHg7Zm9udC1zaXplOjEuMmVtO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9EaXNhYmxlZHtjb2xvcjojYTZhNmE2O30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9TZWxlY3RlZHtiYWNrZ3JvdW5kLWNvbG9yOiNlYmViZWI7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBpbWcuZGh0bWx4TWVudV9Ub3BMZXZlbF9JdGVtX0ljb257ZmxvYXQ6bGVmdDttYXJnaW46NXB4IDNweCAwIDNweDt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O2N1cnNvcjpkZWZhdWx0O30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LnRvcF9zZXB7cG9zaXRpb246cmVsYXRpdmU7ZmxvYXQ6bGVmdDtoZWlnaHQ6MjJweDt3aWR0aDowO2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjZGZkZmRmO21hcmdpbjozcHggOHB4IDAgOHB4O2ZvbnQtc2l6ZToxcHg7b3ZlcmZsb3c6aGlkZGVuO2N1cnNvcjpkZWZhdWx0Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfVG9wTGV2ZWxfVGV4dF9yaWdodCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfVG9wTGV2ZWxfVGV4dF9sZWZ0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2hlaWdodDoyOHB4O2xpbmUtaGVpZ2h0OjI4cHg7Y3Vyc29yOmRlZmF1bHQ7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6Um9ib3RvLEFyaWFsLEhlbHZldGljYTtjb2xvcjojNDA0MDQwOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfVG9wTGV2ZWxfVGV4dF9yaWdodHtyaWdodDo2cHg7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9Ub3BMZXZlbF9UZXh0X2xlZnR7bGVmdDo2cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29ue3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6NXB4IDA7YmFja2dyb3VuZC1jb2xvcjojZmFmYWZhO292ZXJmbG93OmhpZGRlbjtjdXJzb3I6ZGVmYXVsdDtsaW5lLWhlaWdodDpub3JtYWw7b3ZlcmZsb3cteTphdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApO2JveC1zaGFkb3c6MCAxcHggM3B4IHJnYmEoMCwwLDAsMC4xMiksMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4yNCk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTstby11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRke3BhZGRpbmc6MDttYXJnaW46MDtsaW5lLWhlaWdodDpub3JtYWw7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OlJvYm90byxBcmlhbCxIZWx2ZXRpY2E7Y29sb3I6IzQwNDA0MDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbnt3aWR0aDoxOHB4O3RleHQtYWxpZ246Y2VudGVyO31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9pY29uIGltZy5zdWJfaWNvbnttYXJnaW46NHB4IDZweCAwIDZweDt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9pY29uIGl7d2lkdGg6MThweDtoZWlnaHQ6MzBweDtsaW5lLWhlaWdodDoyOXB4O21hcmdpbjowIDZweDtmb250LXNpemU6MS4yZW07dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6aW5oZXJpdDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbiBkaXYuc3ViX2ljb257bWFyZ2luOjAgNnB4O3dpZHRoOjE4cHg7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgNXB4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybCgiaW1ncy9kaHhtZW51X21hdGVyaWFsL2RoeG1lbnVfY2hyZC5wbmciKTt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbiBkaXYuc3ViX2ljb24uY2hieF8we2JhY2tncm91bmQtcG9zaXRpb246MCA1cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRkLnN1Yl9pdGVtX2ljb24gZGl2LnN1Yl9pY29uLmNoYnhfMXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xOHB4IDVweDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbiBkaXYuc3ViX2ljb24ucmRidF8we2JhY2tncm91bmQtcG9zaXRpb246LTcycHggNXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9pY29uIGRpdi5zdWJfaWNvbi5yZGJ0XzF7YmFja2dyb3VuZC1wb3NpdGlvbjotOTBweCA1cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRkLnN1Yl9pdGVtX3RleHQgZGl2LnN1Yl9pdGVtX3RleHR7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtwYWRkaW5nOjAgMjJweCAwIDFweDtvdmVyZmxvdzpoaWRkZW47fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRkLnN1Yl9pdGVtX2hre3BhZGRpbmc6MCAxMHB4IDAgOHB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9oayBkaXYuc3ViX2l0ZW1faGt7Y29sb3I6IzhkOGQ4ZDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOnJpZ2h0O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZCBkaXYuY29tcGxleF9hcnJvd3tmbG9hdDpyaWdodDt3aWR0aDoxMHB4O21hcmdpbjowIDFweCAwIDExcHg7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLWltYWdlOnVybCgiaW1ncy9kaHhtZW51X21hdGVyaWFsL2RoeG1lbnVfc3ViYXIucG5nIik7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246MCAxMHB4O292ZXJmbG93OmhpZGRlbjtmb250LXNpemU6MXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZCBkaXYuY29tcGxleF9hcnJvd19sb2FkaW5ne3dpZHRoOjE2cHg7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKCJpbWdzL2RoeG1lbnVfbWF0ZXJpYWwvZGh4bWVudV9sb2FkZXIuZ2lmIik7ZmxvYXQ6cmlnaHQ7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX3NlbGVjdGVkIHRke2JhY2tncm91bmQtY29sb3I6I2ViZWJlYjt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdHIuc3ViX2l0ZW1fc2VsZWN0ZWQgdGQgZGl2LmNvbXBsZXhfYXJyb3d7YmFja2dyb3VuZC1wb3NpdGlvbjotMTBweCAxMHB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQuc3ViX2l0ZW1faGsgZGl2LnN1Yl9pdGVtX2hre2NvbG9yOiNjMGMwYzA7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBkaXYuc3ViX2l0ZW1fdGV4dCxkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQgdGQuc3ViX2l0ZW1faWNvbiBpe2NvbG9yOiNhNmE2YTY7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBkaXYuY29tcGxleF9hcnJvd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yMHB4IDEwcHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBkaXYuc3ViX2ljb24uY2hieF8we2JhY2tncm91bmQtcG9zaXRpb246LTM2cHggNXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQgZGl2LnN1Yl9pY29uLmNoYnhfMXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi01NHB4IDVweDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdHIuc3ViX2l0ZW1fZGlzIHRkIGRpdi5zdWJfaWNvbi5yZGJ0XzB7YmFja2dyb3VuZC1wb3NpdGlvbjotMTA4cHggNXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQgZGl2LnN1Yl9pY29uLnJkYnRfMXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMjZweCA1cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBpe2NvbG9yOiNhNmE2YTY7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9zZXAgdGR7cGFkZGluZzo1cHggM3B4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfc2VwIHRkIGRpdi5zdWJfc2Vwe3Bvc2l0aW9uOnJlbGF0aXZlO2ZvbnQtc2l6ZToxcHg7bGluZS1oZWlnaHQ6MXB4O2hlaWdodDowO3dpZHRoOjEwMCU7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RmZGZkZjt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93VXAsZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93VXBfT3ZlcixkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfQXJyb3dVcF9EaXNhYmxlZHtwb3NpdGlvbjpyZWxhdGl2ZTtmb250LXNpemU6MXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNkZmRmZGY7YmFja2dyb3VuZC1pbWFnZTp1cmwoImltZ3MvZGh4bWVudV9tYXRlcmlhbC9kaHhtZW51X2Fycm93X3VwLnBuZyIpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciAycHg7cGFkZGluZzo4cHggMDttYXJnaW4tYm90dG9tOjNweDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93VXBfRGlzYWJsZWR7YmFja2dyb3VuZC1pbWFnZTp1cmwoImltZ3MvZGh4bWVudV9tYXRlcmlhbC9kaHhtZW51X2Fycm93X3VwX2Rpcy5wbmciKTt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93RG93bixkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfQXJyb3dEb3duX092ZXIsZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93RG93bl9EaXNhYmxlZHtwb3NpdGlvbjpyZWxhdGl2ZTtmb250LXNpemU6MXB4O2JvcmRlci10b3A6MXB4IHNvbGlkICNkZmRmZGY7YmFja2dyb3VuZC1pbWFnZTp1cmwoImltZ3MvZGh4bWVudV9tYXRlcmlhbC9kaHhtZW51X2Fycm93X2Rvd24ucG5nIik7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIDZweDtwYWRkaW5nOjhweCAwO21hcmdpbi10b3A6M3B4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfQXJyb3dEb3duX0Rpc2FibGVke2JhY2tncm91bmQtaW1hZ2U6dXJsKCJpbWdzL2RoeG1lbnVfbWF0ZXJpYWwvZGh4bWVudV9hcnJvd19kb3duX2Rpcy5wbmciKTt9aWZyYW1lLmRodG1seE1lbnVfSUU2Q292ZXJGaXhfbWF0ZXJpYWx7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDojMDAwO2ZpbHRlcjpwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eT0xMDApO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUuZGlyX2xlZnQgZGl2LmFsaWduX2xlZnR7ZmxvYXQ6bGVmdDt9LmRodG1seE1lbnVfbWF0ZXJpYWxfTWlkZGxlLmRpcl9sZWZ0IGRpdi5hbGlnbl9yaWdodHtmbG9hdDpyaWdodDt9LmRoeG1lbnVfc2tpbl9kZXRlY3R7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDotMTAwcHg7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowIHNvbGlkIHdoaXRlO3dpZHRoOjQwcHg7aGVpZ2h0OjEwcHg7b3ZlcmZsb3c6aGlkZGVuO31Aa2V5ZnJhbWVzIGRoeF9sb2FkZXJfcm90YXRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBkaHhfbG9hZGVyX2Rhc2h7MCV7c3Ryb2tlLWRhc2hhcnJheToxLDIwMDtzdHJva2UtZGFzaG9mZnNldDowO301MCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTM1cHg7fTEwMCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTEyNHB4O319LmRlZmF1bHRUcmVlVGFibGV7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowO30uY29udGFpbmVyVGFibGVTdHlsZXtvdmVyZmxvdzphdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDowO2ZvbnQtc2l6ZToxMnB4Oy1raHRtbC11c2VyLXNlbGVjdDpub25lO30uY29udGFpbmVyVGFibGVTdHlsZVJUTCBzcGFue2RpcmVjdGlvbjpydGw7dW5pY29kZS1iaWRpOmJpZGktb3ZlcnJpZGU7fS5jb250YWluZXJUYWJsZVN0eWxlUlRMe2RpcmVjdGlvbjpydGw7b3ZlcmZsb3c6YXV0bztwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MDtmb250LXNpemU6MTJweDt9LnN0YW5kYXJ0VHJlZVJvd3tmb250LWZhbWlseTpSb2JvdG8sQXJpYWwsSGVsdmV0aWNhO2ZvbnQtc2l6ZTo7LW1vei11c2VyLXNlbGVjdDpub25lO2xpbmUtaGVpZ2h0OjI0cHg7fS5zZWxlY3RlZFRyZWVSb3d7Zm9udC1mYW1pbHk6Um9ib3RvLEFyaWFsLEhlbHZldGljYTtmb250LXNpemU6Oy1tb3otdXNlci1zZWxlY3Q6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7Y29sb3I6IzM5Yzt9LmRoeHRyZWVfbWF0ZXJpYWwgLnNlbGVjdGVkVHJlZVJvd0Z1bGwgLmRoeFRleHRDZWxse2JhY2tncm91bmQtY29sb3I6I2VlZTtjb2xvcjojMzljO30uZHJhZ0FuZERyb3BSb3d7Y29sb3I6IzM5Yzt9LnN0YW5kYXJ0VHJlZVJvd19sb3J7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtiYWNrZ3JvdW5kLWNvbG9yOjtmb250LWZhbWlseTpSb2JvdG8sQXJpYWwsSGVsdmV0aWNhO2ZvbnQtc2l6ZTo7LW1vei11c2VyLXNlbGVjdDpub25lO30uc3RhbmRhcnRUcmVlSW1hZ2V7aGVpZ2h0OjI0cHg7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlcjowO3BhZGRpbmc6MDttYXJnaW46MDtmb250LXNpemU6MXB4O30uc3RhbmRhcnRUcmVlSW1hZ2UgaW1ne3dpZHRoOjE4cHg7aGVpZ2h0OjI0cHg7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtib3JkZXI6MDtwYWRkaW5nOjA7bWFyZ2luOjA7Zm9udC1zaXplOjFweDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LWtodG1sLXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lOy1vLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt9LmhpZGRlblJvd3t3aWR0aDoxcHg7b3ZlcmZsb3c6aGlkZGVuO30uZHJhZ1NwYW5EaXYsLmRyYWdTcGFuRGl2IHRke2ZvbnQtZmFtaWx5OlJvYm90byxBcmlhbCxIZWx2ZXRpY2E7Zm9udC1zaXplOjtsaW5lLWhlaWdodDo7dmVydGljYWwtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6d2hpdGU7ei1pbmRleDo5OTk7fS5kcmFnU3BhbkRpdiB0ZHtwYWRkaW5nOjVweDt9LmFfZGh4X2hpZGRlbl9pbnB1dHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTFweDtsZWZ0Oi0xcHg7d2lkdGg6MXB4O2hlaWdodDoxcHg7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDpub25lO30uYV9kaHhfaGlkZGVuX2lucHV0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMXB4O2xlZnQ6LTFweDt3aWR0aDoxcHg7aGVpZ2h0OjFweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOm5vbmU7fS5zZWxlY3Rpb25CYXJ7dG9wOjA7YmFja2dyb3VuZC1jb2xvcjpibGFjaztwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjJweDt6LWluZGV4OjExO30uaW50cmVlZWRpdFJvd3tmb250LXNpemU6OHB0O2hlaWdodDoxNnB4O2JvcmRlcjoxcHggc29saWQgc2lsdmVyO3BhZGRpbmc6MDttYXJnaW46MDttYXJnaW4tbGVmdDo0cHg7LW1vei11c2VyLXNlbGVjdDp0ZXh0Oy1raHRtbC11c2VyLXNlbGVjdDp0ZXh0O30uZGh4X3RyZWVfdGV4dFNpZ257Zm9udC1zaXplOjhwdDtmb250LWZhbWlseTptb25vc3BhY2U7d2lkdGg6MjFweDtjb2xvcjo7cGFkZGluZzowO21hcmdpbjowO2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO30uZGh4X3RyZWVfb3BhY2l0eXtvcGFjaXR5OjA7ZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5PTApOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh4X2JnX2ltZ19maXh7d2lkdGg6MThweDtoZWlnaHQ6MjRweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7YmFja2dyb3VuZC1wb3NpdGlvbi14OmNlbnRlcjtiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6Y2VudGVyO30uZGh4dHJlZV9za2luX2RldGVjdHtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi0xMDBweDttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjAgc29saWQgd2hpdGU7d2lkdGg6NDBweDtoZWlnaHQ6MTBweDtvdmVyZmxvdzpoaWRkZW47fScsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7dmFyIGxheWFhaXJfZGVidWdfdmlldz17fTt3aW5kb3cubGF5YWFpcl9kZWJ1Z192aWV3PWxheWFhaXJfZGVidWdfdmlldyxsYXlhYWlyX2RlYnVnX3ZpZXcuaW5pdExheWFBaXJEZWJ1Z1ZpZXc9ZnVuY3Rpb24oZSl7ZS5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCBibGFjayI7dmFyIHQ9TWF0aC5taW4oMjUwLC4zKmUub2Zmc2V0V2lkdGgpLGk9JzxkaXYgY2xhc3M9InRvcC1iYW5uZXIiPlxuPC9kaXY+XG48ZGl2PlxuPGRpdiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuOyBib3JkZXItYm90dG9tOjFweCBzb2xpZCAjNDQ0OyBwYWRkaW5nOjVweCI+XG48ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0Ij5cbjxidXR0b24gaWQ9Im5vZGVfZnVuY3Rpb25hbGl0eV9jb250cm9sIj7lrqHmn6XlhYPntKA8L2J1dHRvbj5cbjxidXR0b24gaWQ9InJlZnJlc2hfY29udHJvbCI+5Yi35pawPC9idXR0b24+XG48L2Rpdj5cbjxkaXYgc3R5bGU9ImZsb2F0OnJpZ2h0Ij5cbjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNob3dfY3VycmVudF9jYWNoZV9jb250cm9sIj7mmL7npLrlvZPliY1jYWNoZemHjee7mDwvaW5wdXQ+XG48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzaG93X2FsbF9jYWNoZV9jb250cm9sIj7mmL7npLrmiYDmnIljYWNoZeWMuuWfnzwvaW5wdXQ+XG48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzaG93X2F0bGFzX2NvbnRyb2wiPuaYvuekuuWkp+WbvuWQiOmbhjwvaW5wdXQ+XG48L2Rpdj5cbjwvZGl2PlxuPGRpdiBjbGFzcz0iaGdyb3VwIj5cbjxkaXYgc3R5bGU9ImZsb2F0OmxlZnQ7d2lkdGg6Jyt0KydweDsgYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCBibGFjayIgaWQ9InRyZWVfY29udGFpbmVyIj48L2Rpdj5cbjxkaXYgc3R5bGU9Im92ZXJmbG93OmhpZGRlbiI+XG48ZGl2IGlkPSJjb250ZW50X3Rvb2xiYXIiIHN0eWxlPSJ3aWR0aDoxMDAlO21hcmdpbjoxMHB4Ij48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ2aXNpYmlsaXR5X2NvbnRyb2wiPuWPr+ingTwvaW5wdXQ+XG48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzaG93X2JvcmRlcl9jb250cm9sIj7mmL7npLrovrnmoYY8L2lucHV0PlxuPGJ1dHRvbiBpZD0ibG9nX2luZm9fY29udHJvbCI+5omT5Y2w5Yiw5o6n5Yi25Y+wPC9idXR0b24+XG48YnV0dG9uIGlkPSJlbmFibGVkX25vZGVfY2hhaW5fY29udHJvbCI+ZW5hYmxl6ZO+PC9idXR0b24+XG48YnV0dG9uIGlkPSJzaXplX2NoYWluX2NvbnRyb2wiPnNpemXpk748L2J1dHRvbj5cbjwvZGl2PjxkaXYgc3R5bGU9Im92ZXJmbG93OmF1dG8iPjx0YWJsZSBpZD0iY29udGVudF90YWJsZSIgc3R5bGU9ImJvcmRlcjoxcHggc29saWQgI2NjY2NjYztib3JkZXItY29sbGFwc2U6Y29sbGFwc2UiPjwvdGFibGU+XG48L2Rpdj48L2Rpdj5cbjwvZGl2PlxuPC9kaXY+JztlLmlubmVySFRNTD1pLHRoaXMuY29udGFpbmVyPWUsdGhpcy50cmVlPW5ldyBkaHRtbFhUcmVlT2JqZWN0KHRyZWVfY29udGFpbmVyLCIxMDAlIiwiMTAwJSIsMCksbm9kZV9mdW5jdGlvbmFsaXR5X2NvbnRyb2wub25jbGljaz1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLGxheWFhaXJfZGVidWdfdmlldy5vbl9pbnNwZWN0X2VsZW1lbnRfY2FsbGJhY2soKSxub2RlX2Z1bmN0aW9uYWxpdHlfY29udHJvbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNGRkYiLG5vZGVfZnVuY3Rpb25hbGl0eV9jb250cm9sLnN0eWxlLmNvbG9yPSJyZ2IoMTA3LCAxNjMsIDI1NSkifX0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFRyZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJlZS5nZXRBbGxJdGVtc1dpdGhLaWRzKCkuc3BsaXQoIiwiKSxpPVtdLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXSxyPXRoaXMudHJlZS5nZXRPcGVuU3RhdGUobyk7MT09ciYmaS5wdXNoKG8pfXRoaXMudHJlZS5kZWxldGVDaGlsZEl0ZW1zKDApLHRoaXMudHJlZS5wYXJzZShlLCJqc29uIik7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspdGhpcy50cmVlLm9wZW5JdGVtKGlbbl0pfSxsYXlhYWlyX2RlYnVnX3ZpZXcucmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb250YWluZXIuc3R5bGUud2lkdGg9ZSsicHgiLHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodD10KyJweCI7dmFyIGk9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LXRyZWVfY29udGFpbmVyLm9mZnNldFRvcDt0cmVlX2NvbnRhaW5lci5zdHlsZS5oZWlnaHQ9aSsicHgiLGNvbnRlbnRfdG9vbGJhci5zdHlsZS53aWR0aD1lLXRyZWVfY29udGFpbmVyLm9mZnNldFdpZHRoKyJweCIsY29udGVudF90YWJsZS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodD1pLWNvbnRlbnRfdG9vbGJhci5vZmZzZXRIZWlnaHQtMjErInB4Iixjb250ZW50X3RhYmxlLnN0eWxlLndpZHRoPWUtdHJlZV9jb250YWluZXIub2Zmc2V0V2lkdGgtMTYrInB4In0sbGF5YWFpcl9kZWJ1Z192aWV3LmJvdW5jZVVwSW5zcGVjdEJ1dHRvbj1mdW5jdGlvbigpe25vZGVfZnVuY3Rpb25hbGl0eV9jb250cm9sLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iYnV0dG9uZmFjZSIsbm9kZV9mdW5jdGlvbmFsaXR5X2NvbnRyb2wuc3R5bGUuY29sb3I9ImJsYWNrIn0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFZhbHVlSW5wdXRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMudmFsdWVfaW5wdXRfY2FsbGJhY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFZhbHVlQ2hhbmdlSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLnZhbHVlX2NoYW5nZV9jYWxsYmFjaz1lfSxsYXlhYWlyX2RlYnVnX3ZpZXcuYWRkQ29udGVudD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3QuaW5uZXJIVE1MPSc8dGQgc3R5bGU9IndpZHRoOjEwMHB4O2ZvbnQtc2l6ZToxM3B4O2JvcmRlcjoxcHggc29saWQgI0NDQztwYWRkaW5nLWxlZnQ6MTBweCI+JytlLmtleSsnPC90ZD5cbjx0ZCBzdHlsZT0id2lkdGg6MjAwcHg7Ym9yZGVyOjFweCBzb2xpZCAjQ0NDOyI+PGlucHV0IHN0eWxlPSJib3JkZXI6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoyNXB4O3BhZGRpbmctbGVmdDoxMHB4OyIgdmFsdWU9JytlLnZhbHVlKyI+PC90ZD4iLGNvbnRlbnRfdGFibGUuYXBwZW5kQ2hpbGQodCk7dmFyIGk9dC5sYXN0RWxlbWVudENoaWxkLmxhc3RFbGVtZW50Q2hpbGQ7aS5kYXRhPWUsaS5vbmlucHV0PWZ1bmN0aW9uKGUpe3RoaXMudmFsdWVfaW5wdXRfY2FsbGJhY2smJnRoaXMudmFsdWVfaW5wdXRfY2FsbGJhY2soZS50YXJnZXQuZGF0YSxlLnRhcmdldC52YWx1ZSl9LmJpbmQodGhpcyksaS5vbmNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLnZhbHVlX2NoYW5nZV9jYWxsYmFjayYmdGhpcy52YWx1ZV9jaGFuZ2VfY2FsbGJhY2soZS50YXJnZXQuZGF0YSxlLnRhcmdldC52YWx1ZSl9LmJpbmQodGhpcyl9LGxheWFhaXJfZGVidWdfdmlldy5zZXRDb250ZW50cz1mdW5jdGlvbihlKXtjb250ZW50X3RhYmxlLmlubmVySFRNTD0iIjtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTt0aGlzLmFkZENvbnRlbnQoaSl9fSxsYXlhYWlyX2RlYnVnX3ZpZXcuY2hhbmdlVmFsdWVBdD1mdW5jdGlvbihlLHQpe2NvbnRlbnRfdGFibGUuY2hpbGRyZW5bZV0ubGFzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZT10fSxsYXlhYWlyX2RlYnVnX3ZpZXcuY2hhbmdlVmFsdWVCeUxhYmVsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWNvbnRlbnRfdGFibGUuY2hpbGRyZW4ubGVuZ3RoLTE7aT49MDtpLS0paWYoY29udGVudF90YWJsZS5jaGlsZHJlbltpXS5maXJzdEVsZW1lbnRDaGlsZC5pbm5lclRleHQ9PWUpe2NvbnRlbnRfdGFibGUuY2hpbGRyZW5baV0ubGFzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZT10O2JyZWFrfX0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFZpc2liaWxpdHk9ZnVuY3Rpb24oZSl7dmlzaWJpbGl0eV9jb250cm9sLmNoZWNrZWQ9ISFlfSxsYXlhYWlyX2RlYnVnX3ZpZXcuc2V0U2hvd0RlYnVnQm9yZGVyPWZ1bmN0aW9uKGUpe3Nob3dfYm9yZGVyX2NvbnRyb2wuY2hlY2tlZD0hIWV9LGxheWFhaXJfZGVidWdfdmlldy5nZXRWaXNpYmlsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHZpc2liaWxpdHlfY29udHJvbC5jaGVja2VkfSxsYXlhYWlyX2RlYnVnX3ZpZXcuZ2V0U2hvd0RlYnVnQm9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHNob3dfYm9yZGVyX2NvbnRyb2wuY2hlY2tlZH0sbGF5YWFpcl9kZWJ1Z192aWV3LmdldFNob3dDdXJyZW50Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd19jdXJyZW50X2NhY2hlX2NvbnRyb2wuY2hlY2tlZH0sbGF5YWFpcl9kZWJ1Z192aWV3LmdldFNob3dBbGxDYWNoZT1mdW5jdGlvbigpe3JldHVybiBzaG93X2FsbF9jYWNoZV9jb250cm9sLmNoZWNrZWR9LGxheWFhaXJfZGVidWdfdmlldy5nZXRTaG93QXRsYXM9ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd19hdGxhc19jb250cm9sLmNoZWNrZWR9LGxheWFhaXJfZGVidWdfdmlldy5vbkluc3BlY3RFbGVtZW50PWZ1bmN0aW9uKGUpe3RoaXMub25faW5zcGVjdF9lbGVtZW50X2NhbGxiYWNrPWV9LGxheWFhaXJfZGVidWdfdmlldy5vbkxvZ0luZm89ZnVuY3Rpb24oZSl7bG9nX2luZm9fY29udHJvbC5vbmNsaWNrPWV9LGxheWFhaXJfZGVidWdfdmlldy5vblJlZnJlc2g9ZnVuY3Rpb24oZSl7cmVmcmVzaF9jb250cm9sLm9uY2xpY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uUHJpbnRFbmFibGVkTm9kZUNoYWluPWZ1bmN0aW9uKGUpe2VuYWJsZWRfbm9kZV9jaGFpbl9jb250cm9sLm9uY2xpY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uUHJpbnRTaXplQ2hhaW49ZnVuY3Rpb24oZSl7c2l6ZV9jaGFpbl9jb250cm9sLm9uY2xpY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uVG9nZ2xlVmlzaWJpbGl0eT1mdW5jdGlvbihlKXt2aXNpYmlsaXR5X2NvbnRyb2wub25jaGFuZ2U9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uVG9nZ2xlRGVidWdCb3JkZXI9ZnVuY3Rpb24oZSl7c2hvd19ib3JkZXJfY29udHJvbC5vbmNoYW5nZT1lfSxsYXlhYWlyX2RlYnVnX3ZpZXcub25Ub2dnbGVTaG93Q3VycmVudENhY2hlPWZ1bmN0aW9uKGUpe3Nob3dfY3VycmVudF9jYWNoZV9jb250cm9sLm9uY2hhbmdlPWV9LGxheWFhaXJfZGVidWdfdmlldy5vblRvZ2dsZVNob3dBbGxDYWNoZT1mdW5jdGlvbihlKXtzaG93X2FsbF9jYWNoZV9jb250cm9sLm9uY2hhbmdlPWV9LGxheWFhaXJfZGVidWdfdmlldy5vblRvZ2dsZVNob3dBdGxhcz1mdW5jdGlvbihlKXtzaG93X2F0bGFzX2NvbnRyb2wub25jaGFuZ2U9ZX07";
        return e
    }();
    var z = function() {
        function t() {
            this.mSprite = null;
            this.mIndex = 0;
            this.mTextureDic = {}
        }
        x(t, "laya.debug.tools.AtlasTools");
        var e = t.prototype;
        e.start = function() {
            if (!Be.isWebGL)
                return;
            if (this.mSprite == null) {
                this.mSprite = new Dn
            }
            st.stage.addChild(this.mSprite);
            this.showNext()
        }
        ;
        e.end = function() {
            if (!Be.isWebGL)
                return;
            if (this.mSprite) {
                st.stage.removeChild(this.mSprite)
            }
        }
        ;
        e.showNext = function() {
            if (!Be.isWebGL)
                return;
            if (this.mSprite == null) {
                this.mSprite = new Dn
            }
            st.stage.addChild(this.mSprite);
            this.mIndex++;
            var t;
            t = laya.webgl.atlas.AtlasResourceManager.instance;
            var e = t.getAtlaserCount();
            if (this.mIndex >= e) {
                this.mIndex = 0
            }
            var i;
            if (this.mTextureDic[this.mIndex]) {
                i = this.mTextureDic[this.mIndex]
            } else {
                var n = t.getAtlaserByIndex(this.mIndex);
                if (n && n.texture) {
                    i = new _n(n.texture,null);
                    this.mTextureDic[this.mIndex] = i
                }
            }
            if (i) {
                this.mSprite.graphics.clear();
                this.mSprite.graphics.save();
                this.mSprite.graphics.alpha(.9);
                this.mSprite.graphics.drawRect(0, 0, 1024, 1024, "#efefefe");
                this.mSprite.graphics.restore();
                this.mSprite.graphics.drawTexture(i, 0, 0, 1024, 1024);
                this.mSprite.graphics.fillText((this.mIndex + 1).toString() + "/" + e.toString(), 25, 100, "40px Arial", "#ff0000", "left")
            }
        }
        ;
        t.getInstance = function() {
            return t.mInstance = t.mInstance || new t
        }
        ;
        t.mInstance = null;
        return t
    }();
    var J = function() {
        function t(t, e) {
            this.data = null;
            this.replaceO = null;
            this.idKey = null;
            this._loadedHandler = null;
            this.data = t;
            if (!e)
                e = Math.random() + "key";
            this.idKey = e;
            this.init()
        }
        x(t, "laya.debug.tools.Base64Atlas");
        var e = t.prototype;
        e.init = function() {
            this.replaceO = {};
            var t;
            for (t in this.data) {
                this.replaceO[t] = this.idKey + "/" + t
            }
        }
        ;
        e.getAdptUrl = function(t) {
            return this.replaceO[t]
        }
        ;
        e.preLoad = function(t) {
            this._loadedHandler = t;
            st.loader.load(j.getPreloads(this.data), new b(this,this.preloadEnd))
        }
        ;
        e.preloadEnd = function() {
            var t;
            for (t in this.data) {
                var e;
                e = st.loader.getRes(this.data[t]);
                fn.cacheRes(this.replaceO[t], e)
            }
            if (this._loadedHandler) {
                this._loadedHandler.run()
            }
        }
        ;
        e.replaceRes = function(t) {
            wt.replaceValue(t, this.replaceO)
        }
        ;
        return t
    }();
    var j = function() {
        function e() {}
        x(e, "laya.debug.tools.Base64ImageTool");
        e.getCanvasPic = function(t) {
            t = t.bitmap;
            var e = He.createElement("canvas");
            var i = e.getContext("2d");
            e.height = t.height;
            e.width = t.width;
            i.drawImage(t.source, 0, 0);
            return e
        }
        ;
        e.getBase64Pic = function(t) {
            return e.getCanvasPic(t).toDataURL("image/png")
        }
        ;
        e.getPreloads = function(t) {
            var e;
            e = [];
            var i;
            for (i in t) {
                e.push({
                    url: t[i],
                    type: "image"
                })
            }
            return e
        }
        ;
        return e
    }();
    var K = function() {
        function c() {}
        x(c, "laya.debug.tools.Base64Tool");
        c.init = function() {
            if (c.lookup)
                return;
            c.lookup = new Uint8Array(256);
            for (var t = 0; t < c.chars.length; t++) {
                c.lookup[c.chars.charCodeAt(t)] = t
            }
        }
        ;
        c.encode = function(t) {
            var e = new Uint8Array(t)
              , i = 0
              , n = e.length
              , s = "";
            for (i = 0; i < n; i += 3) {
                s += c.chars[e[i] >> 2];
                s += c.chars[(e[i] & 3) << 4 | e[i + 1] >> 4];
                s += c.chars[(e[i + 1] & 15) << 2 | e[i + 2] >> 6];
                s += c.chars[e[i + 2] & 63]
            }
            if (n % 3 === 2) {
                s = s.substring(0, s.length - 1) + "="
            } else if (n % 3 === 1) {
                s = s.substring(0, s.length - 2) + "=="
            }
            return s
        }
        ;
        c.encodeStr = function(t) {
            var e;
            e = new Nt;
            e.writeUTFString(t);
            return c.encodeByte(e)
        }
        ;
        c.encodeStr2 = function(t) {
            var e;
            e = new Nt;
            e.writeUTFBytes(t);
            return c.encodeByte(e)
        }
        ;
        c.encodeByte = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = -1);
            if (i < 0) {
                i = t.length
            }
            return c.encode(t.buffer.slice(e, i))
        }
        ;
        c.decodeToByte = function(t) {
            return new Nt(c.decode(t))
        }
        ;
        c.decode = function(t) {
            c.init();
            var e = t.length * .75
              , i = t.length
              , n = 0
              , s = 0
              , r = 0
              , a = 0
              , o = 0
              , l = 0;
            if (t[t.length - 1] === "=") {
                e--;
                if (t[t.length - 2] === "=") {
                    e--
                }
            }
            var h = new ArrayBuffer(e)
              , u = new Uint8Array(h);
            for (n = 0; n < i; n += 4) {
                r = c.lookup[t.charCodeAt(n)];
                a = c.lookup[t.charCodeAt(n + 1)];
                o = c.lookup[t.charCodeAt(n + 2)];
                l = c.lookup[t.charCodeAt(n + 3)];
                u[s++] = r << 2 | a >> 4;
                u[s++] = (a & 15) << 4 | o >> 2;
                u[s++] = (o & 3) << 6 | l & 63
            }
            return h
        }
        ;
        c.chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
        c.lookup = null;
        return c
    }();
    var Q = function() {
        function n() {}
        x(n, "laya.debug.tools.CacheAnalyser");
        var t = n.prototype;
        t.renderCanvas = function(t, e) {
            e === void 0 && (e = 0);
            if (!n.showCacheSprite)
                return;
            if (_s.I.isDebugItem(t))
                return;
            U.showDisBoundToSprite(t, _s.I.cacheViewLayer, nt.CANVAS_REC_COLOR, 4)
        }
        ;
        t.reCacheCanvas = function(t, e) {
            e === void 0 && (e = 0);
            if (!n.showRecacheSprite)
                return;
            if (_s.I.isDebugItem(t))
                return;
            var i;
            i = n.getNodeInfoByNode(t);
            i.addCount(e);
            n.counter.addTime(t, e);
            if (!i.parent) {
                _s.I.nodeRecInfoLayer.addChild(i)
            }
        }
        ;
        n.renderLoopBegin = function() {
            _s.I.cacheViewLayer.graphics.clear()
        }
        ;
        n.getNodeInfoByNode = function(t) {
            gt.idObj(t);
            var e = 0;
            e = gt.getObjID(t);
            if (!n._nodeInfoDic[e]) {
                n._nodeInfoDic[e] = new tr
            }
            n._nodeInfoDic[e].setTarget(t);
            return n._nodeInfoDic[e]
        }
        ;
        n._nodeInfoDic = {};
        n.showCacheSprite = false;
        n.showRecacheSprite = true;
        u(n, ["counter", function() {
            return this.counter = new Ct
        }
        , "I", function() {
            return this.I = new n
        }
        ]);
        return n
    }();
    var q = function() {
        function d() {}
        x(d, "laya.debug.tools.CanvasTools");
        d.createCanvas = function(t, e) {
            var i = new Ss("2D");
            i.getContext("2d");
            i.size(t, e);
            return i
        }
        ;
        d.renderSpriteToCanvas = function(t, e, i, n) {
            Pe.renders[t._renderType]._fun(t, e.context, i, n)
        }
        ;
        d.getImageDataFromCanvas = function(t, e, i, n, s) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            if (n <= 0)
                n = t.width;
            if (s <= 0)
                s = t.height;
            var r = t.context.getImageData(e, i, n, s);
            return r
        }
        ;
        d.getImageDataFromCanvasByRec = function(t, e) {
            var i = t.context.getImageData(e.x, e.y, e.width, e.height);
            return i
        }
        ;
        d.getDifferCount = function(t, e) {
            var s = t.data;
            var r = e.data;
            var a = 0;
            a = 0;
            d.walkImageData(t, i);
            return a;
            function i(t, e, i, n) {
                if (!d.isPoinSame(i, s, r))
                    a++
            }
        }
        ;
        d.getDifferRate = function(t, e) {
            return d.getDifferCount(t, e) / (t.width * t.height)
        }
        ;
        d.getCanvasDisRec = function(t) {
            var e;
            e = new Te;
            var i;
            i = d.getImageDataFromCanvas(t, 0, 0);
            var n = 0;
            var s = 0;
            var r = 0;
            var a = 0;
            n = r = 0;
            s = i.width;
            a = i.height;
            var o = 0
              , l = 0;
            var h = 0
              , u = 0;
            l = i.width;
            u = i.height;
            var c;
            c = i.data;
            var f = 0;
            for (h = 0; h < u; h++) {
                for (o = 0; o < l; o++) {
                    if (!d.isEmptyPoint(c, f)) {
                        if (s > o)
                            s = o;
                        if (n < o)
                            n = o;
                        if (a > h)
                            a = h;
                        if (r < h)
                            r = h
                    }
                    f += 4
                }
            }
            e.setTo(s, a, n - s + 1, r - a + 1);
            return e
        }
        ;
        d.fillCanvasRec = function(t, e, i) {
            var n = t.context;
            n.fillStyle = i;
            n.fillRect(e.x, e.y, e.width, e.height)
        }
        ;
        d.isEmptyPoint = function(t, e) {
            if (t[e] == 0 && t[e + 1] == 0 && t[e + 2] == 0 && t[e + 3] == 0) {
                return true
            } else {
                return false
            }
        }
        ;
        d.isPoinSame = function(t, e, i) {
            if (e[t] == i[t] && e[t + 1] == i[t + 1] && e[t + 2] == i[t + 2] && e[t + 3] == i[t + 3]) {
                return true
            } else {
                return false
            }
        }
        ;
        d.walkImageData = function(t, e) {
            var i = 0
              , n = 0;
            var s = 0
              , r = 0;
            n = t.width;
            r = t.height;
            var a = 0;
            var o = t.data;
            for (i = 0; i < n; i++) {
                for (s = 0; s < r; s++) {
                    e(i, s, a, o);
                    a += 4
                }
            }
        }
        ;
        d.getSpriteByCanvas = function(t) {
            var e;
            e = new Dn;
            e.graphics.drawTexture(new _n(t), 0, 0, t.width, t.height);
            return e
        }
        ;
        d.renderSpritesToCanvas = function(t, e, i, n, s) {
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            var r = 0
              , a = 0;
            a = e.length;
            for (r = s; r < a; r++) {
                d.renderSpriteToCanvas(e[r], t, i, n)
            }
        }
        ;
        d.clearCanvas = function(t) {
            var e = NaN;
            var i = NaN;
            e = t.width;
            i = t.height;
            t.size(e + 1, i);
            t.size(e, i)
        }
        ;
        d.getImagePixels = function(t, e, i, n, s) {
            s === void 0 && (s = 4);
            var r = 0;
            r = (t * i + e) * s;
            var a = 0
              , o = 0;
            var l;
            l = [];
            o = s;
            for (a = 0; a < o; a++) {
                l.push(n[r + a])
            }
            return l
        }
        ;
        return d
    }();
    var $ = function() {
        function r() {}
        x(r, "laya.debug.tools.ClassTool");
        r.defineProperty = function(t, e, i) {
            Object.defineProperty(t, e, i)
        }
        ;
        r.getOwnPropertyDescriptor = function(t, e) {
            var i;
            i = Object.getOwnPropertyDescriptor(t, e);
            return i
        }
        ;
        r.getOwnPropertyDescriptors = function(t) {
            var e;
            e = Object.getOwnPropertyDescriptors(t);
            return e
        }
        ;
        r.getOwnPropertyNames = function(t) {
            var e;
            e = Object.getOwnPropertyNames(t);
            return e
        }
        ;
        r.getObjectGetSetKeys = function(t, e) {
            if (!e)
                e = [];
            var i;
            i = laya.debug.tools.ClassTool.getOwnPropertyNames(t);
            var n;
            for (n in i) {
                n = i[n];
                if (n.indexOf("_$get_") >= 0) {
                    n = n.replace("_$get_", "");
                    e.push(n)
                }
            }
            if (t["__proto__"]) {
                r.getObjectGetSetKeys(t["__proto__"], e)
            }
            return e
        }
        ;
        r.getObjectDisplayAbleKeys = function(t, e) {
            if (!e)
                e = [];
            var i;
            var n;
            var s;
            for (i in t) {
                n = t[i];
                s = typeof n;
                if (i.charAt(0) == "_")
                    continue;
                e.push(i)
            }
            r.getObjectGetSetKeys(t, e);
            e = wt.getNoSameArr(e);
            return e
        }
        ;
        r.getClassName = function(t) {
            if (typeof t == "function")
                return t.name;
            return t["constructor"].name
        }
        ;
        r.getNodeClassAndName = function(t) {
            if (!t)
                return "null";
            var e;
            if (t.name) {
                e = r.getClassName(t) + "(" + t.name + ")"
            } else {
                e = r.getClassName(t)
            }
            return e
        }
        ;
        r.getClassNameByClz = function(t) {
            return t["name"]
        }
        ;
        r.getClassByName = function(t) {
            var e;
            e = st._runScript(t);
            return e
        }
        ;
        r.createObjByName = function(t) {
            var e;
            e = r.getClassByName(t);
            return new e
        }
        ;
        u(r, ["displayTypes", function() {
            return this.displayTypes = {
                boolean: true,
                number: true,
                string: true
            }
        }
        ]);
        return r
    }();
    var tt = function() {
        function e() {
            this.completeHandler = null;
            this.tSelectTar = null;
            this._selectTip = new Dn;
            this._selectTip.setBounds(new Te(0,0,0,0));
            on.listen("ItemClicked", this, this.itemClicked)
        }
        x(e, "laya.debug.tools.ClickSelectTool");
        var t = e.prototype;
        t.beginClickSelect = function(t) {
            this.completeHandler = t;
            e.isClickSelectState = true;
            this.clickSelectChange()
        }
        ;
        t.clickSelectChange = function() {
            if (!He.onPC)
                return;
            this.tSelectTar = null;
            this.clearSelectTip();
            if (e.isClickSelectState) {
                st.timer.loop(200, this, this.updateSelectTar, null, true)
            } else {
                st.timer.clear(this, this.updateSelectTar)
            }
        }
        ;
        t.clearSelectTip = function() {
            this._selectTip.removeSelf()
        }
        ;
        t.updateSelectTar = function() {
            this.clearSelectTip();
            this.tSelectTar = ht.instance.getDisUnderMouse();
            if (!this.tSelectTar) {
                return
            }
            if (_s.I.isDebugItem(this.tSelectTar))
                return;
            var t;
            t = this._selectTip.graphics;
            t.clear();
            var e;
            e = $t.getGRec(this.tSelectTar);
            _s.I.popLayer.addChild(this._selectTip);
            t.drawRect(0, 0, e.width, e.height, null, nt.CLICK_SELECT_COLOR, 2);
            this._selectTip.pos(e.x, e.y)
        }
        ;
        t.itemClicked = function(t) {
            if (!e.isClickSelectState)
                return;
            if (e.ignoreDebugTool) {
                if (_s.I.isDebugItem(t))
                    return
            }
            if (t instanceof laya.debug.uicomps.ContextMenuItem || t.parent instanceof laya.debug.uicomps.ContextMenuItem) {
                return
            }
            U.showDisBound(t);
            if (this.completeHandler) {
                this.completeHandler.runWith(t)
            }
            e.isClickSelectState = false;
            this.clickSelectChange()
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        });
        e._I = null;
        e.isClickSelectState = false;
        e.ignoreDebugTool = false;
        return e
    }();
    var et = function() {
        function e() {
            this.red = NaN;
            this.green = NaN;
            this.blue = NaN
        }
        x(e, "laya.debug.tools.ColorTool");
        e.toHexColor = function(t) {
            return ai.toHexColor(t)
        }
        ;
        e.getRGBByRGBStr = function(t) {
            t.charAt(0) == "#" && (t = t.substr(1));
            var e = parseInt(t, 16);
            var i = t.length == 8;
            var n;
            n = [(16711680 & e) >> 16, (65280 & e) >> 8, 255 & e];
            return n
        }
        ;
        e.getColorBit = function(t) {
            var e;
            e = Math.floor(t).toString(16);
            e = e.length > 1 ? e : "0" + e;
            return e
        }
        ;
        e.getRGBStr = function(t) {
            return "#" + e.getColorBit(t[0]) + e.getColorBit(t[1]) + e.getColorBit(t[2])
        }
        ;
        e.traseHSB = function(t) {
            console.log("hsb:", t[0], t[1], t[2])
        }
        ;
        e.rgb2hsb = function(t, e, i) {
            var n = [t, e, i];
            n.sort(yt.sortNumSmallFirst);
            var s = n[2];
            var r = n[0];
            var a = s / 255;
            var o = s == 0 ? 0 : (s - r) / s;
            var l = 0;
            if (s == r) {
                l = 1
            } else if (t == 0 && e == 0 && i == 0) {} else if (s == t && e >= i) {
                l = (e - i) * 60 / (s - r) + 0
            } else if (s == t && e < i) {
                l = (e - i) * 60 / (s - r) + 360
            } else if (s == e) {
                l = (i - t) * 60 / (s - r) + 120
            } else if (s == i) {
                l = (t - e) * 60 / (s - r) + 240
            }
            return [l, o, a]
        }
        ;
        e.hsb2rgb = function(t, e, i) {
            var n = 0
              , s = 0
              , r = 0;
            var a = Math.floor(t / 60 % 6);
            var o = t / 60 - a;
            var l = i * (1 - e);
            var h = i * (1 - o * e);
            var u = i * (1 - (1 - o) * e);
            switch (a) {
            case 0:
                n = i;
                s = u;
                r = l;
                break;
            case 1:
                n = h;
                s = i;
                r = l;
                break;
            case 2:
                n = l;
                s = i;
                r = u;
                break;
            case 3:
                n = l;
                s = h;
                r = i;
                break;
            case 4:
                n = u;
                s = l;
                r = i;
                break;
            case 5:
                n = i;
                s = l;
                r = h;
                break;
            default:
                break
            }
            return [Math.floor(n * 255), Math.floor(s * 255), Math.floor(r * 255)]
        }
        ;
        return e
    }();
    var it = function() {
        function t() {
            this.data = {};
            this.preO = {};
            this.changeO = {};
            this.count = 0
        }
        x(t, "laya.debug.tools.CountTool");
        var e = t.prototype;
        e.reset = function() {
            this.data = {};
            this.count = 0
        }
        ;
        e.add = function(t, e) {
            e === void 0 && (e = 1);
            this.count++;
            if (!this.data.hasOwnProperty(t)) {
                this.data[t] = 0
            }
            this.data[t] = this.data[t] + e
        }
        ;
        e.getKeyCount = function(t) {
            if (!this.data.hasOwnProperty(t)) {
                this.data[t] = 0
            }
            return this.data[t]
        }
        ;
        e.getKeyChange = function(t) {
            if (!this.changeO[t])
                return 0;
            return this.changeO[t]
        }
        ;
        e.record = function() {
            var t;
            for (t in this.changeO) {
                this.changeO[t] = 0
            }
            for (t in this.data) {
                if (!this.preO[t])
                    this.preO[t] = 0;
                this.changeO[t] = this.data[t] - this.preO[t];
                this.preO[t] = this.data[t]
            }
        }
        ;
        e.getCount = function(t) {
            var e = 0;
            var i;
            for (i in t) {
                e += t[i]
            }
            return e
        }
        ;
        e.traceSelf = function(t) {
            if (!t)
                t = this.data;
            var e = 0;
            e = this.getCount(t);
            console.log("total:" + e);
            return "total:" + e + "\n" + Lt.traceObj(t)
        }
        ;
        e.traceSelfR = function(t) {
            if (!t)
                t = this.data;
            var e = 0;
            e = this.getCount(t);
            console.log("total:" + e);
            return "total:" + e + "\n" + Lt.traceObjR(t)
        }
        ;
        return t
    }();
    var nt = function() {
        function t() {}
        x(t, "laya.debug.tools.DebugConsts");
        t.CLICK_SELECT_COLOR = "#ff0000";
        t.CANVAS_REC_COLOR = "#FF00FF";
        t.RECACHE_REC_COLOR = "#00ff00";
        t.SPRITE_REC_COLOR = "#ff0000";
        t.SPRITE_REC_LINEWIDTH = 2;
        return t
    }();
    var rt = function() {
        function i() {}
        x(i, "laya.debug.tools.DebugExport");
        i.export = function() {
            var t;
            t = a;
            var e;
            for (e in i._exportsDic) {
                t[e] = i._exportsDic[e]
            }
        }
        ;
        u(i, ["_exportsDic", function() {
            return this._exportsDic = {
                DebugTool: U,
                Watcher: Kt
            }
        }
        ]);
        return i
    }();
    var at = function() {
        function s(t, e) {
            this.autoTrace = true;
            this.sign = "";
            this.obj = null;
            t === void 0 && (t = "");
            e === void 0 && (e = true);
            this.sign = t;
            this.autoTrace = e
        }
        x(s, "laya.debug.tools.DifferTool");
        var t = s.prototype;
        t.update = function(t, e) {
            if (e) {
                console.log(e)
            }
            var i = wt.copyObj(t);
            if (!this.obj)
                this.obj = {};
            var n;
            n = wt.differ(this.obj, i);
            this.obj = i;
            if (this.autoTrace) {
                console.log(this.sign + " differ:");
                wt.traceDifferObj(n)
            }
            return n
        }
        ;
        s.differ = function(t, e, i) {
            if (!s._differO[t])
                s._differO[t] = new s(t,true);
            var n;
            n = s._differO[t];
            return n.update(e, i)
        }
        ;
        s._differO = {};
        return s
    }();
    var ot = function() {
        function e() {
            this.arrowAxis = null;
            this._target = null;
            this.recInfo = null;
            e.init();
            this.arrowAxis = new fs;
            this.arrowAxis.mouseEnabled = true
        }
        x(e, "laya.debug.tools.DisController");
        var t = e.prototype;
        t.switchType = function() {
            this.arrowAxis.switchType()
        }
        ;
        t.updateMe = function() {
            if (!this._target)
                return;
            this.recInfo = St.getGlobalRecInfo(this._target, 0, 0, 1, 0, 0, 1);
            console.log("rotation:", this.recInfo.rotation);
            console.log("pos:", this.recInfo.x, this.recInfo.y);
            console.log("scale:", this.recInfo.width, this.recInfo.height);
            this.arrowAxis.x = this.recInfo.x;
            this.arrowAxis.y = this.recInfo.y;
            this.arrowAxis.rotation = this.recInfo.rotation;
            this.arrowAxis.yAxis.rotation = this.recInfo.rotationV - this.recInfo.rotation
        }
        ;
        p(0, t, "target", function() {
            return this._target
        }, function(t) {
            this._target = t;
            if (t) {
                e._container.addChild(this.arrowAxis);
                st.timer.loop(100, this, this.updateMe)
            } else {
                this.arrowAxis.removeSelf();
                st.timer.clear(this, this.updateMe)
            }
            this.arrowAxis.target = t;
            this.updateMe()
        });
        p(0, t, "type", function() {
            return this.arrowAxis.type
        }, function(t) {
            this.arrowAxis.type = t
        });
        e.init = function() {
            if (e._container) {
                lt.setTop(e._container);
                return
            }
            e._container = new Dn;
            e._container.mouseEnabled = true;
            st.stage.addChild(e._container)
        }
        ;
        e._container = null;
        u(e, ["I", function() {
            return this.I = new e
        }
        ]);
        return e
    }();
    var lt = function() {
        function h() {}
        x(h, "laya.debug.tools.DisControlTool");
        h.getObjectsUnderPoint = function(t, e, i, n, s) {
            n = n ? n : [];
            if (s != null && !s(t))
                return n;
            if (t.getBounds().contains(e, i)) {
                n.push(t);
                var r;
                var a = new Se;
                a.setTo(e, i);
                a = t.fromParentPoint(a);
                e = a.x;
                i = a.y;
                for (var o = t._childs.length - 1; o > -1; o--) {
                    var l = t._childs[o];
                    if (l instanceof laya.display.Sprite)
                        h.getObjectsUnderPoint(l, e, i, n, s)
                }
            }
            return n
        }
        ;
        h.getObjectsUnderGlobalPoint = function(t, e) {
            var i = new Se;
            i.setTo(st.stage.mouseX, st.stage.mouseY);
            if (t.parent)
                i = t.parent.globalToLocal(i);
            return h.getObjectsUnderPoint(t, i.x, i.y, null, e)
        }
        ;
        h.findFirstObjectsUnderGlobalPoint = function() {
            var t;
            t = h.getObjectsUnderGlobalPoint(st.stage);
            if (!t)
                return null;
            var e = 0
              , i = 0;
            var n;
            i = t.length;
            for (e = i - 1; e >= 0; e--) {
                n = t[e];
                if (n && n.numChildren < 1) {
                    return n
                }
            }
            return n
        }
        ;
        h.visibleAndEnableObjFun = function(t) {
            return t.visible && t.mouseEnabled
        }
        ;
        h.visibleObjFun = function(t) {
            return t.visible
        }
        ;
        h.getMousePoint = function(t) {
            var e = new Se;
            e.setTo(st.stage.mouseX, st.stage.mouseY);
            e = t.globalToLocal(e);
            return e
        }
        ;
        h.isChildE = function(t, e) {
            if (!t)
                return false;
            while (e) {
                if (e.parent == t)
                    return true;
                e = e.parent
            }
            return false
        }
        ;
        h.isInTree = function(t, e) {
            return t == e || h.isChildE(t, e)
        }
        ;
        h.setTop = function(t) {
            if (t && t.parent) {
                var e;
                e = t.parent;
                e.setChildIndex(t, e.numChildren - 1)
            }
        }
        ;
        h.clearItemRelativeInfo = function(t) {
            var e = "NaN";
            t.getLayout().left = e;
            t.getLayout().right = e;
            t.getLayout().top = e;
            t.getLayout().bottom = e
        }
        ;
        h.swap = function(t, e) {
            if (t == e)
                return;
            var i = 0;
            i = t.parent.getChildIndex(t);
            var n = 0;
            n = e.parent.getChildIndex(e);
            var s;
            s = e.parent;
            t.parent.addChildAt(e, i);
            s.addChildAt(t, n)
        }
        ;
        h.insertToTarParent = function(t, e, i) {
            i === void 0 && (i = false);
            var n = 0;
            var s;
            if (!t)
                return;
            s = t.parent;
            if (!s)
                return;
            n = s.getChildIndex(t);
            if (i)
                n++;
            h.insertToParent(s, e, n)
        }
        ;
        h.insertToParent = function(t, e, i) {
            i === void 0 && (i = -1);
            if (!t)
                return;
            if (i < 0)
                i = t.numChildren;
            var n = 0
              , s = 0;
            s = e.length;
            for (n = 0; n < s; n++) {
                h.transParent(e[n], t);
                t.addChildAt(e[n], i)
            }
        }
        ;
        h.transParent = function(t, e) {
            if (!t || !e)
                return;
            if (!t.parent)
                return;
            var i;
            i = t.parent;
            var n;
            n = new Se(t.x,t.y);
            n = i.localToGlobal(n);
            n = e.globalToLocal(n);
            t.pos(n.x, n.y)
        }
        ;
        h.transPoint = function(t, e, i) {
            i = t.localToGlobal(i);
            i = e.globalToLocal(i);
            return i
        }
        ;
        h.removeItems = function(t) {
            var e = 0
              , i = 0;
            i = t.length;
            for (e = 0; e < i; e++) {
                t[e].removeSelf()
            }
        }
        ;
        h.addItems = function(t, e) {
            var i = 0
              , n = 0;
            n = t.length;
            for (i = 0; i < n; i++) {
                e.addChild(t[i])
            }
        }
        ;
        h.getAllChild = function(t) {
            if (!t)
                return [];
            var e = 0;
            var i = 0;
            var n = [];
            i = t.numChildren;
            for (e = 0; e < i; e++) {
                n.push(t.getChildAt(e))
            }
            return n
        }
        ;
        h.upDis = function(t) {
            if (t && t.parent) {
                var e;
                e = t.parent;
                var i = 0;
                i = e.getChildIndex(t) + 1;
                if (i >= e.numChildren) {
                    i = e.numChildren - 1
                }
                console.log("setChildIndex:" + i);
                e.setChildIndex(t, i)
            }
        }
        ;
        h.downDis = function(t) {
            if (t && t.parent) {
                var e;
                e = t.parent;
                var i = 0;
                i = e.getChildIndex(t) - 1;
                if (i < 0)
                    i = 0;
                console.log("setChildIndex:" + i);
                e.setChildIndex(t, i)
            }
        }
        ;
        h.setResizeAbleEx = function(t) {
            var e;
            e = t.getChildByName("resizeBtn");
            if (e) {
                It.setResizeAble(e, t)
            }
        }
        ;
        h.setResizeAble = function(t) {
            t.on("click", null, h.resizeHandler, [t])
        }
        ;
        h.resizeHandler = function(t) {
            Rt.setUp(t)
        }
        ;
        h.setDragingItem = function(t, e) {
            t.on("mousedown", null, h.dragingHandler, [e]);
            e.on("dragend", null, h.dragingEnd, [e])
        }
        ;
        h.dragingHandler = function(t) {
            if (t) {
                t.startDrag()
            }
        }
        ;
        h.dragingEnd = function(t) {
            h.intFyDisPos(t);
            console.log(t.x, t.y)
        }
        ;
        h.showToStage = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            var n = t.getBounds();
            t.x = st.stage.mouseX + e;
            t.y = st.stage.mouseY + i;
            if (t.x + n.width > st.stage.width) {
                t.x -= n.width + e
            }
            if (t.y + n.height > st.stage.height) {
                t.y -= n.height + i
            }
            h.intFyDisPos(t)
        }
        ;
        h.intFyDisPos = function(t) {
            if (!t)
                return;
            t.x = Math.round(t.x);
            t.y = Math.round(t.y)
        }
        ;
        h.showOnly = function(t, e) {
            var i = 0
              , n = 0;
            n = t.length;
            for (i = 0; i < n; i++) {
                t[i].visible = t[i] == e
            }
        }
        ;
        h.showOnlyByIndex = function(t, e) {
            h.showOnly(t, t[e])
        }
        ;
        h.addOnly = function(t, e, i) {
            var n = 0
              , s = 0;
            s = t.length;
            for (n = 0; n < s; n++) {
                if (t[n] != e) {
                    t[n].removeSelf()
                } else {
                    i.addChild(t[n])
                }
            }
        }
        ;
        h.addOnlyByIndex = function(t, e, i) {
            h.addOnly(t, t[e], i)
        }
        ;
        u(h, ["tempP", function() {
            return this.tempP = new Se
        }
        ]);
        return h
    }();
    var ht = function() {
        function c() {
            this.mouseX = NaN;
            this.mouseY = NaN;
            this._stage = null;
            this._target = null;
            this.isGetting = false;
            this._matrix = new Ce;
            this._point = new Se;
            this._rect = new Te;
            this._event = y.EMPTY;
            this._stage = st.stage;
            this.init(Be.context.canvas)
        }
        x(c, "laya.debug.tools.DisplayHook");
        var t = c.prototype;
        t.init = function(t) {
            var r = this;
            if (He.window.navigator.msPointerEnabled) {
                t.style["-ms-content-zooming"] = "none";
                t.style["-ms-touch-action"] = "none"
            }
            var a = this;
            He.document.addEventListener("mousedown", function(t) {
                r._event._stoped = false;
                c.isFirst = true;
                a.check(a._stage, t.offsetX, t.offsetY, a.onMouseDown, true, false)
            }, true);
            He.document.addEventListener("touchstart", function(t) {
                r._event._stoped = false;
                c.isFirst = true;
                var e = t.changedTouches;
                for (var i = 0, n = e.length; i < n; i++) {
                    var s = e[i];
                    o(s, t);
                    a.check(a._stage, a.mouseX, a.mouseY, a.onMouseDown, true, false)
                }
            }, true);
            function o(t, e) {
                a._event._stoped = false;
                a._event.nativeEvent = e || t;
                a._target = null;
                if (t.offsetX) {
                    a.mouseX = t.offsetX;
                    a.mouseY = t.offsetY
                } else {
                    a.mouseX = t.clientX - st.stage.offset.x;
                    a.mouseY = t.clientY - st.stage.offset.y
                }
            }
        }
        ;
        t.onMouseMove = function(t, e) {
            this.sendEvent(t, "mousemove");
            return;
            if (e && t != this._stage && t !== this._target) {
                if (this._target) {
                    if (this._target.$_MOUSEOVER) {
                        this._target.$_MOUSEOVER = false;
                        this._target.event("mouseout")
                    }
                }
                this._target = t;
                if (!t.$_MOUSEOVER) {
                    t.$_MOUSEOVER = true;
                    this.sendEvent(t, "mouseover")
                }
            } else if (!e && this._target && t === this._target) {
                this._target = null;
                if (t.$_MOUSEOVER) {
                    t.$_MOUSEOVER = false;
                    this.sendEvent(t, "mouseout")
                }
            }
        }
        ;
        t.onMouseUp = function(t, e) {
            e && this.sendEvent(t, "mouseup")
        }
        ;
        t.onMouseDown = function(t, e) {
            if (e) {
                t.$_MOUSEDOWN = true;
                this.sendEvent(t, "mousedown")
            }
        }
        ;
        t.sendEvent = function(t, e) {
            if (!this._event._stoped) {
                t.event(e, this._event.setTo(e, t, t));
                if (e === "mouseup" && t.$_MOUSEDOWN) {
                    t.$_MOUSEDOWN = false;
                    t.event("click", this._event.setTo("click", t, t))
                }
            }
        }
        ;
        t.selectDisUnderMouse = function() {
            c.isFirst = true;
            this.check(st.stage, st.stage.mouseX, st.stage.mouseY, null, true, false);
            kr.I.setSelectTarget(U.target)
        }
        ;
        t.getDisUnderMouse = function() {
            this.isGetting = true;
            c.isFirst = true;
            U.target = null;
            this.check(st.stage, st.stage.mouseX, st.stage.mouseY, null, true, false);
            this.isGetting = false;
            return U.target
        }
        ;
        t.check = function(t, e, i, n, s, r) {
            if (t == U.debugLayer)
                return false;
            if (t == _s.I)
                return false;
            if (this.isGetting && t == _s.I)
                return false;
            if (!t.visible || t.getSelfBounds().width <= 0)
                return false;
            var a = false;
            r = true;
            if (r) {
                var o = false;
                if (s) {
                    this._rect = t.getBounds();
                    a = this._rect.contains(e, i);
                    this._point.setTo(e, i);
                    t.fromParentPoint(this._point);
                    e = this._point.x;
                    i = this._point.y
                }
                if (a) {
                    var l = false;
                    for (var h = t._childs.length - 1; h > -1; h--) {
                        var u = t._childs[h];
                        l = this.check(u, e, i, n, s, true);
                        if (l)
                            break
                    }
                    o = t.getGraphicBounds().contains(e, i);
                    a = l || o;
                    if (a && !l && c.isFirst) {
                        c.isFirst = false;
                        if (!(t instanceof laya.debug.tools.debugUI.DButton)) {
                            U.target = t;
                            if (!this.isGetting) {
                                U.autoWork();
                                on.notify("ItemClicked", t)
                            }
                        }
                    }
                }
            }
            return a
        }
        ;
        c.initMe = function() {
            if (!c.instance) {
                c.instance = new c
            }
        }
        ;
        c.ITEM_CLICKED = "ItemClicked";
        c.instance = null;
        c.isFirst = false;
        return c
    }();
    var ut = function() {
        function n() {}
        x(n, "laya.debug.tools.DTrace");
        n.getArgArr = function(t) {
            var e;
            e = [];
            var i = 0
              , n = t.length;
            for (i = 0; i < n; i++) {
                e.push(t[i])
            }
            return e
        }
        ;
        n.dTrace = function(t) {
            var e = arguments;
            e = n.getArgArr(e);
            e.push(Lt.getCallLoc(2));
            console.log.apply(console, e);
            var i;
            i = e.join(" ")
        }
        ;
        n.timeStart = function(t) {
            console.time(t)
        }
        ;
        n.timeEnd = function(t) {
            console.timeEnd(t)
        }
        ;
        n.traceTable = function(t) {
            console.table(t)
        }
        ;
        return n
    }();
    var ct = function() {
        function r() {
            this.createInfo = {}
        }
        x(r, "laya.debug.tools.enginehook.ClassCreateHook");
        var t = r.prototype;
        t.hookClass = function(e) {
            var i = this;
            if (r.isInited)
                return;
            r.isInited = true;
            var t = function(t) {
                i.classCreated(t, e)
            };
            pt.hook(e, "call", t)
        }
        ;
        t.classCreated = function(t, e) {
            var i;
            i = $.getNodeClassAndName(t);
            var n = 0;
            var s;
            s = t;
            while (s && s != e) {
                s = s.__super;
                n++
            }
            if (!r.I.createInfo[i]) {
                r.I.createInfo[i] = 0
            }
            r.I.createInfo[i] = r.I.createInfo[i] + 1;
            Gt.run(i, n + 6)
        }
        ;
        t.getClassCreateInfo = function(t) {
            var e;
            e = $.getClassName(t);
            return Gt.getRunInfo(e)
        }
        ;
        r.isInited = false;
        u(r, ["I", function() {
            return this.I = new r
        }
        ]);
        return r
    }();
    var ft = function() {
        function n() {}
        x(n, "laya.debug.tools.enginehook.RenderSpriteHook");
        var t = n.prototype;
        t.createRenderSprite = function(t, e) {
            var i;
            i = n._preCreateFun(t, e);
            if (t == 16) {
                i["_oldCanvas"] = i._fun;
                i._fun = n.I._canvas
            }
            return i
        }
        ;
        t._canvas = function(t, e, i, n) {
            if (!dt.allowRendering)
                return;
            var s = t._$P.cacheCanvas;
            var r = this._next;
            if (!s || dt.isVisibleTesting) {
                r._fun.call(r, t, e, i, n);
                return
            }
            var a;
            a = He.now();
            var o = s.ctx;
            var l = t._needRepaint() || !o;
            this._oldCanvas(t, e, i, n);
            if (I.showCanvasMark) {}
            if (l) {
                Q.I.reCacheCanvas(t, He.now() - a)
            } else {
                Q.I.renderCanvas(t, He.now() - a)
            }
        }
        ;
        n.init = function() {
            if (n.I)
                return;
            n.I = new n;
            n._preCreateFun = G.createRenderSprite;
            G.createRenderSprite = n.I.createRenderSprite
        }
        ;
        n.IMAGE = 1;
        n.FILTERS = 2;
        n.ALPHA = 4;
        n.TRANSFORM = 8;
        n.CANVAS = 16;
        n.BLEND = 32;
        n.CLIP = 64;
        n.STYLE = 128;
        n.GRAPHICS = 256;
        n.CUSTOM = 512;
        n.ENABLERENDERMERGE = 1024;
        n.CHILDS = 2048;
        n.INIT = 69905;
        n.renders = [];
        n.I = null;
        n._preCreateFun = null;
        return n
    }();
    var dt = function() {
        function r() {
            this._repaint = 1;
            this._renderType = 1;
            this._x = 0;
            this._y = 0;
            this.target = null;
            this.isTargetRenderd = false;
            this.preFun = null;
            this._next = null;
            this.pgraphic = Pe["prototype"]["_graphics"];
            this.pimage = Pe["prototype"]["_image"];
            this.pimage2 = Pe["prototype"]["_image2"]
        }
        x(r, "laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse");
        var t = r.prototype;
        t.setRenderHook = function() {
            Dn["prototype"]["render"] = r.I.render
        }
        ;
        t.render = function(t, e, i) {
            var n;
            n = this;
            if (_s.I.isDebugItem(n))
                return;
            if (n == laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.I.target) {
                laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering = true;
                laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.I.isTargetRenderd = true;
                q.clearCanvas(r.mainCanvas)
            }
            Pe.renders[this._renderType]._fun(this, t, e + this._x, i + this._y);
            if (n == laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.I.target) {
                r.tarRec = q.getCanvasDisRec(laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.mainCanvas);
                console.log("rec", r.tarRec.toString());
                if (r.tarRec.width > 0 && r.tarRec.height > 0) {
                    r.isTarRecOK = true;
                    r.preImageData = q.getImageDataFromCanvasByRec(r.mainCanvas, r.tarRec);
                    r.tarImageData = q.getImageDataFromCanvasByRec(r.mainCanvas, r.tarRec)
                } else {
                    console.log("tarRec Not OK:", r.tarRec)
                }
            } else {
                if (r.isTarRecOK) {
                    r.tImageData = q.getImageDataFromCanvasByRec(r.mainCanvas, r.tarRec);
                    var s = NaN;
                    s = q.getDifferRate(r.preImageData, r.tImageData);
                    r.preImageData = r.tImageData;
                    if (s > 0) {
                        Et.addCoverNode(n, s)
                    }
                }
            }
        }
        ;
        t.analyseNode = function(t) {
            Et.resetCoverList();
            if (Dn["prototype"]["render"] != r.I.render) {
                this.preFun = Dn["prototype"]["render"]
            }
            this.target = t;
            Dn["prototype"]["render"] = this.render;
            if (!r.tarCanvas)
                r.tarCanvas = q.createCanvas(st.stage.width, st.stage.height);
            if (!r.mainCanvas)
                r.mainCanvas = q.createCanvas(st.stage.width, st.stage.height);
            this.isTargetRenderd = false;
            r.isVisibleTesting = true;
            r.allowRendering = false;
            q.clearCanvas(r.mainCanvas);
            q.clearCanvas(r.tarCanvas);
            r.isTarRecOK = false;
            var e = new ke(r.mainCanvas.width,r.mainCanvas.height,r.mainCanvas);
            r.mainCanvas = e.canvas;
            this.render.call(st.stage, e, 0, 0);
            if (!r.isTarRecOK) {
                r.coverRate = 0
            } else {
                r.coverRate = q.getDifferRate(r.preImageData, r.tarImageData)
            }
            Et.coverRate = r.coverRate;
            Et.isTarRecOK = r.isTarRecOK;
            console.log("coverRate:", r.coverRate);
            this.isTargetRenderd = false;
            r.isVisibleTesting = false;
            r.allowRendering = true;
            Dn["prototype"]["render"] = this.preFun
        }
        ;
        t.noRenderMode = function() {
            return;
            Pe["prototype"]["_graphics"] = this.m_graphics;
            Pe["prototype"]["_image"] = this.m_image;
            Pe["prototype"]["_image2"] = this.m_image2
        }
        ;
        t.normalMode = function() {
            Pe["prototype"]["_graphics"] = this.pgraphic;
            Pe["prototype"]["_image"] = this.pimage;
            Pe["prototype"]["_image2"] = this.pimage2
        }
        ;
        t.inits = function() {
            this.noRenderMode()
        }
        ;
        t.m_graphics = function(t, e, i, n) {
            if (laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering) {
                var s = t._style._tf;
                t._graphics && t._graphics._render(t, e, i - s.translateX, n - s.translateY)
            }
            var r = this._next;
            r._fun.call(r, t, e, i, n)
        }
        ;
        t.m_image = function(t, e, i, n) {
            if (laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering) {
                var s = t._style;
                e.ctx.drawTexture2(i, n, s._tf.translateX, s._tf.translateY, t.transform, s.alpha, s.blendMode, t._graphics._one)
            }
        }
        ;
        t.m_image2 = function(t, e, i, n) {
            if (laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering) {
                var s = t._style._tf;
                e.ctx.drawTexture2(i, n, s.translateX, s.translateY, t.transform, 1, null, t._graphics._one)
            }
        }
        ;
        r.tarCanvas = null;
        r.mainCanvas = null;
        r.preImageData = null;
        r.tImageData = null;
        r.tarImageData = null;
        r.tarRec = null;
        r.isTarRecOK = false;
        r.isVisibleTesting = false;
        r.allowRendering = true;
        r.coverRate = NaN;
        u(r, ["I", function() {
            return this.I = new r
        }
        ]);
        return r
    }();
    var _t = function() {
        function t() {
            this._repaint = 1;
            this._renderType = 1;
            this._x = 0;
            this._y = 0
        }
        x(t, "laya.debug.tools.enginehook.SpriteRenderHook");
        var e = t.prototype;
        e.render = function(t, e, i) {
            if (this == st.stage) {
                Q.renderLoopBegin()
            }
            var n = 0;
            n = He.now();
            ii.spriteCount++;
            if (this["ShowBorderSign"]) {
                U.showDisBoundToSprite(this, _s.I.cacheViewLayer, nt.SPRITE_REC_COLOR, nt.SPRITE_REC_LINEWIDTH)
            }
            Pe.renders[this._renderType]._fun(this, t, e + this._x, i + this._y);
            this._repaint = 0;
            Tt.I.render(this, He.now() - n)
        }
        ;
        t.init = function() {
            if (t.I)
                return;
            t.I = new t;
            t.setRenderHook()
        }
        ;
        t.setRenderHook = function() {
            Dn["prototype"]["render"] = t.I.render
        }
        ;
        t.showDisplayBorder = function(t, e) {
            e === void 0 && (e = true);
            t["ShowBorderSign"] = e
        }
        ;
        t.isDisplayShowBorder = function(t) {
            return t["ShowBorderSign"]
        }
        ;
        t.I = null;
        t.ShowBorderSign = "ShowBorderSign";
        return t
    }();
    var pt = function() {
        function s() {}
        x(s, "laya.debug.tools.hook.FunHook");
        s.hook = function(t, e, i, n) {
            s.hookFuns(t, e, [i, t[e], n], 1)
        }
        ;
        s.hookAllFun = function(t) {
            var e;
            var i;
            i = $.getOwnPropertyNames(t);
            for (e in i) {
                e = i[e];
                if (s.special[e])
                    continue;
                console.log("try hook:", e);
                if (typeof t[e] == "function") {
                    console.log("hook:", e);
                    s.hookFuns(t, e, [s.getTraceMsg("call:" + e), t[e]], 1)
                }
            }
            if (t["__proto__"]) {
                s.hookAllFun(t["__proto__"])
            } else {
                console.log("end:", t)
            }
        }
        ;
        s.getTraceMsg = function(t) {
            var e;
            e = function() {
                console.log(t)
            }
            ;
            return e
        }
        ;
        s.hookFuns = function(t, e, r, a) {
            a === void 0 && (a = -1);
            var i = t[e];
            var n;
            n = function(t) {
                var e = arguments;
                var i;
                var n = 0;
                var s = 0;
                s = r.length;
                for (n = 0; n < s; n++) {
                    if (!r[n])
                        continue;
                    if (n == a) {
                        i = r[n].apply(this, e)
                    } else {
                        r[n].apply(this, e)
                    }
                }
                return i
            }
            ;
            n["pre"] = i;
            t[e] = n
        }
        ;
        s.removeHook = function(t, e) {
            if (t[e].pre != null) {
                t[e] = t[e].pre
            }
        }
        ;
        s.debugHere = function() {
            debugger
        }
        ;
        s.traceLoc = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = "");
            console.log(e, "fun loc:", Lt.getCallLoc(3 + t))
        }
        ;
        s.getLocFun = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = "");
            t += 1;
            var i;
            i = function() {
                s.traceLoc(t, e)
            }
            ;
            return i
        }
        ;
        u(s, ["special", function() {
            return this.special = {
                length: true,
                name: true,
                arguments: true,
                caller: true,
                prototype: true,
                is: true,
                isExtensible: true,
                isFrozen: true,
                isSealed: true,
                preventExtensions: true,
                seal: true,
                unobserve: true,
                apply: true,
                call: true,
                bind: true,
                freeze: true,
                unobserve: true
            }
        }
        ]);
        return s
    }();
    var mt = function() {
        function t() {}
        x(t, "laya.debug.tools.hook.VarHook");
        t.hookVar = function(t, e, i, n) {
            if (!i)
                i = [];
            if (!n)
                n = [];
            var s = t;
            var r = t[e];
            var a;
            a = $.getOwnPropertyDescriptor(t, e);
            var o = {};
            var l = function(t) {
                console.log("var hook set " + e + ":", t);
                r = t
            };
            var h = function() {
                console.log("var hook get" + e + ":", r);
                return r
            };
            if (a) {
                o.set = l;
                o.get = h;
                o.enumerable = a.enumerable;
                i.push(o.set);
                n.push(o.get);
                pt.hookFuns(o, "set", i);
                pt.hookFuns(o, "get", n, n.length - 1);
                $.defineProperty(t, e, o);
                return
            }
            while (!a && t["__proto__"]) {
                t = t["__proto__"];
                a = $.getOwnPropertyDescriptor(t, e)
            }
            if (a) {
                o.set = a.set ? a.set : l;
                o.get = a.get ? a.get : h;
                o.enumerable = a.enumerable;
                i.push(o.set);
                n.push(o.get);
                pt.hookFuns(o, "set", i);
                pt.hookFuns(o, "get", n, n.length - 1);
                $.defineProperty(s, e, o)
            }
            if (!a) {
                console.log("get des fail add directly");
                o.set = l;
                o.get = h;
                i.push(o.set);
                n.push(o.get);
                pt.hookFuns(o, "set", i);
                pt.hookFuns(o, "get", n, n.length - 1);
                $.defineProperty(t, e, o)
            }
        }
        ;
        t.getLocFun = function(t, e) {
            t === void 0 && (t = "");
            e === void 0 && (e = 0);
            e += 1;
            var i;
            i = function() {
                pt.traceLoc(e, t)
            }
            ;
            return i
        }
        ;
        return t
    }();
    var gt = function() {
        function i() {
            this.tID = 1
        }
        x(i, "laya.debug.tools.IDTools");
        var t = i.prototype;
        t.getID = function() {
            return this.tID++
        }
        ;
        i.getAID = function() {
            return i._ID.getID()
        }
        ;
        i.idObjE = function(t, e) {
            e === void 0 && (e = "default");
            if (t["_M_id_"])
                return t;
            if (!e) {
                e = "default"
            }
            if (!i._idDic[e]) {
                i._idDic[e] = new i
            }
            t["_M_id_"] = i._idDic[e].getAID();
            return t
        }
        ;
        i.setObjID = function(t, e) {
            t["_M_id_"] = e;
            return t
        }
        ;
        i.idObj = function(t) {
            if (t["_M_id_"])
                return t;
            t["_M_id_"] = i.getAID();
            return t
        }
        ;
        i.getObjID = function(t) {
            if (!t)
                return -1;
            return t["_M_id_"]
        }
        ;
        i.idSign = "_M_id_";
        u(i, ["_ID", function() {
            return this._ID = new i
        }
        , "_idDic", function() {
            return this._idDic = {
                default: new i
            }
        }
        ]);
        return i
    }();
    var vt = function() {
        function m() {}
        x(m, "laya.debug.tools.JsonTool");
        m.getJsonString = function(t, e, i, n, s) {
            e === void 0 && (e = true);
            i === void 0 && (i = "\n");
            n === void 0 && (n = 0);
            s === void 0 && (s = 4);
            var r = "";
            r = m.getEmptyStr(n * s);
            var a;
            var o;
            o = {};
            var l;
            var h;
            var u;
            var c;
            c = [];
            for (l in t) {
                c.push(l);
                h = t[l];
                if (m.singleLineKey[l]) {
                    o[l] = m.getValueStr(h, true, i, n + 1, s)
                } else {
                    o[l] = m.getValueStr(h, e, i, n + 1, s)
                }
            }
            var f = 0
              , d = 0;
            d = c.length;
            c.sort();
            c = c.reverse();
            var _;
            _ = m.getEmptyStr((n + 1) * s);
            if (e) {
                i = "";
                r = "";
                _ = ""
            }
            var p;
            p = [];
            for (f = 0; f < d; f++) {
                l = c[f];
                p.push(_ + m.wrapValue(l) + ":" + o[l])
            }
            a = "{" + i + p.join("," + i) + i + r + "}";
            return a
        }
        ;
        m.wrapValue = function(t, e) {
            e === void 0 && (e = '"');
            return e + t + e
        }
        ;
        m.getArrStr = function(t, e, i, n, s) {
            e === void 0 && (e = true);
            i === void 0 && (i = "\n");
            n === void 0 && (n = 0);
            s === void 0 && (s = 4);
            var r;
            var a = 0
              , o = 0;
            o = t.length;
            var l;
            l = [];
            for (a = 0; a < o; a++) {
                l.push(m.getValueStr(t[a], e, i, n + 1, s))
            }
            var h = "";
            h = m.getEmptyStr((n + 1) * s);
            if (e) {
                i = "";
                h = ""
            }
            r = "[" + i + h + l.join("," + i + h) + "]";
            return r
        }
        ;
        m.quote = function(t) {
            m.escapable.lastIndex = 0;
            return m.escapable.test(t) ? '"' + t.replace(m.escapable, function(t) {
                var e = m.meta[t];
                return typeof e === "string" ? e : "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4)
            }) + '"' : '"' + t + '"'
        }
        ;
        m.getValueStr = function(t, e, i, n, s) {
            e === void 0 && (e = true);
            i === void 0 && (i = "\n");
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            var r;
            if (typeof t == "string") {
                r = m.quote(t)
            } else if (t == null) {
                r = "null"
            } else if (typeof t == "number" || typeof t == "number" && Math.floor(t) == t || typeof t == "boolean") {
                r = t
            } else if (t instanceof Array) {
                r = m.getArrStr(t, e, i, n, s)
            } else if (typeof t == "object") {
                r = m.getJsonString(t, e, i, n, s)
            } else {
                r = t
            }
            return r
        }
        ;
        m.getEmptyStr = function(t) {
            if (!m.emptyDic.hasOwnProperty(t)) {
                var e = 0;
                var i = 0;
                i = t;
                var n;
                n = "";
                for (e = 0; e < i; e++) {
                    n += " "
                }
                m.emptyDic[t] = n
            }
            return m.emptyDic[t]
        }
        ;
        m.emptyDic = {};
        u(m, ["singleLineKey", function() {
            return this.singleLineKey = {
                props: true
            }
        }
        , "escapable", function() {
            return this.escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g
        }
        , "meta", function() {
            return this.meta = {
                "\b": "\\b",
                "\t": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            }
        }
        ]);
        return m
    }();
    var bt = function() {
        function r() {}
        x(r, "laya.debug.tools.JSTools");
        r.showToBody = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            He.document.body.appendChild(t);
            var n;
            n = t.style;
            n.position = "absolute";
            n.top = i + "px";
            n.left = e + "px"
        }
        ;
        r.showToParent = function(t, e, i, n) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n.appendChild(t);
            var s;
            s = t.style;
            s.position = "absolute";
            s.top = i + "px";
            s.left = e + "px"
        }
        ;
        r.addToBody = function(t) {
            He.document.body.appendChild(t)
        }
        ;
        r.setPos = function(t, e, i) {
            var n;
            n = t.style;
            n.top = i + "px";
            n.left = e + "px"
        }
        ;
        r.setSize = function(t, e, i) {
            var n;
            n = t.style;
            n.width = e + "px";
            n.height = i + "px"
        }
        ;
        r.setTransform = function(t, e) {
            var i;
            i = t.style;
            i.transformOrigin = i.webkitTransformOrigin = i.msTransformOrigin = i.mozTransformOrigin = i.oTransformOrigin = "0px 0px 0px";
            i.transform = i.webkitTransform = i.msTransform = i.mozTransform = i.oTransform = "matrix(" + e.toString() + ")"
        }
        ;
        r.noMouseEvent = function(t) {
            var e;
            e = t.style;
            e["pointer-events"] = "none"
        }
        ;
        r.setMouseEnable = function(t, e) {
            var i;
            i = t.style;
            i["pointer-events"] = e ? "auto" : "none"
        }
        ;
        r.setZIndex = function(t, e) {
            var i;
            i = t.style;
            i["z-index"] = e
        }
        ;
        r.showAboveSprite = function(t, e, i, n) {
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            var s;
            s = new Se;
            s = e.localToGlobal(s);
            s.x += i;
            s.y += n;
            s.x += st.stage.offset.x;
            s.y += st.stage.offset.y;
            r.showToBody(t, s.x, s.y)
        }
        ;
        r.removeElement = function(t) {
            He.removeElement(t)
        }
        ;
        r.isElementInDom = function(t) {
            return t && t.parentNode
        }
        ;
        r.getImageSpriteByFile = function(t, i, n) {
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            var s;
            s = new FileReader;
            s.readAsDataURL(t);
            var r;
            r = new Dn;
            s.onload = function(t) {
                var e;
                e = new _n;
                e.load(s.result);
                r.graphics.drawTexture(e, 0, 0, i, n)
            }
            ;
            return r
        }
        ;
        r.getPixelRatio = function() {
            if (r._pixelRatio > 0)
                return r._pixelRatio;
            var t = He.createElement("canvas");
            var e = t.getContext("2d");
            var i = He.window.devicePixelRatio || 1;
            var n = e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1;
            var s = i / n;
            console.log("pixelRatioc:", s);
            r._pixelRatio = s;
            return s
        }
        ;
        r._pixelRatio = -1;
        return r
    }();
    var yt = function() {
        function s() {}
        x(s, "laya.debug.tools.MathTools");
        s.sortBigFirst = function(t, e) {
            if (t == e)
                return 0;
            return e > t ? 1 : -1
        }
        ;
        s.sortSmallFirst = function(t, e) {
            if (t == e)
                return 0;
            return e > t ? -1 : 1
        }
        ;
        s.sortNumBigFirst = function(t, e) {
            return parseFloat(e) - parseFloat(t)
        }
        ;
        s.sortNumSmallFirst = function(t, e) {
            return parseFloat(t) - parseFloat(e)
        }
        ;
        s.sortByKey = function(i, t, e) {
            t === void 0 && (t = false);
            e === void 0 && (e = true);
            var n;
            if (t) {
                n = e ? s.sortNumBigFirst : s.sortBigFirst
            } else {
                n = e ? s.sortNumSmallFirst : s.sortSmallFirst
            }
            return function(t, e) {
                return n(t[i], e[i])
            }
        }
        ;
        return s
    }();
    var xt = function() {
        function g() {}
        x(g, "laya.debug.tools.MouseEventAnalyser");
        g.analyseNode = function(t) {
            U.showDisBound(t, true);
            var e;
            e = t;
            wt.clearObj(g.infoO);
            wt.clearObj(g.nodeO);
            wt.clearObj(g.hitO);
            var i;
            i = [];
            while (t) {
                gt.idObj(t);
                g.nodeO[gt.getObjID(t)] = t;
                i.push(t);
                t = t.parent
            }
            g.check(st.stage, st.stage.mouseX, st.stage.mouseY, null);
            var n;
            if (g.hitO[gt.getObjID(e)]) {
                console.log("can hit");
                n = "can hit"
            } else {
                console.log("can't hit");
                n = "can't hit"
            }
            var s = 0
              , r = 0;
            i = i.reverse();
            r = i.length;
            var a;
            a = ["[分析对象]:" + $.getNodeClassAndName(e) + ":" + n];
            for (s = 0; s < r; s++) {
                t = i[s];
                if (g.hitO[gt.getObjID(t)]) {
                    console.log("can hit:", $.getNodeClassAndName(t));
                    console.log("原因:", g.infoO[gt.getObjID(t)]);
                    a.push("can hit:" + " " + $.getNodeClassAndName(t));
                    a.push("原因:" + " " + g.infoO[gt.getObjID(t)])
                } else {
                    console.log("can't hit:" + $.getNodeClassAndName(t));
                    console.log("原因:", g.infoO[gt.getObjID(t)] ? g.infoO[gt.getObjID(t)] : "鼠标事件在父级已停止派发");
                    a.push("can't hit:" + " " + $.getNodeClassAndName(t));
                    a.push("原因:" + " " + (g.infoO[gt.getObjID(t)] ? g.infoO[gt.getObjID(t)] : "鼠标事件在父级已停止派发"))
                }
            }
            var o;
            o = a.join("\n");
            vs.I.showTxtInfo(o)
        }
        ;
        g.check = function(t, e, i, n) {
            gt.idObj(t);
            var s = false;
            s = g.nodeO[gt.getObjID(t)];
            g._point.setTo(e, i);
            t.fromParentPoint(g._point);
            e = g._point.x;
            i = g._point.y;
            var r = t.scrollRect;
            if (r) {
                g._rect.setTo(r.x, r.y, r.width, r.height);
                var a = g._rect.contains(e, i);
                if (!a) {
                    if (s) {
                        g.infoO[gt.getObjID(t)] = "scrollRect没有包含鼠标" + g._rect.toString() + ":" + e + "," + i
                    }
                    return false
                }
            }
            var o = 0
              , l = 0;
            var h;
            h = t._childs;
            l = h.length;
            var u;
            var c;
            c = null;
            for (o = 0; o < l; o++) {
                u = h[o];
                gt.idObj(u);
                if (g.nodeO[gt.getObjID(u)]) {
                    c = u;
                    break
                }
            }
            var f = false;
            f = c ? true : false;
            var d = false;
            if (t.hitTestPrior && !t.mouseThrough && !g.hitTest(t, e, i)) {
                g.infoO[gt.getObjID(t)] = "hitTestPrior=true，宽高区域不包含鼠标:" + ":" + e + "," + i + " size:" + t.width + "," + t.height;
                return false
            }
            for (o = t._childs.length - 1; o > -1; o--) {
                u = t._childs[o];
                if (u == c) {
                    if (!c.mouseEnabled) {
                        g.infoO[gt.getObjID(c)] = "mouseEnabled=false"
                    }
                    if (!c.visible) {
                        g.infoO[gt.getObjID(c)] = "visible=false"
                    }
                    f = false
                }
                if (u.mouseEnabled && u.visible) {
                    d = g.check(u, e, i, n);
                    if (d) {
                        g.hitO[gt.getObjID(t)] = true;
                        g.infoO[gt.getObjID(t)] = "子对象被击中";
                        if (u == c) {
                            g.infoO[gt.getObjID(t)] = "子对象被击中," + "击中对象在分析链中"
                        } else {
                            g.infoO[gt.getObjID(t)] = "子对象被击中," + "击中对象不在分析链中";
                            if (f) {
                                g.infoO[gt.getObjID(c)] = "被兄弟节点挡住,兄弟节点信息:" + $.getNodeClassAndName(u) + "," + u.getBounds().toString();
                                U.showDisBound(u, false, "#ffff00")
                            }
                        }
                        return true
                    } else {
                        if (u == c) {
                            f = false
                        }
                    }
                }
            }
            var _ = new Te;
            var p = false;
            p = t.getGraphicBounds().contains(e, i);
            if (t.width > 0 && t.height > 0) {
                var m = g._rect;
                if (!t.mouseThrough) {
                    if (t.hitArea)
                        m = t.hitArea;
                    else
                        m.setTo(0, 0, t.width, t.height);
                    _.copyFrom(m);
                    a = m.contains(e, i)
                } else {
                    a = p;
                    _.copyFrom(t.getGraphicBounds())
                }
                if (a) {
                    g.hitO[gt.getObjID(t)] = true
                }
            } else {}
            if (!a) {
                if (p) {
                    g.infoO[gt.getObjID(t)] = "子对象未包含鼠标，实际绘图区域包含鼠标，设置的宽高区域不包含鼠标:" + ":" + e + "," + i + " hitRec:" + _.toString() + " graphicBounds:" + t.getGraphicBounds().toString() + "，设置mouseThrough=true或将宽高设置到实际绘图区域可解决问题"
                } else {
                    g.infoO[gt.getObjID(t)] = "子对象未包含鼠标，实际绘图区域不包含鼠标，设置的宽高区域不包含鼠标:" + ":" + e + "," + i + " hitRec:" + _.toString() + " graphicBounds:" + t.getGraphicBounds().toString()
                }
            } else {
                g.infoO[gt.getObjID(t)] = "自身区域被击中"
            }
            return a
        }
        ;
        g.hitTest = function(t, e, i) {
            var n = false;
            if (t.hitArea instanceof laya.utils.HitArea) {
                return t.hitArea.isHit(e, i)
            }
            if (t.width > 0 && t.height > 0 || t.mouseThrough || t.hitArea) {
                var s = g._rect;
                if (!t.mouseThrough) {
                    if (t.hitArea)
                        s = t.hitArea;
                    else
                        s.setTo(0, 0, t.width, t.height);
                    n = s.contains(e, i)
                } else {
                    n = t.getGraphicBounds().contains(e, i)
                }
            }
            return n
        }
        ;
        g.infoO = {};
        g.nodeO = {};
        g.hitO = {};
        u(g, ["_matrix", function() {
            return this._matrix = new Ce
        }
        , "_point", function() {
            return this._point = new Se
        }
        , "_rect", function() {
            return this._rect = new Te
        }
        ]);
        return g
    }();
    var wt = function() {
        function a() {}
        x(a, "laya.debug.tools.ObjectTools");
        a.getFlatKey = function(t, e) {
            if (t == "")
                return e;
            return t + a.sign + e
        }
        ;
        a.flatObj = function(t, e, i) {
            i === void 0 && (i = "");
            e = e ? e : {};
            var n;
            var s;
            for (n in t) {
                if (typeof t[n] == "object") {
                    a.flatObj(t[n], e, a.getFlatKey(i, n))
                } else {
                    s = t[n];
                    e[a.getFlatKey(i, n)] = t[n]
                }
            }
            return e
        }
        ;
        a.recoverObj = function(t) {
            var e = {};
            var i;
            for (i in t) {
                a.setKeyValue(e, i, t[i])
            }
            return e
        }
        ;
        a.differ = function(t, e) {
            var i;
            var n;
            var s;
            t = a.flatObj(t);
            e = a.flatObj(e);
            var r = {};
            for (i in t) {
                if (!e.hasOwnProperty(i)) {
                    r[i] = "被删除"
                }
            }
            for (i in e) {
                if (e[i] != t[i]) {
                    r[i] = {
                        pre: t[i],
                        now: e[i]
                    }
                }
            }
            return r
        }
        ;
        a.traceDifferObj = function(t) {
            var e;
            var i;
            for (e in t) {
                if (typeof t[e] == "string") {
                    console.log(e + ":", t[e])
                } else {
                    i = t[e];
                    console.log(e + ":", "now:", i["now"], "pre:", i["pre"])
                }
            }
        }
        ;
        a.setKeyValue = function(t, e, i) {
            if (e.indexOf(a.sign) >= 0) {
                var n = e.split(a.sign);
                var s;
                while (n.length > 1) {
                    s = n.shift();
                    if (!t[s]) {
                        t[s] = {};
                        console.log("addKeyObj:", s)
                    }
                    t = t[s];
                    if (!t) {
                        console.log("wrong flatKey:", e);
                        return
                    }
                }
                t[n.shift()] = i
            } else {
                t[e] = i
            }
        }
        ;
        a.clearObj = function(t) {
            var e;
            for (e in t) {
                delete t[e]
            }
        }
        ;
        a.copyObjFast = function(t) {
            var e;
            e = laya.debug.tools.ObjectTools.getJsonString(t);
            return laya.debug.tools.ObjectTools.getObj(e)
        }
        ;
        a.copyObj = function(t) {
            if (t instanceof Array)
                return a.copyArr(t);
            var e = {};
            var i;
            for (i in t) {
                if (t[i] === null || t[i] === undefined) {
                    e[i] = t[i]
                } else if (t[i]instanceof Array) {
                    e[i] = a.copyArr(t[i])
                } else if (typeof t[i] == "object") {
                    e[i] = a.copyObj(t[i])
                } else {
                    e[i] = t[i]
                }
            }
            return e
        }
        ;
        a.copyArr = function(t) {
            var e;
            e = [];
            var i = 0
              , n = 0;
            n = t.length;
            for (i = 0; i < n; i++) {
                e.push(a.copyObj(t[i]))
            }
            return e
        }
        ;
        a.concatArr = function(t, e) {
            if (!e)
                return t;
            if (!t)
                return e;
            var i = 0
              , n = e.length;
            for (i = 0; i < n; i++) {
                t.push(e[i])
            }
            return t
        }
        ;
        a.insertArrToArr = function(t, e, i) {
            i === void 0 && (i = 0);
            if (i < 0)
                i = 0;
            if (i > t.length)
                i = t.length;
            var n = t.length;
            var s = 0
              , r = 0;
            t.length += e.length;
            var a = 0;
            a = e.length;
            for (s = t.length - 1; s >= i; s--) {
                t[s] = t[s - a]
            }
            r = e.length;
            for (s = 0; s < r; s++) {
                t[i + s] = e[s]
            }
            return t
        }
        ;
        a.clearArr = function(t) {
            if (!t)
                return t;
            t.length = 0;
            return t
        }
        ;
        a.removeFromArr = function(t, e) {
            var i = 0
              , n = 0;
            n = t.length;
            for (i = 0; i < n; i++) {
                if (t[i] == e) {
                    t[i].splice(i, 1);
                    return
                }
            }
        }
        ;
        a.setValueArr = function(t, e) {
            t || (t = []);
            t.length = 0;
            return a.concatArr(t, e)
        }
        ;
        a.getFrom = function(t, e, i) {
            var n = 0;
            for (n = 0; n < i; n++) {
                t.push(e[n])
            }
            return t
        }
        ;
        a.getFromR = function(t, e, i) {
            var n = 0;
            for (n = 0; n < i; n++) {
                t.push(e.pop())
            }
            return t
        }
        ;
        a.enableDisplayTree = function(t) {
            while (t) {
                t.mouseEnabled = true;
                t = t.parent
            }
        }
        ;
        a.getJsonString = function(t) {
            var e;
            e = JSON.stringify(t);
            return e
        }
        ;
        a.getObj = function(t) {
            var e;
            e = JSON.parse(t);
            return e
        }
        ;
        a.getKeyArr = function(t) {
            var e;
            var i;
            e = [];
            for (i in t) {
                e.push(i)
            }
            return e
        }
        ;
        a.getObjValues = function(t, e) {
            var i;
            var n = 0
              , s = 0;
            s = t.length;
            i = [];
            for (n = 0; n < s; n++) {
                i.push(t[n][e])
            }
            return i
        }
        ;
        a.hasKeys = function(t, e) {
            var i = 0
              , n = 0;
            n = e.length;
            for (i = 0; i < n; i++) {
                if (!t.hasOwnProperty(e[i]))
                    return false
            }
            return true
        }
        ;
        a.copyValueByArr = function(t, e, i) {
            var n = 0
              , s = i.length;
            for (n = 0; n < s; n++) {
                if (!(e[i[n]] === null))
                    t[i[n]] = e[i[n]]
            }
        }
        ;
        a.getNoSameArr = function(t) {
            var e = 0
              , i = 0;
            var n;
            n = [];
            var s;
            i = t.length;
            for (e = 0; e < i; e++) {
                s = t[e];
                if (n.indexOf(s) < 0) {
                    n.push(s)
                }
            }
            return n
        }
        ;
        a.insertValue = function(t, e) {
            var i;
            for (i in e) {
                t[i] = e[i]
            }
        }
        ;
        a.replaceValue = function(t, e) {
            var i;
            for (i in t) {
                if (e.hasOwnProperty(t[i])) {
                    t[i] = e[t[i]]
                }
                if (typeof t[i] == "object") {
                    a.replaceValue(t[i], e)
                }
            }
        }
        ;
        a.setKeyValues = function(t, e, i) {
            var n = 0
              , s = 0;
            s = t.length;
            for (n = 0; n < s; n++) {
                t[n][e] = i
            }
        }
        ;
        a.findItemPos = function(t, e, i) {
            var n = 0
              , s = 0;
            s = t.length;
            for (n = 0; n < s; n++) {
                if (t[n][e] == i) {
                    return n
                }
            }
            return -1
        }
        ;
        a.setObjValue = function(t, e, i) {
            t[e] = i;
            return t
        }
        ;
        a.setAutoTypeValue = function(t, e, i) {
            if (t.hasOwnProperty(e)) {
                if (a.isNumber(t[e])) {
                    t[e] = parseFloat(i)
                } else {
                    t[e] = i
                }
            } else {
                t[e] = i
            }
            return t
        }
        ;
        a.getAutoValue = function(t) {
            var e = parseFloat(t);
            if (typeof t == "string") {
                if (e + "" === Mt.trimSide(t))
                    return e
            }
            return t
        }
        ;
        a.isNumber = function(t) {
            return parseFloat(t) == t
        }
        ;
        a.isNaNS = function(t) {
            return t.toString() == "NaN"
        }
        ;
        a.isNaN = function(t) {
            if (typeof t == "number")
                return false;
            if (typeof t == "string") {
                if (parseFloat(t).toString() != "NaN") {
                    if (parseFloat(t) == t) {
                        return false
                    }
                }
            }
            return true
        }
        ;
        a.getStrTypedValue = function(t) {
            if (t == "false") {
                return false
            } else if (t == "true") {
                return true
            } else if (t == "null") {
                return null
            } else if (t == "undefined") {
                return null
            } else {
                return a.getAutoValue(t)
            }
        }
        ;
        a.createKeyValueDic = function(t, e) {
            var i;
            i = {};
            var n = 0
              , s = 0;
            s = t.length;
            var r;
            var a;
            for (n = 0; n < s; n++) {
                r = t[n];
                a = r[e];
                i[a] = r
            }
            return i
        }
        ;
        a.sign = "_";
        return a
    }();
    var Ct = function() {
        function t() {
            this.timeDic = {};
            this.resultDic = {};
            this.countDic = {};
            this.resultCountDic = {};
            this.nodeDic = {};
            this.resultNodeDic = {}
        }
        x(t, "laya.debug.tools.ObjTimeCountTool");
        var e = t.prototype;
        e.addTime = function(t, e) {
            gt.idObj(t);
            var i = 0;
            i = gt.getObjID(t);
            if (!this.timeDic.hasOwnProperty(i)) {
                this.timeDic[i] = 0
            }
            this.timeDic[i] = this.timeDic[i] + e;
            if (!this.countDic.hasOwnProperty(i)) {
                this.countDic[i] = 0
            }
            this.countDic[i] = this.countDic[i] + 1;
            this.nodeDic[i] = t
        }
        ;
        e.getTime = function(t) {
            gt.idObj(t);
            var e = 0;
            e = gt.getObjID(t);
            if (!this.resultDic[e])
                return 0;
            return this.resultDic[e]
        }
        ;
        e.getCount = function(t) {
            gt.idObj(t);
            var e = 0;
            e = gt.getObjID(t);
            return this.resultCountDic[e]
        }
        ;
        e.reset = function() {
            var t;
            for (t in this.timeDic) {
                this.timeDic[t] = 0;
                this.countDic[t] = 0
            }
            wt.clearObj(this.nodeDic)
        }
        ;
        e.updates = function() {
            wt.clearObj(this.resultDic);
            wt.insertValue(this.resultDic, this.timeDic);
            wt.clearObj(this.resultCountDic);
            wt.insertValue(this.resultCountDic, this.countDic);
            wt.insertValue(this.resultNodeDic, this.nodeDic);
            this.reset()
        }
        ;
        return t
    }();
    var St = function() {
        function o() {
            this.oX = 0;
            this.oY = 0;
            this.hX = 1;
            this.hY = 0;
            this.vX = 0;
            this.vY = 1
        }
        x(o, "laya.debug.tools.RecInfo");
        var t = o.prototype;
        t.initByPoints = function(t, e, i) {
            this.oX = t.x;
            this.oY = t.y;
            this.hX = e.x;
            this.hY = e.y;
            this.vX = i.x;
            this.vY = i.y
        }
        ;
        p(0, t, "rotation", function() {
            return this.rotationRad / Math.PI * 180
        });
        p(0, t, "width", function() {
            return Math.sqrt((this.hX - this.oX) * (this.hX - this.oX) + (this.hY - this.oY) * (this.hY - this.oY))
        });
        p(0, t, "x", function() {
            return this.oX
        });
        p(0, t, "rotationRadV", function() {
            var t = this.vX - this.oX;
            var e = this.vY - this.oY;
            return Math.atan2(e, t)
        });
        p(0, t, "y", function() {
            return this.oY
        });
        p(0, t, "rotationRad", function() {
            var t = this.hX - this.oX;
            var e = this.hY - this.oY;
            return Math.atan2(e, t)
        });
        p(0, t, "height", function() {
            return Math.sqrt((this.vX - this.oX) * (this.vX - this.oX) + (this.vY - this.oY) * (this.vY - this.oY))
        });
        p(0, t, "rotationV", function() {
            return this.rotationRadV / Math.PI * 180
        });
        o.createByPoints = function(t, e, i) {
            var n;
            n = new o;
            n.initByPoints(t, e, i);
            return n
        }
        ;
        o.getGlobalPoints = function(t, e, i) {
            return t.localToGlobal(new Se(e,i))
        }
        ;
        o.getGlobalRecInfo = function(t, e, i, n, s, r, a) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 1);
            s === void 0 && (s = 0);
            r === void 0 && (r = 0);
            a === void 0 && (a = 1);
            return o.createByPoints(o.getGlobalPoints(t, e, i), o.getGlobalPoints(t, n, s), o.getGlobalPoints(t, r, a))
        }
        ;
        return o
    }();
    var Tt = function() {
        function t() {
            this.timeDic = {};
            this.resultDic = {};
            this.countDic = {};
            this.resultCountDic = {};
            this.nodeDic = {};
            this.isWorking = false;
            this.working = true
        }
        x(t, "laya.debug.tools.RenderAnalyser");
        var e = t.prototype;
        e.render = function(t, e) {
            this.addTime(t, e)
        }
        ;
        e.addTime = function(t, e) {
            gt.idObj(t);
            var i = 0;
            i = gt.getObjID(t);
            if (!this.timeDic.hasOwnProperty(i)) {
                this.timeDic[i] = 0
            }
            this.timeDic[i] = this.timeDic[i] + e;
            if (!this.countDic.hasOwnProperty(i)) {
                this.countDic[i] = 0
            }
            this.countDic[i] = this.countDic[i] + 1;
            this.nodeDic[i] = t
        }
        ;
        e.getTime = function(t) {
            gt.idObj(t);
            var e = 0;
            e = gt.getObjID(t);
            if (!this.resultDic[e])
                return 0;
            return this.resultDic[e]
        }
        ;
        e.getCount = function(t) {
            gt.idObj(t);
            var e = 0;
            e = gt.getObjID(t);
            return this.resultCountDic[e]
        }
        ;
        e.reset = function() {
            var t;
            for (t in this.timeDic) {
                this.timeDic[t] = 0;
                this.countDic[t] = 0
            }
            wt.clearObj(this.nodeDic)
        }
        ;
        e.updates = function() {
            wt.clearObj(this.resultDic);
            wt.insertValue(this.resultDic, this.timeDic);
            wt.clearObj(this.resultCountDic);
            wt.insertValue(this.resultCountDic, this.countDic);
            this.reset()
        }
        ;
        p(0, e, "working", null, function(t) {
            this.isWorking = t;
            if (t) {
                st.timer.loop(qt.RenderCostMaxTime, this, this.updates)
            } else {
                st.timer.clear(this, this.updates)
            }
        });
        u(t, ["I", function() {
            return this.I = new t
        }
        ]);
        return t
    }();
    var Rt = function() {
        function n() {}
        x(n, "laya.debug.tools.resizer.DisResizer");
        n.init = function() {
            if (n._up)
                return;
            n._up = new Xs("T");
            n._up.height = 2;
            n._up.type = 0;
            n._down = new Xs("T");
            n._down.height = 2;
            n._down.type = 0;
            n._left = new Xs("R");
            n._left.width = 2;
            n._left.type = 1;
            n._right = new Xs("R");
            n._right.width = 2;
            n._right.type = 1;
            n._barList = [n._up, n._down, n._left, n._right];
            n.addEvent()
        }
        ;
        n.stageDown = function(t) {
            var e;
            e = t.target;
            if (n._tar && lt.isInTree(n._tar, e)) {
                return
            }
            n.clear()
        }
        ;
        n.clear = function() {
            n._tar = null;
            st.stage.off("mouseup", null, n.stageDown);
            lt.removeItems(n._barList);
            n.clearDragEvents()
        }
        ;
        n.addEvent = function() {
            var t = 0
              , e = 0;
            var i;
            e = n._barList.length;
            for (t = 0; t < e; t++) {
                i = n._barList[t];
                i.on("mousedown", null, n.barDown)
            }
        }
        ;
        n.barDown = function(t) {
            n.clearDragEvents();
            n.tBar = t.target;
            if (!n.tBar)
                return;
            var e;
            e = new Te;
            if (n.tBar.type == 0) {
                e.x = n.tBar.x;
                e.width = 0;
                e.y = n.tBar.y - 200;
                e.height = 400
            } else {
                e.x = n.tBar.x - 200;
                e.width = 400;
                e.y = 0;
                e.height = 0
            }
            var i;
            i = {};
            i.area = e;
            n.tBar.record();
            n.tBar.startDrag(e);
            n.tBar.on("dragmove", null, n.draging);
            n.tBar.on("dragend", null, n.dragEnd)
        }
        ;
        n.draging = function(t) {
            console.log("draging");
            if (!n.tBar)
                return;
            if (!n._tar)
                return;
            switch (n.tBar) {
            case n._left:
                n._tar.x += n.tBar.getDx();
                n._tar.width -= n.tBar.getDx();
                n._up.width -= n.tBar.getDx();
                n._down.width -= n.tBar.getDx();
                n._right.x -= n.tBar.getDx();
                n.tBar.x -= n.tBar.getDx();
                break;
            case n._right:
                n._tar.width += n.tBar.getDx();
                n._up.width += n.tBar.getDx();
                n._down.width += n.tBar.getDx();
                break;
            case n._up:
                n._tar.y += n.tBar.getDy();
                n._tar.height -= n.tBar.getDy();
                n._right.height -= n.tBar.getDy();
                n._left.height -= n.tBar.getDy();
                n._down.y -= n.tBar.getDy();
                n.tBar.y -= n.tBar.getDy();
                break;
            case n._down:
                n._tar.height += n.tBar.getDy();
                n._right.height += n.tBar.getDy();
                n._left.height += n.tBar.getDy();
                break
            }
            n.tBar.record()
        }
        ;
        n.dragEnd = function(t) {
            console.log("dragEnd");
            n.clearDragEvents();
            n.updates()
        }
        ;
        n.clearDragEvents = function() {
            if (!n.tBar)
                return;
            n.tBar.off("dragmove", null, n.draging);
            n.tBar.off("dragend", null, n.dragEnd)
        }
        ;
        n.setUp = function(t, e) {
            e === void 0 && (e = false);
            if (e && t == n._tar) {
                return
            }
            lt.removeItems(n._barList);
            if (n._tar == t) {
                n._tar = null;
                n.clearDragEvents();
                if (!e)
                    return
            }
            n._tar = t;
            n.updates();
            lt.addItems(n._barList, t);
            st.stage.off("mouseup", null, n.stageDown);
            st.stage.on("mouseup", null, n.stageDown)
        }
        ;
        n.updates = function() {
            var t;
            t = n._tar;
            if (!t)
                return;
            var e;
            e = new Te(0,0,t.width,t.height);
            n._up.x = e.x;
            n._up.y = e.y;
            n._up.width = e.width;
            n._down.x = e.x;
            n._down.y = e.y + e.height - 2;
            n._down.width = e.width;
            n._left.x = e.x;
            n._left.y = e.y;
            n._left.height = e.height;
            n._right.x = e.x + e.width - 2;
            n._right.y = e.y;
            n._right.height = e.height
        }
        ;
        n.Side = 2;
        n.Vertical = 1;
        n.Horizon = 0;
        n._up = null;
        n._down = null;
        n._left = null;
        n._right = null;
        n._barList = null;
        n._tar = null;
        n.barWidth = 2;
        n.useGetBounds = false;
        n.tBar = null;
        return n
    }();
    var It = function() {
        function a() {}
        x(a, "laya.debug.tools.resizer.SimpleResizer");
        a.setResizeAble = function(t, e, i, n) {
            i === void 0 && (i = 150);
            n === void 0 && (n = 150);
            t.on("mousedown", null, a.onMouseDown, [e, i, n])
        }
        ;
        a.onMouseDown = function(t, e, i, n) {
            a.clearEvents();
            if (!t)
                return;
            a.preMousePoint.setTo(st.stage.mouseX, st.stage.mouseY);
            a.preTarSize.setTo(t.width, t.height);
            a.preScale.setTo(1, 1);
            var s;
            s = t;
            while (s && s != st.stage) {
                a.preScale.x *= s.scaleX;
                a.preScale.y *= s.scaleY;
                s = s.parent
            }
            st.stage.on("mouseup", null, a.onMouseMoveEnd);
            st.timer.loop(100, null, a.onMouseMoving, [t, e, i])
        }
        ;
        a.onMouseMoving = function(t, e, i, n) {
            var s = (st.stage.mouseX - a.preMousePoint.x) / a.preScale.x + a.preTarSize.x;
            var r = (st.stage.mouseY - a.preMousePoint.y) / a.preScale.y + a.preTarSize.y;
            t.width = s > e ? s : e;
            t.height = r > i ? r : i
        }
        ;
        a.onMouseMoveEnd = function(t) {
            a.clearEvents()
        }
        ;
        a.clearEvents = function() {
            st.timer.clear(null, a.onMouseMoving);
            st.stage.off("mouseup", null, a.onMouseMoveEnd)
        }
        ;
        u(a, ["preMousePoint", function() {
            return this.preMousePoint = new Se
        }
        , "preTarSize", function() {
            return this.preTarSize = new Se
        }
        , "preScale", function() {
            return this.preScale = new Se
        }
        ]);
        return a
    }();
    var At = function() {
        function i() {}
        x(i, "laya.debug.tools.ResTools");
        i.getCachedResList = function() {
            if (Be.isWebGL) {
                return i.getWebGlResList()
            } else {
                return i.getCanvasResList()
            }
        }
        ;
        i.getWebGlResList = function() {
            var t;
            t = [];
            var e;
            var i;
            i = Xe.currentResourceManager["_resources"];
            for (var n = 0; n < i.length; n++) {
                e = i[n];
                if ($.getClassName(e) == "WebGLImage") {
                    var s = e["src"];
                    if (s && s.indexOf("data:image/png;base64") < 0)
                        t.push(s)
                }
            }
            return t
        }
        ;
        i.getCanvasResList = function() {
            var t;
            t = {};
            var e;
            e = fn.loadedMap;
            i.collectPics(e, t);
            return i.getArrFromDic(t)
        }
        ;
        i.getArrFromDic = function(t) {
            var e;
            var i;
            i = [];
            for (e in t) {
                i.push(e)
            }
            return i
        }
        ;
        i.collectPics = function(t, e) {
            if (!t)
                return;
            var i;
            var n;
            for (i in t) {
                n = t[i];
                if (n) {
                    if (n.bitmap && n.bitmap.src) {
                        var s = n.bitmap.src;
                        if (s.indexOf("data:image/png;base64") < 0)
                            e[n.bitmap.src] = true
                    }
                }
            }
        }
        ;
        return i
    }();
    var Gt = function() {
        function s() {}
        x(s, "laya.debug.tools.RunProfile");
        s.run = function(t, e) {
            e === void 0 && (e = 3);
            var i;
            if (!s.infoDic.hasOwnProperty(t)) {
                s.infoDic[t] = new it
            }
            i = s.infoDic[t];
            var n;
            n = Lt.getCallLoc(e) + "\n" + Lt.getCallStack(1, e - 3);
            i.add(n);
            if (s._runShowDic[t]) {
                console.log("Create:" + t);
                console.log(n)
            }
        }
        ;
        s.showClassCreate = function(t) {
            s._runShowDic[t] = true
        }
        ;
        s.hideClassCreate = function(t) {
            s._runShowDic[t] = false
        }
        ;
        s.getRunInfo = function(t) {
            var e;
            e = s.infoDic[t];
            if (e) {}
            return s.infoDic[t]
        }
        ;
        s.runTest = function(t, e, i) {
            i === void 0 && (i = "runTest");
            ut.timeStart(i);
            var n = 0;
            for (n = 0; n < e; n++) {
                t()
            }
            ut.timeEnd(i)
        }
        ;
        s.runTest2 = function(t, e, i) {
            i === void 0 && (i = "runTest");
            var n = NaN;
            n = He.now();
            var s = 0;
            for (s = 0; s < e; s++) {
                t()
            }
            return He.now() - n
        }
        ;
        s.infoDic = {};
        s._runShowDic = {};
        return s
    }();
    var Mt = function() {
        function h() {}
        x(h, "laya.debug.tools.StringTool");
        h.toUpCase = function(t) {
            return t.toUpperCase()
        }
        ;
        h.toLowCase = function(t) {
            return t.toLowerCase()
        }
        ;
        h.toUpHead = function(t) {
            var e;
            if (t.length <= 1)
                return t.toUpperCase();
            e = t.charAt(0).toUpperCase() + t.substr(1);
            return e
        }
        ;
        h.toLowHead = function(t) {
            var e;
            if (t.length <= 1)
                return t.toLowerCase();
            e = t.charAt(0).toLowerCase() + t.substr(1);
            return e
        }
        ;
        h.packageToFolderPath = function(t) {
            var e;
            e = t.replace(".", "/");
            return e
        }
        ;
        h.insert = function(t, e, i) {
            return t.substring(0, i) + e + t.substr(i)
        }
        ;
        h.insertAfter = function(t, e, i, n) {
            n === void 0 && (n = false);
            var s = 0;
            if (n) {
                s = t.lastIndexOf(i)
            } else {
                s = t.indexOf(i)
            }
            if (s >= 0) {
                return h.insert(t, e, s + i.length)
            }
            return t
        }
        ;
        h.insertBefore = function(t, e, i, n) {
            n === void 0 && (n = false);
            var s = 0;
            if (n) {
                s = t.lastIndexOf(i)
            } else {
                s = t.indexOf(i)
            }
            if (s >= 0) {
                return h.insert(t, e, s)
            }
            return t
        }
        ;
        h.insertParamToFun = function(t, e) {
            var i;
            i = h.getParamArr(t);
            var n;
            n = e.join(",");
            if (i.length > 0) {
                n = "," + n
            }
            return h.insertBefore(t, n, ")", true)
        }
        ;
        h.trim = function(t, e) {
            if (!e) {
                e = [" ", "\r", "\n", "\t", String.fromCharCode(65279)]
            }
            var i;
            var n = 0;
            var s = 0;
            i = t;
            s = e.length;
            for (n = 0; n < s; n++) {
                i = h.getReplace(i, e[n], "")
            }
            return i
        }
        ;
        h.isEmpty = function(t) {
            if (t.length < 1)
                return true;
            return h.emptyStrDic.hasOwnProperty(t)
        }
        ;
        h.trimLeft = function(t) {
            var e = 0;
            e = 0;
            var i = 0;
            i = t.length;
            while (h.isEmpty(t.charAt(e)) && e < i) {
                e++
            }
            if (e < i) {
                return t.substr(e)
            }
            return ""
        }
        ;
        h.trimRight = function(t) {
            var e = 0;
            e = t.length - 1;
            while (h.isEmpty(t.charAt(e)) && e >= 0) {
                e--
            }
            var i;
            i = t.substring(0, e);
            if (e >= 0) {
                return t.substring(0, e + 1)
            }
            return ""
        }
        ;
        h.trimSide = function(t) {
            var e;
            e = h.trimLeft(t);
            e = h.trimRight(e);
            return e
        }
        ;
        h.isOkFileName = function(t) {
            if (laya.debug.tools.StringTool.trimSide(t) == "")
                return false;
            var e = 0
              , i = 0;
            i = t.length;
            for (e = 0; e < i; e++) {
                if (h.specialChars[t.charAt(e)])
                    return false
            }
            return true
        }
        ;
        h.trimButEmpty = function(t) {
            return h.trim(t, ["\r", "\n", "\t"])
        }
        ;
        h.removeEmptyStr = function(t) {
            var e = 0;
            e = t.length - 1;
            var i;
            for (e = e; e >= 0; e--) {
                i = t[e];
                i = laya.debug.tools.StringTool.trimSide(i);
                if (h.isEmpty(i)) {
                    t.splice(e, 1)
                } else {
                    t[e] = i
                }
            }
            return t
        }
        ;
        h.ifNoAddToTail = function(t, e) {
            if (t.indexOf(e) >= 0) {
                return t
            }
            return t + e
        }
        ;
        h.trimEmptyLine = function(t) {
            var e = 0;
            var i = 0;
            var n;
            var s;
            n = t.split("\n");
            for (e = n.length - 1; e >= 0; e--) {
                s = n[e];
                if (h.isEmptyLine(s)) {
                    n.splice(e, 1)
                }
            }
            return n.join("\n")
        }
        ;
        h.isEmptyLine = function(t) {
            t = laya.debug.tools.StringTool.trim(t);
            if (t == "")
                return true;
            return false
        }
        ;
        h.removeCommentLine = function(t) {
            var e;
            e = [];
            var i = 0;
            var n;
            var s;
            i = 0;
            var r = 0;
            var a = 0;
            r = t.length;
            while (i < r) {
                s = n = t[i];
                a = n.indexOf("/**");
                if (a >= 0) {
                    s = n.substring(0, a - 1);
                    h.addIfNotEmpty(e, s);
                    while (i < r) {
                        n = t[i];
                        a = n.indexOf("*/");
                        if (a >= 0) {
                            s = n.substring(a + 2);
                            h.addIfNotEmpty(e, s);
                            break
                        }
                        i++
                    }
                } else if (n.indexOf("//") >= 0) {
                    if (laya.debug.tools.StringTool.trim(n).indexOf("//") == 0) {} else {
                        h.addIfNotEmpty(e, s)
                    }
                } else {
                    h.addIfNotEmpty(e, s)
                }
                i++
            }
            return e
        }
        ;
        h.addIfNotEmpty = function(t, e) {
            if (!e)
                return;
            var i;
            i = h.trim(e);
            if (i != "") {
                t.push(e)
            }
        }
        ;
        h.trimExt = function(t, e) {
            var i;
            i = h.trim(t);
            var n = 0;
            var s = 0;
            s = e.length;
            for (n = 0; n < s; n++) {
                i = h.getReplace(i, e[n], "")
            }
            return i
        }
        ;
        h.getBetween = function(t, e, i, n) {
            n === void 0 && (n = false);
            if (!t)
                return "";
            if (!e)
                return "";
            if (!i)
                return "";
            var s = 0;
            var r = 0;
            s = t.indexOf(e);
            if (s < 0)
                return "";
            if (n) {
                r = t.lastIndexOf(i);
                if (r < s)
                    return ""
            } else {
                r = t.indexOf(i, s + 1)
            }
            if (r < 0)
                return "";
            return t.substring(s + e.length, r)
        }
        ;
        h.getSplitLine = function(t, e) {
            e === void 0 && (e = " ");
            return t.split(e)
        }
        ;
        h.getLeft = function(t, e) {
            var i = 0;
            i = t.indexOf(e);
            return t.substr(0, i)
        }
        ;
        h.getRight = function(t, e) {
            var i = 0;
            i = t.indexOf(e);
            return t.substr(i + 1)
        }
        ;
        h.delelteItem = function(t) {
            while (t.length > 0) {
                if (t[0] == "") {
                    t.shift()
                } else {
                    break
                }
            }
        }
        ;
        h.getWords = function(t) {
            var e = h.getSplitLine(t);
            h.delelteItem(e);
            return e
        }
        ;
        h.getLinesI = function(t, e, i) {
            var n = 0;
            var s = [];
            for (n = t; n <= e; n++) {
                s.push(i[n])
            }
            return s
        }
        ;
        h.structfy = function(t, e, i) {
            e === void 0 && (e = 4);
            i === void 0 && (i = true);
            if (i) {
                t = laya.debug.tools.StringTool.trimEmptyLine(t)
            }
            var n;
            var s = 0;
            s = 0;
            var r;
            r = h.getEmptyStr(0);
            n = t.split("\n");
            var a = 0;
            var o = 0;
            var l;
            o = n.length;
            for (a = 0; a < o; a++) {
                l = n[a];
                l = laya.debug.tools.StringTool.trimLeft(l);
                l = laya.debug.tools.StringTool.trimRight(l);
                s += h.getPariCount(l);
                if (l.indexOf("}") >= 0) {
                    r = h.getEmptyStr(s * e)
                }
                l = r + l;
                n[a] = l;
                r = h.getEmptyStr(s * e)
            }
            return n.join("\n")
        }
        ;
        h.getEmptyStr = function(t) {
            if (!h.emptyDic.hasOwnProperty(t)) {
                var e = 0;
                var i = 0;
                i = t;
                var n;
                n = "";
                for (e = 0; e < i; e++) {
                    n += " "
                }
                h.emptyDic[t] = n
            }
            return h.emptyDic[t]
        }
        ;
        h.getPariCount = function(t, e, i) {
            e === void 0 && (e = "{");
            i === void 0 && (i = "}");
            var n;
            n = {};
            n[e] = 1;
            n[i] = -1;
            var s = 0;
            var r = 0;
            var a;
            r = t.length;
            var o = 0;
            o = 0;
            for (s = 0; s < r; s++) {
                a = t.charAt(s);
                if (n.hasOwnProperty(a)) {
                    o += n[a]
                }
            }
            return o
        }
        ;
        h.readInt = function(t, e) {
            e === void 0 && (e = 0);
            var i = NaN;
            i = 0;
            var n = 0;
            var s;
            var r = 0;
            var a = false;
            a = false;
            var o = 0;
            o = t.length;
            for (r = e; r < o; r++) {
                s = t.charAt(r);
                if (Number(s) > 0 || s == "0") {
                    i = 10 * i + Number(s);
                    if (i > 0)
                        a = true
                } else {
                    if (a)
                        return i
                }
            }
            return i
        }
        ;
        h.getReplace = function(t, e, i) {
            if (!t)
                return "";
            var n;
            n = t.replace(new RegExp(e,"g"), i);
            return n
        }
        ;
        h.getWordCount = function(t, e) {
            var i = new RegExp(e,"g");
            return t.match(i).length
        }
        ;
        h.getResolvePath = function(t, e) {
            if (h.isAbsPath(t)) {
                return t
            }
            var i;
            i = "\\";
            if (e.indexOf("/") >= 0) {
                i = "/"
            }
            if (e.charAt(e.length - 1) == i) {
                e = e.substr(0, e.length - 1)
            }
            var n;
            n = ".." + i;
            var s;
            s = "." + i;
            var r = 0;
            r = h.getWordCount(t, n);
            t = laya.debug.tools.StringTool.getReplace(t, n, "");
            t = laya.debug.tools.StringTool.getReplace(t, s, "");
            var a = 0;
            var o = 0;
            o = r;
            var l = 0;
            for (a = 0; a < o; a++) {
                e = h.removeLastSign(t, i)
            }
            return e + i + t
        }
        ;
        h.isAbsPath = function(t) {
            if (t.indexOf(":") >= 0)
                return true;
            return false
        }
        ;
        h.removeLastSign = function(t, e) {
            var i = 0;
            i = t.lastIndexOf(e);
            t = t.substring(0, i);
            return t
        }
        ;
        h.getParamArr = function(t) {
            var e;
            e = laya.debug.tools.StringTool.getBetween(t, "(", ")", true);
            if (h.trim(e).length < 1)
                return [];
            return e.split(",")
        }
        ;
        h.copyStr = function(t) {
            return t.substring()
        }
        ;
        h.ArrayToString = function(t) {
            var e;
            e = "[{items}]".replace(new RegExp("\\{items\\}","g"), h.getArrayItems(t));
            return e
        }
        ;
        h.getArrayItems = function(t) {
            var e;
            if (t.length < 1)
                return "";
            e = h.parseItem(t[0]);
            var i = 0;
            var n = 0;
            n = t.length;
            for (i = 1; i < n; i++) {
                e += "," + h.parseItem(t[i])
            }
            return e
        }
        ;
        h.parseItem = function(t) {
            var e;
            e = '"' + t + '"';
            return ""
        }
        ;
        h.initAlphaSign = function() {
            if (h.alphaSigns)
                return;
            h.alphaSigns = {};
            h.addSign("a", "z", h.alphaSigns);
            h.addSign("A", "Z", h.alphaSigns);
            h.addSign("0", "9", h.alphaSigns)
        }
        ;
        h.addSign = function(t, e, i) {
            var n = 0;
            var s = 0;
            var r = 0;
            r = t.charCodeAt(0);
            s = e.charCodeAt(0);
            for (n = r; n <= s; n++) {
                i[String.fromCharCode(n)] = true;
                console.log("add :" + String.fromCharCode(n))
            }
        }
        ;
        h.isPureAlphaNum = function(t) {
            h.initAlphaSign();
            if (!t)
                return true;
            var e = 0
              , i = 0;
            i = t.length;
            for (e = 0; e < i; e++) {
                if (!h.alphaSigns[t.charAt(e)])
                    return false
            }
            return true
        }
        ;
        h.get01Num = function(t, e) {
            e === void 0 && (e = 2);
            var i = "";
            if (e == 2) {
                if (t < 10)
                    i += "0" + t.toString();
                else
                    i += t.toString()
            } else if (e == 3) {
                if (t < 100) {
                    if (t > 9)
                        i += "0" + t.toString();
                    else
                        i += "00" + t.toString()
                } else
                    i += t.toString()
            }
            return i
        }
        ;
        h.emptyDic = {};
        h.alphaSigns = null;
        u(h, ["emptyStrDic", function() {
            return this.emptyStrDic = {
                " ": true,
                "\r": true,
                "\n": true,
                "\t": true
            }
        }
        , "specialChars", function() {
            return this.specialChars = {
                "*": true,
                "&": true,
                "%": true,
                "#": true,
                "?": true
            }
        }
        ]);
        return h
    }();
    var Lt = function() {
        function r() {}
        x(r, "laya.debug.tools.TraceTool");
        r.closeAllLog = function() {
            var t;
            t = r.emptyLog;
            He.window.console.log = t
        }
        ;
        r.emptyLog = function() {}
        ;
        r.traceObj = function(t) {
            r.tempArr.length = 0;
            var e;
            for (e in t) {
                r.tempArr.push(e + ":" + t[e])
            }
            var i;
            i = r.tempArr.join("\n");
            console.log(i);
            return i
        }
        ;
        r.traceObjR = function(t) {
            r.tempArr.length = 0;
            var e;
            for (e in t) {
                r.tempArr.push(t[e] + ":" + e)
            }
            var i;
            i = r.tempArr.join("\n");
            console.log(i);
            return i
        }
        ;
        r.traceSize = function(t) {
            U.dTrace("Size: x:" + t.x + " y:" + t.y + " w:" + t.width + " h:" + t.height + " scaleX:" + t.scaleX + " scaleY:" + t.scaleY)
        }
        ;
        r.traceSplit = function(t) {
            console.log("---------------------" + t + "---------------------------")
        }
        ;
        r.group = function(t) {
            console.group(t)
        }
        ;
        r.groupEnd = function() {
            console.groupEnd()
        }
        ;
        r.getCallStack = function(t, e) {
            t === void 0 && (t = 1);
            e === void 0 && (e = 1);
            var i;
            i = r.getCallStack;
            i = i.caller.caller;
            var n;
            n = "";
            while (i && t > 0) {
                if (e <= 0) {
                    n += i + "<-";
                    t--
                } else {}
                i = i.caller;
                e--
            }
            return n
        }
        ;
        r.getCallLoc = function(e) {
            e === void 0 && (e = 2);
            var i;
            try {
                r.Erroer.i++
            } catch (t) {
                var n;
                n = t.stack.replace(/Error\n/).split(/\n/);
                if (n[e]) {
                    i = n[e].replace(/^\s+|\s+$/, "")
                } else {
                    i = "unknow"
                }
            }
            return i
        }
        ;
        r.traceCallStack = function() {
            var e;
            try {
                r.Erroer.i++
            } catch (t) {
                e = t.stack
            }
            console.log(e);
            return e
        }
        ;
        r.getPlaceHolder = function(t) {
            if (!r.holderDic.hasOwnProperty(t)) {
                var e;
                e = "";
                var i = 0;
                for (i = 0; i < t; i++) {
                    e += "-"
                }
                r.holderDic[t] = e
            }
            return r.holderDic[t]
        }
        ;
        r.traceTree = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = true);
            if (i) {
                console.log("traceTree")
            }
            if (!t)
                return;
            var n = 0;
            var s = 0;
            if (t.numChildren < 1) {
                console.log(t);
                return
            }
            r.group(t);
            s = t.numChildren;
            e++;
            for (n = 0; n < s; n++) {
                r.traceTree(t.getChildAt(n), e, false)
            }
            r.groupEnd()
        }
        ;
        r.getClassName = function(t) {
            return t["constructor"].name
        }
        ;
        r.traceSpriteInfo = function(t, e, i, n) {
            e === void 0 && (e = true);
            i === void 0 && (i = true);
            n === void 0 && (n = true);
            if (!(t instanceof laya.display.Sprite)) {
                console.log("not Sprite");
                return
            }
            if (!t) {
                console.log("null Sprite");
                return
            }
            r.traceSplit("traceSpriteInfo");
            U.dTrace(laya.debug.tools.TraceTool.getClassName(t) + ":" + t.name);
            if (n) {
                r.traceTree(t)
            } else {
                console.log(t)
            }
            if (i) {
                r.traceSize(t)
            }
            if (e) {
                console.log("bounds:" + t.getBounds())
            }
        }
        ;
        r.tempArr = [];
        r.Erroer = null;
        r.holderDic = {};
        return r
    }();
    var Wt = function() {
        function n() {
            this.target = null;
            this.key = null;
            this._tValue = NaN;
            this.preValue = 0
        }
        x(n, "laya.debug.tools.ValueChanger");
        var t = n.prototype;
        t.record = function() {
            this.preValue = this.value
        }
        ;
        t.showValueByAdd = function(t) {
            this.value = this.preValue + t
        }
        ;
        t.showValueByScale = function(t) {
            this.value = this.preValue * t
        }
        ;
        t.recover = function() {
            this.value = this.preValue
        }
        ;
        t.dispose = function() {
            this.target = null
        }
        ;
        p(0, t, "value", function() {
            if (this.target) {
                this._tValue = this.target[this.key]
            }
            return this._tValue
        }, function(t) {
            this._tValue = t;
            if (this.target) {
                this.target[this.key] = t
            }
        });
        p(0, t, "dValue", function() {
            return this.value - this.preValue
        });
        p(0, t, "scaleValue", function() {
            return this.value / this.preValue
        });
        n.create = function(t, e) {
            var i;
            i = new n;
            i.target = t;
            i.key = e;
            return i
        }
        ;
        return n
    }();
    var Et = function() {
        function h() {}
        x(h, "laya.debug.tools.VisibleAnalyser");
        h.analyseTarget = function(t) {
            var e = false;
            e = t.displayedInStage;
            var i;
            i = $t.getGRec(t);
            var n = new Te;
            n.setTo(0, 0, st.stage.width, st.stage.height);
            var s = false;
            var r;
            r = n.intersection(i);
            if (r.width > 0 && r.height > 0) {
                s = true
            } else {
                s = false
            }
            var a = NaN;
            a = $t.getGAlpha(t);
            var o = false;
            o = $t.getGVisible(t);
            var l;
            l = "";
            l += "isInstage:" + e + "\n";
            l += "isInVisibleRec:" + s + "\n";
            l += "gVisible:" + o + "\n";
            l += "gAlpha:" + a + "\n";
            if (e && s && o && a > 0) {
                if (Be.isWebGL) {
                    h.anlyseRecVisible(t)
                } else {
                    dt.I.analyseNode(t)
                }
                l += "coverRate:" + h.coverRate + "\n";
                if (h._coverList.length > 0) {
                    st.timer.once(1e3, null, h.showListLater)
                }
            }
            console.log(l);
            Vr.I.showTxt(l)
        }
        ;
        h.showListLater = function() {
            Gr.I.showList(h._coverList)
        }
        ;
        h.isCoverByBrother = function(t) {
            var e = t.parent;
            if (!e)
                return;
            var i;
            i = e._childs;
            var n = 0;
            n = i.indexOf(t);
            if (n < 0)
                return;
            var s = 0
              , r = 0;
            var a;
            var o;
            o = e.getSelfBounds();
            if (o.width <= 0 || o.height <= 0)
                return
        }
        ;
        h.anlyseRecVisible = function(t) {
            h.isNodeWalked = false;
            h._analyseTarget = t;
            if (!h.mainCanvas)
                h.mainCanvas = q.createCanvas(st.stage.width, st.stage.height);
            q.clearCanvas(h.mainCanvas);
            h.tColor = 1;
            h.resetCoverList();
            jt.walkTargetEX(st.stage, h.recVisibleWalker, null, h.filterFun);
            if (!h.isTarRecOK) {
                h.coverRate = 0
            } else {
                h.coverRate = q.getDifferRate(h.preImageData, h.tarImageData)
            }
            console.log("coverRate:", h.coverRate)
        }
        ;
        h.getRecArea = function(t) {
            return t.width * t.height
        }
        ;
        h.addCoverNode = function(t, e) {
            var i;
            i = {};
            i.path = t;
            i.label = $.getNodeClassAndName(t) + ":" + e;
            i.coverRate = e;
            h._coverList.push(i);
            console.log("coverByNode:", t, e)
        }
        ;
        h.resetCoverList = function() {
            h._coverList.length = 0
        }
        ;
        h.recVisibleWalker = function(t) {
            if (t == h._analyseTarget) {
                h.isNodeWalked = true;
                h.tarRec.copyFrom($t.getGRec(t));
                console.log("tarRec:", h.tarRec.toString());
                if (h.tarRec.width > 0 && h.tarRec.height > 0) {
                    h.isTarRecOK = true;
                    h.tColor++;
                    q.fillCanvasRec(h.mainCanvas, h.tarRec, et.toHexColor(h.tColor));
                    h.preImageData = q.getImageDataFromCanvasByRec(h.mainCanvas, h.tarRec);
                    h.tarImageData = q.getImageDataFromCanvasByRec(h.mainCanvas, h.tarRec)
                } else {
                    console.log("tarRec Not OK:", h.tarRec)
                }
            } else {
                if (h.isTarRecOK) {
                    var e;
                    e = $t.getGRec(t);
                    h.interRec = h.tarRec.intersection(e, h.interRec);
                    if (h.interRec && h.interRec.width > 0 && h.interRec.height > 0) {
                        h.tColor++;
                        q.fillCanvasRec(h.mainCanvas, e, et.toHexColor(h.tColor));
                        h.tImageData = q.getImageDataFromCanvasByRec(h.mainCanvas, h.tarRec);
                        var i = NaN;
                        i = q.getDifferRate(h.preImageData, h.tImageData);
                        h.preImageData = h.tImageData;
                        h.addCoverNode(t, i)
                    }
                }
            }
        }
        ;
        h.filterFun = function(t) {
            if (t.visible == false)
                return false;
            if (t.alpha < 0)
                return false;
            if (_s.I.isDebugItem(t))
                return false;
            return true
        }
        ;
        h.isNodeWalked = false;
        h._analyseTarget = null;
        h.isTarRecOK = false;
        h.mainCanvas = null;
        h.preImageData = null;
        h.tImageData = null;
        h.tarImageData = null;
        h.coverRate = NaN;
        h.tColor = 0;
        h._coverList = [];
        u(h, ["tarRec", function() {
            return this.tarRec = new Te
        }
        , "interRec", function() {
            return this.interRec = new Te
        }
        ]);
        return h
    }();
    var jt = function() {
        function l() {}
        x(l, "laya.debug.tools.WalkTools");
        l.walkTarget = function(t, e, i) {
            e.apply(i, [t]);
            var n = 0;
            var s = 0;
            var r;
            s = t.numChildren;
            for (n = 0; n < s; n++) {
                r = t.getChildAt(n);
                l.walkTarget(r, e, r)
            }
        }
        ;
        l.walkTargetEX = function(t, e, i, n) {
            if (n != null && !n(t))
                return;
            e.apply(i, [t]);
            var s = 0;
            var r = 0;
            var a;
            var o;
            o = t._childs;
            r = o.length;
            for (s = 0; s < r; s++) {
                a = o[s];
                l.walkTarget(a, e, a)
            }
        }
        ;
        l.walkChildren = function(t, e, i) {
            if (!t || t.numChildren < 1)
                return;
            l.walkArr(lt.getAllChild(t), e, i)
        }
        ;
        l.walkArr = function(t, e, i) {
            if (!t)
                return;
            var n = 0;
            var s = 0;
            s = t.length;
            for (n = 0; n < s; n++) {
                e.apply(i, [t[n], n])
            }
        }
        ;
        return l
    }();
    var Kt = function() {
        function s() {}
        x(s, "laya.debug.tools.Watcher");
        s.watch = function(t, e, i) {
            mt.hookVar(t, e, i)
        }
        ;
        s.traceChange = function(t, e, i) {
            i === void 0 && (i = "var changed:");
            mt.hookVar(t, e, [s.getTraceValueFun(e), mt.getLocFun(i)])
        }
        ;
        s.debugChange = function(t, e) {
            mt.hookVar(t, e, [mt.getLocFun("debug loc"), pt.debugHere])
        }
        ;
        s.differChange = function(t, e, i, n) {
            n === void 0 && (n = "");
            mt.hookVar(t, e, [s.getDifferFun(t, e, i, n)])
        }
        ;
        s.getDifferFun = function(t, e, i, n) {
            n === void 0 && (n = "");
            var s;
            s = function() {
                at.differ(i, t[e], n)
            }
            ;
            return s
        }
        ;
        s.traceValue = function(t) {
            console.log("value:", t)
        }
        ;
        s.getTraceValueFun = function(e) {
            var t;
            t = function(t) {
                console.log("set " + e + " :", t)
            }
            ;
            return t
        }
        ;
        return s
    }();
    var Qt = function() {
        function t() {
            this._tar = null;
            this._menu = null;
            this._shareBtns = ["信息面板", "边框", "进入节点", "树定位", "Enable链", "Size链", "节点工具", "可见分析", "输出到控制台"];
            this._menuItems = ["隐藏节点"];
            this._menuHide = null;
            this._menuItemsHide = ["显示节点"];
            this._menu1 = null;
            this._menuItems1 = ["输出到控制台"]
        }
        x(t, "laya.debug.view.nodeInfo.menus.NodeMenu");
        var e = t.prototype;
        e.showNodeMenu = function(t) {
            if (!t._style) {
                U.log("该节点已不存在，请刷新列表");
                return
            }
            this._tar = t;
            if (!this._menu) {
                this._menuItems = this._menuItems.concat(this._shareBtns);
                this._menu = cr.createMenuByArray(this._menuItems);
                this._menu.on("select", this, this.onEmunSelect);
                this._menuItemsHide = this._menuItemsHide.concat(this._shareBtns);
                this._menuHide = cr.createMenuByArray(this._menuItemsHide);
                this._menuHide.on("select", this, this.onEmunSelect)
            }
            if (t.visible) {
                this._menu.show()
            } else {
                this._menuHide.show()
            }
        }
        ;
        e.nodeDoubleClick = function(t) {
            Mr.I.showByNode(t)
        }
        ;
        e.setNodeListDoubleClickAction = function(t) {
            if (He.onMobile)
                return;
            t.on("doubleclick", this, this.onListDoubleClick, [t])
        }
        ;
        e.onListDoubleClick = function(t) {
            if (t.selectedItem) {
                var e;
                e = t.selectedItem.path;
                laya.debug.view.nodeInfo.menus.NodeMenu.I.nodeDoubleClick(e)
            }
        }
        ;
        e.setNodeListAction = function(t) {
            t.on(U.getMenuShowEvent(), this, this.onListRightClick, [t])
        }
        ;
        e.onListRightClick = function(t) {
            if (t.selectedItem) {
                var e;
                e = t.selectedItem.path;
                laya.debug.view.nodeInfo.menus.NodeMenu.I.objRightClick(e)
            }
        }
        ;
        e.objRightClick = function(t) {
            if (t instanceof laya.display.Sprite) {
                laya.debug.view.nodeInfo.menus.NodeMenu.I.showNodeMenu(t)
            } else if (typeof t == "object") {
                laya.debug.view.nodeInfo.menus.NodeMenu.I.showObjectMenu(t)
            }
        }
        ;
        e.showObjectMenu = function(t) {
            this._tar = t;
            if (!this._menu1) {
                this._menu1 = cr.createMenuByArray(this._menuItems1);
                this._menu1.on("select", this, this.onEmunSelect)
            }
            this._menu1.show()
        }
        ;
        e.onEmunSelect = function(t) {
            var e = t.target.data;
            if (typeof e == "string") {
                var i;
                i = e;
                switch (i) {
                case "信息面板":
                    Nr.showObject(this._tar);
                    break;
                case "边框":
                    U.showDisBound(this._tar);
                    break;
                case "输出到控制台":
                    console.log(this._tar);
                    break;
                case "树节点":
                    vs.I.showNodeTree(this._tar);
                    break;
                case "进入节点":
                    vs.I.showNodeTree(this._tar);
                    break;
                case "树定位":
                    vs.I.showSelectInStage(this._tar);
                    break;
                case "Enable链":
                    Vr.I.dTrace(U.traceDisMouseEnable(this._tar));
                    kr.I.setSelectList(U.selectedNodes);
                    break;
                case "Size链":
                    Vr.I.dTrace(U.traceDisSizeChain(this._tar));
                    kr.I.setSelectList(U.selectedNodes);
                    break;
                case "节点工具":
                    Mr.I.showByNode(this._tar);
                    break;
                case "显示节点":
                    this._tar.visible = true;
                    break;
                case "隐藏节点":
                    this._tar.visible = false;
                    break;
                case "可见分析":
                    if (this._tar) {
                        Et.analyseTarget(this._tar)
                    }
                    break
                }
            }
        }
        ;
        p(1, t, "I", function() {
            if (!t._I)
                t._I = new t;
            return t._I
        });
        t._I = null;
        return t
    }();
    var qt = function() {
        function t() {}
        x(t, "laya.debug.view.nodeInfo.NodeConsts");
        t.defaultFitlerStr = "x,y,width,height,scaleX,scaleY,alpha,renderCost";
        t.RenderCostMaxTime = 3e3;
        return t
    }();
    var $t = function() {
        function h() {}
        x(h, "laya.debug.view.nodeInfo.NodeUtils");
        h.getFilterdTree = function(t, e) {
            if (!e)
                e = h.defaultKeys;
            var i;
            i = {};
            var n;
            var s = 0
              , r = 0;
            r = e.length;
            for (s = 0; s < r; s++) {
                n = e[s];
                i[n] = t[n]
            }
            var a;
            var o;
            a = t._childs;
            r = a.length;
            var l;
            l = [];
            for (s = 0; s < r; s++) {
                o = a[s];
                l.push(h.getFilterdTree(o, e))
            }
            i.childs = l;
            return i
        }
        ;
        h.getPropertyDesO = function(t, e) {
            if (!e)
                e = h.defaultKeys;
            var i = {};
            if (typeof t == "object") {
                i.label = "" + $.getNodeClassAndName(t)
            } else {
                i.label = "" + t
            }
            i.type = "";
            i.path = t;
            i.childs = [];
            i.isDirectory = false;
            var n;
            var s = 0
              , r = 0;
            var a;
            if (t instanceof laya.display.Node) {
                i.des = $.getNodeClassAndName(t) + "[" + h.getNodeCount(t) + "]";
                i.isDirectory = true;
                r = e.length;
                for (s = 0; s < r; s++) {
                    n = e[s];
                    a = h.getPropertyDesO(t[n], e);
                    if (t.hasOwnProperty(n)) {
                        a.label = "" + n + ":" + a.des
                    } else {
                        a.label = "" + n + ":" + Nr.getNodeValue(t, n)
                    }
                    i.childs.push(a)
                }
                n = "_childs";
                a = h.getPropertyDesO(t[n], e);
                a.label = "" + n + ":" + a.des;
                a.isChilds = true;
                i.childs.push(a)
            } else if (t instanceof Array) {
                i.des = "Array[" + t.length + "]";
                i.isDirectory = true;
                var o;
                o = t;
                r = o.length;
                for (s = 0; s < r; s++) {
                    a = h.getPropertyDesO(o[s], e);
                    a.label = "" + s + ":" + a.des;
                    i.childs.push(a)
                }
            } else if (typeof t == "object") {
                i.des = $.getNodeClassAndName(t);
                i.isDirectory = true;
                for (n in t) {
                    a = h.getPropertyDesO(t[n], e);
                    a.label = "" + n + ":" + a.des;
                    i.childs.push(a)
                }
            } else {
                i.des = "" + t
            }
            i.hasChild = i.childs.length > 0;
            return i
        }
        ;
        h.adptShowKeys = function(t) {
            var e = 0
              , i = 0;
            i = t.length;
            for (e = i - 1; e >= 0; e--) {
                t[e] = Mt.trimSide(t[e]);
                if (t[e].length < 1) {
                    t.splice(e, 1)
                }
            }
            return t
        }
        ;
        h.getNodeTreeData = function(t, e) {
            h.adptShowKeys(e);
            var i;
            i = h.getPropertyDesO(t, e);
            var n;
            n = [];
            h.getTreeArr(i, n);
            return n
        }
        ;
        h.getTreeArr = function(t, e, i) {
            i === void 0 && (i = true);
            if (i)
                e.push(t);
            var n = t.childs;
            var s = 0
              , r = n.length;
            for (s = 0; s < r; s++) {
                if (!i) {
                    n[s].nodeParent = null
                } else {
                    n[s].nodeParent = t
                }
                if (n[s].isDirectory) {
                    h.getTreeArr(n[s], e)
                } else {
                    e.push(n[s])
                }
            }
        }
        ;
        h.traceStage = function() {
            console.log(h.getFilterdTree(st.stage, null));
            console.log("treeArr:", h.getNodeTreeData(st.stage, null))
        }
        ;
        h.getNodeCount = function(t, e) {
            e === void 0 && (e = false);
            if (e) {
                if (!t.visible)
                    return 0
            }
            var i = 0;
            i = 1;
            var n = 0
              , s = 0;
            var r;
            r = t._childs;
            s = r.length;
            for (n = 0; n < s; n++) {
                i += h.getNodeCount(r[n], e)
            }
            return i
        }
        ;
        h.getGVisible = function(t) {
            while (t) {
                if (!t.visible)
                    return false;
                t = t.parent
            }
            return true
        }
        ;
        h.getGAlpha = function(t) {
            var e = NaN;
            e = 1;
            while (t) {
                e *= t.alpha;
                t = t.parent
            }
            return e
        }
        ;
        h.getGPos = function(t) {
            var e;
            e = new Se;
            t.localToGlobal(e);
            return e
        }
        ;
        h.getGRec = function(t) {
            var e;
            e = t._getBoundPointsM(true);
            if (!e || e.length < 1)
                return Te.TEMP.setTo(0, 0, 0, 0);
            e = xe.pListToPointList(e, true);
            jt.walkArr(e, t.localToGlobal, t);
            e = xe.pointListToPlist(e);
            var i;
            i = Te._getWrapRec(e, i);
            return i
        }
        ;
        h.getGGraphicRec = function(t) {
            var e;
            e = t.getGraphicBounds()._getBoundPoints();
            if (!e || e.length < 1)
                return Te.TEMP.setTo(0, 0, 0, 0);
            e = xe.pListToPointList(e, true);
            jt.walkArr(e, t.localToGlobal, t);
            e = xe.pointListToPlist(e);
            var i;
            i = Te._getWrapRec(e, i);
            return i
        }
        ;
        h.getNodeCmdCount = function(t) {
            var e = 0;
            if (t.graphics) {
                if (t.graphics.cmds) {
                    e = t.graphics.cmds.length
                } else {
                    if (t.graphics._one) {
                        e = 1
                    } else {
                        e = 0
                    }
                }
            } else {
                e = 0
            }
            return e
        }
        ;
        h.getNodeCmdTotalCount = function(t) {
            var e = 0;
            var i = 0
              , n = 0;
            var s;
            s = t._childs;
            n = s.length;
            e = h.getNodeCmdCount(t);
            for (i = 0; i < n; i++) {
                e += h.getNodeCmdTotalCount(s[i])
            }
            return e
        }
        ;
        h.getRenderNodeCount = function(t) {
            if (t.cacheAs != "none")
                return 1;
            var e = 0;
            var i = 0
              , n = 0;
            var s;
            s = t._childs;
            n = s.length;
            e = 1;
            for (i = 0; i < n; i++) {
                e += h.getRenderNodeCount(s[i])
            }
            return e
        }
        ;
        h.getReFreshRenderNodeCount = function(t) {
            var e = 0;
            var i = 0
              , n = 0;
            var s;
            s = t._childs;
            n = s.length;
            e = 1;
            for (i = 0; i < n; i++) {
                e += h.getRenderNodeCount(s[i])
            }
            return e
        }
        ;
        h.showCachedSpriteRecs = function() {
            h.g = _s.I.graphicLayer.graphics;
            h.g.clear();
            jt.walkTarget(st.stage, h.drawCachedBounds, null)
        }
        ;
        h.drawCachedBounds = function(t) {
            if (t.cacheAs == "none")
                return;
            if (_s.I.isDebugItem(t))
                return;
            var e;
            e = h.getGRec(t);
            h.g.drawRect(e.x, e.y, e.width, e.height, null, "#0000ff", 2)
        }
        ;
        h.g = null;
        u(h, ["defaultKeys", function() {
            return this.defaultKeys = ["x", "y", "width", "height"]
        }
        ]);
        return h
    }();
    var te = function() {
        function e() {}
        x(e, "laya.debug.view.StyleConsts");
        e.setViewScale = function(t) {
            t.scaleX = t.scaleY = e.PanelScale
        }
        ;
        u(e, ["PanelScale", function() {
            return this.PanelScale = He.onPC ? 1 : He.pixelRatio
        }
        ]);
        return e
    }();
    var ee = function() {
        function t() {
            this.x = NaN;
            this.y = NaN;
            this.z = NaN
        }
        x(t, "laya.device.motion.AccelerationInfo");
        return t
    }();
    var ie = function() {
        function t() {
            this._texture = null;
            this._fontCharDic = {};
            this._fontWidthMap = {};
            this._complete = null;
            this._path = null;
            this._maxWidth = 0;
            this._spaceWidth = 10;
            this._padding = null;
            this.fontSize = 12;
            this.autoScaleSize = false;
            this.letterSpacing = 0
        }
        x(t, "laya.display.BitmapFont");
        var e = t.prototype;
        e.loadFont = function(t, e) {
            this._path = t;
            this._complete = e;
            st.loader.load([{
                url: this._path,
                type: "xml"
            }, {
                url: this._path.replace(".fnt", ".png"),
                type: "image"
            }], b.create(this, this.onLoaded))
        }
        ;
        e.onLoaded = function() {
            this.parseFont(fn.getRes(this._path), fn.getRes(this._path.replace(".fnt", ".png")));
            this._complete && this._complete.runWith(this._texture ? this : null)
        }
        ;
        e.parseFont = function(t, e) {
            if (t == null || e == null)
                return;
            this._texture = e;
            var i = 0;
            var n = 1;
            var s = t.getElementsByTagName("info");
            if (!s[0].getAttributeNode) {
                return this.parseFont2(t, e)
            }
            this.fontSize = parseInt(s[0].getAttributeNode("size").nodeValue);
            var r = s[0].getAttributeNode("padding").nodeValue;
            var a = r.split(",");
            this._padding = [parseInt(a[0]), parseInt(a[1]), parseInt(a[2]), parseInt(a[3])];
            var o;
            o = t.getElementsByTagName("char");
            var l = 0;
            for (l = 0; l < o.length; l++) {
                var h = o[l];
                var u = parseInt(h.getAttributeNode("id").nodeValue);
                var c = parseInt(h.getAttributeNode("xoffset").nodeValue) / n;
                var f = parseInt(h.getAttributeNode("yoffset").nodeValue) / n;
                var d = parseInt(h.getAttributeNode("xadvance").nodeValue) / n;
                var _ = new Te;
                _.x = parseInt(h.getAttributeNode("x").nodeValue);
                _.y = parseInt(h.getAttributeNode("y").nodeValue);
                _.width = parseInt(h.getAttributeNode("width").nodeValue);
                _.height = parseInt(h.getAttributeNode("height").nodeValue);
                var p = _n.create(e, _.x, _.y, _.width, _.height, c, f);
                this._maxWidth = Math.max(this._maxWidth, d + this.letterSpacing);
                this._fontCharDic[u] = p;
                this._fontWidthMap[u] = d
            }
        }
        ;
        e.parseFont2 = function(t, e) {
            if (t == null || e == null)
                return;
            this._texture = e;
            var i = 0;
            var n = 1;
            var s = t.getElementsByTagName("info");
            this.fontSize = parseInt(s[0].attributes["size"].nodeValue);
            var r = s[0].attributes["padding"].nodeValue;
            var a = r.split(",");
            this._padding = [parseInt(a[0]), parseInt(a[1]), parseInt(a[2]), parseInt(a[3])];
            var o = t.getElementsByTagName("char");
            var l = 0;
            for (l = 0; l < o.length; l++) {
                var h = o[l].attributes;
                var u = parseInt(h["id"].nodeValue);
                var c = parseInt(h["xoffset"].nodeValue) / n;
                var f = parseInt(h["yoffset"].nodeValue) / n;
                var d = parseInt(h["xadvance"].nodeValue) / n;
                var _ = new Te;
                _.x = parseInt(h["x"].nodeValue);
                _.y = parseInt(h["y"].nodeValue);
                _.width = parseInt(h["width"].nodeValue);
                _.height = parseInt(h["height"].nodeValue);
                var p = _n.create(e, _.x, _.y, _.width, _.height, c, f);
                this._maxWidth = Math.max(this._maxWidth, d + this.letterSpacing);
                this._fontCharDic[u] = p;
                this._fontWidthMap[u] = d
            }
        }
        ;
        e.getCharTexture = function(t) {
            return this._fontCharDic[t.charCodeAt(0)]
        }
        ;
        e.destroy = function() {
            if (this._texture) {
                for (var t in this._fontCharDic) {
                    var e = this._fontCharDic[t];
                    if (e)
                        e.destroy()
                }
                this._texture.destroy();
                this._fontCharDic = null;
                this._fontWidthMap = null;
                this._texture = null
            }
        }
        ;
        e.setSpaceWidth = function(t) {
            this._spaceWidth = t
        }
        ;
        e.getCharWidth = function(t) {
            var e = t.charCodeAt(0);
            if (this._fontWidthMap[e])
                return this._fontWidthMap[e] + this.letterSpacing;
            if (t == " ")
                return this._spaceWidth + this.letterSpacing;
            return 0
        }
        ;
        e.getTextWidth = function(t) {
            var e = 0;
            for (var i = 0, n = t.length; i < n; i++) {
                e += this.getCharWidth(t.charAt(i))
            }
            return e
        }
        ;
        e.getMaxWidth = function() {
            return this._maxWidth
        }
        ;
        e.getMaxHeight = function() {
            return this.fontSize
        }
        ;
        e.drawText = function(t, e, i, n, s, r) {
            var a = this.getTextWidth(t);
            var o;
            var l = 0;
            s === "center" && (l = (r - a) / 2);
            s === "right" && (l = r - a);
            var h = 0;
            for (var u = 0, c = t.length; u < c; u++) {
                o = this.getCharTexture(t.charAt(u));
                if (o) {
                    e.graphics.drawTexture(o, i + h + l, n);
                    h += this.getCharWidth(t.charAt(u))
                }
            }
        }
        ;
        return t
    }();
    var ne = function() {
        function i() {
            this.alpha = 1;
            this.visible = true;
            this.scrollRect = null;
            this.blendMode = null;
            this._type = 0;
            this.direction = "ltr";
            this._tf = i._TF_EMPTY
        }
        x(i, "laya.display.css.Style");
        var t = i.prototype;
        t.getTransform = function() {
            return this._tf
        }
        ;
        t.setTransform = function(t) {
            this._tf = t === "none" || !t ? i._TF_EMPTY : t
        }
        ;
        t.setTranslateX = function(t) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.translateX = t
        }
        ;
        t.setTranslateY = function(t) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.translateY = t
        }
        ;
        t.setScaleX = function(t) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.scaleX = t
        }
        ;
        t.setScale = function(t, e) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.scaleX = t;
            this._tf.scaleY = e
        }
        ;
        t.setScaleY = function(t) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.scaleY = t
        }
        ;
        t.setRotate = function(t) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.rotate = t
        }
        ;
        t.setSkewX = function(t) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.skewX = t
        }
        ;
        t.setSkewY = function(t) {
            this._tf === i._TF_EMPTY && (this._tf = new re);
            this._tf.skewY = t
        }
        ;
        t.destroy = function() {
            this.scrollRect = null
        }
        ;
        t.render = function(t, e, i, n) {}
        ;
        t.getCSSStyle = function() {
            return wn.EMPTY
        }
        ;
        t._enableLayout = function() {
            return false
        }
        ;
        p(0, t, "scaleX", function() {
            return this._tf.scaleX
        }, function(t) {
            this.setScaleX(t)
        });
        p(0, t, "transform", function() {
            return this.getTransform()
        }, function(t) {
            this.setTransform(t)
        });
        p(0, t, "translateX", function() {
            return this._tf.translateX
        }, function(t) {
            this.setTranslateX(t)
        });
        p(0, t, "translateY", function() {
            return this._tf.translateY
        }, function(t) {
            this.setTranslateY(t)
        });
        p(0, t, "scaleY", function() {
            return this._tf.scaleY
        }, function(t) {
            this.setScaleY(t)
        });
        p(0, t, "block", function() {
            return (this._type & 1) != 0
        });
        p(0, t, "skewY", function() {
            return this._tf.skewY
        }, function(t) {
            this.setSkewY(t)
        });
        p(0, t, "rotate", function() {
            return this._tf.rotate
        }, function(t) {
            this.setRotate(t)
        });
        p(0, t, "skewX", function() {
            return this._tf.skewX
        }, function(t) {
            this.setSkewX(t)
        });
        p(0, t, "paddingLeft", function() {
            return 0
        });
        p(0, t, "paddingTop", function() {
            return 0
        });
        p(0, t, "absolute", function() {
            return true
        });
        i.__init__ = function() {
            i._TF_EMPTY = new re;
            i.EMPTY = new i
        }
        ;
        i.EMPTY = null;
        i._TF_EMPTY = null;
        return i
    }();
    var se = function() {
        function e(t) {
            this._type = 0;
            this._weight = 0;
            this._decoration = null;
            this._text = null;
            this.indent = 0;
            this._color = je.create(e.defaultColor);
            this.family = e.defaultFamily;
            this.stroke = e._STROKE;
            this.size = e.defaultSize;
            t && t !== e.EMPTY && t.copyTo(this)
        }
        x(e, "laya.display.css.Font");
        var t = e.prototype;
        t.set = function(t) {
            this._text = null;
            var e = t.split(" ");
            for (var i = 0, n = e.length; i < n; i++) {
                var s = e[i];
                switch (s) {
                case "italic":
                    this.italic = true;
                    continue;
                case "bold":
                    this.bold = true;
                    continue
                }
                if (s.indexOf("px") > 0) {
                    this.size = parseInt(s);
                    this.family = e[i + 1];
                    i++;
                    continue
                }
            }
        }
        ;
        t.toString = function() {
            this._text = "";
            this.italic && (this._text += "italic ");
            this.bold && (this._text += "bold ");
            return this._text += this.size + "px " + this.family
        }
        ;
        t.copyTo = function(t) {
            t._type = this._type;
            t._text = this._text;
            t._weight = this._weight;
            t._color = this._color;
            t.family = this.family;
            t.stroke = this.stroke != e._STROKE ? this.stroke.slice() : e._STROKE;
            t.indent = this.indent;
            t.size = this.size
        }
        ;
        p(0, t, "password", function() {
            return (this._type & 1024) !== 0
        }, function(t) {
            t ? this._type |= 1024 : this._type &= ~1024
        });
        p(0, t, "color", function() {
            return this._color.strColor
        }, function(t) {
            this._color = je.create(t)
        });
        p(0, t, "italic", function() {
            return (this._type & 512) !== 0
        }, function(t) {
            t ? this._type |= 512 : this._type &= ~512
        });
        p(0, t, "bold", function() {
            return (this._type & 2048) !== 0
        }, function(t) {
            t ? this._type |= 2048 : this._type &= ~2048
        });
        p(0, t, "weight", function() {
            return "" + this._weight
        }, function(t) {
            var e = 0;
            switch (t) {
            case "normal":
                break;
            case "bold":
                this.bold = true;
                e = 700;
                break;
            case "bolder":
                e = 800;
                break;
            case "lighter":
                e = 100;
                break;
            default:
                e = parseInt(t)
            }
            this._weight = e;
            this._text = null
        });
        p(0, t, "decoration", function() {
            return this._decoration ? this._decoration.value : null
        }, function(t) {
            var e = t.split(" ");
            this._decoration || (this._decoration = {});
            switch (e[0]) {
            case "_":
                this._decoration.type = "underline";
                break;
            case "-":
                this._decoration.type = "line-through";
                break;
            case "overline":
                this._decoration.type = "overline";
                break;
            default:
                this._decoration.type = e[0]
            }
            e[1] && (this._decoration.color = je.create(e));
            this._decoration.value = t
        });
        e.__init__ = function() {
            e.EMPTY = new e(null)
        }
        ;
        e.EMPTY = null;
        e.defaultColor = "#000000";
        e.defaultSize = 12;
        e.defaultFamily = "Arial";
        e.defaultFont = "12px Arial";
        e._STROKE = [0, "#000000"];
        e._ITALIC = 512;
        e._PASSWORD = 1024;
        e._BOLD = 2048;
        return e
    }();
    var re = function() {
        function t() {
            this.translateX = 0;
            this.translateY = 0;
            this.scaleX = 1;
            this.scaleY = 1;
            this.rotate = 0;
            this.skewX = 0;
            this.skewY = 0
        }
        x(t, "laya.display.css.TransformInfo");
        return t
    }();
    var ae = function() {
        function b() {
            this._cacheBoundsType = false
        }
        x(b, "laya.display.GraphicsBounds");
        var t = b.prototype;
        t.destroy = function() {
            this._graphics = null;
            this._temp = null;
            this._rstBoundPoints = null;
            this._bounds = null
        }
        ;
        t.reset = function() {
            this._temp && (this._temp.length = 0)
        }
        ;
        t.getBounds = function(t) {
            t === void 0 && (t = false);
            if (!this._bounds || !this._temp || this._temp.length < 1 || t != this._cacheBoundsType) {
                this._bounds = Te._getWrapRec(this.getBoundPoints(t), this._bounds)
            }
            this._cacheBoundsType = t;
            return this._bounds
        }
        ;
        t.getBoundPoints = function(t) {
            t === void 0 && (t = false);
            if (!this._temp || this._temp.length < 1 || t != this._cacheBoundsType)
                this._temp = this._getCmdPoints(t);
            this._cacheBoundsType = t;
            return this._rstBoundPoints = ai.copyArray(this._rstBoundPoints, this._temp)
        }
        ;
        t._getCmdPoints = function(t) {
            t === void 0 && (t = false);
            var e = Be._context;
            var i = this._graphics.cmds;
            var n;
            n = this._temp || (this._temp = []);
            n.length = 0;
            if (!i && this._graphics._one != null) {
                b._tempCmds.length = 0;
                b._tempCmds.push(this._graphics._one);
                i = b._tempCmds
            }
            if (!i)
                return n;
            var s;
            s = b._tempMatrixArrays;
            s.length = 0;
            var r = b._initMatrix;
            r.identity();
            var a = b._tempMatrix;
            var o;
            var l;
            var h = NaN;
            var u = NaN;
            var c = NaN;
            var f = NaN;
            var d = NaN;
            var _ = NaN;
            for (var p = 0, m = i.length; p < m; p++) {
                o = i[p];
                if (!o.callee)
                    continue;
                switch (o.callee) {
                case e._save:
                case 7:
                    s.push(r);
                    r = r.clone();
                    break;
                case e._restore:
                case 8:
                    r = s.pop();
                    break;
                case e._scale:
                case 5:
                    a.identity();
                    a.translate(-o[2], -o[3]);
                    a.scale(o[0], o[1]);
                    a.translate(o[2], o[3]);
                    this._switchMatrix(r, a);
                    break;
                case e._rotate:
                case 3:
                    a.identity();
                    a.translate(-o[1], -o[2]);
                    a.rotate(o[0]);
                    a.translate(o[1], o[2]);
                    this._switchMatrix(r, a);
                    break;
                case e._translate:
                case 6:
                    a.identity();
                    a.translate(o[0], o[1]);
                    this._switchMatrix(r, a);
                    break;
                case e._transform:
                case 4:
                    a.identity();
                    a.translate(-o[1], -o[2]);
                    a.concat(o[0]);
                    a.translate(o[1], o[2]);
                    this._switchMatrix(r, a);
                    break;
                case 16:
                case 24:
                    b._addPointArrToRst(n, Te._getBoundPointS(o[0], o[1], o[2], o[3]), r);
                    break;
                case 17:
                    r.copyTo(a);
                    a.concat(o[4]);
                    b._addPointArrToRst(n, Te._getBoundPointS(o[0], o[1], o[2], o[3]), a);
                    break;
                case e._drawTexture:
                    l = o[0];
                    if (t) {
                        if (o[3] && o[4]) {
                            b._addPointArrToRst(n, Te._getBoundPointS(o[1], o[2], o[3], o[4]), r)
                        } else {
                            l = o[0];
                            b._addPointArrToRst(n, Te._getBoundPointS(o[1], o[2], l.width, l.height), r)
                        }
                    } else {
                        h = (o[3] || l.sourceWidth) / l.width;
                        u = (o[4] || l.sourceHeight) / l.height;
                        c = h * l.sourceWidth;
                        f = u * l.sourceHeight;
                        d = l.offsetX > 0 ? l.offsetX : 0;
                        _ = l.offsetY > 0 ? l.offsetY : 0;
                        d *= h;
                        _ *= u;
                        b._addPointArrToRst(n, Te._getBoundPointS(o[1] - d, o[2] - _, c, f), r)
                    }
                    break;
                case e._fillTexture:
                    if (o[3] && o[4]) {
                        b._addPointArrToRst(n, Te._getBoundPointS(o[1], o[2], o[3], o[4]), r)
                    } else {
                        l = o[0];
                        b._addPointArrToRst(n, Te._getBoundPointS(o[1], o[2], l.width, l.height), r)
                    }
                    break;
                case e._drawTextureWithTransform:
                    ;var g;
                    if (o[5]) {
                        r.copyTo(a);
                        a.concat(o[5]);
                        g = a
                    } else {
                        g = r
                    }
                    if (t) {
                        if (o[3] && o[4]) {
                            b._addPointArrToRst(n, Te._getBoundPointS(o[1], o[2], o[3], o[4]), g)
                        } else {
                            l = o[0];
                            b._addPointArrToRst(n, Te._getBoundPointS(o[1], o[2], l.width, l.height), g)
                        }
                    } else {
                        l = o[0];
                        h = (o[3] || l.sourceWidth) / l.width;
                        u = (o[4] || l.sourceHeight) / l.height;
                        c = h * l.sourceWidth;
                        f = u * l.sourceHeight;
                        d = l.offsetX > 0 ? l.offsetX : 0;
                        _ = l.offsetY > 0 ? l.offsetY : 0;
                        d *= h;
                        _ *= u;
                        b._addPointArrToRst(n, Te._getBoundPointS(o[1] - d, o[2] - _, c, f), g)
                    }
                    break;
                case e._drawRect:
                case 13:
                    b._addPointArrToRst(n, Te._getBoundPointS(o[0], o[1], o[2], o[3]), r);
                    break;
                case e._drawCircle:
                case e._fillCircle:
                case 14:
                    b._addPointArrToRst(n, Te._getBoundPointS(o[0] - o[2], o[1] - o[2], o[2] + o[2], o[2] + o[2]), r);
                    break;
                case e._drawLine:
                case 20:
                    b._tempPoints.length = 0;
                    var v = NaN;
                    v = o[5] * .5;
                    if (o[0] == o[2]) {
                        b._tempPoints.push(o[0] + v, o[1], o[2] + v, o[3], o[0] - v, o[1], o[2] - v, o[3])
                    } else if (o[1] == o[3]) {
                        b._tempPoints.push(o[0], o[1] + v, o[2], o[3] + v, o[0], o[1] - v, o[2], o[3] - v)
                    } else {
                        b._tempPoints.push(o[0], o[1], o[2], o[3])
                    }
                    b._addPointArrToRst(n, b._tempPoints, r);
                    break;
                case e._drawCurves:
                case 22:
                    b._addPointArrToRst(n, ye.I.getBezierPoints(o[2]), r, o[0], o[1]);
                    break;
                case e._drawPoly:
                case e._drawLines:
                case 18:
                    b._addPointArrToRst(n, o[2], r, o[0], o[1]);
                    break;
                case e._drawPath:
                case 19:
                    b._addPointArrToRst(n, this._getPathPoints(o[2]), r, o[0], o[1]);
                    break;
                case e._drawPie:
                case 15:
                    b._addPointArrToRst(n, this._getPiePoints(o[0], o[1], o[2], o[3], o[4]), r);
                    break
                }
            }
            if (n.length > 200) {
                n = ai.copyArray(n, Te._getWrapRec(n)._getBoundPoints())
            } else if (n.length > 8)
                n = xe.scanPList(n);
            return n
        }
        ;
        t._switchMatrix = function(t, e) {
            e.concat(t);
            e.copyTo(t)
        }
        ;
        t._getPiePoints = function(t, e, i, n, s) {
            var r = b._tempPoints;
            b._tempPoints.length = 0;
            r.push(t, e);
            var a = (s - n) % (2 * Math.PI);
            var o = 10;
            var l = a / o;
            var h = NaN;
            var u = n;
            for (h = 0; h <= o; h++) {
                r.push(t + i * Math.cos(u), e + i * Math.sin(u));
                u += l
            }
            return r
        }
        ;
        t._getPathPoints = function(t) {
            var e = 0
              , i = 0;
            var n = b._tempPoints;
            n.length = 0;
            i = t.length;
            var s;
            for (e = 0; e < i; e++) {
                s = t[e];
                if (s.length > 1) {
                    n.push(s[1], s[2]);
                    if (s.length > 3) {
                        n.push(s[3], s[4])
                    }
                }
            }
            return n
        }
        ;
        b._addPointArrToRst = function(t, e, i, n, s) {
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            var r = 0
              , a = 0;
            a = e.length;
            for (r = 0; r < a; r += 2) {
                b._addPointToRst(t, e[r] + n, e[r + 1] + s, i)
            }
        }
        ;
        b._addPointToRst = function(t, e, i, n) {
            var s = Se.TEMP;
            s.setTo(e ? e : 0, i ? i : 0);
            n.transformPoint(s);
            t.push(s.x, s.y)
        }
        ;
        b._tempPoints = [];
        b._tempMatrixArrays = [];
        b._tempCmds = [];
        u(b, ["_tempMatrix", function() {
            return this._tempMatrix = new Ce
        }
        , "_initMatrix", function() {
            return this._initMatrix = new Ce
        }
        ]);
        return b
    }();
    var oe = function() {
        function t() {}
        x(t, "laya.events.Keyboard");
        t.NUMBER_0 = 48;
        t.NUMBER_1 = 49;
        t.NUMBER_2 = 50;
        t.NUMBER_3 = 51;
        t.NUMBER_4 = 52;
        t.NUMBER_5 = 53;
        t.NUMBER_6 = 54;
        t.NUMBER_7 = 55;
        t.NUMBER_8 = 56;
        t.NUMBER_9 = 57;
        t.A = 65;
        t.B = 66;
        t.C = 67;
        t.D = 68;
        t.E = 69;
        t.F = 70;
        t.G = 71;
        t.H = 72;
        t.I = 73;
        t.J = 74;
        t.K = 75;
        t.L = 76;
        t.M = 77;
        t.N = 78;
        t.O = 79;
        t.P = 80;
        t.Q = 81;
        t.R = 82;
        t.S = 83;
        t.T = 84;
        t.U = 85;
        t.V = 86;
        t.W = 87;
        t.X = 88;
        t.Y = 89;
        t.Z = 90;
        t.F1 = 112;
        t.F2 = 113;
        t.F3 = 114;
        t.F4 = 115;
        t.F5 = 116;
        t.F6 = 117;
        t.F7 = 118;
        t.F8 = 119;
        t.F9 = 120;
        t.F10 = 121;
        t.F11 = 122;
        t.F12 = 123;
        t.F13 = 124;
        t.F14 = 125;
        t.F15 = 126;
        t.NUMPAD = 21;
        t.NUMPAD_0 = 96;
        t.NUMPAD_1 = 97;
        t.NUMPAD_2 = 98;
        t.NUMPAD_3 = 99;
        t.NUMPAD_4 = 100;
        t.NUMPAD_5 = 101;
        t.NUMPAD_6 = 102;
        t.NUMPAD_7 = 103;
        t.NUMPAD_8 = 104;
        t.NUMPAD_9 = 105;
        t.NUMPAD_ADD = 107;
        t.NUMPAD_DECIMAL = 110;
        t.NUMPAD_DIVIDE = 111;
        t.NUMPAD_ENTER = 108;
        t.NUMPAD_MULTIPLY = 106;
        t.NUMPAD_SUBTRACT = 109;
        t.SEMICOLON = 186;
        t.EQUAL = 187;
        t.COMMA = 188;
        t.MINUS = 189;
        t.PERIOD = 190;
        t.SLASH = 191;
        t.BACKQUOTE = 192;
        t.LEFTBRACKET = 219;
        t.BACKSLASH = 220;
        t.RIGHTBRACKET = 221;
        t.QUOTE = 222;
        t.ALTERNATE = 18;
        t.BACKSPACE = 8;
        t.CAPS_LOCK = 20;
        t.COMMAND = 15;
        t.CONTROL = 17;
        t.DELETE = 46;
        t.ENTER = 13;
        t.ESCAPE = 27;
        t.PAGE_UP = 33;
        t.PAGE_DOWN = 34;
        t.END = 35;
        t.HOME = 36;
        t.LEFT = 37;
        t.UP = 38;
        t.RIGHT = 39;
        t.DOWN = 40;
        t.SHIFT = 16;
        t.SPACE = 32;
        t.TAB = 9;
        t.INSERT = 45;
        return t
    }();
    var le = function() {
        function s() {}
        x(s, "laya.events.KeyBoardManager");
        s.__init__ = function() {
            s._addEvent("keydown");
            s._addEvent("keypress");
            s._addEvent("keyup")
        }
        ;
        s._addEvent = function(e) {
            He.document.addEventListener(e, function(t) {
                laya.events.KeyBoardManager._dispatch(t, e)
            }, true)
        }
        ;
        s._dispatch = function(t, e) {
            if (!s.enabled)
                return;
            s._event._stoped = false;
            s._event.nativeEvent = t;
            s._event.keyCode = t.keyCode || t.which || t.charCode;
            if (e === "keydown")
                s._pressKeys[s._event.keyCode] = true;
            else if (e === "keyup")
                s._pressKeys[s._event.keyCode] = null;
            var i = st.stage.focus && st.stage.focus.event != null && st.stage.focus.displayedInStage ? st.stage.focus : st.stage;
            var n = i;
            while (n) {
                n.event(e, s._event.setTo(e, n, i));
                n = n.parent
            }
        }
        ;
        s.hasKeyDown = function(t) {
            return s._pressKeys[t]
        }
        ;
        s._pressKeys = {};
        s.enabled = true;
        u(s, ["_event", function() {
            return this._event = new y
        }
        ]);
        return s
    }();
    var he = function() {
        function c() {
            this.mouseX = 0;
            this.mouseY = 0;
            this.disableMouseEvent = false;
            this.mouseDownTime = 0;
            this.mouseMoveAccuracy = 2;
            this._stage = null;
            this._target = null;
            this._lastMoveTimer = 0;
            this._isLeftMouse = false;
            this._eventList = [];
            this._touchIDs = {};
            this._id = 1;
            this._tTouchID = 0;
            this._event = new y;
            this._matrix = new Ce;
            this._point = new Se;
            this._rect = new Te;
            this._prePoint = new Se;
            this._curTouchID = NaN
        }
        x(c, "laya.events.MouseManager");
        var t = c.prototype;
        t.__init__ = function(t, e) {
            var i = this;
            this._stage = t;
            var n = this;
            var s = this._eventList;
            e.oncontextmenu = function(t) {
                if (c.enabled)
                    return false
            }
            ;
            e.addEventListener("mousedown", function(t) {
                if (c.enabled) {
                    if (!He.onIE)
                        t.preventDefault();
                    s.push(t);
                    n.mouseDownTime = He.now()
                }
            });
            e.addEventListener("mouseup", function(t) {
                if (c.enabled) {
                    t.preventDefault();
                    s.push(t);
                    n.mouseDownTime = -He.now()
                }
            }, true);
            e.addEventListener("mousemove", function(t) {
                if (c.enabled) {
                    t.preventDefault();
                    var e = He.now();
                    if (e - n._lastMoveTimer < 10)
                        return;
                    n._lastMoveTimer = e;
                    s.push(t)
                }
            }, true);
            e.addEventListener("mouseout", function(t) {
                if (c.enabled)
                    s.push(t)
            });
            e.addEventListener("mouseover", function(t) {
                if (c.enabled)
                    s.push(t)
            });
            e.addEventListener("touchstart", function(t) {
                if (c.enabled) {
                    s.push(t);
                    if (!c._isFirstTouch && !$s.isInputting)
                        t.preventDefault();
                    n.mouseDownTime = He.now()
                }
            });
            e.addEventListener("touchend", function(t) {
                if (c.enabled) {
                    if (!c._isFirstTouch && !$s.isInputting)
                        t.preventDefault();
                    c._isFirstTouch = false;
                    s.push(t);
                    n.mouseDownTime = -He.now()
                } else {
                    i._curTouchID = NaN
                }
            }, true);
            e.addEventListener("touchmove", function(t) {
                if (c.enabled) {
                    t.preventDefault();
                    s.push(t)
                }
            }, true);
            e.addEventListener("touchcancel", function(t) {
                if (c.enabled) {
                    t.preventDefault();
                    s.push(t)
                } else {
                    i._curTouchID = NaN
                }
            }, true);
            e.addEventListener("mousewheel", function(t) {
                if (c.enabled)
                    s.push(t)
            });
            e.addEventListener("DOMMouseScroll", function(t) {
                if (c.enabled)
                    s.push(t)
            })
        }
        ;
        t.initEvent = function(t, e) {
            var i = this;
            i._event._stoped = false;
            i._event.nativeEvent = e || t;
            i._target = null;
            this._point.setTo(t.pageX || t.clientX, t.pageY || t.clientY);
            this._stage._canvasTransform.invertTransformPoint(this._point);
            i.mouseX = this._point.x;
            i.mouseY = this._point.y;
            i._event.touchId = t.identifier || 0;
            this._tTouchID = i._event.touchId;
            var n;
            n = ue.I._event;
            n._stoped = false;
            n.nativeEvent = i._event.nativeEvent;
            n.touchId = i._event.touchId
        }
        ;
        t.checkMouseWheel = function(t) {
            this._event.delta = t.wheelDelta ? t.wheelDelta * .025 : -t.detail;
            var e = ue.I.getLastOvers();
            for (var i = 0, n = e.length; i < n; i++) {
                var s = e[i];
                s.event("mousewheel", this._event.setTo("mousewheel", s, this._target))
            }
        }
        ;
        t.onMouseMove = function(t) {
            ue.I.onMouseMove(t, this._tTouchID)
        }
        ;
        t.onMouseDown = function(t) {
            if ($s.isInputting && st.stage.focus && st.stage.focus["focus"] && !st.stage.focus.contains(this._target)) {
                var e = st.stage.focus["_tf"] || st.stage.focus;
                var i = t["_tf"] || t;
                if (i instanceof laya.display.Input && i.multiline == e.multiline)
                    e["_focusOut"]();
                else
                    e.focus = false
            }
            ue.I.onMouseDown(t, this._tTouchID, this._isLeftMouse)
        }
        ;
        t.onMouseUp = function(t) {
            ue.I.onMouseUp(t, this._tTouchID, this._isLeftMouse)
        }
        ;
        t.check = function(t, e, i, n) {
            this._point.setTo(e, i);
            t.fromParentPoint(this._point);
            e = this._point.x;
            i = this._point.y;
            var s = t.scrollRect;
            if (s) {
                this._rect.setTo(s.x, s.y, s.width, s.height);
                if (!this._rect.contains(e, i))
                    return false
            }
            if (!this.disableMouseEvent) {
                if (t.hitTestPrior && !t.mouseThrough && !this.hitTest(t, e, i)) {
                    return false
                }
                for (var r = t._childs.length - 1; r > -1; r--) {
                    var a = t._childs[r];
                    if (!a.destroyed && a.mouseEnabled && a.visible) {
                        if (this.check(a, e, i, n))
                            return true
                    }
                }
            }
            var o = t.hitTestPrior && !t.mouseThrough && !this.disableMouseEvent ? true : this.hitTest(t, e, i);
            if (o) {
                this._target = t;
                n.call(this, t)
            } else if (n === this.onMouseUp && t === this._stage) {
                this._target = this._stage;
                n.call(this, this._target)
            }
            return o
        }
        ;
        t.hitTest = function(t, e, i) {
            var n = false;
            if (t.scrollRect) {
                e -= t.scrollRect.x;
                i -= t.scrollRect.y
            }
            if (t.hitArea instanceof laya.utils.HitArea) {
                return t.hitArea.isHit(e, i)
            }
            if (t.width > 0 && t.height > 0 || t.mouseThrough || t.hitArea) {
                if (!t.mouseThrough) {
                    var s = this._rect;
                    if (t.hitArea)
                        s = t.hitArea;
                    else
                        s.setTo(0, 0, t.width, t.height);
                    n = s.contains(e, i)
                } else {
                    n = t.getGraphicBounds().contains(e, i)
                }
            }
            return n
        }
        ;
        t.runEvent = function() {
            var t = this._eventList.length;
            if (!t)
                return;
            var e = this;
            var i = 0, n = 0, s = 0, r;
            while (i < t) {
                var a = this._eventList[i];
                if (a.type !== "mousemove")
                    this._prePoint.x = this._prePoint.y = -1e6;
                switch (a.type) {
                case "mousedown":
                    this._touchIDs[0] = this._id++;
                    if (!c._isTouchRespond) {
                        e._isLeftMouse = a.button === 0;
                        e.initEvent(a);
                        e.check(e._stage, e.mouseX, e.mouseY, e.onMouseDown)
                    } else
                        c._isTouchRespond = false;
                    break;
                case "mouseup":
                    e._isLeftMouse = a.button === 0;
                    e.initEvent(a);
                    e.check(e._stage, e.mouseX, e.mouseY, e.onMouseUp);
                    break;
                case "mousemove":
                    if (Math.abs(this._prePoint.x - a.clientX) + Math.abs(this._prePoint.y - a.clientY) >= this.mouseMoveAccuracy) {
                        this._prePoint.x = a.clientX;
                        this._prePoint.y = a.clientY;
                        e.initEvent(a);
                        e.check(e._stage, e.mouseX, e.mouseY, e.onMouseMove)
                    }
                    break;
                case "touchstart":
                    c._isTouchRespond = true;
                    e._isLeftMouse = true;
                    var o = a.changedTouches;
                    for (n = 0,
                    s = o.length; n < s; n++) {
                        r = o[n];
                        if (c.multiTouchEnabled || isNaN(this._curTouchID)) {
                            this._curTouchID = r.identifier;
                            if (this._id % 200 === 0)
                                this._touchIDs = {};
                            this._touchIDs[r.identifier] = this._id++;
                            e.initEvent(r, a);
                            e.check(e._stage, e.mouseX, e.mouseY, e.onMouseDown)
                        }
                    }
                    break;
                case "touchend":
                case "touchcancel":
                    c._isTouchRespond = true;
                    e._isLeftMouse = true;
                    var l = a.changedTouches;
                    for (n = 0,
                    s = l.length; n < s; n++) {
                        r = l[n];
                        if (c.multiTouchEnabled || r.identifier == this._curTouchID) {
                            this._curTouchID = NaN;
                            e.initEvent(r, a);
                            var h = false;
                            h = e.check(e._stage, e.mouseX, e.mouseY, e.onMouseUp);
                            if (!h) {
                                e.onMouseUp(null)
                            }
                        }
                    }
                    break;
                case "touchmove":
                    ;var u = a.changedTouches;
                    for (n = 0,
                    s = u.length; n < s; n++) {
                        r = u[n];
                        if (c.multiTouchEnabled || r.identifier == this._curTouchID) {
                            e.initEvent(r, a);
                            e.check(e._stage, e.mouseX, e.mouseY, e.onMouseMove)
                        }
                    }
                    break;
                case "wheel":
                case "mousewheel":
                case "DOMMouseScroll":
                    e.checkMouseWheel(a);
                    break;
                case "mouseout":
                    ue.I.stageMouseOut();
                    break;
                case "mouseover":
                    e._stage.event("mouseover", e._event.setTo("mouseover", e._stage, e._stage));
                    break
                }
                i++
            }
            this._eventList.length = 0
        }
        ;
        c.enabled = true;
        c.multiTouchEnabled = true;
        c._isTouchRespond = false;
        c._isFirstTouch = true;
        u(c, ["instance", function() {
            return this.instance = new c
        }
        ]);
        return c
    }();
    var ue = function() {
        function p() {
            this.preOvers = [];
            this.preDowns = [];
            this.preRightDowns = [];
            this.enable = true;
            this._lastClickTime = 0;
            this._event = new y
        }
        x(p, "laya.events.TouchManager");
        var t = p.prototype;
        t._clearTempArrs = function() {
            p._oldArr.length = 0;
            p._newArr.length = 0;
            p._tEleArr.length = 0
        }
        ;
        t.getTouchFromArr = function(t, e) {
            var i = 0
              , n = 0;
            n = e.length;
            var s;
            for (i = 0; i < n; i++) {
                s = e[i];
                if (s.id == t) {
                    return s
                }
            }
            return null
        }
        ;
        t.removeTouchFromArr = function(t, e) {
            var i = 0;
            for (i = e.length - 1; i >= 0; i--) {
                if (e[i].id == t) {
                    e.splice(i, 1)
                }
            }
        }
        ;
        t.createTouchO = function(t, e) {
            var i;
            i = ei.getItem("TouchData") || {};
            i.id = e;
            i.tar = t;
            return i
        }
        ;
        t.onMouseDown = function(t, e, i) {
            i === void 0 && (i = false);
            if (!this.enable)
                return;
            var n;
            var s;
            var r;
            n = this.getTouchFromArr(e, this.preOvers);
            r = this.getEles(t, null, p._tEleArr);
            if (!n) {
                s = this.createTouchO(t, e);
                this.preOvers.push(s)
            } else {
                n.tar = t
            }
            if (He.onMobile)
                this.sendEvents(r, "mouseover");
            var a;
            a = i ? this.preDowns : this.preRightDowns;
            n = this.getTouchFromArr(e, a);
            if (!n) {
                s = this.createTouchO(t, e);
                a.push(s)
            } else {
                n.tar = t
            }
            this.sendEvents(r, i ? "mousedown" : "rightmousedown");
            this._clearTempArrs()
        }
        ;
        t.sendEvents = function(t, e) {
            var i = 0
              , n = 0;
            n = t.length;
            this._event._stoped = false;
            var s;
            s = t[0];
            var r;
            for (i = 0; i < n; i++) {
                r = t[i];
                if (r.destroyed)
                    return;
                r.event(e, this._event.setTo(e, r, s));
                if (this._event._stoped)
                    break
            }
        }
        ;
        t.getEles = function(t, e, i) {
            if (!i) {
                i = []
            } else {
                i.length = 0
            }
            while (t && t != e) {
                i.push(t);
                t = t.parent
            }
            return i
        }
        ;
        t.checkMouseOutAndOverOfMove = function(t, e, i) {
            i === void 0 && (i = 0);
            if (e == t)
                return;
            var n;
            var s;
            var r = 0
              , a = 0;
            if (e.contains(t)) {
                s = this.getEles(t, e, p._tEleArr);
                this.sendEvents(s, "mouseover")
            } else if (t.contains(e)) {
                s = this.getEles(e, t, p._tEleArr);
                this.sendEvents(s, "mouseout")
            } else {
                s = p._tEleArr;
                s.length = 0;
                var o;
                o = this.getEles(e, null, p._oldArr);
                var l;
                l = this.getEles(t, null, p._newArr);
                a = o.length;
                var h = 0;
                for (r = 0; r < a; r++) {
                    n = o[r];
                    h = l.indexOf(n);
                    if (h >= 0) {
                        l.splice(h, l.length - h);
                        break
                    } else {
                        s.push(n)
                    }
                }
                if (s.length > 0) {
                    this.sendEvents(s, "mouseout")
                }
                if (l.length > 0) {
                    this.sendEvents(l, "mouseover")
                }
            }
        }
        ;
        t.onMouseMove = function(t, e) {
            if (!this.enable)
                return;
            var i;
            i = this.getTouchFromArr(e, this.preOvers);
            var n;
            var s;
            if (!i) {
                n = this.getEles(t, null, p._tEleArr);
                this.sendEvents(n, "mouseover");
                this.preOvers.push(this.createTouchO(t, e))
            } else {
                this.checkMouseOutAndOverOfMove(t, i.tar);
                i.tar = t;
                n = this.getEles(t, null, p._tEleArr)
            }
            this.sendEvents(n, "mousemove");
            this._clearTempArrs()
        }
        ;
        t.getLastOvers = function() {
            p._tEleArr.length = 0;
            if (this.preOvers.length > 0 && this.preOvers[0].tar) {
                return this.getEles(this.preOvers[0].tar, null, p._tEleArr)
            }
            p._tEleArr.push(st.stage);
            return p._tEleArr
        }
        ;
        t.stageMouseOut = function() {
            var t;
            t = this.getLastOvers();
            this.preOvers.length = 0;
            this.sendEvents(t, "mouseout")
        }
        ;
        t.onMouseUp = function(t, e, i) {
            i === void 0 && (i = false);
            if (!this.enable)
                return;
            var n;
            var s;
            var r;
            var a;
            var o = 0
              , l = 0;
            var h;
            var u;
            var c = He.onMobile;
            r = this.getEles(t, null, p._tEleArr);
            this.sendEvents(r, i ? "mouseup" : "rightmouseup");
            var f;
            f = i ? this.preDowns : this.preRightDowns;
            n = this.getTouchFromArr(e, f);
            if (!n) {} else {
                var d = false;
                var _ = He.now();
                d = _ - this._lastClickTime < 300;
                this._lastClickTime = _;
                if (t == n.tar) {
                    u = r
                } else {
                    a = this.getEles(n.tar, null, p._oldArr);
                    u = p._newArr;
                    u.length = 0;
                    l = a.length;
                    for (o = 0; o < l; o++) {
                        h = a[o];
                        if (r.indexOf(h) >= 0) {
                            u.push(h)
                        }
                    }
                }
                if (u.length > 0) {
                    this.sendEvents(u, i ? "click" : "rightclick")
                }
                if (i && d) {
                    this.sendEvents(u, "doubleclick")
                }
                this.removeTouchFromArr(e, f);
                n.tar = null;
                ei.recover("TouchData", n)
            }
            n = this.getTouchFromArr(e, this.preOvers);
            if (!n) {} else {
                if (c) {
                    u = this.getEles(n.tar, null, u);
                    if (u && u.length > 0) {
                        this.sendEvents(u, "mouseout")
                    }
                    this.removeTouchFromArr(e, this.preOvers);
                    n.tar = null;
                    ei.recover("TouchData", n)
                }
            }
            this._clearTempArrs()
        }
        ;
        p._oldArr = [];
        p._newArr = [];
        p._tEleArr = [];
        u(p, ["I", function() {
            return this.I = new p
        }
        ]);
        return p
    }();
    var ce = function() {
        function t() {
            this._action = null
        }
        x(t, "laya.filters.Filter");
        var e = t.prototype;
        st.imps(e, {
            "laya.filters.IFilter": true
        });
        e.callNative = function(t) {}
        ;
        p(0, e, "type", function() {
            return -1
        });
        p(0, e, "action", function() {
            return this._action
        });
        t.BLUR = 16;
        t.COLOR = 32;
        t.GLOW = 8;
        t._filterStart = null;
        t._filterEnd = null;
        t._EndTarget = null;
        t._recycleScope = null;
        t._filter = null;
        t._useSrc = null;
        t._endSrc = null;
        t._useOut = null;
        t._endOut = null;
        return t
    }();
    var fe = function() {
        function t() {
            this.data = null
        }
        x(t, "laya.filters.ColorFilterAction");
        var e = t.prototype;
        st.imps(e, {
            "laya.filters.IFilterAction": true
        });
        e.apply = function(t) {
            var e = t.ctx.ctx;
            var i = t.ctx.ctx.canvas;
            if (i.width == 0 || i.height == 0)
                return i;
            var n = null;
            try {
                n = e.getImageData(0, 0, i.width, i.height)
            } catch (t) {}
            if (n == null)
                return;
            var s = n.data;
            var r;
            for (var a = 0, o = s.length; a < o; a += 4) {
                r = this.getColor(s[a], s[a + 1], s[a + 2], s[a + 3]);
                if (s[a + 3] == 0)
                    continue;
                s[a] = r[0];
                s[a + 1] = r[1];
                s[a + 2] = r[2];
                s[a + 3] = r[3]
            }
            e.putImageData(n, 0, 0);
            return t
        }
        ;
        e.getColor = function(t, e, i, n) {
            var s = [];
            if (this.data._mat && this.data._alpha) {
                var r = this.data._mat;
                var a = this.data._alpha;
                s[0] = r[0] * t + r[1] * e + r[2] * i + r[3] * n + a[0];
                s[1] = r[4] * t + r[5] * e + r[6] * i + r[7] * n + a[1];
                s[2] = r[8] * t + r[9] * e + r[10] * i + r[11] * n + a[2];
                s[3] = r[12] * t + r[13] * e + r[14] * i + r[15] * n + a[3]
            }
            return s
        }
        ;
        return t
    }();
    var de = function() {
        function t() {
            this.data = null
        }
        x(t, "laya.filters.FilterAction");
        var e = t.prototype;
        st.imps(e, {
            "laya.filters.IFilterAction": true
        });
        e.apply = function(t) {
            return null
        }
        ;
        return t
    }();
    var _e = function() {
        function t() {}
        x(t, "laya.filters.webgl.FilterActionGL");
        var e = t.prototype;
        st.imps(e, {
            "laya.filters.IFilterActionGL": true
        });
        e.setValue = function(t) {}
        ;
        e.setValueMix = function(t) {}
        ;
        e.apply3d = function(t, e, i, n, s) {
            return null
        }
        ;
        e.apply = function(t) {
            return null
        }
        ;
        p(0, e, "typeMix", function() {
            return 0
        });
        return t
    }();
    var pe = function() {
        function t() {}
        x(t, "laya.filters.WebGLFilter");
        t.enable = function() {
            if (t.isInit)
                return;
            t.isInit = true;
            if (!Be.isWebGL)
                return;
            G.createFilterAction = function(t) {
                var e;
                switch (t) {
                case 32:
                    e = new In;
                    break;
                case 16:
                    e = new Rn;
                    break;
                case 8:
                    e = new An;
                    break
                }
                return e
            }
        }
        ;
        t.isInit = false;
        t.__init$ = function() {
            Rn;
            In;
            An;
            Be;
            G;
            {
                G.createFilterAction = function(t) {
                    var e;
                    switch (t) {
                    case 16:
                        e = new de;
                        break;
                    case 8:
                        e = new de;
                        break;
                    case 32:
                        e = new fe;
                        break
                    }
                    return e
                }
            }
        }
        ;
        return t
    }();
    var me = function() {
        function d() {}
        x(d, "laya.html.utils.HTMLParse");
        d.parse = function(t, e, i) {
            e = e.replace(/<br>/g, "<br/>");
            e = "<root>" + e + "</root>";
            e = e.replace(d.spacePattern, d.char255);
            var n = ai.parseXMLFromString(e);
            d._parseXML(t, n.childNodes[0].childNodes, i)
        }
        ;
        d._parseXML = function(t, e, i, n) {
            var s = 0
              , r = 0;
            if (e.join || e.item) {
                for (s = 0,
                r = e.length; s < r; ++s) {
                    d._parseXML(t, e[s], i, n)
                }
            } else {
                var a;
                var o;
                if (e.nodeType == 3) {
                    var l;
                    if (t instanceof laya.html.dom.HTMLDivElement) {
                        if (e.nodeName == null) {
                            e.nodeName = "#text"
                        }
                        o = e.nodeName.toLowerCase();
                        l = e.textContent.replace(/^\s+|\s+$/g, "");
                        if (l.length > 0) {
                            a = Je.getInstance(o);
                            if (a) {
                                t.addChild(a);
                                a.innerTEXT = l.replace(d.char255AndOneSpacePattern, " ")
                            }
                        }
                    } else {
                        l = e.textContent.replace(/^\s+|\s+$/g, "");
                        if (l.length > 0) {
                            t.innerTEXT = l.replace(d.char255AndOneSpacePattern, " ")
                        }
                    }
                    return
                } else {
                    o = e.nodeName.toLowerCase();
                    if (o == "#comment")
                        return;
                    a = Je.getInstance(o);
                    if (a) {
                        a = t.addChild(a);
                        a.URI = i;
                        a.href = n;
                        var h = e.attributes;
                        if (h && h.length > 0) {
                            for (s = 0,
                            r = h.length; s < r; ++s) {
                                var u = h[s];
                                var c = u.nodeName;
                                var f = u.value;
                                a._setAttributes(c, f)
                            }
                        }
                        d._parseXML(a, e.childNodes, i, a.href)
                    } else {
                        d._parseXML(t, e.childNodes, i, n)
                    }
                }
            }
        }
        ;
        d.char255 = String.fromCharCode(255);
        d.spacePattern = /&nbsp;|&#160;/g;
        d.char255AndOneSpacePattern = new RegExp(String.fromCharCode(255) + "|(\\s+)","g");
        return d
    }();
    var ge = function() {
        function B() {}
        x(B, "laya.html.utils.Layout");
        B.later = function(t) {
            if (B._will == null) {
                B._will = [];
                st.stage.frameLoop(1, null, function() {
                    if (B._will.length < 1)
                        return;
                    for (var t = 0; t < B._will.length; t++) {
                        laya.html.utils.Layout.layout(B._will[t])
                    }
                    B._will.length = 0
                })
            }
            B._will.push(t)
        }
        ;
        B.layout = function(t) {
            if (!t || !t._style)
                return null;
            if ((t._style._type & 512) === 0)
                return null;
            t.getStyle()._type &= ~512;
            var e = B._multiLineLayout(t);
            if (Be.isConchApp && t["layaoutCallNative"]) {
                t.layaoutCallNative()
            }
            return e
        }
        ;
        B._multiLineLayout = function(t) {
            if (hs.RightToLeft)
                return B._multiLineLayout2(t);
            var e = new Array;
            t._addChildsToLayout(e);
            var i = 0
              , n = e.length
              , s = 0;
            var r = t._getCSSStyle();
            var a = r.letterSpacing;
            var o = r.leading;
            var l = r.lineHeight;
            var h = r._widthAuto() || !r.wordWrap;
            var u = h ? 999999 : t.width;
            var c = t.height;
            var f = 0;
            var d = r.italic ? r.fontSize / 3 : 0;
            var _ = r._getAlign();
            var p = r._getValign();
            var m = p !== 0 || _ !== 0 || l != 0;
            var g;
            var v = 0;
            var b = 0;
            var y = 0;
            var x = 0;
            var w = 0;
            var C = new Array;
            var S;
            var T;
            var R = C[0] = new ve;
            var I = false
              , A = false;
            var G;
            var M;
            R.h = 0;
            if (r.italic)
                u -= r.fontSize / 3;
            var L = 0;
            var W = true;
            function E() {
                R.y = b;
                b += R.h + o;
                if (R.h == 0)
                    b += l;
                R.mWidth = L;
                L = 0;
                R = new ve;
                C.push(R);
                R.h = 0;
                v = 0;
                W = true;
                I = false
            }
            for (i = 0; i < n; i++) {
                g = e[i];
                if (g == null) {
                    if (!W) {
                        v += B.DIV_ELEMENT_PADDING
                    }
                    continue
                }
                W = false;
                if (g instanceof laya.html.dom.HTMLBrElement) {
                    E();
                    R.y = b;
                    continue
                } else if (g._isChar()) {
                    G = g;
                    if (!G.isWord) {
                        if (C.length > 0 && v + G.width > u && R.wordStartIndex > 0) {
                            var N = 0;
                            N = R.elements.length - R.wordStartIndex;
                            R.elements.length = R.wordStartIndex + 1;
                            i -= N;
                            E();
                            continue
                        }
                        I = false;
                        L += G.width
                    } else {
                        I = A || G.char === "\n";
                        R.wordStartIndex = R.elements.length
                    }
                    y = G.width + a;
                    x = G.height;
                    A = false;
                    I = I || v + y > u;
                    I && E();
                    R.minTextHeight = Math.min(R.minTextHeight, g.height)
                } else {
                    S = g._getCSSStyle();
                    M = g;
                    T = S.padding;
                    S._getCssFloat() === 0 || (m = true);
                    I = A || S.lineElement;
                    y = M.width * M._style._tf.scaleX + T[1] + T[3] + a;
                    x = M.height * M._style._tf.scaleY + T[0] + T[2];
                    A = S.lineElement;
                    I = I || v + y > u && S.wordWrap;
                    I && E()
                }
                R.elements.push(g);
                R.h = Math.max(R.h, x);
                g.x = v;
                g.y = b;
                v += y;
                R.w = v - a;
                R.y = b;
                f = Math.max(v + d, f)
            }
            b = R.y + R.h;
            if (m) {
                var V = 0;
                var Z = u;
                if (h && t.width > 0) {
                    Z = t.width
                }
                for (i = 0,
                n = C.length; i < n; i++) {
                    C[i].updatePos(0, Z, i, V, _, p, l);
                    V += Math.max(l, C[i].h + o)
                }
                b = V
            }
            h && (t.width = f);
            b > t.height && (t.height = b);
            return [f, b]
        }
        ;
        B._multiLineLayout2 = function(t) {
            var e = new Array;
            t._addChildsToLayout(e);
            var i = 0
              , n = e.length
              , s = 0;
            var r = t._getCSSStyle();
            var a = r.letterSpacing;
            var o = r.leading;
            var l = r.lineHeight;
            var h = r._widthAuto() || !r.wordWrap;
            var u = h ? 999999 : t.width;
            var c = t.height;
            var f = 0;
            var d = r.italic ? r.fontSize / 3 : 0;
            var _ = 2 - r._getAlign();
            var p = r._getValign();
            var m = p !== 0 || _ !== 0 || l != 0;
            var g;
            var v = 0;
            var b = 0;
            var y = 0;
            var x = 0;
            var w = 0;
            var C = new Array;
            var S;
            var T;
            var R = C[0] = new ve;
            var I = false
              , A = false;
            var G;
            var M;
            R.h = 0;
            if (r.italic)
                u -= r.fontSize / 3;
            var L = 0;
            var W = true;
            function E() {
                R.y = b;
                b += R.h + o;
                if (R.h == 0)
                    b += l;
                R.mWidth = L;
                L = 0;
                R = new ve;
                C.push(R);
                R.h = 0;
                v = 0;
                W = true;
                I = false
            }
            for (i = 0; i < n; i++) {
                g = e[i];
                if (g == null) {
                    if (!W) {
                        v += B.DIV_ELEMENT_PADDING
                    }
                    R.wordStartIndex = R.elements.length;
                    continue
                }
                W = false;
                if (g instanceof laya.html.dom.HTMLBrElement) {
                    E();
                    R.y = b;
                    continue
                } else if (g._isChar()) {
                    G = g;
                    if (!G.isWord) {
                        if (C.length > 0 && v + y > u && R.wordStartIndex > 0) {
                            var N = 0;
                            N = R.elements.length - R.wordStartIndex + 1;
                            R.elements.length = R.wordStartIndex;
                            i -= N;
                            E();
                            continue
                        }
                        I = false;
                        L += G.width
                    } else {
                        I = A || G.char === "\n";
                        R.wordStartIndex = R.elements.length
                    }
                    y = G.width + a;
                    x = G.height;
                    A = false;
                    I = I || v + y > u;
                    I && E();
                    R.minTextHeight = Math.min(R.minTextHeight, g.height)
                } else {
                    S = g._getCSSStyle();
                    M = g;
                    T = S.padding;
                    S._getCssFloat() === 0 || (m = true);
                    I = A || S.lineElement;
                    y = M.width * M._style._tf.scaleX + T[1] + T[3] + a;
                    x = M.height * M._style._tf.scaleY + T[0] + T[2];
                    A = S.lineElement;
                    I = I || v + y > u && S.wordWrap;
                    I && E()
                }
                R.elements.push(g);
                R.h = Math.max(R.h, x);
                g.x = v;
                g.y = b;
                v += y;
                R.w = v - a;
                R.y = b;
                f = Math.max(v + d, f)
            }
            b = R.y + R.h;
            if (m) {
                var V = 0;
                var Z = u;
                for (i = 0,
                n = C.length; i < n; i++) {
                    C[i].updatePos(0, Z, i, V, _, p, l);
                    V += Math.max(l, C[i].h + o)
                }
                b = V
            }
            h && (t.width = f);
            b > t.height && (t.height = b);
            for (i = 0,
            n = C.length; i < n; i++) {
                C[i].revertOrder(u)
            }
            return [f, b]
        }
        ;
        B._will = null;
        B.DIV_ELEMENT_PADDING = 0;
        return B
    }();
    var ve = function() {
        function t() {
            this.x = 0;
            this.y = 0;
            this.w = 0;
            this.h = 0;
            this.wordStartIndex = 0;
            this.minTextHeight = 99999;
            this.mWidth = 0;
            this.elements = new Array
        }
        x(t, "laya.html.utils.LayoutLine");
        var e = t.prototype;
        e.updatePos = function(t, e, i, n, s, r, a) {
            var o = 0;
            var l;
            if (this.elements.length > 0) {
                l = this.elements[this.elements.length - 1];
                o = l.x + l.width - this.elements[0].x
            }
            var h = 0
              , u = NaN;
            s === 1 && (h = (e - o) / 2);
            s === 2 && (h = e - o);
            a === 0 || r != 0 || (r = 1);
            for (var c = 0, f = this.elements.length; c < f; c++) {
                l = this.elements[c];
                var d = l._getCSSStyle();
                h !== 0 && (l.x += h);
                switch (d._getValign()) {
                case 0:
                    l.y = n;
                    break;
                case 1:
                    ;var _ = 0;
                    if (this.minTextHeight != 99999) {
                        _ = this.minTextHeight
                    }
                    ;var p = (_ + a) / 2;
                    p = Math.max(p, this.h);
                    if (l instanceof laya.html.dom.HTMLImageElement) {
                        u = n + p - l.height
                    } else {
                        u = n + p - l.height
                    }
                    l.y = u;
                    break;
                case 2:
                    l.y = n + (a - l.height);
                    break
                }
            }
        }
        ;
        e.revertOrder = function(t) {
            var e;
            if (this.elements.length > 0) {
                var i = 0
                  , n = 0;
                n = this.elements.length;
                for (i = 0; i < n; i++) {
                    e = this.elements[i];
                    e.x = t - e.x - e.width
                }
            }
        }
        ;
        return t
    }();
    var be = function() {
        function t() {}
        x(t, "laya.maths.Arith");
        t.formatR = function(t) {
            if (t > Math.PI)
                t -= Math.PI * 2;
            if (t < -Math.PI)
                t += Math.PI * 2;
            return t
        }
        ;
        t.isPOT = function(t, e) {
            return t > 0 && (t & t - 1) === 0 && e > 0 && (e & e - 1) === 0
        }
        ;
        t.setMatToArray = function(t, e) {
            t.a,
            t.b,
            0,
            0,
            t.c,
            t.d,
            0,
            0,
            0,
            0,
            1,
            0,
            t.tx + 20,
            t.ty + 20,
            0,
            1;
            e[0] = t.a;
            e[1] = t.b;
            e[4] = t.c;
            e[5] = t.d;
            e[12] = t.tx;
            e[13] = t.ty
        }
        ;
        return t
    }();
    var ye = function() {
        function t() {
            this._controlPoints = [new Se, new Se, new Se];
            this._calFun = this.getPoint2
        }
        x(t, "laya.maths.Bezier");
        var e = t.prototype;
        e._switchPoint = function(t, e) {
            var i = this._controlPoints.shift();
            i.setTo(t, e);
            this._controlPoints.push(i)
        }
        ;
        e.getPoint2 = function(t, e) {
            var i = this._controlPoints[0];
            var n = this._controlPoints[1];
            var s = this._controlPoints[2];
            var r = Math.pow(1 - t, 2) * i.x + 2 * t * (1 - t) * n.x + Math.pow(t, 2) * s.x;
            var a = Math.pow(1 - t, 2) * i.y + 2 * t * (1 - t) * n.y + Math.pow(t, 2) * s.y;
            e.push(r, a)
        }
        ;
        e.getPoint3 = function(t, e) {
            var i = this._controlPoints[0];
            var n = this._controlPoints[1];
            var s = this._controlPoints[2];
            var r = this._controlPoints[3];
            var a = Math.pow(1 - t, 3) * i.x + 3 * n.x * t * (1 - t) * (1 - t) + 3 * s.x * t * t * (1 - t) + r.x * Math.pow(t, 3);
            var o = Math.pow(1 - t, 3) * i.y + 3 * n.y * t * (1 - t) * (1 - t) + 3 * s.y * t * t * (1 - t) + r.y * Math.pow(t, 3);
            e.push(a, o)
        }
        ;
        e.insertPoints = function(t, e) {
            var i = NaN;
            t = t > 0 ? t : 5;
            var n = NaN;
            n = 1 / t;
            for (i = 0; i <= 1; i += n) {
                this._calFun(i, e)
            }
        }
        ;
        e.getBezierPoints = function(t, e, i) {
            e === void 0 && (e = 5);
            i === void 0 && (i = 2);
            var n = 0
              , s = 0;
            s = t.length;
            if (s < (i + 1) * 2)
                return [];
            var r;
            r = [];
            switch (i) {
            case 2:
                this._calFun = this.getPoint2;
                break;
            case 3:
                this._calFun = this.getPoint3;
                break;
            default:
                return []
            }
            while (this._controlPoints.length <= i) {
                this._controlPoints.push(new Se)
            }
            for (n = 0; n < i * 2; n += 2) {
                this._switchPoint(t[n], t[n + 1])
            }
            for (n = i * 2; n < s; n += 2) {
                this._switchPoint(t[n], t[n + 1]);
                if (n / 2 % i == 0)
                    this.insertPoints(e, r)
            }
            return r
        }
        ;
        u(t, ["I", function() {
            return this.I = new t
        }
        ]);
        return t
    }();
    var xe = function() {
        function u() {}
        x(u, "laya.maths.GrahamScan");
        u.multiply = function(t, e, i) {
            return (t.x - i.x) * (e.y - i.y) - (e.x - i.x) * (t.y - i.y)
        }
        ;
        u.dis = function(t, e) {
            return (t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y)
        }
        ;
        u._getPoints = function(t, e, i) {
            e === void 0 && (e = false);
            if (!u._mPointList)
                u._mPointList = [];
            while (u._mPointList.length < t)
                u._mPointList.push(new Se);
            if (!i)
                i = [];
            i.length = 0;
            if (e) {
                u.getFrom(i, u._mPointList, t)
            } else {
                u.getFromR(i, u._mPointList, t)
            }
            return i
        }
        ;
        u.getFrom = function(t, e, i) {
            var n = 0;
            for (n = 0; n < i; n++) {
                t.push(e[n])
            }
            return t
        }
        ;
        u.getFromR = function(t, e, i) {
            var n = 0;
            for (n = 0; n < i; n++) {
                t.push(e.pop())
            }
            return t
        }
        ;
        u.pListToPointList = function(t, e) {
            e === void 0 && (e = false);
            var i = 0
              , n = t.length / 2
              , s = u._getPoints(n, e, u._tempPointList);
            for (i = 0; i < n; i++) {
                s[i].setTo(t[i + i], t[i + i + 1])
            }
            return s
        }
        ;
        u.pointListToPlist = function(t) {
            var e = 0, i = t.length, n = u._temPList, s;
            n.length = 0;
            for (e = 0; e < i; e++) {
                s = t[e];
                n.push(s.x, s.y)
            }
            return n
        }
        ;
        u.scanPList = function(t) {
            return ai.copyArray(t, u.pointListToPlist(u.scan(u.pListToPointList(t, true))))
        }
        ;
        u.scan = function(t) {
            var e = 0, i = 0, n = 0, s = 2, r, a = t.length, o;
            var l = {};
            var h;
            o = u._temArr;
            o.length = 0;
            a = t.length;
            for (e = a - 1; e >= 0; e--) {
                r = t[e];
                h = r.x + "_" + r.y;
                if (!l.hasOwnProperty(h)) {
                    l[h] = true;
                    o.push(r)
                }
            }
            a = o.length;
            ai.copyArray(t, o);
            for (e = 1; e < a; e++)
                if (t[e].y < t[n].y || t[e].y == t[n].y && t[e].x < t[n].x)
                    n = e;
            r = t[0];
            t[0] = t[n];
            t[n] = r;
            for (e = 1; e < a - 1; e++) {
                n = e;
                for (i = e + 1; i < a; i++)
                    if (u.multiply(t[i], t[n], t[0]) > 0 || u.multiply(t[i], t[n], t[0]) == 0 && u.dis(t[0], t[i]) < u.dis(t[0], t[n]))
                        n = i;
                r = t[e];
                t[e] = t[n];
                t[n] = r
            }
            o = u._temArr;
            o.length = 0;
            if (t.length < 3) {
                return ai.copyArray(o, t)
            }
            o.push(t[0], t[1], t[2]);
            for (e = 3; e < a; e++) {
                while (o.length >= 2 && u.multiply(t[e], o[o.length - 1], o[o.length - 2]) >= 0)
                    o.pop();
                t[e] && o.push(t[e])
            }
            return o
        }
        ;
        u._mPointList = null;
        u._tempPointList = [];
        u._temPList = [];
        u._temArr = [];
        return u
    }();
    var we = function() {
        function s() {}
        x(s, "laya.maths.MathUtil");
        s.subtractVector3 = function(t, e, i) {
            i[0] = t[0] - e[0];
            i[1] = t[1] - e[1];
            i[2] = t[2] - e[2]
        }
        ;
        s.lerp = function(t, e, i) {
            return t * (1 - i) + e * i
        }
        ;
        s.scaleVector3 = function(t, e, i) {
            i[0] = t[0] * e;
            i[1] = t[1] * e;
            i[2] = t[2] * e
        }
        ;
        s.lerpVector3 = function(t, e, i, n) {
            var s = t[0]
              , r = t[1]
              , a = t[2];
            n[0] = s + i * (e[0] - s);
            n[1] = r + i * (e[1] - r);
            n[2] = a + i * (e[2] - a)
        }
        ;
        s.lerpVector4 = function(t, e, i, n) {
            var s = t[0]
              , r = t[1]
              , a = t[2]
              , o = t[3];
            n[0] = s + i * (e[0] - s);
            n[1] = r + i * (e[1] - r);
            n[2] = a + i * (e[2] - a);
            n[3] = o + i * (e[3] - o)
        }
        ;
        s.slerpQuaternionArray = function(t, e, i, n, s, r, a) {
            var o = t[e + 0]
              , l = t[e + 1]
              , h = t[e + 2]
              , u = t[e + 3]
              , c = i[n + 0]
              , f = i[n + 1]
              , d = i[n + 2]
              , _ = i[n + 3];
            var p, m, g, v, b;
            m = o * c + l * f + h * d + u * _;
            if (m < 0) {
                m = -m;
                c = -c;
                f = -f;
                d = -d;
                _ = -_
            }
            if (1 - m > 1e-6) {
                p = Math.acos(m);
                g = Math.sin(p);
                v = Math.sin((1 - s) * p) / g;
                b = Math.sin(s * p) / g
            } else {
                v = 1 - s;
                b = s
            }
            r[a + 0] = v * o + b * c;
            r[a + 1] = v * l + b * f;
            r[a + 2] = v * h + b * d;
            r[a + 3] = v * u + b * _;
            return r
        }
        ;
        s.getRotation = function(t, e, i, n) {
            return Math.atan2(n - e, i - t) / Math.PI * 180
        }
        ;
        s.sortBigFirst = function(t, e) {
            if (t == e)
                return 0;
            return e > t ? 1 : -1
        }
        ;
        s.sortSmallFirst = function(t, e) {
            if (t == e)
                return 0;
            return e > t ? -1 : 1
        }
        ;
        s.sortNumBigFirst = function(t, e) {
            return parseFloat(e) - parseFloat(t)
        }
        ;
        s.sortNumSmallFirst = function(t, e) {
            return parseFloat(t) - parseFloat(e)
        }
        ;
        s.sortByKey = function(i, t, e) {
            t === void 0 && (t = false);
            e === void 0 && (e = true);
            var n;
            if (t) {
                n = e ? s.sortNumBigFirst : s.sortBigFirst
            } else {
                n = e ? s.sortNumSmallFirst : s.sortSmallFirst
            }
            return function(t, e) {
                return n(t[i], e[i])
            }
        }
        ;
        return s
    }();
    var Ce = function() {
        function i(t, e, i, n, s, r) {
            this.inPool = false;
            this.bTransform = false;
            t === void 0 && (t = 1);
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 1);
            s === void 0 && (s = 0);
            r === void 0 && (r = 0);
            this.a = t;
            this.b = e;
            this.c = i;
            this.d = n;
            this.tx = s;
            this.ty = r;
            this._checkTransform()
        }
        x(i, "laya.maths.Matrix");
        var t = i.prototype;
        t.identity = function() {
            this.a = this.d = 1;
            this.b = this.tx = this.ty = this.c = 0;
            this.bTransform = false;
            return this
        }
        ;
        t._checkTransform = function() {
            return this.bTransform = this.a !== 1 || this.b !== 0 || this.c !== 0 || this.d !== 1
        }
        ;
        t.setTranslate = function(t, e) {
            this.tx = t;
            this.ty = e;
            return this
        }
        ;
        t.translate = function(t, e) {
            this.tx += t;
            this.ty += e;
            return this
        }
        ;
        t.scale = function(t, e) {
            this.a *= t;
            this.d *= e;
            this.c *= t;
            this.b *= e;
            this.tx *= t;
            this.ty *= e;
            this.bTransform = true
        }
        ;
        t.rotate = function(t) {
            var e = Math.cos(t);
            var i = Math.sin(t);
            var n = this.a;
            var s = this.c;
            var r = this.tx;
            this.a = n * e - this.b * i;
            this.b = n * i + this.b * e;
            this.c = s * e - this.d * i;
            this.d = s * i + this.d * e;
            this.tx = r * e - this.ty * i;
            this.ty = r * i + this.ty * e;
            this.bTransform = true
        }
        ;
        t.skew = function(t, e) {
            var i = Math.tan(t);
            var n = Math.tan(e);
            var s = this.a;
            var r = this.b;
            this.a += n * this.c;
            this.b += n * this.d;
            this.c += i * s;
            this.d += i * r;
            return this
        }
        ;
        t.invertTransformPoint = function(t) {
            var e = this.a;
            var i = this.b;
            var n = this.c;
            var s = this.d;
            var r = this.tx;
            var a = e * s - i * n;
            var o = s / a;
            var l = -i / a;
            var h = -n / a;
            var u = e / a;
            var c = (n * this.ty - s * r) / a;
            var f = -(e * this.ty - i * r) / a;
            return t.setTo(o * t.x + h * t.y + c, l * t.x + u * t.y + f)
        }
        ;
        t.transformPoint = function(t) {
            return t.setTo(this.a * t.x + this.c * t.y + this.tx, this.b * t.x + this.d * t.y + this.ty)
        }
        ;
        t.transformPointN = function(t) {
            return t.setTo(this.a * t.x + this.c * t.y, this.b * t.x + this.d * t.y)
        }
        ;
        t.transformPointArray = function(t, e) {
            var i = t.length;
            for (var n = 0; n < i; n += 2) {
                var s = t[n]
                  , r = t[n + 1];
                e[n] = this.a * s + this.c * r + this.tx;
                e[n + 1] = this.b * s + this.d * r + this.ty
            }
            return e
        }
        ;
        t.transformPointArrayScale = function(t, e) {
            var i = t.length;
            for (var n = 0; n < i; n += 2) {
                var s = t[n]
                  , r = t[n + 1];
                e[n] = this.a * s + this.c * r;
                e[n + 1] = this.b * s + this.d * r
            }
            return e
        }
        ;
        t.getScaleX = function() {
            return this.b === 0 ? this.a : Math.sqrt(this.a * this.a + this.b * this.b)
        }
        ;
        t.getScaleY = function() {
            return this.c === 0 ? this.d : Math.sqrt(this.c * this.c + this.d * this.d)
        }
        ;
        t.invert = function() {
            var t = this.a;
            var e = this.b;
            var i = this.c;
            var n = this.d;
            var s = this.tx;
            var r = t * n - e * i;
            this.a = n / r;
            this.b = -e / r;
            this.c = -i / r;
            this.d = t / r;
            this.tx = (i * this.ty - n * s) / r;
            this.ty = -(t * this.ty - e * s) / r;
            return this
        }
        ;
        t.setTo = function(t, e, i, n, s, r) {
            this.a = t,
            this.b = e,
            this.c = i,
            this.d = n,
            this.tx = s,
            this.ty = r;
            return this
        }
        ;
        t.concat = function(t) {
            var e = this.a;
            var i = this.c;
            var n = this.tx;
            this.a = e * t.a + this.b * t.c;
            this.b = e * t.b + this.b * t.d;
            this.c = i * t.a + this.d * t.c;
            this.d = i * t.b + this.d * t.d;
            this.tx = n * t.a + this.ty * t.c + t.tx;
            this.ty = n * t.b + this.ty * t.d + t.ty;
            return this
        }
        ;
        t.scaleEx = function(t, e) {
            var i = this.a
              , n = this.b
              , s = this.c
              , r = this.d;
            if (n !== 0 || s !== 0) {
                this.a = t * i;
                this.b = t * n;
                this.c = e * s;
                this.d = e * r
            } else {
                this.a = t * i;
                this.b = 0 * r;
                this.c = 0 * i;
                this.d = e * r
            }
            this.bTransform = true
        }
        ;
        t.rotateEx = function(t) {
            var e = Math.cos(t);
            var i = Math.sin(t);
            var n = this.a
              , s = this.b
              , r = this.c
              , a = this.d;
            if (s !== 0 || r !== 0) {
                this.a = e * n + i * r;
                this.b = e * s + i * a;
                this.c = -i * n + e * r;
                this.d = -i * s + e * a
            } else {
                this.a = e * n;
                this.b = i * a;
                this.c = -i * n;
                this.d = e * a
            }
            this.bTransform = true
        }
        ;
        t.clone = function() {
            var t = i.create();
            t.a = this.a;
            t.b = this.b;
            t.c = this.c;
            t.d = this.d;
            t.tx = this.tx;
            t.ty = this.ty;
            t.bTransform = this.bTransform;
            return t
        }
        ;
        t.copyTo = function(t) {
            t.a = this.a;
            t.b = this.b;
            t.c = this.c;
            t.d = this.d;
            t.tx = this.tx;
            t.ty = this.ty;
            t.bTransform = this.bTransform;
            return t
        }
        ;
        t.toString = function() {
            return this.a + "," + this.b + "," + this.c + "," + this.d + "," + this.tx + "," + this.ty
        }
        ;
        t.destroy = function() {
            if (this.inPool)
                return;
            var t = i._cache;
            this.inPool = true;
            t._length || (t._length = 0);
            t[t._length++] = this;
            this.a = this.d = 1;
            this.b = this.c = this.tx = this.ty = 0;
            this.bTransform = false
        }
        ;
        i.mul = function(t, e, i) {
            var n = t.a
              , s = t.b
              , r = t.c
              , a = t.d
              , o = t.tx
              , l = t.ty;
            var h = e.a
              , u = e.b
              , c = e.c
              , f = e.d
              , d = e.tx
              , _ = e.ty;
            if (u !== 0 || c !== 0) {
                i.a = n * h + s * c;
                i.b = n * u + s * f;
                i.c = r * h + a * c;
                i.d = r * u + a * f;
                i.tx = h * o + c * l + d;
                i.ty = u * o + f * l + _
            } else {
                i.a = n * h;
                i.b = s * f;
                i.c = r * h;
                i.d = a * f;
                i.tx = h * o + d;
                i.ty = f * l + _
            }
            return i
        }
        ;
        i.mul16 = function(t, e, i) {
            var n = t.a
              , s = t.b
              , r = t.c
              , a = t.d
              , o = t.tx
              , l = t.ty;
            var h = e.a
              , u = e.b
              , c = e.c
              , f = e.d
              , d = e.tx
              , _ = e.ty;
            if (u !== 0 || c !== 0) {
                i[0] = n * h + s * c;
                i[1] = n * u + s * f;
                i[4] = r * h + a * c;
                i[5] = r * u + a * f;
                i[12] = h * o + c * l + d;
                i[13] = u * o + f * l + _
            } else {
                i[0] = n * h;
                i[1] = s * f;
                i[4] = r * h;
                i[5] = a * f;
                i[12] = h * o + d;
                i[13] = f * l + _
            }
            return i
        }
        ;
        i.mulPre = function(t, e, i, n, s, r, a, o) {
            var l = t.a
              , h = t.b
              , u = t.c
              , c = t.d
              , f = t.tx
              , d = t.ty;
            if (i !== 0 || n !== 0) {
                o.a = l * e + h * n;
                o.b = l * i + h * s;
                o.c = u * e + c * n;
                o.d = u * i + c * s;
                o.tx = e * f + n * d + r;
                o.ty = i * f + s * d + a
            } else {
                o.a = l * e;
                o.b = h * s;
                o.c = u * e;
                o.d = c * s;
                o.tx = e * f + r;
                o.ty = s * d + a
            }
            return o
        }
        ;
        i.mulPos = function(t, e, i, n, s, r, a, o) {
            var l = t.a
              , h = t.b
              , u = t.c
              , c = t.d
              , f = t.tx
              , d = t.ty;
            if (h !== 0 || u !== 0) {
                o.a = e * l + i * u;
                o.b = e * h + i * c;
                o.c = n * l + s * u;
                o.d = n * h + s * c;
                o.tx = l * r + u * a + f;
                o.ty = h * r + c * a + d
            } else {
                o.a = e * l;
                o.b = i * c;
                o.c = n * l;
                o.d = s * c;
                o.tx = l * r + f;
                o.ty = c * a + d
            }
            return o
        }
        ;
        i.preMul = function(t, e, i) {
            var n = t.a
              , s = t.b
              , r = t.c
              , a = t.d;
            var o = e.a
              , l = e.b
              , h = e.c
              , u = e.d
              , c = e.tx
              , f = e.ty;
            i.a = o * n;
            i.b = i.c = 0;
            i.d = u * a;
            i.tx = c * n + t.tx;
            i.ty = f * a + t.ty;
            if (l !== 0 || h !== 0 || s !== 0 || r !== 0) {
                i.a += l * r;
                i.d += h * s;
                i.b += o * s + l * a;
                i.c += h * n + u * r;
                i.tx += f * r;
                i.ty += c * s
            }
            return i
        }
        ;
        i.preMulXY = function(t, e, i, n) {
            var s = t.a
              , r = t.b
              , a = t.c
              , o = t.d;
            n.a = s;
            n.b = r;
            n.c = a;
            n.d = o;
            n.tx = e * s + t.tx + i * a;
            n.ty = i * o + t.ty + e * r;
            return n
        }
        ;
        i.create = function() {
            var t = i._cache;
            var e = !t._length ? new i : t[--t._length];
            e.inPool = false;
            return e
        }
        ;
        i.EMPTY = new i;
        i.TEMP = new i;
        i._cache = [];
        return i
    }();
    var Se = function() {
        function t(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            this.x = t;
            this.y = e
        }
        x(t, "laya.maths.Point");
        var e = t.prototype;
        e.setTo = function(t, e) {
            this.x = t;
            this.y = e;
            return this
        }
        ;
        e.distance = function(t, e) {
            return Math.sqrt((this.x - t) * (this.x - t) + (this.y - e) * (this.y - e))
        }
        ;
        e.toString = function() {
            return this.x + "," + this.y
        }
        ;
        e.normalize = function() {
            var t = Math.sqrt(this.x * this.x + this.y * this.y);
            if (t > 0) {
                var e = 1 / t;
                this.x *= e;
                this.y *= e
            }
        }
        ;
        t.TEMP = new t;
        t.EMPTY = new t;
        return t
    }();
    var Te = function() {
        function h(t, e, i, n) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            this.x = t;
            this.y = e;
            this.width = i;
            this.height = n
        }
        x(h, "laya.maths.Rectangle");
        var t = h.prototype;
        t.setTo = function(t, e, i, n) {
            this.x = t;
            this.y = e;
            this.width = i;
            this.height = n;
            return this
        }
        ;
        t.copyFrom = function(t) {
            this.x = t.x;
            this.y = t.y;
            this.width = t.width;
            this.height = t.height;
            return this
        }
        ;
        t.contains = function(t, e) {
            if (this.width <= 0 || this.height <= 0)
                return false;
            if (t >= this.x && t < this.right) {
                if (e >= this.y && e < this.bottom) {
                    return true
                }
            }
            return false
        }
        ;
        t.intersects = function(t) {
            return !(t.x > this.x + this.width || t.x + t.width < this.x || t.y > this.y + this.height || t.y + t.height < this.y)
        }
        ;
        t.intersection = function(t, e) {
            if (!this.intersects(t))
                return null;
            e || (e = new h);
            e.x = Math.max(this.x, t.x);
            e.y = Math.max(this.y, t.y);
            e.width = Math.min(this.right, t.right) - e.x;
            e.height = Math.min(this.bottom, t.bottom) - e.y;
            return e
        }
        ;
        t.union = function(t, e) {
            e || (e = new h);
            this.clone(e);
            if (t.width <= 0 || t.height <= 0)
                return e;
            e.addPoint(t.x, t.y);
            e.addPoint(t.right, t.bottom);
            return this
        }
        ;
        t.clone = function(t) {
            t || (t = new h);
            t.x = this.x;
            t.y = this.y;
            t.width = this.width;
            t.height = this.height;
            return t
        }
        ;
        t.toString = function() {
            return this.x + "," + this.y + "," + this.width + "," + this.height
        }
        ;
        t.equals = function(t) {
            if (!t || t.x !== this.x || t.y !== this.y || t.width !== this.width || t.height !== this.height)
                return false;
            return true
        }
        ;
        t.addPoint = function(t, e) {
            this.x > t && (this.width += this.x - t,
            this.x = t);
            this.y > e && (this.height += this.y - e,
            this.y = e);
            if (this.width < t - this.x)
                this.width = t - this.x;
            if (this.height < e - this.y)
                this.height = e - this.y;
            return this
        }
        ;
        t._getBoundPoints = function() {
            var t = h._temB;
            t.length = 0;
            if (this.width == 0 || this.height == 0)
                return t;
            t.push(this.x, this.y, this.x + this.width, this.y, this.x, this.y + this.height, this.x + this.width, this.y + this.height);
            return t
        }
        ;
        t.isEmpty = function() {
            if (this.width <= 0 || this.height <= 0)
                return true;
            return false
        }
        ;
        p(0, t, "right", function() {
            return this.x + this.width
        });
        p(0, t, "bottom", function() {
            return this.y + this.height
        });
        h._getBoundPointS = function(t, e, i, n) {
            var s = h._temA;
            s.length = 0;
            if (i == 0 || n == 0)
                return s;
            s.push(t, e, t + i, e, t, e + n, t + i, e + n);
            return s
        }
        ;
        h._getWrapRec = function(t, e) {
            if (!t || t.length < 1)
                return e ? e.setTo(0, 0, 0, 0) : h.TEMP.setTo(0, 0, 0, 0);
            e = e ? e : new h;
            var i, n = t.length, s, r, a, o, l = Se.TEMP;
            s = a = 99999;
            r = o = -s;
            for (i = 0; i < n; i += 2) {
                l.x = t[i];
                l.y = t[i + 1];
                s = s < l.x ? s : l.x;
                a = a < l.y ? a : l.y;
                r = r > l.x ? r : l.x;
                o = o > l.y ? o : l.y
            }
            return e.setTo(s, a, r - s, o - a)
        }
        ;
        h.EMPTY = new h;
        h.TEMP = new h;
        h._temB = [];
        h._temA = [];
        return h
    }();
    var Re = function() {
        function l() {}
        x(l, "laya.media.SoundManager");
        p(1, l, "useAudioMusic", function() {
            return l._useAudioMusic
        }, function(t) {
            l._useAudioMusic = t;
            if (t) {
                l._musicClass = ln
            } else {
                l._musicClass = null
            }
        });
        p(1, l, "autoStopMusic", function() {
            return l._autoStopMusic
        }, function(t) {
            st.stage.off("blur", null, l._stageOnBlur);
            st.stage.off("focus", null, l._stageOnFocus);
            st.stage.off("visibilitychange", null, l._visibilityChange);
            l._autoStopMusic = t;
            if (t) {
                st.stage.on("blur", null, l._stageOnBlur);
                st.stage.on("focus", null, l._stageOnFocus);
                st.stage.on("visibilitychange", null, l._visibilityChange)
            }
        });
        p(1, l, "muted", function() {
            return l._muted
        }, function(t) {
            if (t == l._muted)
                return;
            if (t) {
                l.stopAllSound()
            }
            l.musicMuted = t;
            l._muted = t
        });
        p(1, l, "musicMuted", function() {
            return l._musicMuted
        }, function(t) {
            if (t == l._musicMuted)
                return;
            if (t) {
                if (l._tMusic) {
                    if (l._musicChannel && !l._musicChannel.isStopped) {
                        if (Be.isConchApp) {
                            if (l._musicChannel._audio)
                                l._musicChannel._audio.muted = true
                        } else {
                            l._musicChannel.pause()
                        }
                    } else {
                        l._musicChannel = null
                    }
                } else {
                    l._musicChannel = null
                }
                l._musicMuted = t
            } else {
                l._musicMuted = t;
                if (l._tMusic) {
                    if (l._musicChannel) {
                        if (Be.isConchApp) {
                            if (l._musicChannel._audio)
                                l._musicChannel._audio.muted = false
                        } else {
                            l._musicChannel.resume()
                        }
                    }
                }
            }
        });
        p(1, l, "soundMuted", function() {
            return l._soundMuted
        }, function(t) {
            l._soundMuted = t
        });
        l.addChannel = function(t) {
            if (l._channels.indexOf(t) >= 0)
                return;
            l._channels.push(t)
        }
        ;
        l.removeChannel = function(t) {
            var e = 0;
            for (e = l._channels.length - 1; e >= 0; e--) {
                if (l._channels[e] == t) {
                    l._channels.splice(e, 1)
                }
            }
        }
        ;
        l.disposeSoundIfNotUsed = function(t) {
            var e = 0;
            for (e = l._channels.length - 1; e >= 0; e--) {
                if (l._channels[e].url == t) {
                    return
                }
            }
            l.destroySound(t)
        }
        ;
        l._visibilityChange = function() {
            if (st.stage.isVisibility) {
                l._stageOnFocus()
            } else {
                l._stageOnBlur()
            }
        }
        ;
        l._stageOnBlur = function() {
            l._isActive = false;
            if (l._musicChannel) {
                if (!l._musicChannel.isStopped) {
                    l._blurPaused = true;
                    l._musicChannel.pause()
                }
            }
            l.stopAllSound();
            st.stage.once("mousedown", null, l._stageOnFocus)
        }
        ;
        l._recoverWebAudio = function() {
            if (cn.ctx && cn.ctx.state != "running" && cn.ctx.resume)
                cn.ctx.resume()
        }
        ;
        l._stageOnFocus = function() {
            l._isActive = true;
            l._recoverWebAudio();
            st.stage.off("mousedown", null, l._stageOnFocus);
            if (l._blurPaused) {
                if (l._musicChannel && l._musicChannel.isStopped) {
                    l._blurPaused = false;
                    l._musicChannel.resume()
                }
            }
        }
        ;
        l.playSound = function(t, e, i, n, s) {
            e === void 0 && (e = 1);
            s === void 0 && (s = 0);
            if (!l._isActive || !t)
                return null;
            if (l._muted)
                return null;
            l._recoverWebAudio();
            t = Ge.formatURL(t);
            if (t == l._tMusic) {
                if (l._musicMuted)
                    return null
            } else {
                if (Be.isConchApp) {
                    var r = ai.getFileExtension(t);
                    if (r != "wav" && r != "ogg") {
                        alert("The sound only supports wav or ogg format,for optimal performance reason,please refer to the official website document.");
                        return null
                    }
                }
                if (l._soundMuted)
                    return null
            }
            var a;
            if (!He.onMiniGame && !He.onAlipayMiniGame && !He.onBDMiniGame && !He.onVVMiniGame && !He.onKGMiniGame && !He.onQGMiniGame && !He.onAlipayMiniGame && !He.onTTMiniGame && !He.onHWMiniGame) {
                a = st.loader.getRes(t)
            }
            if (!n)
                n = l._soundClass;
            if (!a) {
                a = new n;
                a.load(t);
                if (!He.onMiniGame && !He.onAlipayMiniGame && !He.onBDMiniGame && !He.onVVMiniGame && !He.onKGMiniGame && !He.onQGMiniGame && !He.onAlipayMiniGame && !He.onTTMiniGame && !He.onHWMiniGame) {
                    fn.cacheRes(t, a)
                }
            }
            var o;
            o = a.play(s, e);
            if (!o)
                return null;
            o.url = t;
            o.volume = t == l._tMusic ? l.musicVolume : l.soundVolume;
            o.completeHandler = i;
            return o
        }
        ;
        l.destroySound = function(t) {
            var e = st.loader.getRes(t);
            if (e) {
                fn.clearRes(t);
                e.dispose()
            }
        }
        ;
        l.playMusic = function(t, e, i, n) {
            e === void 0 && (e = 0);
            n === void 0 && (n = 0);
            t = Ge.formatURL(t);
            l._tMusic = t;
            if (l._musicChannel)
                l._musicChannel.stop();
            return l._musicChannel = l.playSound(t, e, i, l._musicClass, n)
        }
        ;
        l.stopSound = function(t) {
            t = Ge.formatURL(t);
            var e = 0;
            var i;
            for (e = l._channels.length - 1; e >= 0; e--) {
                i = l._channels[e];
                if (i.url == t) {
                    i.stop()
                }
            }
        }
        ;
        l.stopAll = function() {
            l._tMusic = null;
            var t = 0;
            var e;
            for (t = l._channels.length - 1; t >= 0; t--) {
                e = l._channels[t];
                e.stop()
            }
        }
        ;
        l.stopAllSound = function() {
            var t = 0;
            var e;
            for (t = l._channels.length - 1; t >= 0; t--) {
                e = l._channels[t];
                if (e.url != l._tMusic) {
                    e.stop()
                }
            }
        }
        ;
        l.stopMusic = function() {
            if (l._musicChannel)
                l._musicChannel.stop();
            l._tMusic = null
        }
        ;
        l.setSoundVolume = function(t, e) {
            if (e) {
                e = Ge.formatURL(e);
                l._setVolume(e, t)
            } else {
                l.soundVolume = t;
                var i = 0;
                var n;
                for (i = l._channels.length - 1; i >= 0; i--) {
                    n = l._channels[i];
                    if (n.url != l._tMusic) {
                        n.volume = t
                    }
                }
            }
        }
        ;
        l.setMusicVolume = function(t) {
            l.musicVolume = t;
            l._setVolume(l._tMusic, t)
        }
        ;
        l._setVolume = function(t, e) {
            t = Ge.formatURL(t);
            var i = 0;
            var n;
            for (i = l._channels.length - 1; i >= 0; i--) {
                n = l._channels[i];
                if (n.url == t) {
                    n.volume = e
                }
            }
        }
        ;
        l.musicVolume = 1;
        l.soundVolume = 1;
        l.playbackRate = 1;
        l._useAudioMusic = true;
        l._muted = false;
        l._soundMuted = false;
        l._musicMuted = false;
        l._tMusic = null;
        l._musicChannel = null;
        l._channels = [];
        l._autoStopMusic = false;
        l._blurPaused = false;
        l._isActive = true;
        l._soundClass = null;
        l._musicClass = null;
        l.autoReleaseSound = true;
        return l
    }();
    var Ie = function() {
        var t;
        function i() {}
        x(i, "laya.net.LocalStorage");
        i.__init__ = function() {
            if (!i._baseClass) {
                i._baseClass = t;
                t.init()
            }
            i.items = i._baseClass.items;
            i.support = i._baseClass.support
        }
        ;
        i.setItem = function(t, e) {
            i._baseClass.setItem(t, e)
        }
        ;
        i.getItem = function(t) {
            return i._baseClass.getItem(t)
        }
        ;
        i.setJSON = function(t, e) {
            i._baseClass.setJSON(t, e)
        }
        ;
        i.getJSON = function(t) {
            return i._baseClass.getJSON(t)
        }
        ;
        i.removeItem = function(t) {
            i._baseClass.removeItem(t)
        }
        ;
        i.clear = function() {
            i._baseClass.clear()
        }
        ;
        i._baseClass = null;
        i.items = null;
        i.support = false;
        i.__init$ = function() {
            t = function() {
                function i() {}
                x(i, "");
                i.init = function() {
                    try {
                        i.support = true;
                        i.items = a.localStorage;
                        i.setItem("laya", "1");
                        i.removeItem("laya")
                    } catch (t) {
                        i.support = false
                    }
                    if (!i.support)
                        console.log("LocalStorage is not supprot or browser is private mode.")
                }
                ;
                i.setItem = function(t, e) {
                    try {
                        i.support && i.items.setItem(t, e)
                    } catch (t) {
                        console.warn("set localStorage failed", t)
                    }
                }
                ;
                i.getItem = function(t) {
                    return i.support ? i.items.getItem(t) : null
                }
                ;
                i.setJSON = function(t, e) {
                    try {
                        i.support && i.items.setItem(t, JSON.stringify(e))
                    } catch (t) {
                        console.warn("set localStorage failed", t)
                    }
                }
                ;
                i.getJSON = function(t) {
                    return JSON.parse(i.support ? i.items.getItem(t) : null)
                }
                ;
                i.removeItem = function(t) {
                    i.support && i.items.removeItem(t)
                }
                ;
                i.clear = function() {
                    i.support && i.items.clear()
                }
                ;
                i.items = null;
                i.support = false;
                return i
            }()
        }
        ;
        return i
    }();
    var Ae = function() {
        function t() {
            this.fontName = null;
            this.complete = null;
            this.err = null;
            this._fontTxt = null;
            this._url = null;
            this._div = null;
            this._txtWidth = NaN;
            this._http = null
        }
        x(t, "laya.net.TTFLoader");
        var e = t.prototype;
        e.load = function(t) {
            this._url = t;
            var e = t.split(".ttf")[0].split("/");
            this.fontName = e[e.length - 1];
            if (He.window.conch) {
                this._loadConch()
            } else if (He.window.FontFace) {
                this._loadWithFontFace()
            } else {
                this._loadWithCSS()
            }
        }
        ;
        e._loadConch = function() {
            this._http = new nn;
            this._http.on("error", this, this._onErr);
            this._http.on("complete", this, this._onHttpLoaded);
            this._http.send(this._url, null, "get", "arraybuffer")
        }
        ;
        e._onHttpLoaded = function(t) {
            He.window.conch.setFontFaceFromBuffer(this.fontName, t);
            this._clearHttp();
            this._complete()
        }
        ;
        e._clearHttp = function() {
            if (this._http) {
                this._http.off("error", this, this._onErr);
                this._http.off("complete", this, this._onHttpLoaded);
                this._http = null
            }
        }
        ;
        e._onErr = function() {
            this._clearHttp();
            if (this.err) {
                this.err.runWith("fail:" + this._url);
                this.err = null
            }
        }
        ;
        e._complete = function() {
            st.timer.clear(this, this._complete);
            st.timer.clear(this, this._checkComplete);
            if (this._div && this._div.parentNode) {
                this._div.parentNode.removeChild(this._div);
                this._div = null
            }
            if (this.complete) {
                this.complete.runWith(this);
                this.complete = null
            }
        }
        ;
        e._checkComplete = function() {
            if (G.measureText("LayaTTFFont", this._fontTxt).width != this._txtWidth) {
                this._complete()
            }
        }
        ;
        e._loadWithFontFace = function() {
            var t = new He.window.FontFace(this.fontName,"url('" + this._url + "')");
            He.window.document.fonts.add(t);
            var e = this;
            t.loaded.then(function() {
                e._complete()
            });
            t.load()
        }
        ;
        e._createDiv = function() {
            this._div = He.createElement("div");
            this._div.innerHTML = "laya";
            var t = this._div.style;
            t.fontFamily = this.fontName;
            t.position = "absolute";
            t.left = "-100px";
            t.top = "-100px";
            He.document.body.appendChild(this._div)
        }
        ;
        e._loadWithCSS = function() {
            var t = this;
            var e = He.createElement("style");
            e.type = "text/css";
            He.document.body.appendChild(e);
            e.textContent = "@font-face { font-family:'" + this.fontName + "'; src:url('" + this._url + "');}";
            this._fontTxt = "40px " + this.fontName;
            this._txtWidth = G.measureText("LayaTTFFont", this._fontTxt).width;
            var i = this;
            e.onload = function() {
                st.timer.once(1e4, i, t._complete)
            }
            ;
            st.timer.loop(20, this, this._checkComplete);
            this._createDiv()
        }
        ;
        t._testString = "LayaTTFFont";
        return t
    }();
    var Ge = function() {
        function n(t) {
            this._url = null;
            this._path = null;
            this._url = n.formatURL(t);
            this._path = n.getPath(t)
        }
        x(n, "laya.net.URL");
        var t = n.prototype;
        p(0, t, "path", function() {
            return this._path
        });
        p(0, t, "url", function() {
            return this._url
        });
        n.formatURL = function(t, e) {
            if (!t)
                return "null path";
            if (t.indexOf(":") > 0)
                return t;
            if (n.customFormat != null)
                t = n.customFormat(t, e);
            var i = t.charAt(0);
            if (i === ".") {
                return n.formatRelativePath((e || n.basePath) + t)
            } else if (i === "~") {
                return n.rootPath + t.substring(1)
            } else if (i === "d") {
                if (t.indexOf("data:image") === 0)
                    return t
            } else if (i === "/") {
                return t
            }
            return (e || n.basePath) + t
        }
        ;
        n.formatRelativePath = function(t) {
            var e = t.split("/");
            for (var i = 0, n = e.length; i < n; i++) {
                if (e[i] == "..") {
                    e.splice(i - 1, 2);
                    i -= 2
                }
            }
            return e.join("/")
        }
        ;
        n.isAbsolute = function(t) {
            return t.indexOf(":") > 0 || t.charAt(0) == "/"
        }
        ;
        n.getPath = function(t) {
            var e = t.lastIndexOf("/");
            return e > 0 ? t.substr(0, e + 1) : ""
        }
        ;
        n.getFileName = function(t) {
            var e = t.lastIndexOf("/");
            return e > 0 ? t.substr(e + 1) : t
        }
        ;
        n.version = {};
        n.basePath = "";
        n.rootPath = "";
        n.customFormat = function(t) {
            var e = n.version[t];
            if (!Be.isConchApp && e)
                t += "?v=" + e;
            return t
        }
        ;
        return n
    }();
    var Me = function() {
        function t() {
            this._frameTime = 0;
            this._emissionRate = 60;
            this._emissionTime = 0;
            this.minEmissionTime = 1 / 60;
            this._particleTemplate = null
        }
        x(t, "laya.particle.emitter.EmitterBase");
        var e = t.prototype;
        e.start = function(t) {
            t === void 0 && (t = 2147483647);
            if (this._emissionRate != 0)
                this._emissionTime = t
        }
        ;
        e.stop = function() {
            this._emissionTime = 0
        }
        ;
        e.clear = function() {
            this._emissionTime = 0
        }
        ;
        e.emit = function() {}
        ;
        e.advanceTime = function(t) {
            t === void 0 && (t = 1);
            this._emissionTime -= t;
            if (this._emissionTime < 0)
                return;
            this._frameTime += t;
            if (this._frameTime < this.minEmissionTime)
                return;
            while (this._frameTime > this.minEmissionTime) {
                this._frameTime -= this.minEmissionTime;
                this.emit()
            }
        }
        ;
        p(0, e, "particleTemplate", null, function(t) {
            this._particleTemplate = t
        });
        p(0, e, "emissionRate", function() {
            return this._emissionRate
        }, function(t) {
            if (t <= 0)
                return;
            this._emissionRate = t;
            t > 0 && (this.minEmissionTime = 1 / t)
        });
        return t
    }();
    var Le = function() {
        function c() {
            this.position = null;
            this.velocity = null;
            this.startColor = null;
            this.endColor = null;
            this.sizeRotation = null;
            this.radius = null;
            this.radian = null;
            this.durationAddScale = NaN;
            this.time = NaN
        }
        x(c, "laya.particle.ParticleData");
        c.Create = function(t, e, i, n) {
            var s = new c;
            s.position = e;
            we.scaleVector3(i, t.emitterVelocitySensitivity, c._tempVelocity);
            var r = we.lerp(t.minHorizontalVelocity, t.maxHorizontalVelocity, Math.random());
            var a = Math.random() * Math.PI * 2;
            c._tempVelocity[0] += r * Math.cos(a);
            c._tempVelocity[2] += r * Math.sin(a);
            c._tempVelocity[1] += we.lerp(t.minVerticalVelocity, t.maxVerticalVelocity, Math.random());
            s.velocity = c._tempVelocity;
            s.startColor = c._tempStartColor;
            s.endColor = c._tempEndColor;
            var o = 0;
            if (t.disableColor) {
                for (o = 0; o < 4; o++) {
                    s.startColor[o] = 1;
                    s.endColor[o] = 1
                }
            } else {
                if (t.colorComponentInter) {
                    for (o = 0; o < 4; o++) {
                        s.startColor[o] = we.lerp(t.minStartColor[o], t.maxStartColor[o], Math.random());
                        s.endColor[o] = we.lerp(t.minEndColor[o], t.maxEndColor[o], Math.random())
                    }
                } else {
                    we.lerpVector4(t.minStartColor, t.maxStartColor, Math.random(), s.startColor);
                    we.lerpVector4(t.minEndColor, t.maxEndColor, Math.random(), s.endColor)
                }
            }
            s.sizeRotation = c._tempSizeRotation;
            var l = Math.random();
            s.sizeRotation[0] = we.lerp(t.minStartSize, t.maxStartSize, l);
            s.sizeRotation[1] = we.lerp(t.minEndSize, t.maxEndSize, l);
            s.sizeRotation[2] = we.lerp(t.minRotateSpeed, t.maxRotateSpeed, Math.random());
            s.radius = c._tempRadius;
            var h = Math.random();
            s.radius[0] = we.lerp(t.minStartRadius, t.maxStartRadius, h);
            s.radius[1] = we.lerp(t.minEndRadius, t.maxEndRadius, h);
            s.radian = c._tempRadian;
            s.radian[0] = we.lerp(t.minHorizontalStartRadian, t.maxHorizontalStartRadian, Math.random());
            s.radian[1] = we.lerp(t.minVerticalStartRadian, t.maxVerticalStartRadian, Math.random());
            var u = t.useEndRadian;
            s.radian[2] = u ? we.lerp(t.minHorizontalEndRadian, t.maxHorizontalEndRadian, Math.random()) : s.radian[0];
            s.radian[3] = u ? we.lerp(t.minVerticalEndRadian, t.maxVerticalEndRadian, Math.random()) : s.radian[1];
            s.durationAddScale = t.ageAddScale * Math.random();
            s.time = n;
            return s
        }
        ;
        u(c, ["_tempVelocity", function() {
            return this._tempVelocity = new Float32Array(3)
        }
        , "_tempStartColor", function() {
            return this._tempStartColor = new Float32Array(4)
        }
        , "_tempEndColor", function() {
            return this._tempEndColor = new Float32Array(4)
        }
        , "_tempSizeRotation", function() {
            return this._tempSizeRotation = new Float32Array(3)
        }
        , "_tempRadius", function() {
            return this._tempRadius = new Float32Array(2)
        }
        , "_tempRadian", function() {
            return this._tempRadian = new Float32Array(4)
        }
        ]);
        return c
    }();
    var We = function() {
        function i() {
            this.textureName = null;
            this.textureCount = 1;
            this.maxPartices = 100;
            this.duration = 1;
            this.ageAddScale = 0;
            this.emitterVelocitySensitivity = 1;
            this.minStartSize = 100;
            this.maxStartSize = 100;
            this.minEndSize = 100;
            this.maxEndSize = 100;
            this.minHorizontalVelocity = 0;
            this.maxHorizontalVelocity = 0;
            this.minVerticalVelocity = 0;
            this.maxVerticalVelocity = 0;
            this.endVelocity = 1;
            this.minRotateSpeed = 0;
            this.maxRotateSpeed = 0;
            this.minStartRadius = 0;
            this.maxStartRadius = 0;
            this.minEndRadius = 0;
            this.maxEndRadius = 0;
            this.minHorizontalStartRadian = 0;
            this.maxHorizontalStartRadian = 0;
            this.minVerticalStartRadian = 0;
            this.maxVerticalStartRadian = 0;
            this.useEndRadian = true;
            this.minHorizontalEndRadian = 0;
            this.maxHorizontalEndRadian = 0;
            this.minVerticalEndRadian = 0;
            this.maxVerticalEndRadian = 0;
            this.colorComponentInter = false;
            this.disableColor = false;
            this.blendState = 0;
            this.emitterType = "null";
            this.emissionRate = 0;
            this.sphereEmitterRadius = 1;
            this.sphereEmitterVelocity = 0;
            this.sphereEmitterVelocityAddVariance = 0;
            this.ringEmitterRadius = 30;
            this.ringEmitterVelocity = 0;
            this.ringEmitterVelocityAddVariance = 0;
            this.ringEmitterUp = 2;
            this.gravity = new Float32Array([0, 0, 0]);
            this.minStartColor = new Float32Array([1, 1, 1, 1]);
            this.maxStartColor = new Float32Array([1, 1, 1, 1]);
            this.minEndColor = new Float32Array([1, 1, 1, 1]);
            this.maxEndColor = new Float32Array([1, 1, 1, 1]);
            this.pointEmitterPosition = new Float32Array([0, 0, 0]);
            this.pointEmitterPositionVariance = new Float32Array([0, 0, 0]);
            this.pointEmitterVelocity = new Float32Array([0, 0, 0]);
            this.pointEmitterVelocityAddVariance = new Float32Array([0, 0, 0]);
            this.boxEmitterCenterPosition = new Float32Array([0, 0, 0]);
            this.boxEmitterSize = new Float32Array([0, 0, 0]);
            this.boxEmitterVelocity = new Float32Array([0, 0, 0]);
            this.boxEmitterVelocityAddVariance = new Float32Array([0, 0, 0]);
            this.sphereEmitterCenterPosition = new Float32Array([0, 0, 0]);
            this.ringEmitterCenterPosition = new Float32Array([0, 0, 0]);
            this.positionVariance = new Float32Array([0, 0, 0])
        }
        x(i, "laya.particle.ParticleSetting");
        i.checkSetting = function(t) {
            var e;
            for (e in i._defaultSetting) {
                if (!t.hasOwnProperty(e)) {
                    t[e] = i._defaultSetting[e]
                }
            }
            t.endVelocity = +t.endVelocity;
            t.gravity[0] = +t.gravity[0];
            t.gravity[1] = +t.gravity[1];
            t.gravity[2] = +t.gravity[2]
        }
        ;
        u(i, ["_defaultSetting", function() {
            return this._defaultSetting = new i
        }
        ]);
        return i
    }();
    var Ee = function() {
        function t() {
            this.settings = null;
            this.texture = null
        }
        x(t, "laya.particle.ParticleTemplateBase");
        var e = t.prototype;
        e.addParticleArray = function(t, e) {}
        ;
        return t
    }();
    var Ne = function() {
        function t() {
            this.u_Duration = NaN;
            this.u_EndVelocity = NaN;
            this.u_Gravity = null;
            this.a_Position = null;
            this.a_Velocity = null;
            this.a_StartColor = null;
            this.a_EndColor = null;
            this.a_SizeRotation = null;
            this.a_Radius = null;
            this.a_Radian = null;
            this.a_AgeAddScale = NaN;
            this.gl_Position = null;
            this.v_Color = null;
            this.oSize = NaN;
            this._color = new Float32Array(4);
            this._position = new Float32Array(3)
        }
        x(t, "laya.particle.particleUtils.CanvasShader");
        var e = t.prototype;
        e.getLen = function(t) {
            return Math.sqrt(t[0] * t[0] + t[1] * t[1] + t[2] * t[2])
        }
        ;
        e.ComputeParticlePosition = function(t, e, i, n) {
            this._position[0] = t[0];
            this._position[1] = t[1];
            this._position[2] = t[2];
            var s = this.getLen(e);
            var r = s * this.u_EndVelocity;
            var a = s * n + (r - s) * n * n / 2;
            var o = NaN;
            o = this.getLen(e);
            var l = 0
              , h = 0;
            h = 3;
            for (l = 0; l < h; l++) {
                this._position[l] = this._position[l] + e[l] / o * a * this.u_Duration;
                this._position[l] += this.u_Gravity[l] * i * n
            }
            var u = we.lerp(this.a_Radius[0], this.a_Radius[1], n);
            var c = we.lerp(this.a_Radian[0], this.a_Radian[2], n);
            var f = we.lerp(this.a_Radian[1], this.a_Radian[3], n);
            var d = Math.cos(f) * u;
            this._position[1] += Math.sin(f) * u;
            this._position[0] += Math.cos(c) * d;
            this._position[2] += Math.sin(c) * d;
            return new Float32Array([this._position[0], this._position[1], 0, 1])
        }
        ;
        e.ComputeParticleSize = function(t, e, i) {
            var n = we.lerp(t, e, i);
            return n
        }
        ;
        e.ComputeParticleRotation = function(t, e) {
            return t * e
        }
        ;
        e.ComputeParticleColor = function(t, e, i) {
            var n = this._color;
            we.lerpVector4(t, e, i, n);
            n[3] = n[3] * i * (1 - i) * (1 - i) * 6.7;
            return n
        }
        ;
        e.clamp = function(t, e, i) {
            if (t < e)
                return e;
            if (t > i)
                return i;
            return t
        }
        ;
        e.getData = function(t) {
            t *= 1 + this.a_AgeAddScale;
            var e = this.clamp(t / this.u_Duration, 0, 1);
            this.gl_Position = this.ComputeParticlePosition(this.a_Position, this.a_Velocity, t, e);
            var i = this.ComputeParticleSize(this.a_SizeRotation[0], this.a_SizeRotation[1], e);
            var n = this.ComputeParticleRotation(this.a_SizeRotation[2], t);
            this.v_Color = this.ComputeParticleColor(this.a_StartColor, this.a_EndColor, e);
            var s = new Ce;
            var r = NaN;
            r = i / this.oSize * 2;
            s.scale(r, r);
            s.rotate(n);
            s.setTranslate(this.gl_Position[0], -this.gl_Position[1]);
            var a = NaN;
            a = this.v_Color[3];
            return [this.v_Color, a, s, this.v_Color[0] * a, this.v_Color[1] * a, this.v_Color[2] * a]
        }
        ;
        return t
    }();
    var Ve = function() {
        function t() {
            this.maxIndex = 0;
            this.cmds = null;
            this.id = 0
        }
        x(t, "laya.particle.particleUtils.CMDParticle");
        var e = t.prototype;
        e.setCmds = function(t) {
            this.cmds = t;
            this.maxIndex = t.length - 1
        }
        ;
        return t
    }();
    var Ze = function() {
        function i() {}
        x(i, "laya.particle.particleUtils.PicTool");
        i.getCanvasPic = function(t, e) {
            t = t.bitmap;
            var i = new Ss("2D");
            var n = i.getContext("2d");
            i.size(t.width, t.height);
            var s = e >> 16 & 255;
            var r = e >> 8 & 255;
            var a = e & 255;
            if (Be.isConchApp) {
                n.setFilter(s / 255, r / 255, a / 255, 0)
            }
            n.drawImage(t.source, 0, 0);
            if (!Be.isConchApp) {
                var o = n.getImageData(0, 0, i.width, i.height);
                var l = o.data;
                for (var h = 0, u = l.length; h < u; h += 4) {
                    if (l[h + 3] == 0)
                        continue;
                    l[h] *= s / 255;
                    l[h + 1] *= r / 255;
                    l[h + 2] *= a / 255
                }
                n.putImageData(o, 0, 0)
            }
            return i
        }
        ;
        i.getRGBPic = function(t) {
            var e;
            e = [new _n(i.getCanvasPic(t, 16711680)), new _n(i.getCanvasPic(t, 65280)), new _n(i.getCanvasPic(t, 255))];
            return e
        }
        ;
        return i
    }();
    var Be = function() {
        function r(t, e) {
            this._timeId = 0;
            var i = r._mainCanvas.source.style;
            i.position = "absolute";
            i.top = i.left = "0px";
            i.background = "#000000";
            r._mainCanvas.source.id = "layaCanvas";
            var n = laya.renders.Render.isWebGL;
            r._mainCanvas.source.width = t;
            r._mainCanvas.source.height = e;
            n && r.WebGL.init(r._mainCanvas, t, e);
            if (!He.onKGMiniGame)
                He.container.appendChild(r._mainCanvas.source);
            r._context = new ke(t,e,n ? null : r._mainCanvas);
            r._context.ctx.setIsMainContext();
            He.window.requestAnimationFrame(s);
            function s(t) {
                st.stage._loop();
                He.window.requestAnimationFrame(s)
            }
            st.stage.on("visibilitychange", this, this._onVisibilitychange)
        }
        x(r, "laya.renders.Render");
        var t = r.prototype;
        t._onVisibilitychange = function() {
            if (!st.stage.isVisibility) {
                this._timeId = He.window.setInterval(this._enterFrame, 1e3)
            } else if (this._timeId != 0) {
                He.window.clearInterval(this._timeId)
            }
        }
        ;
        t._enterFrame = function(t) {
            st.stage._loop()
        }
        ;
        p(1, r, "context", function() {
            return r._context
        });
        p(1, r, "canvas", function() {
            return r._mainCanvas.source
        });
        r._context = null;
        r._mainCanvas = null;
        r.WebGL = null;
        r.isConchNode = false;
        r.isConchApp = false;
        r.isConchWebGL = false;
        r.isWebGL = false;
        r.is3DMode = false;
        r.optimizeTextureMemory = function(t, e) {
            return true
        }
        ;
        r.__init$ = function() {
            a.ConchRenderType = a.ConchRenderType || 1;
            a.ConchRenderType |= !a.conch ? 0 : 4;
            {
                r.isConchNode = (a.ConchRenderType & 5) == 5;
                r.isConchApp = (a.ConchRenderType & 4) == 4;
                r.isConchWebGL = a.ConchRenderType == 6
            }
        }
        ;
        return r
    }();
    var ke = function() {
        function a(t, e, i) {
            this.x = 0;
            this.y = 0;
            this._drawTexture = function(t, e, i) {
                if (i[0].loaded)
                    this.ctx.drawTexture(i[0], i[1], i[2], i[3], i[4], t, e)
            }
            ;
            this._fillTexture = function(t, e, i) {
                if (i[0].loaded)
                    this.ctx.fillTexture(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5], i[6], i[7])
            }
            ;
            this._drawTextureWithTransform = function(t, e, i) {
                if (i[0].loaded)
                    this.ctx.drawTextureWithTransform(i[0], i[1], i[2], i[3], i[4], i[5], t, e, i[6])
            }
            ;
            this._fillQuadrangle = function(t, e, i) {
                this.ctx.fillQuadrangle(i[0], i[1], i[2], i[3], i[4])
            }
            ;
            this._drawRect = function(t, e, i) {
                var n = this.ctx;
                if (i[4] != null) {
                    n.fillStyle = i[4];
                    n.fillRect(t + i[0], e + i[1], i[2], i[3], null)
                }
                if (i[5] != null) {
                    n.strokeStyle = i[5];
                    n.lineWidth = i[6];
                    n.strokeRect(t + i[0], e + i[1], i[2], i[3], i[6])
                }
            }
            ;
            this._drawPie = function(t, e, i) {
                var n = this.ctx;
                Be.isWebGL && n.setPathId(i[8]);
                n.beginPath();
                if (Be.isWebGL) {
                    n.movePath(i[0] + t, i[1] + e);
                    n.moveTo(0, 0)
                } else {
                    n.moveTo(t + i[0], e + i[1])
                }
                n.arc(t + i[0], e + i[1], i[2], i[3], i[4]);
                n.closePath();
                this._fillAndStroke(i[5], i[6], i[7], true)
            }
            ;
            this._clipRect = function(t, e, i) {
                this.ctx.clipRect(t + i[0], e + i[1], i[2], i[3])
            }
            ;
            this._fillRect = function(t, e, i) {
                this.ctx.fillRect(t + i[0], e + i[1], i[2], i[3], i[4])
            }
            ;
            this._drawCircle = function(t, e, i) {
                var n = this.ctx;
                Be.isWebGL && n.setPathId(i[6]);
                ii.drawCall++;
                n.beginPath();
                Be.isWebGL && n.movePath(i[0] + t, i[1] + e);
                n.arc(i[0] + t, i[1] + e, i[2], 0, a.PI2);
                n.closePath();
                this._fillAndStroke(i[3], i[4], i[5], true)
            }
            ;
            this._fillCircle = function(t, e, i) {
                ii.drawCall++;
                var n = this.ctx;
                n.beginPath();
                n.fillStyle = i[3];
                n.arc(i[0] + t, i[1] + e, i[2], 0, a.PI2);
                n.fill()
            }
            ;
            this._setShader = function(t, e, i) {
                this.ctx.setShader(i[0])
            }
            ;
            this._drawLine = function(t, e, i) {
                var n = this.ctx;
                Be.isWebGL && n.setPathId(i[6]);
                n.beginPath();
                n.strokeStyle = i[4];
                n.lineWidth = i[5];
                if (Be.isWebGL) {
                    n.movePath(t, e);
                    n.moveTo(i[0], i[1]);
                    n.lineTo(i[2], i[3])
                } else {
                    n.moveTo(t + i[0], e + i[1]);
                    n.lineTo(t + i[2], e + i[3])
                }
                n.stroke()
            }
            ;
            this._drawLines = function(t, e, i) {
                var n = this.ctx;
                Be.isWebGL && n.setPathId(i[5]);
                n.beginPath();
                t += i[0],
                e += i[1];
                Be.isWebGL && n.movePath(t, e);
                n.strokeStyle = i[3];
                n.lineWidth = i[4];
                var s = i[2];
                var r = 2
                  , a = s.length;
                if (Be.isWebGL) {
                    n.moveTo(s[0], s[1]);
                    while (r < a) {
                        n.lineTo(s[r++], s[r++])
                    }
                } else {
                    n.moveTo(t + s[0], e + s[1]);
                    while (r < a) {
                        n.lineTo(t + s[r++], e + s[r++])
                    }
                }
                n.stroke()
            }
            ;
            this._drawLinesWebGL = function(t, e, i) {
                this.ctx.drawLines(t + this.x + i[0], e + this.y + i[1], i[2], i[3], i[4])
            }
            ;
            this._drawCurves = function(t, e, i) {
                this.ctx.drawCurves(t, e, i)
            }
            ;
            this._draw = function(t, e, i) {
                i[0].call(null, this, t, e)
            }
            ;
            this._transformByMatrix = function(t, e, i) {
                this.ctx.transformByMatrix(i[0])
            }
            ;
            this._setTransform = function(t, e, i) {
                this.ctx.setTransform(i[0], i[1], i[2], i[3], i[4], i[5])
            }
            ;
            this._setTransformByMatrix = function(t, e, i) {
                this.ctx.setTransformByMatrix(i[0])
            }
            ;
            this._save = function(t, e, i) {
                this.ctx.save()
            }
            ;
            this._restore = function(t, e, i) {
                this.ctx.restore()
            }
            ;
            this._translate = function(t, e, i) {
                this.ctx.translate(i[0], i[1])
            }
            ;
            this._transform = function(t, e, i) {
                this.ctx.translate(i[1] + t, i[2] + e);
                var n = i[0];
                this.ctx.transform(n.a, n.b, n.c, n.d, n.tx, n.ty);
                this.ctx.translate(-t - i[1], -e - i[2])
            }
            ;
            this._rotate = function(t, e, i) {
                this.ctx.translate(i[1] + t, i[2] + e);
                this.ctx.rotate(i[0]);
                this.ctx.translate(-t - i[1], -e - i[2])
            }
            ;
            this._scale = function(t, e, i) {
                this.ctx.translate(i[2] + t, i[3] + e);
                this.ctx.scale(i[0], i[1]);
                this.ctx.translate(-t - i[2], -e - i[3])
            }
            ;
            this._alpha = function(t, e, i) {
                this.ctx.globalAlpha *= i[0]
            }
            ;
            this._setAlpha = function(t, e, i) {
                this.ctx.globalAlpha = i[0]
            }
            ;
            this._fillText = function(t, e, i) {
                this.ctx.fillText(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5])
            }
            ;
            this._strokeText = function(t, e, i) {
                this.ctx.strokeText(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5], i[6])
            }
            ;
            this._fillBorderText = function(t, e, i) {
                this.ctx.fillBorderText(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5], i[6], i[7])
            }
            ;
            this._blendMode = function(t, e, i) {
                this.ctx.globalCompositeOperation = i[0]
            }
            ;
            this._beginClip = function(t, e, i) {
                this.ctx.beginClip && this.ctx.beginClip(t + i[0], e + i[1], i[2], i[3])
            }
            ;
            this._setIBVB = function(t, e, i) {
                this.ctx.setIBVB(i[0] + t, i[1] + e, i[2], i[3], i[4], i[5], i[6], i[7])
            }
            ;
            this._fillTrangles = function(t, e, i) {
                this.ctx.fillTrangles(i[0], i[1] + t, i[2] + e, i[3], i[4])
            }
            ;
            this._drawPath = function(t, e, i) {
                var n = this.ctx;
                Be.isWebGL && n.setPathId(-1);
                n.beginPath();
                t += i[0],
                e += i[1];
                Be.isWebGL && n.movePath(t, e);
                var s = i[2];
                for (var r = 0, a = s.length; r < a; r++) {
                    var o = s[r];
                    switch (o[0]) {
                    case "moveTo":
                        Be.isWebGL ? n.moveTo(o[1], o[2]) : n.moveTo(t + o[1], e + o[2]);
                        break;
                    case "lineTo":
                        Be.isWebGL ? n.lineTo(o[1], o[2]) : n.lineTo(t + o[1], e + o[2]);
                        break;
                    case "arcTo":
                        Be.isWebGL ? n.arcTo(o[1], o[2], o[3], o[4], o[5]) : n.arcTo(t + o[1], e + o[2], t + o[3], e + o[4], o[5]);
                        break;
                    case "closePath":
                        n.closePath();
                        break
                    }
                }
                var l = i[3];
                if (l != null) {
                    n.fillStyle = l.fillStyle;
                    n.fill()
                }
                var h = i[4];
                if (h != null) {
                    n.strokeStyle = h.strokeStyle;
                    n.lineWidth = h.lineWidth || 1;
                    n.lineJoin = h.lineJoin;
                    n.lineCap = h.lineCap;
                    n.miterLimit = h.miterLimit;
                    n.stroke()
                }
            }
            ;
            this.drawPoly = function(t, e, i) {
                this.ctx.drawPoly(t + this.x + i[0], e + this.y + i[1], i[2], i[3], i[4], i[5], i[6])
            }
            ;
            this._drawPoly = function(t, e, i) {
                var n = this.ctx;
                var s = i[2];
                var r = 2
                  , a = s.length;
                if (Be.isWebGL) {
                    n.setPathId(i[6]);
                    n.beginPath();
                    t += i[0],
                    e += i[1];
                    n.movePath(t, e);
                    n.moveTo(s[0], s[1]);
                    while (r < a) {
                        n.lineTo(s[r++], s[r++])
                    }
                } else {
                    n.beginPath();
                    t += i[0],
                    e += i[1];
                    n.moveTo(t + s[0], e + s[1]);
                    while (r < a) {
                        n.lineTo(t + s[r++], e + s[r++])
                    }
                }
                n.closePath();
                this._fillAndStroke(i[3], i[4], i[5], i[7])
            }
            ;
            this._drawSkin = function(t, e, i) {
                var n = i[0];
                if (n) {
                    var s = this.ctx;
                    n.render(s, t, e)
                }
            }
            ;
            this._drawParticle = function(t, e, i) {
                this.ctx.drawParticle(t + this.x, e + this.y, i[0])
            }
            ;
            this._setFilters = function(t, e, i) {
                this.ctx.setFilters(i)
            }
            ;
            if (i) {
                this.ctx = i.getContext("2d")
            } else {
                i = Ss.create("3D");
                this.ctx = G.createWebGLContext2D(i);
                i._setContext(this.ctx)
            }
            i.size(t, e);
            this.canvas = i
        }
        x(a, "laya.renders.RenderContext");
        var t = a.prototype;
        t.destroy = function() {
            if (this.canvas) {
                this.canvas.destroy();
                this.canvas = null;
                this.ctx = null
            }
            if (this.ctx) {
                this.ctx.destroy();
                this.ctx = null
            }
        }
        ;
        t.drawTexture = function(t, e, i, n, s) {
            if (t.loaded)
                this.ctx.drawTexture(t, e, i, n, s, this.x, this.y)
        }
        ;
        t._drawTextures = function(t, e, i) {
            if (i[0].loaded)
                this.ctx.drawTextures(i[0], i[1], t + this.x, e + this.y)
        }
        ;
        t.drawTextureWithTransform = function(t, e, i, n, s, r, a) {
            if (t.loaded)
                this.ctx.drawTextureWithTransform(t, e, i, n, s, r, this.x, this.y, a)
        }
        ;
        t.fillQuadrangle = function(t, e, i, n, s) {
            this.ctx.fillQuadrangle(t, e, i, n, s)
        }
        ;
        t.drawCanvas = function(t, e, i, n, s) {
            this.ctx.drawCanvas(t, e + this.x, i + this.y, n, s)
        }
        ;
        t.drawRect = function(t, e, i, n, s, r) {
            r === void 0 && (r = 1);
            var a = this.ctx;
            a.strokeStyle = s;
            a.lineWidth = r;
            a.strokeRect(t + this.x, e + this.y, i, n, r)
        }
        ;
        t._fillAndStroke = function(t, e, i, n) {
            n === void 0 && (n = false);
            var s = this.ctx;
            if (t != null) {
                s.fillStyle = t;
                if (Be.isWebGL) {
                    s.fill(n)
                } else {
                    s.fill()
                }
            }
            if (e != null && i > 0) {
                s.strokeStyle = e;
                s.lineWidth = i;
                s.stroke()
            }
        }
        ;
        t.clipRect = function(t, e, i, n) {
            this.ctx.clipRect(t + this.x, e + this.y, i, n)
        }
        ;
        t.fillRect = function(t, e, i, n, s) {
            this.ctx.fillRect(t + this.x, e + this.y, i, n, s)
        }
        ;
        t.drawCircle = function(t, e, i, n, s) {
            s === void 0 && (s = 1);
            ii.drawCall++;
            var r = this.ctx;
            r.beginPath();
            r.strokeStyle = n;
            r.lineWidth = s;
            r.arc(t + this.x, e + this.y, i, 0, a.PI2);
            r.stroke()
        }
        ;
        t.drawTriangles = function(t, e, i) {
            if (Be.isWebGL) {
                this.ctx.drawTriangles(i[0], t + i[1], e + i[2], i[3], i[4], i[5], i[6], i[7], i[8], i[9])
            } else {
                var n = i[5];
                var s = 0
                  , r = n.length;
                var a = this.ctx;
                for (s = 0; s < r; s += 3) {
                    var o = n[s] * 2;
                    var l = n[s + 1] * 2;
                    var h = n[s + 2] * 2;
                    a.drawTriangle(i[0], i[3], i[4], o, l, h, i[6], true)
                }
            }
        }
        ;
        t.fillCircle = function(t, e, i, n) {
            ii.drawCall++;
            var s = this.ctx;
            s.beginPath();
            s.fillStyle = n;
            s.arc(t + this.x, e + this.y, i, 0, a.PI2);
            s.fill()
        }
        ;
        t.setShader = function(t) {
            this.ctx.setShader(t)
        }
        ;
        t.drawLine = function(t, e, i, n, s, r) {
            r === void 0 && (r = 1);
            var a = this.ctx;
            a.beginPath();
            a.strokeStyle = s;
            a.lineWidth = r;
            a.moveTo(this.x + t, this.y + e);
            a.lineTo(this.x + i, this.y + n);
            a.stroke()
        }
        ;
        t.clear = function() {
            this.ctx.clear()
        }
        ;
        t.transformByMatrix = function(t) {
            this.ctx.transformByMatrix(t)
        }
        ;
        t.setTransform = function(t, e, i, n, s, r) {
            this.ctx.setTransform(t, e, i, n, s, r)
        }
        ;
        t.setTransformByMatrix = function(t) {
            this.ctx.setTransformByMatrix(t)
        }
        ;
        t.save = function() {
            this.ctx.save()
        }
        ;
        t.restore = function() {
            this.ctx.restore()
        }
        ;
        t.translate = function(t, e) {
            this.ctx.translate(t, e)
        }
        ;
        t.transform = function(t, e, i, n, s, r) {
            this.ctx.transform(t, e, i, n, s, r)
        }
        ;
        t.rotate = function(t) {
            this.ctx.rotate(t)
        }
        ;
        t.scale = function(t, e) {
            this.ctx.scale(t, e)
        }
        ;
        t.alpha = function(t) {
            this.ctx.globalAlpha *= t
        }
        ;
        t.setAlpha = function(t) {
            this.ctx.globalAlpha = t
        }
        ;
        t.fillWords = function(t, e, i, n, s, r) {
            r === void 0 && (r = 0);
            this.ctx.fillWords(t, e, i, n, s, r)
        }
        ;
        t.fillBorderWords = function(t, e, i, n, s, r, a) {
            this.ctx.fillBorderWords(t, e, i, n, s, r, a)
        }
        ;
        t.fillText = function(t, e, i, n, s, r) {
            this.ctx.fillText(t, e + this.x, i + this.y, n, s, r)
        }
        ;
        t.strokeText = function(t, e, i, n, s, r, a) {
            this.ctx.strokeText(t, e + this.x, i + this.y, n, s, r, a)
        }
        ;
        t.blendMode = function(t) {
            this.ctx.globalCompositeOperation = t
        }
        ;
        t.flush = function() {
            this.ctx.flush && this.ctx.flush()
        }
        ;
        t.addRenderObject = function(t) {
            this.ctx.addRenderObject(t)
        }
        ;
        t.beginClip = function(t, e, i, n) {
            this.ctx.beginClip && this.ctx.beginClip(t, e, i, n)
        }
        ;
        t.endClip = function() {
            this.ctx.endClip && this.ctx.endClip()
        }
        ;
        t.fillTrangles = function(t, e, i) {
            this.ctx.fillTrangles(i[0], i[1], i[2], i[3], i.length > 4 ? i[4] : null)
        }
        ;
        a.PI2 = 2 * Math.PI;
        return a
    }();
    var Pe = function() {
        function a(t, e) {
            this._next = e || a.NORENDER;
            switch (t) {
            case 0:
                this._fun = this._no;
                return;
            case 1:
                this._fun = this._image;
                return;
            case 2:
                this._fun = this._alpha;
                return;
            case 4:
                this._fun = this._transform;
                return;
            case 8:
                this._fun = this._blend;
                return;
            case 16:
                this._fun = this._canvas;
                return;
            case 64:
                this._fun = this._mask;
                return;
            case 128:
                this._fun = this._clip;
                return;
            case 256:
                this._fun = this._style;
                return;
            case 512:
                this._fun = this._graphics;
                return;
            case 2048:
                this._fun = this._childs;
                return;
            case 1024:
                this._fun = this._custom;
                return;
            case 1 | 512:
                this._fun = this._image2;
                return;
            case 1 | 4 | 512:
                this._fun = this._image2;
                return;
            case 32:
                this._fun = ce._filter;
                return;
            case 69905:
                this._fun = a._initRenderFun;
                return
            }
            this.onCreate(t)
        }
        x(a, "laya.renders.RenderSprite");
        var t = a.prototype;
        t.onCreate = function(t) {}
        ;
        t._style = function(t, e, i, n) {
            t._style.render(t, e, i, n);
            var s = this._next;
            s._fun.call(s, t, e, i, n)
        }
        ;
        t._no = function(t, e, i, n) {}
        ;
        t._custom = function(t, e, i, n) {
            t.customRender(e, i, n);
            var s = t._style._tf;
            this._next._fun.call(this._next, t, e, i - s.translateX, n - s.translateY)
        }
        ;
        t._clip = function(t, e, i, n) {
            var s = this._next;
            if (s == a.NORENDER)
                return;
            var r = t._style.scrollRect;
            e.ctx.save();
            e.ctx.clipRect(i, n, r.width, r.height);
            s._fun.call(s, t, e, i - r.x, n - r.y);
            e.ctx.restore()
        }
        ;
        t._blend = function(t, e, i, n) {
            var s = t._style;
            if (s.blendMode) {
                e.ctx.globalCompositeOperation = s.blendMode
            }
            var r = this._next;
            r._fun.call(r, t, e, i, n);
            e.ctx.globalCompositeOperation = "source-over"
        }
        ;
        t._mask = function(t, e, i, n) {
            var s = this._next;
            s._fun.call(s, t, e, i, n);
            var r = t.mask;
            if (r) {
                e.ctx.globalCompositeOperation = "destination-in";
                if (r.numChildren > 0 || !r.graphics._isOnlyOne()) {
                    r.cacheAsBitmap = true
                }
                r.render(e, i - t.pivotX, n - t.pivotY)
            }
            e.ctx.globalCompositeOperation = "source-over"
        }
        ;
        t._graphics = function(t, e, i, n) {
            var s = t._style._tf;
            t._graphics && t._graphics._render(t, e, i - s.translateX, n - s.translateY);
            var r = this._next;
            r._fun.call(r, t, e, i, n)
        }
        ;
        t._image = function(t, e, i, n) {
            var s = t._style;
            e.ctx.drawTexture2(i, n, s._tf.translateX, s._tf.translateY, t.transform, s.alpha, s.blendMode, t._graphics._one)
        }
        ;
        t._image2 = function(t, e, i, n) {
            var s = t._style._tf;
            e.ctx.drawTexture2(i, n, s.translateX, s.translateY, t.transform, 1, null, t._graphics._one)
        }
        ;
        t._alpha = function(t, e, i, n) {
            var s = t._style;
            var r;
            if ((r = s.alpha) > .01 || t._needRepaint()) {
                var a = e.ctx.globalAlpha;
                e.ctx.globalAlpha *= r;
                var o = this._next;
                o._fun.call(o, t, e, i, n);
                e.ctx.globalAlpha = a
            }
        }
        ;
        t._transform = function(t, e, i, n) {
            var s = t.transform
              , r = this._next;
            if (s && r != a.NORENDER) {
                e.save();
                e.transform(s.a, s.b, s.c, s.d, s.tx + i, s.ty + n);
                r._fun.call(r, t, e, 0, 0);
                e.restore()
            } else
                r._fun.call(r, t, e, i, n)
        }
        ;
        t._childs = function(t, e, i, n) {
            var s = t._style;
            var r = s._tf;
            i = i - r.translateX + s.paddingLeft;
            n = n - r.translateY + s.paddingTop;
            if (s._calculation) {
                var a = t._getWords();
                if (a) {
                    var o = s;
                    if (o) {
                        if (o.stroke) {
                            e.fillBorderWords(a, i, n, o.font, o.color, o.strokeColor, o.stroke)
                        } else {
                            e.fillWords(a, i, n, o.font, o.color, o.textDecoration != "none" && o.underLine ? 1 : 0)
                        }
                    }
                }
            }
            var l = t._childs, h = l.length, u;
            if (t.viewport || t._optimizeScrollRect && t._style.scrollRect) {
                var c = t.viewport || t._style.scrollRect;
                var f = c.x;
                var d = c.y;
                var _ = c.right;
                var p = c.bottom;
                var m = NaN
                  , g = NaN;
                for (v = 0; v < h; ++v) {
                    if ((u = l[v]).visible && ((m = u._x) < _ && m + u.width > f && (g = u._y) < p && g + u.height > d)) {
                        u.render(e, i, n)
                    }
                }
            } else {
                for (var v = 0; v < h; ++v)
                    (u = l[v])._style.visible && u.render(e, i, n)
            }
        }
        ;
        t._canvas = function(t, e, i, n) {
            var s = t._$P.cacheCanvas;
            if (!s) {
                this._next._fun.call(this._next, t, e, i, n);
                return
            }
            s.type === "bitmap" ? ii.canvasBitmap++ : ii.canvasNormal++;
            var r = s.ctx;
            if (t._needRepaint() || !r) {
                this._canvas_repaint(t, e, i, n)
            } else {
                var a = s._cacheRec;
                e.drawCanvas(r.canvas, i + a.x, n + a.y, a.width, a.height)
            }
        }
        ;
        t._canvas_repaint = function(t, e, i, n) {
            var s = t._$P.cacheCanvas;
            var r = this._next;
            if (!s) {
                r._fun.call(r, t, a, i, n);
                return
            }
            var a = s.ctx;
            var o = t._needRepaint() || !a;
            var l;
            var h;
            var u;
            var c;
            var f = s.type;
            f === "bitmap" ? ii.canvasBitmap++ : ii.canvasNormal++;
            if (o) {
                if (!s._cacheRec)
                    s._cacheRec = new Te;
                var d, _;
                if (!Be.isWebGL || f === "bitmap") {
                    c = t.getSelfBounds();
                    c.x = c.x - t.pivotX;
                    c.y = c.y - t.pivotY;
                    c.x = c.x - 16;
                    c.y = c.y - 16;
                    c.width = c.width + 32;
                    c.height = c.height + 32;
                    c.x = Math.floor(c.x + i) - i;
                    c.y = Math.floor(c.y + n) - n;
                    c.width = Math.floor(c.width);
                    c.height = Math.floor(c.height);
                    s._cacheRec.copyFrom(c)
                } else {
                    s._cacheRec.setTo(-t.pivotX, -t.pivotY, 1, 1)
                }
                c = s._cacheRec;
                var p = Be.isWebGL ? 1 : He.pixelRatio * st.stage.clientScaleX;
                var m = Be.isWebGL ? 1 : He.pixelRatio * st.stage.clientScaleY;
                if (!Be.isWebGL) {
                    var g = 1;
                    var v = 1;
                    var b;
                    b = t;
                    while (b && b != st.stage) {
                        g *= b.scaleX;
                        v *= b.scaleY;
                        b = b.parent
                    }
                    if (Be.isWebGL) {
                        if (g < 1)
                            p *= g;
                        if (v < 1)
                            m *= v
                    } else {
                        if (g > 1)
                            p *= g;
                        if (v > 1)
                            m *= v
                    }
                }
                if (t.scrollRect) {
                    var y = t.scrollRect;
                    c.x -= y.x;
                    c.y -= y.y
                }
                d = c.width * p;
                _ = c.height * m;
                h = c.x;
                u = c.y;
                if (Be.isWebGL && f === "bitmap" && (d > 2048 || _ > 2048)) {
                    console.warn("cache bitmap size larger than 2048,cache ignored");
                    if (s.ctx) {
                        ei.recover("RenderContext", s.ctx);
                        s.ctx.canvas.size(0, 0);
                        s.ctx = null
                    }
                    r._fun.call(r, t, e, i, n);
                    return
                }
                if (!a) {
                    a = s.ctx = ei.getItem("RenderContext") || new ke(d,_,Ss.create("AUTO"))
                }
                a.ctx.sprite = t;
                l = a.canvas;
                l.clear();
                (l.width != d || l.height != _) && l.size(d, _);
                if (f === "bitmap")
                    l.context.asBitmap = true;
                else if (f === "normal")
                    l.context.asBitmap = false;
                var x;
                if (p != 1 || m != 1) {
                    var w = a.ctx;
                    w.save();
                    w.scale(p, m);
                    if (!Be.isConchWebGL && Be.isConchApp) {
                        x = t._$P.cf;
                        x && w.setFilterMatrix && w.setFilterMatrix(x._mat, x._alpha)
                    }
                    r._fun.call(r, t, a, -h, -u);
                    w.restore();
                    if (!Be.isConchApp || Be.isConchWebGL)
                        t._applyFilters()
                } else {
                    w = a.ctx;
                    if (!Be.isConchWebGL && Be.isConchApp) {
                        x = t._$P.cf;
                        x && w.setFilterMatrix && w.setFilterMatrix(x._mat, x._alpha)
                    }
                    r._fun.call(r, t, a, -h, -u);
                    if (!Be.isConchApp || Be.isConchWebGL)
                        t._applyFilters()
                }
                if (t._$P.staticCache)
                    s.reCache = false;
                ii.canvasReCache++
            } else {
                c = s._cacheRec;
                h = c.x;
                u = c.y;
                l = a.canvas
            }
            e.drawCanvas(l, i + h, n + u, c.width, c.height)
        }
        ;
        a.__init__ = function() {
            var t = 0
              , e = 0;
            var i;
            i = G.createRenderSprite(69905, null);
            e = a.renders.length = 2048 * 2;
            for (t = 0; t < e; t++)
                a.renders[t] = i;
            a.renders[0] = G.createRenderSprite(0, null);
            function n(t, e) {
                var i = 0;
                for (var n = 0; n < t.length; n++) {
                    i |= t[n];
                    a.renders[i] = e
                }
            }
            n([1, 512, 4, 2], new a(1,null));
            a.renders[1 | 512] = G.createRenderSprite(1 | 512, null);
            a.renders[1 | 4 | 512] = new a(1 | 4 | 512,null)
        }
        ;
        a._initRenderFun = function(t, e, i, n) {
            var s = t._renderType;
            var r = a.renders[s] = a._getTypeRender(s);
            r._fun(t, e, i, n)
        }
        ;
        a._getTypeRender = function(t) {
            var e = null;
            var i = 2048;
            while (i > 1) {
                if (i & t)
                    e = G.createRenderSprite(i, e);
                i = i >> 1
            }
            return e
        }
        ;
        a.IMAGE = 1;
        a.ALPHA = 2;
        a.TRANSFORM = 4;
        a.BLEND = 8;
        a.CANVAS = 16;
        a.FILTERS = 32;
        a.MASK = 64;
        a.CLIP = 128;
        a.STYLE = 256;
        a.GRAPHICS = 512;
        a.CUSTOM = 1024;
        a.CHILDS = 2048;
        a.INIT = 69905;
        a.renders = [];
        a.NORENDER = new a(0,null);
        return a
    }();
    var Fe = function() {
        function o() {
            this._repaint = false
        }
        x(o, "laya.resource.Context");
        var t = o.prototype;
        t.replaceReset = function() {
            var t = 0
              , e = 0;
            e = o.replaceKeys.length;
            var i;
            for (t = 0; t < e; t++) {
                i = o.replaceKeys[t];
                this[o.newKeys[t]] = this[i]
            }
        }
        ;
        t.replaceResotre = function() {
            this.__restore();
            this.__reset()
        }
        ;
        t.setIsMainContext = function() {}
        ;
        t.drawTextures = function(t, e, i, n) {
            ii.drawCall += e.length / 2;
            var s = t.width;
            var r = t.height;
            for (var a = 0, o = e.length; a < o; a += 2) {
                this.drawTexture(t, e[a], e[a + 1], s, r, i, n)
            }
        }
        ;
        t.drawCanvas = function(t, e, i, n, s) {
            ii.drawCall++;
            this.drawImage(t.source, e, i, n, s)
        }
        ;
        t.fillRect = function(t, e, i, n, s) {
            ii.drawCall++;
            s && (this.fillStyle = s);
            this.__fillRect(t, e, i, n)
        }
        ;
        t.fillText = function(t, e, i, n, s, r) {
            ii.drawCall++;
            if (arguments.length > 3 && typeof n == "string") {
                this.font = n;
                this.fillStyle = s;
                this.textAlign = r;
                this.textBaseline = "top"
            }
            if (typeof n == "number") {
                this.__fillText(t, e, i, n)
            } else {
                this.__fillText(t, e, i)
            }
        }
        ;
        t.fillBorderText = function(t, e, i, n, s, r, a, o) {
            ii.drawCall++;
            this.font = n;
            this.fillStyle = s;
            this.textBaseline = "top";
            this.strokeStyle = r;
            this.lineWidth = a;
            this.textAlign = o;
            this.__strokeText(t, e, i);
            this.__fillText(t, e, i)
        }
        ;
        t.strokeText = function(t, e, i, n, s, r, a) {
            ii.drawCall++;
            if (arguments.length > 3 && typeof n == "string") {
                this.font = n;
                this.strokeStyle = s;
                this.lineWidth = r;
                this.textAlign = a;
                this.textBaseline = "top"
            }
            if (typeof n == "number") {
                this.__strokeText(t, e, i, n)
            } else
                this.__strokeText(t, e, i)
        }
        ;
        t.transformByMatrix = function(t) {
            this.transform(t.a, t.b, t.c, t.d, t.tx, t.ty)
        }
        ;
        t.setTransformByMatrix = function(t) {
            this.setTransform(t.a, t.b, t.c, t.d, t.tx, t.ty)
        }
        ;
        t.clipRect = function(t, e, i, n) {
            ii.drawCall++;
            this.beginPath();
            this.rect(t, e, i, n);
            this.clip()
        }
        ;
        t.drawTexture = function(t, e, i, n, s, r, a) {
            ii.drawCall++;
            var o = t.uv
              , l = t.bitmap.width
              , h = t.bitmap.height;
            this.drawImage(t.source, o[0] * l, o[1] * h, (o[2] - o[0]) * l, (o[5] - o[3]) * h, e + r, i + a, n, s)
        }
        ;
        t.drawTextureWithTransform = function(t, e, i, n, s, r, a, o, l) {
            ii.drawCall++;
            var h = t.uv
              , u = t.bitmap.width
              , c = t.bitmap.height;
            this.save();
            l != 1 && (this.globalAlpha *= l);
            if (r) {
                this.transform(r.a, r.b, r.c, r.d, r.tx + a, r.ty + o);
                this.drawImage(t.source, h[0] * u, h[1] * c, (h[2] - h[0]) * u, (h[5] - h[3]) * c, e, i, n, s)
            } else {
                this.drawImage(t.source, h[0] * u, h[1] * c, (h[2] - h[0]) * u, (h[5] - h[3]) * c, e + a, i + o, n, s)
            }
            this.restore()
        }
        ;
        t.drawTexture2 = function(t, e, i, n, s, r, a, o) {
            var l = o[0];
            if (!(l.loaded && l.bitmap && l.source)) {
                return
            }
            ii.drawCall++;
            var h = r !== 1;
            if (h) {
                var u = this.globalAlpha;
                this.globalAlpha *= r
            }
            var c = l.uv
              , f = l.bitmap.width
              , d = l.bitmap.height;
            if (s) {
                this.save();
                this.transform(s.a, s.b, s.c, s.d, s.tx + t, s.ty + e);
                this.drawImage(l.source, c[0] * f, c[1] * d, (c[2] - c[0]) * f, (c[5] - c[3]) * d, o[1] - i, o[2] - n, o[3], o[4]);
                this.restore()
            } else {
                this.drawImage(l.source, c[0] * f, c[1] * d, (c[2] - c[0]) * f, (c[5] - c[3]) * d, o[1] - i + t, o[2] - n + e, o[3], o[4])
            }
            if (h)
                this.globalAlpha = u
        }
        ;
        t.fillTexture = function(t, e, i, n, s, r, a, o) {
            if (!o.pat) {
                if (t.uv != _n.DEF_UV) {
                    var l = new Ss("2D");
                    l.getContext("2d");
                    l.size(t.width, t.height);
                    l.context.drawTexture(t, 0, 0, t.width, t.height, 0, 0);
                    t = new _n(l)
                }
                o.pat = this.createPattern(t.bitmap.source, r)
            }
            var h = e
              , u = i;
            var c = 0
              , f = 0;
            if (a) {
                h += a.x % t.width;
                u += a.y % t.height;
                c -= a.x % t.width;
                f -= a.y % t.height
            }
            this.translate(h, u);
            this.fillRect(c, f, n, s, o.pat);
            this.translate(-h, -u)
        }
        ;
        t.drawTriangle = function(t, e, i, n, s, r, a, o) {
            var l = t.bitmap;
            var h = l.source;
            var u = t.width;
            var c = t.height;
            var f = l.width;
            var d = l.height;
            var _ = i[n] * f;
            var p = i[s] * f;
            var m = i[r] * f;
            var g = i[n + 1] * d;
            var v = i[s + 1] * d;
            var b = i[r + 1] * d;
            var y = e[n];
            var x = e[s];
            var w = e[r];
            var C = e[n + 1];
            var S = e[s + 1];
            var T = e[r + 1];
            if (o) {
                var R = 1;
                var I = 1;
                var A = (y + x + w) / 3;
                var G = (C + S + T) / 3;
                var M = y - A;
                var L = C - G;
                var W = Math.sqrt(M * M + L * L);
                y = A + M / W * (W + R);
                C = G + L / W * (W + I);
                M = x - A;
                L = S - G;
                W = Math.sqrt(M * M + L * L);
                x = A + M / W * (W + R);
                S = G + L / W * (W + I);
                M = w - A;
                L = T - G;
                W = Math.sqrt(M * M + L * L);
                w = A + M / W * (W + R);
                T = G + L / W * (W + I)
            }
            this.save();
            if (a)
                this.transform(a.a, a.b, a.c, a.d, a.tx, a.ty);
            this.beginPath();
            this.moveTo(y, C);
            this.lineTo(x, S);
            this.lineTo(w, T);
            this.closePath();
            this.clip();
            var E = _ * v + g * m + p * b - v * m - g * p - _ * b;
            var N = 1 / E;
            var V = y * v + g * w + x * b - v * w - g * x - y * b;
            var Z = _ * x + y * m + p * w - x * m - y * p - _ * w;
            var B = _ * v * w + g * x * m + y * p * b - y * v * m - g * p * w - _ * x * b;
            var k = C * v + g * T + S * b - v * T - g * S - C * b;
            var P = _ * S + C * m + p * T - S * m - C * p - _ * T;
            var F = _ * v * T + g * S * m + C * p * b - C * v * m - g * p * T - _ * S * b;
            this.transform(V * N, k * N, Z * N, P * N, B * N, F * N);
            this.drawImage(h, t.uv[0] * f, t.uv[1] * d, u, c, t.uv[0] * f, t.uv[1] * d, u, c);
            this.restore()
        }
        ;
        t.flush = function() {
            return 0
        }
        ;
        t.fillWords = function(t, e, i, n, s, r) {
            n && (this.font = n);
            s && (this.fillStyle = s);
            var a = this;
            this.textBaseline = "top";
            this.textAlign = "left";
            for (var o = 0, l = t.length; o < l; o++) {
                var h = t[o];
                this.__fillText(h.char, h.x + e, h.y + i);
                if (r === 1) {
                    var u = h.height;
                    var c = h.style.letterSpacing * .5;
                    if (!c)
                        c = 0;
                    this.beginPath();
                    this.strokeStyle = s;
                    this.lineWidth = 1;
                    this.moveTo(e + h.x - c + .5, i + h.y + u + .5);
                    this.lineTo(e + h.x + h.width + c + .5, i + h.y + u + .5);
                    this.stroke()
                }
            }
        }
        ;
        t.fillBorderWords = function(t, e, i, n, s, r, a) {
            n && (this.font = n);
            s && (this.fillStyle = s);
            this.textBaseline = "top";
            this.lineWidth = a;
            this.textAlign = "left";
            this.strokeStyle = r;
            for (var o = 0, l = t.length; o < l; o++) {
                var h = t[o];
                this.__strokeText(h.char, h.x + e, h.y + i);
                this.__fillText(h.char, h.x + e, h.y + i)
            }
        }
        ;
        t.destroy = function() {
            this.canvas.width = this.canvas.height = 0
        }
        ;
        t.clear = function() {
            this.clearRect(0, 0, this._canvas.width, this._canvas.height);
            this._repaint = false
        }
        ;
        t.drawCurves = function(t, e, i) {
            this.beginPath();
            this.strokeStyle = i[3];
            this.lineWidth = i[4];
            var n = i[2];
            t += i[0],
            e += i[1];
            this.moveTo(t + n[0], e + n[1]);
            var s = 2
              , r = n.length;
            while (s < r) {
                this.quadraticCurveTo(t + n[s++], e + n[s++], t + n[s++], e + n[s++])
            }
            this.stroke()
        }
        ;
        o.__init__ = function(e) {
            var i = laya.resource.Context.prototype;
            e = e || CanvasRenderingContext2D.prototype;
            if (e.inited)
                return;
            e.inited = true;
            e.__fillText = e.fillText;
            e.__fillRect = e.fillRect;
            e.__strokeText = e.strokeText;
            var t = ["drawTextures", "drawTriangle", "fillWords", "fillBorderWords", "setIsMainContext", "fillRect", "strokeText", "fillTexture", "fillText", "transformByMatrix", "setTransformByMatrix", "clipRect", "drawTexture", "drawTexture2", "drawTextureWithTransform", "flush", "clear", "destroy", "drawCanvas", "fillBorderText", "drawCurves"];
            t.forEach(function(t) {
                e[t] = i[t]
            })
        }
        ;
        o.replaceCanvasGetSet = function(t, e) {
            var i = Object.getOwnPropertyDescriptor(t, e);
            if (!i || !i.configurable)
                return false;
            var n = {};
            var s;
            for (s in i) {
                if (s != "set") {
                    n[s] = i[s]
                }
            }
            var r = i["set"];
            n["set"] = function(t) {
                var e = this;
                r.call(e, t);
                var i = e.getContext("2d");
                if (i && "__reset"in i) {
                    i.__reset()
                }
            }
            ;
            Object.defineProperty(t, e, n);
            return true
        }
        ;
        o.replaceGetSet = function(t, e) {
            var i = Object.getOwnPropertyDescriptor(t, e);
            if (!i || !i.configurable)
                return false;
            var n = {};
            var s;
            for (s in i) {
                if (s != "set") {
                    n[s] = i[s]
                }
            }
            var r = i["set"];
            var a = "___" + e + "__";
            o.newKeys.push(a);
            n["set"] = function(t) {
                var e = this;
                if (t != e[a]) {
                    e[a] = t;
                    r.call(e, t)
                }
            }
            ;
            Object.defineProperty(t, e, n);
            return true
        }
        ;
        o._default = new o;
        o.newKeys = [];
        u(o, ["replaceKeys", function() {
            return this.replaceKeys = ["font", "fillStyle", "textBaseline"]
        }
        ]);
        return o
    }();
    var Xe = function() {
        function r(t) {
            this._id = 0;
            this._name = null;
            this._resources = null;
            this._memorySize = 0;
            this._garbageCollectionRate = NaN;
            this._isOverflow = false;
            this.autoRelease = false;
            this.autoReleaseMaxSize = 0;
            this._id = ++r._uniqueIDCounter;
            this._name = t ? t : "Content Manager";
            r._isResourceManagersSorted = false;
            this._memorySize = 0;
            this._isOverflow = false;
            this.autoRelease = false;
            this.autoReleaseMaxSize = 1024 * 1024 * 512;
            this._garbageCollectionRate = .2;
            r._resourceManagers.push(this);
            this._resources = []
        }
        x(r, "laya.resource.ResourceManager");
        var t = r.prototype;
        st.imps(t, {
            "laya.resource.IDispose": true
        });
        t.getResourceByIndex = function(t) {
            return this._resources[t]
        }
        ;
        t.getResourcesLength = function() {
            return this._resources.length
        }
        ;
        t.addResource = function(t) {
            if (t.resourceManager)
                t.resourceManager.removeResource(t);
            var e = this._resources.indexOf(t);
            if (e === -1) {
                t._resourceManager = this;
                this._resources.push(t);
                this.addSize(t.memorySize);
                return true
            }
            return false
        }
        ;
        t.removeResource = function(t) {
            var e = this._resources.indexOf(t);
            if (e !== -1) {
                this._resources.splice(e, 1);
                t._resourceManager = null;
                this._memorySize -= t.memorySize;
                return true
            }
            return false
        }
        ;
        t.unload = function() {
            var t = this._resources.slice(0, this._resources.length);
            for (var e = 0; e < t.length; e++) {
                var i = t[e];
                i.destroy()
            }
            t.length = 0
        }
        ;
        t.dispose = function() {
            if (this === r._systemResourceManager)
                throw new Error("systemResourceManager不能被释放！");
            r._resourceManagers.splice(r._resourceManagers.indexOf(this), 1);
            r._isResourceManagersSorted = false;
            var t = this._resources.slice(0, this._resources.length);
            for (var e = 0; e < t.length; e++) {
                var i = t[e];
                i.resourceManager.removeResource(i);
                i.destroy()
            }
            t.length = 0
        }
        ;
        t.addSize = function(t) {
            if (t) {
                if (this.autoRelease && t > 0)
                    this._memorySize + t > this.autoReleaseMaxSize && this.garbageCollection((1 - this._garbageCollectionRate) * this.autoReleaseMaxSize);
                this._memorySize += t
            }
        }
        ;
        t.garbageCollection = function(t) {
            var e = this._resources;
            e = e.slice();
            e.sort(function(t, e) {
                if (!t || !e)
                    throw new Error("a或b不能为空！");
                if (t.released && e.released)
                    return 0;
                else if (t.released)
                    return 1;
                else if (e.released)
                    return -1;
                return t._lastUseFrameCount - e._lastUseFrameCount
            });
            var i = ii.loopCount;
            for (var n = 0, s = e.length; n < s; n++) {
                var r = e[n];
                if (i - r._lastUseFrameCount > 1) {
                    r.releaseResource()
                } else {
                    if (this._memorySize >= t)
                        this._isOverflow = true;
                    return
                }
                if (this._memorySize < t) {
                    this._isOverflow = false;
                    return
                }
            }
        }
        ;
        p(0, t, "id", function() {
            return this._id
        });
        p(0, t, "name", function() {
            return this._name
        }, function(t) {
            if ((t || t !== "") && this._name !== t) {
                this._name = t;
                r._isResourceManagersSorted = false
            }
        });
        p(0, t, "memorySize", function() {
            return this._memorySize
        });
        p(1, r, "systemResourceManager", function() {
            return r._systemResourceManager
        });
        r.__init__ = function() {
            r.currentResourceManager = r.systemResourceManager
        }
        ;
        r.getLoadedResourceManagerByIndex = function(t) {
            return r._resourceManagers[t]
        }
        ;
        r.getLoadedResourceManagersCount = function() {
            return r._resourceManagers.length
        }
        ;
        r.recreateContentManagers = function(t) {
            t === void 0 && (t = false);
            var e = r.currentResourceManager;
            for (var i = 0; i < r._resourceManagers.length; i++) {
                r.currentResourceManager = r._resourceManagers[i];
                for (var n = 0; n < r.currentResourceManager._resources.length; n++) {
                    r.currentResourceManager._resources[n].releaseResource(t);
                    r.currentResourceManager._resources[n].activeResource(t)
                }
            }
            r.currentResourceManager = e
        }
        ;
        r.releaseContentManagers = function(t) {
            t === void 0 && (t = false);
            var e = r.currentResourceManager;
            for (var i = 0; i < r._resourceManagers.length; i++) {
                r.currentResourceManager = r._resourceManagers[i];
                for (var n = 0; n < r.currentResourceManager._resources.length; n++) {
                    var s = r.currentResourceManager._resources[n];
                    !s.released && s.releaseResource(t)
                }
            }
            r.currentResourceManager = e
        }
        ;
        r._uniqueIDCounter = 0;
        r._isResourceManagersSorted = false;
        r._resourceManagers = [];
        u(r, ["_systemResourceManager", function() {
            return this._systemResourceManager = new r("System Resource Manager")
        }
        , "currentResourceManager", function() {
            return this.currentResourceManager = r._systemResourceManager
        }
        ]);
        return r
    }();
    var De = function() {
        function t() {}
        x(t, "laya.system.System");
        t.changeDefinition = function(t, e) {
            st[t] = e;
            var i = t + "=classObj";
            st._runScript(i)
        }
        ;
        t.__init__ = function() {
            if (Be.isConchApp) {
                conch.disableConchResManager();
                conch.disableConchAutoRestoreLostedDevice()
            }
        }
        ;
        return t
    }();
    var Ye = function() {
        function t() {
            this.enable = false;
            this.top = NaN;
            this.bottom = NaN;
            this.left = NaN;
            this.right = NaN;
            this.centerX = NaN;
            this.centerY = NaN;
            this.anchorX = NaN;
            this.anchorY = NaN
        }
        x(t, "laya.ui.LayoutStyle");
        u(t, ["EMPTY", function() {
            return this.EMPTY = new t
        }
        ]);
        return t
    }();
    var Oe = function() {
        function t() {}
        x(t, "laya.ui.Styles");
        t.labelColor = "#000000";
        t.buttonStateNum = 3;
        t.scrollBarMinNum = 15;
        t.scrollBarDelayTime = 500;
        u(t, ["defaultSizeGrid", function() {
            return this.defaultSizeGrid = [4, 4, 4, 4, 0]
        }
        , "labelPadding", function() {
            return this.labelPadding = [2, 2, 2, 2]
        }
        , "inputLabelPadding", function() {
            return this.inputLabelPadding = [1, 1, 1, 3]
        }
        , "buttonLabelColors", function() {
            return this.buttonLabelColors = ["#32556b", "#32cc6b", "#ff0000", "#C0C0C0"]
        }
        , "comboBoxItemColors", function() {
            return this.comboBoxItemColors = ["#5e95b6", "#ffffff", "#000000", "#8fa4b1", "#ffffff"]
        }
        ]);
        return t
    }();
    var Ue = function() {
        function s() {}
        x(s, "laya.ui.UIUtils");
        s.fillArray = function(t, e, i) {
            var n = t.concat();
            if (e) {
                var s = e.split(",");
                for (var r = 0, a = Math.min(n.length, s.length); r < a; r++) {
                    var o = s[r];
                    n[r] = o == "true" ? true : o == "false" ? false : o;
                    if (i != null)
                        n[r] = i(o)
                }
            }
            return n
        }
        ;
        s.toColor = function(t) {
            return ai.toHexColor(t)
        }
        ;
        s.gray = function(t, e) {
            e === void 0 && (e = true);
            if (e) {
                s.addFilter(t, s.grayFilter)
            } else {
                s.clearFilter(t, Sn)
            }
        }
        ;
        s.addFilter = function(t, e) {
            var i = t.filters || [];
            i.push(e);
            t.filters = i
        }
        ;
        s.clearFilter = function(t, e) {
            var i = t.filters;
            if (i != null && i.length > 0) {
                for (var n = i.length - 1; n > -1; n--) {
                    var s = i[n];
                    if (st.__typeof(s, e))
                        i.splice(n, 1)
                }
                t.filters = i
            }
        }
        ;
        s._getReplaceStr = function(t) {
            return s.escapeSequence[t]
        }
        ;
        s.adptString = function(t) {
            return t.replace(/\\(\w)/g, s._getReplaceStr)
        }
        ;
        s.getBindFun = function(t) {
            var e = s._funMap.get(t);
            if (e == null) {
                var i = '"' + t + '"';
                i = i.replace(/^"\${|}"$/g, "").replace(/\${/g, '"+').replace(/}/g, '+"');
                var n = "(function(data){if(data==null)return;with(data){try{\nreturn " + i + "\n}catch(e){}}})";
                e = st._runScript(n);
                s._funMap.set(t, e)
            }
            return e
        }
        ;
        u(s, ["grayFilter", function() {
            return this.grayFilter = new Sn([.3086, .6094, .082, 0, 0, .3086, .6094, .082, 0, 0, .3086, .6094, .082, 0, 0, 0, 0, 0, 1, 0])
        }
        , "escapeSequence", function() {
            return this.escapeSequence = {
                "\\n": "\n",
                "\\t": "\t"
            }
        }
        , "_funMap", function() {
            return this._funMap = new li
        }
        ]);
        return s
    }();
    Re;
    var He = function() {
        function i() {}
        x(i, "laya.utils.Browser");
        p(1, i, "pixelRatio", function() {
            i.__init__();
            if (i.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)") > -1)
                return 2;
            return G.getPixelRatio()
        });
        p(1, i, "height", function() {
            i.__init__();
            return (st.stage && st.stage.canvasRotation ? i.clientWidth : i.clientHeight) * i.pixelRatio
        });
        p(1, i, "clientWidth", function() {
            i.__init__();
            return i.window.innerWidth || i.document.body.clientWidth
        });
        p(1, i, "window", function() {
            i.__init__();
            return i._window
        });
        p(1, i, "clientHeight", function() {
            i.__init__();
            return i.window.innerHeight || i.document.body.clientHeight || i.document.documentElement.clientHeight
        });
        p(1, i, "width", function() {
            i.__init__();
            return (st.stage && st.stage.canvasRotation ? i.clientHeight : i.clientWidth) * i.pixelRatio
        });
        p(1, i, "container", function() {
            i.__init__();
            if (!i._container) {
                i._container = i.createElement("div");
                i._container.id = "layaContainer";
                i.document.body.appendChild(i._container)
            }
            return i._container
        }, function(t) {
            i._container = t
        });
        p(1, i, "document", function() {
            i.__init__();
            return i._document
        });
        i.__init__ = function() {
            Re;
            if (i._window)
                return;
            i._window = G.getWindow();
            i._document = i.window.document;
            i._window.addEventListener("message", function(t) {
                laya.utils.Browser._onMessage(t)
            }, false);
            i.document.__createElement = i.document.createElement;
            a.requestAnimationFrame = a.requestAnimationFrame || a.webkitRequestAnimationFrame || a.mozRequestAnimationFrame || a.oRequestAnimationFrame || a.msRequestAnimationFrame || function(t) {
                return a.setTimeout(t, 1e3 / 60)
            }
            ;
            var t = a.document.body.style;
            t["-webkit-user-select"] = "none";
            t["-webkit-tap-highlight-color"] = "rgba(200,200,200,0)";
            i.userAgent = i.window.navigator.userAgent;
            i.u = i.userAgent;
            i.onIOS = !!i.u.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/);
            i.onMobile = i.u.indexOf("Mobile") > -1;
            i.onIPhone = i.u.indexOf("iPhone") > -1;
            i.onMac = i.u.indexOf("Mac OS X") > -1;
            i.onIPad = i.u.indexOf("iPad") > -1;
            i.onAndroid = i.u.indexOf("Android") > -1 || i.u.indexOf("Adr") > -1;
            i.onWP = i.u.indexOf("Windows Phone") > -1;
            i.onQQBrowser = i.u.indexOf("QQBrowser") > -1;
            i.onMQQBrowser = i.u.indexOf("MQQBrowser") > -1 || i.u.indexOf("Mobile") > -1 && i.u.indexOf("QQ") > -1;
            i.onIE = !!i.window.ActiveXObject || "ActiveXObject"in i.window;
            i.onWeiXin = i.u.indexOf("MicroMessenger") > -1;
            i.onPC = !i.onMobile;
            i.onSafari = i.u.indexOf("Safari") > -1;
            i.onFirefox = i.u.indexOf("Firefox") > -1;
            i.onEdge = i.u.indexOf("Edge") > -1;
            i.onMiniGame = i.u.indexOf("MiniGame") > -1;
            i.onBDMiniGame = i.u.indexOf("SwanGame") > -1;
            i.onHWMiniGame = laya.utils.Browser.window.hasOwnProperty("hbs");
            if (i.u.indexOf("OPPO") > -1 && i.u.indexOf("MiniGame") > -1) {
                i.onQGMiniGame = true;
                i.onMiniGame = false
            }
            if (laya.utils.Browser.window.hasOwnProperty("bl") && i.u.indexOf("MiniGame") > -1) {
                i.onBLMiniGame = true;
                i.onMiniGame = false
            }
            if (laya.utils.Browser.window.hasOwnProperty("qq") && i.u.indexOf("MiniGame") > -1) {
                i.onQQMiniGame = true;
                i.onMiniGame = false
            }
            if (laya.utils.Browser.window.hasOwnProperty("tt") && i.u.indexOf("MiniGame") > -1) {
                i.onTTMiniGame = true;
                i.onMiniGame = false
            }
            if (i.u.indexOf("VVGame") > -1)
                i.onVVMiniGame = true;
            i.onKGMiniGame = i.u.indexOf("QuickGame") > -1;
            i.onLimixiu = i.u.indexOf("limixiu") > -1;
            i.onIPhoneX = /iPhone/gi.test(i.window.navigator.userAgent) && (Math.min(i.clientHeight, i.clientWidth) == 375 && Math.max(i.clientHeight, i.clientWidth) == 812);
            i.httpProtocol = i.window.location.protocol == "http:";
            if (i.u.indexOf("AlipayMiniGame") > -1) {
                i.onAlipayMiniGame = true;
                i.onMiniGame = false
            }
            if (i.onMiniGame && i.window.focus == null) {
                console.error("请先初始化小游戏适配库，详细教程https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0")
            }
            i.webAudioEnabled = i.window["AudioContext"] || i.window["webkitAudioContext"] || i.window["mozAudioContext"] ? true : false;
            i.soundType = i.webAudioEnabled ? "WEBAUDIOSOUND" : "AUDIOSOUND";
            un = i.webAudioEnabled ? cn : ln;
            if (i.webAudioEnabled)
                cn.initWebAudio();
            ln._initMusicAudio();
            i.enableTouch = "ontouchstart"in a || a.DocumentTouch && e instanceof DocumentTouch;
            a.focus();
            Re._soundClass = un;
            Re._musicClass = ln;
            Be._mainCanvas = Be._mainCanvas || Ss.create("2D");
            if (i.canvas)
                return;
            i.canvas = Ss.create("2D");
            i.context = i.canvas.getContext("2d")
        }
        ;
        i._onMessage = function(t) {
            if (!t.data)
                return;
            if (t.data.name == "size") {
                i.window.innerWidth = t.data.width;
                i.window.innerHeight = t.data.height;
                i.window.__innerHeight = t.data.clientHeight;
                if (!i.document.createEvent) {
                    console.warn("no document.createEvent");
                    return
                }
                var e = i.document.createEvent("HTMLEvents");
                e.initEvent("resize", false, false);
                i.window.dispatchEvent(e);
                return
            }
        }
        ;
        i.createElement = function(t) {
            i.__init__();
            return i.document.__createElement(t)
        }
        ;
        i.getElementById = function(t) {
            i.__init__();
            return i.document.getElementById(t)
        }
        ;
        i.removeElement = function(t) {
            if (t && t.parentNode)
                t.parentNode.removeChild(t)
        }
        ;
        i.now = function() {
            return G.now()
        }
        ;
        i._window = null;
        i._document = null;
        i._container = null;
        i.userAgent = null;
        i.u = null;
        i.onIOS = false;
        i.onMac = false;
        i.onMobile = false;
        i.onIPhone = false;
        i.onIPad = false;
        i.onAndroid = false;
        i.onWP = false;
        i.onQQBrowser = false;
        i.onMQQBrowser = false;
        i.onSafari = false;
        i.onFirefox = false;
        i.onEdge = false;
        i.onIE = false;
        i.onWeiXin = false;
        i.onMiniGame = false;
        i.onTTMiniGame = false;
        i.onBDMiniGame = false;
        i.onKGMiniGame = false;
        i.onQGMiniGame = false;
        i.onVVMiniGame = false;
        i.onQQMiniGame = false;
        i.onLimixiu = false;
        i.onBLMiniGame = false;
        i.onAlipayMiniGame = false;
        i.onTTMiniGame = false;
        i.onHWMiniGame = false;
        i.onPC = false;
        i.httpProtocol = false;
        i.webAudioEnabled = false;
        i.soundType = null;
        i.enableTouch = false;
        i.canvas = null;
        i.context = null;
        i.onIPhoneX = false;
        i.__init$ = function() {
            ln;
            cn
        }
        ;
        return i
    }();
    var ze = function() {
        function s() {}
        x(s, "laya.utils.CacheManager");
        s.regCacheByFunction = function(t, e) {
            s.unRegCacheByFunction(t, e);
            var i;
            i = {
                tryDispose: t,
                getCacheList: e
            };
            s._cacheList.push(i)
        }
        ;
        s.unRegCacheByFunction = function(t, e) {
            var i = 0
              , n = 0;
            n = s._cacheList.length;
            for (i = 0; i < n; i++) {
                if (s._cacheList[i].tryDispose == t && s._cacheList[i].getCacheList == e) {
                    s._cacheList.splice(i, 1);
                    return
                }
            }
        }
        ;
        s.forceDispose = function() {
            var t = 0
              , e = s._cacheList.length;
            for (t = 0; t < e; t++) {
                s._cacheList[t].tryDispose(true)
            }
        }
        ;
        s.beginCheck = function(t) {
            t === void 0 && (t = 15e3);
            st.timer.loop(t, null, s._checkLoop)
        }
        ;
        s.stopCheck = function() {
            st.timer.clear(null, s._checkLoop)
        }
        ;
        s._checkLoop = function() {
            var t = s._cacheList;
            if (t.length < 1)
                return;
            var e = He.now();
            var i = 0;
            var n = 0;
            n = i = t.length;
            while (i > 0) {
                s._index++;
                s._index = s._index % n;
                t[s._index].tryDispose(false);
                if (He.now() - e > s.loopTimeLimit)
                    break;
                i--
            }
        }
        ;
        s.loopTimeLimit = 2;
        s._cacheList = [];
        s._index = 0;
        return s
    }();
    var Je = function() {
        function d() {}
        x(d, "laya.utils.ClassUtils");
        d.regClass = function(t, e) {
            d._classMap[t] = e
        }
        ;
        d.getRegClass = function(t) {
            return d._classMap[t]
        }
        ;
        d.getInstance = function(t) {
            var e = d.getClass(t);
            if (e)
                return new e;
            else
                console.warn("[error] Undefined class:", t);
            return null
        }
        ;
        d.createByJson = function(t, e, i, n, s) {
            if (typeof t == "string")
                t = JSON.parse(t);
            var r = t.props;
            if (!e) {
                e = s ? s.runWith(t) : d.getInstance(r.runtime || t.type);
                if (!e)
                    return null
            }
            var a = t.child;
            if (a) {
                for (var o = 0, l = a.length; o < l; o++) {
                    var h = a[o];
                    if ((h.props.name === "render" || h.props.renderType === "render") && e["_$set_itemRender"])
                        e.itemRender = h;
                    else {
                        if (h.type == "Graphic") {
                            d.addGraphicsToSprite(h, e)
                        } else if (d.isDrawType(h.type)) {
                            d.addGraphicToSprite(h, e, true)
                        } else {
                            var u = d.createByJson(h, null, i, n, s);
                            if (h.type == "Script") {
                                if (u.hasOwnProperty("owner")) {
                                    u["owner"] = e
                                } else if (u.hasOwnProperty("target")) {
                                    u["target"] = e
                                }
                            } else if (h.props.renderType == "mask") {
                                e.mask = u
                            } else {
                                e.addChild(u)
                            }
                        }
                    }
                }
            }
            if (r) {
                for (var c in r) {
                    var f = r[c];
                    if (c === "var" && i) {
                        i[f] = e
                    } else if (f instanceof Array && typeof e[c] == "function") {
                        e[c].apply(e, f)
                    } else {
                        e[c] = f
                    }
                }
            }
            if (n && t.customProps) {
                n.runWith([e, t])
            }
            if (e["created"])
                e.created();
            return e
        }
        ;
        d.addGraphicsToSprite = function(t, e) {
            var i;
            i = t.child;
            if (!i || i.length < 1)
                return;
            var n;
            n = d._getGraphicsFromSprite(t, e);
            var s = 0;
            var r = 0;
            if (t.props) {
                s = d._getObjVar(t.props, "x", 0);
                r = d._getObjVar(t.props, "y", 0)
            }
            if (s != 0 && r != 0) {
                n.translate(s, r)
            }
            var a = 0
              , o = 0;
            o = i.length;
            for (a = 0; a < o; a++) {
                d._addGraphicToGraphics(i[a], n)
            }
            if (s != 0 && r != 0) {
                n.translate(-s, -r)
            }
        }
        ;
        d.addGraphicToSprite = function(t, e, i) {
            i === void 0 && (i = false);
            var n;
            n = i ? d._getGraphicsFromSprite(t, e) : e.graphics;
            d._addGraphicToGraphics(t, n)
        }
        ;
        d._getGraphicsFromSprite = function(t, e) {
            var i;
            if (!t || !t.props)
                return e.graphics;
            var n;
            n = t.props.renderType;
            switch (n) {
            case "hit":
            case "unHit":
                ;var s;
                if (!e.hitArea) {
                    e.hitArea = new w
                }
                s = e.hitArea;
                if (!s[n]) {
                    s[n] = new S
                }
                i = s[n];
                break;
            default:
            }
            if (!i)
                i = e.graphics;
            return i
        }
        ;
        d._getTransformData = function(t) {
            var e;
            if (t.hasOwnProperty("pivotX") || t.hasOwnProperty("pivotY")) {
                e = e || new Ce;
                e.translate(-d._getObjVar(t, "pivotX", 0), -d._getObjVar(t, "pivotY", 0))
            }
            var i = d._getObjVar(t, "scaleX", 1)
              , n = d._getObjVar(t, "scaleY", 1);
            var s = d._getObjVar(t, "rotation", 0);
            var r = d._getObjVar(t, "skewX", 0);
            var a = d._getObjVar(t, "skewY", 0);
            if (i != 1 || n != 1 || s != 0) {
                e = e || new Ce;
                e.scale(i, n);
                e.rotate(s * .0174532922222222)
            }
            return e
        }
        ;
        d._addGraphicToGraphics = function(t, e) {
            var i;
            i = t.props;
            if (!i)
                return;
            var n;
            n = d.DrawTypeDic[t.type];
            if (!n)
                return;
            var s;
            s = e;
            var r;
            var a = d._getParams(i, n[1], n[2], n[3]);
            r = d._tM;
            if (r || d._alpha != 1) {
                s.save();
                if (r)
                    s.transform(r);
                if (d._alpha != 1)
                    s.alpha(d._alpha)
            }
            s[n[0]].apply(s, a);
            if (r || d._alpha != 1) {
                s.restore()
            }
        }
        ;
        d._adptLineData = function(t) {
            t[2] = parseFloat(t[0]) + parseFloat(t[2]);
            t[3] = parseFloat(t[1]) + parseFloat(t[3]);
            return t
        }
        ;
        d._adptTextureData = function(t) {
            t[0] = fn.getRes(t[0]);
            return t
        }
        ;
        d._adptLinesData = function(t) {
            t[2] = d._getPointListByStr(t[2]);
            return t
        }
        ;
        d.isDrawType = function(t) {
            if (t == "Image")
                return false;
            return d.DrawTypeDic.hasOwnProperty(t)
        }
        ;
        d._getParams = function(t, e, i, n) {
            i === void 0 && (i = 0);
            var s;
            s = d._temParam;
            s.length = e.length;
            var r = 0
              , a = 0;
            a = e.length;
            for (r = 0; r < a; r++) {
                s[r] = d._getObjVar(t, e[r][0], e[r][1])
            }
            d._alpha = d._getObjVar(t, "alpha", 1);
            var o;
            o = d._getTransformData(t);
            if (o) {
                if (!i)
                    i = 0;
                o.translate(s[i], s[i + 1]);
                s[i] = s[i + 1] = 0;
                d._tM = o
            } else {
                d._tM = null
            }
            if (n && d[n]) {
                s = d[n](s)
            }
            return s
        }
        ;
        d._getPointListByStr = function(t) {
            var e;
            e = t.split(",");
            var i = 0
              , n = 0;
            n = e.length;
            for (i = 0; i < n; i++) {
                e[i] = parseFloat(e[i])
            }
            return e
        }
        ;
        d._getObjVar = function(t, e, i) {
            if (t.hasOwnProperty(e)) {
                return t[e]
            }
            return i
        }
        ;
        d._temParam = [];
        d._classMap = {
            Sprite: "laya.display.Sprite",
            Text: "laya.display.Text",
            Animation: "laya.display.Animation",
            Skeleton: "laya.ani.bone.Skeleton",
            Particle2D: "laya.particle.Particle2D",
            div: "laya.html.dom.HTMLDivElement",
            p: "laya.html.dom.HTMLElement",
            img: "laya.html.dom.HTMLImageElement",
            span: "laya.html.dom.HTMLElement",
            br: "laya.html.dom.HTMLBrElement",
            style: "laya.html.dom.HTMLStyleElement",
            font: "laya.html.dom.HTMLElement",
            a: "laya.html.dom.HTMLElement",
            "#text": "laya.html.dom.HTMLElement"
        };
        d.getClass = function(t) {
            var e = d._classMap[t] || t;
            if (typeof e == "string")
                return st["__classmap"][e];
            return e
        }
        ;
        d._tM = null;
        d._alpha = NaN;
        u(d, ["DrawTypeDic", function() {
            return this.DrawTypeDic = {
                Rect: ["drawRect", [["x", 0], ["y", 0], ["width", 0], ["height", 0], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]]],
                Circle: ["drawCircle", [["x", 0], ["y", 0], ["radius", 0], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]]],
                Pie: ["drawPie", [["x", 0], ["y", 0], ["radius", 0], ["startAngle", 0], ["endAngle", 0], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]]],
                Image: ["drawTexture", [["x", 0], ["y", 0], ["width", 0], ["height", 0]]],
                Texture: ["drawTexture", [["skin", null], ["x", 0], ["y", 0], ["width", 0], ["height", 0]], 1, "_adptTextureData"],
                FillTexture: ["fillTexture", [["skin", null], ["x", 0], ["y", 0], ["width", 0], ["height", 0], ["repeat", null]], 1, "_adptTextureData"],
                FillText: ["fillText", [["text", ""], ["x", 0], ["y", 0], ["font", null], ["color", null], ["textAlign", null]], 1],
                Line: ["drawLine", [["x", 0], ["y", 0], ["toX", 0], ["toY", 0], ["lineColor", null], ["lineWidth", 0]], 0, "_adptLineData"],
                Lines: ["drawLines", [["x", 0], ["y", 0], ["points", ""], ["lineColor", null], ["lineWidth", 0]], 0, "_adptLinesData"],
                Curves: ["drawCurves", [["x", 0], ["y", 0], ["points", ""], ["lineColor", null], ["lineWidth", 0]], 0, "_adptLinesData"],
                Poly: ["drawPoly", [["x", 0], ["y", 0], ["points", ""], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]], 0, "_adptLinesData"]
            }
        }
        ]);
        return d
    }();
    var je = function() {
        function a(t) {
            this._color = [];
            if (typeof t == "string") {
                this.strColor = t;
                if (t === null)
                    t = "#000000";
                t.charAt(0) == "#" && (t = t.substr(1));
                var e = t.length;
                if (e == 3 || e == 4) {
                    var i = "";
                    for (var n = 0; n < e; n++) {
                        i += t[n] + t[n]
                    }
                    t = i
                }
                var s = this.numColor = parseInt(t, 16);
                var r = t.length == 8;
                if (r) {
                    this._color = [parseInt(t.substr(0, 2), 16) / 255, ((16711680 & s) >> 16) / 255, ((65280 & s) >> 8) / 255, (255 & s) / 255];
                    return
                }
            } else {
                s = this.numColor = t;
                this.strColor = ai.toHexColor(s)
            }
            this._color = [((16711680 & s) >> 16) / 255, ((65280 & s) >> 8) / 255, (255 & s) / 255, 1];
            this._color.__id = ++a._COLODID
        }
        x(a, "laya.utils.Color");
        a._initDefault = function() {
            a._DEFAULT = {};
            for (var t in a._COLOR_MAP)
                a._SAVE[t] = a._DEFAULT[t] = new a(a._COLOR_MAP[t]);
            return a._DEFAULT
        }
        ;
        a._initSaveMap = function() {
            a._SAVE_SIZE = 0;
            a._SAVE = {};
            for (var t in a._DEFAULT)
                a._SAVE[t] = a._DEFAULT[t]
        }
        ;
        a.create = function(t) {
            var e = a._SAVE[t + ""];
            if (e != null)
                return e;
            a._SAVE_SIZE < 1e3 || a._initSaveMap();
            return a._SAVE[t + ""] = new a(t)
        }
        ;
        a._SAVE = {};
        a._SAVE_SIZE = 0;
        a._COLOR_MAP = {
            white: "#FFFFFF",
            red: "#FF0000",
            green: "#00FF00",
            blue: "#0000FF",
            black: "#000000",
            yellow: "#FFFF00",
            gray: "#AAAAAA"
        };
        a._DEFAULT = a._initDefault();
        a._COLODID = 1;
        return a
    }();
    var Ke = function() {
        function t() {
            this._values = [];
            this._keys = []
        }
        x(t, "laya.utils.Dictionary");
        var e = t.prototype;
        e.set = function(t, e) {
            var i = this.indexOf(t);
            if (i >= 0) {
                this._values[i] = e;
                return
            }
            this._keys.push(t);
            this._values.push(e)
        }
        ;
        e.indexOf = function(t) {
            var e = this._keys.indexOf(t);
            if (e >= 0)
                return e;
            t = typeof t == "string" ? Number(t) : typeof t == "number" ? t.toString() : t;
            return this._keys.indexOf(t)
        }
        ;
        e.get = function(t) {
            var e = this.indexOf(t);
            return e < 0 ? null : this._values[e]
        }
        ;
        e.remove = function(t) {
            var e = this.indexOf(t);
            if (e >= 0) {
                this._keys.splice(e, 1);
                this._values.splice(e, 1);
                return true
            }
            return false
        }
        ;
        e.clear = function() {
            this._values.length = 0;
            this._keys.length = 0
        }
        ;
        p(0, e, "values", function() {
            return this._values
        });
        p(0, e, "keys", function() {
            return this._keys
        });
        return t
    }();
    var Qe = function() {
        function t() {
            this.ratio = .92;
            this.maxOffset = 60;
            this._dragging = false;
            this._clickOnly = true
        }
        x(t, "laya.utils.Dragging");
        var e = t.prototype;
        e.start = function(t, e, i, n, s, r, a, o) {
            o === void 0 && (o = .92);
            this.clearTimer();
            this.target = t;
            this.area = e;
            this.hasInertia = i;
            this.elasticDistance = e ? n : 0;
            this.elasticBackTime = s;
            this.data = r;
            this._disableMouseEvent = a;
            this.ratio = o;
            this._parent = t.parent;
            this._clickOnly = true;
            this._dragging = true;
            this._elasticRateX = this._elasticRateY = 1;
            this._lastX = this._parent.mouseX;
            this._lastY = this._parent.mouseY;
            st.stage.on("mouseup", this, this.onStageMouseUp);
            st.stage.on("mouseout", this, this.onStageMouseUp);
            st.timer.frameLoop(1, this, this.loop)
        }
        ;
        e.clearTimer = function() {
            st.timer.clear(this, this.loop);
            st.timer.clear(this, this.tweenMove);
            if (this._tween) {
                this._tween.recover();
                this._tween = null
            }
        }
        ;
        e.stop = function() {
            if (this._dragging) {
                he.instance.disableMouseEvent = false;
                st.stage.off("mouseup", this, this.onStageMouseUp);
                st.stage.off("mouseout", this, this.onStageMouseUp);
                this._dragging = false;
                this.target && this.area && this.backToArea();
                this.clear()
            }
        }
        ;
        e.loop = function() {
            var t = this._parent.getMousePoint();
            var e = t.x;
            var i = t.y;
            var n = e - this._lastX;
            var s = i - this._lastY;
            if (this._clickOnly) {
                if (Math.abs(n * st.stage._canvasTransform.getScaleX()) > 1 || Math.abs(s * st.stage._canvasTransform.getScaleY()) > 1) {
                    this._clickOnly = false;
                    this._offsets || (this._offsets = []);
                    this._offsets.length = 0;
                    this.target.event("dragstart", this.data);
                    he.instance.disableMouseEvent = this._disableMouseEvent;
                    this.target._set$P("$_MOUSEDOWN", false)
                } else
                    return
            } else {
                this._offsets.push(n, s)
            }
            if (n === 0 && s === 0)
                return;
            this._lastX = e;
            this._lastY = i;
            this.target.x += n * this._elasticRateX;
            this.target.y += s * this._elasticRateY;
            this.area && this.checkArea();
            this.target.event("dragmove", this.data)
        }
        ;
        e.checkArea = function() {
            if (this.elasticDistance <= 0) {
                this.backToArea()
            } else {
                if (this.target.x < this.area.x) {
                    var t = this.area.x - this.target.x
                } else if (this.target.x > this.area.x + this.area.width) {
                    t = this.target.x - this.area.x - this.area.width
                } else {
                    t = 0
                }
                this._elasticRateX = Math.max(0, 1 - t / this.elasticDistance);
                if (this.target.y < this.area.y) {
                    var e = this.area.y - this.target.y
                } else if (this.target.y > this.area.y + this.area.height) {
                    e = this.target.y - this.area.y - this.area.height
                } else {
                    e = 0
                }
                this._elasticRateY = Math.max(0, 1 - e / this.elasticDistance)
            }
        }
        ;
        e.backToArea = function() {
            this.target.x = Math.min(Math.max(this.target.x, this.area.x), this.area.x + this.area.width);
            this.target.y = Math.min(Math.max(this.target.y, this.area.y), this.area.y + this.area.height)
        }
        ;
        e.onStageMouseUp = function(t) {
            he.instance.disableMouseEvent = false;
            st.stage.off("mouseup", this, this.onStageMouseUp);
            st.stage.off("mouseout", this, this.onStageMouseUp);
            st.timer.clear(this, this.loop);
            if (this._clickOnly || !this.target)
                return;
            if (this.hasInertia) {
                if (this._offsets.length < 1) {
                    this._offsets.push(this._parent.mouseX - this._lastX, this._parent.mouseY - this._lastY)
                }
                this._offsetX = this._offsetY = 0;
                var e = this._offsets.length;
                var i = Math.min(e, 6);
                var n = this._offsets.length - i;
                for (var s = e - 1; s > n; s--) {
                    this._offsetY += this._offsets[s--];
                    this._offsetX += this._offsets[s]
                }
                this._offsetX = this._offsetX / i * 2;
                this._offsetY = this._offsetY / i * 2;
                if (Math.abs(this._offsetX) > this.maxOffset)
                    this._offsetX = this._offsetX > 0 ? this.maxOffset : -this.maxOffset;
                if (Math.abs(this._offsetY) > this.maxOffset)
                    this._offsetY = this._offsetY > 0 ? this.maxOffset : -this.maxOffset;
                st.timer.frameLoop(1, this, this.tweenMove)
            } else if (this.elasticDistance > 0) {
                this.checkElastic()
            } else {
                this.clear()
            }
        }
        ;
        e.checkElastic = function() {
            var t = NaN;
            var e = NaN;
            if (this.target.x < this.area.x)
                t = this.area.x;
            else if (this.target.x > this.area.x + this.area.width)
                t = this.area.x + this.area.width;
            if (this.target.y < this.area.y)
                e = this.area.y;
            else if (this.target.y > this.area.y + this.area.height)
                e = this.area.y + this.area.height;
            if (!isNaN(t) || !isNaN(e)) {
                var i = {};
                if (!isNaN(t))
                    i.x = t;
                if (!isNaN(e))
                    i.y = e;
                this._tween = ri.to(this.target, i, this.elasticBackTime, qe.sineOut, b.create(this, this.clear), 0, false, false)
            } else {
                this.clear()
            }
        }
        ;
        e.tweenMove = function() {
            this._offsetX *= this.ratio * this._elasticRateX;
            this._offsetY *= this.ratio * this._elasticRateY;
            this.target.x += this._offsetX;
            this.target.y += this._offsetY;
            this.area && this.checkArea();
            this.target.event("dragmove", this.data);
            if (Math.abs(this._offsetX) < 1 && Math.abs(this._offsetY) < 1 || this._elasticRateX < .5 || this._elasticRateY < .5) {
                st.timer.clear(this, this.tweenMove);
                if (this.elasticDistance > 0)
                    this.checkElastic();
                else
                    this.clear()
            }
        }
        ;
        e.clear = function() {
            if (this.target) {
                this.clearTimer();
                var t = this.target;
                this.target = null;
                this._parent = null;
                t.event("dragend", this.data)
            }
        }
        ;
        return t
    }();
    var qe = function() {
        function o() {}
        x(o, "laya.utils.Ease");
        o.linearNone = function(t, e, i, n) {
            return i * t / n + e
        }
        ;
        o.linearIn = function(t, e, i, n) {
            return i * t / n + e
        }
        ;
        o.linearInOut = function(t, e, i, n) {
            return i * t / n + e
        }
        ;
        o.linearOut = function(t, e, i, n) {
            return i * t / n + e
        }
        ;
        o.bounceIn = function(t, e, i, n) {
            return i - o.bounceOut(n - t, 0, i, n) + e
        }
        ;
        o.bounceInOut = function(t, e, i, n) {
            if (t < n * .5)
                return o.bounceIn(t * 2, 0, i, n) * .5 + e;
            else
                return o.bounceOut(t * 2 - n, 0, i, n) * .5 + i * .5 + e
        }
        ;
        o.bounceOut = function(t, e, i, n) {
            if ((t /= n) < 1 / 2.75)
                return i * (7.5625 * t * t) + e;
            else if (t < 2 / 2.75)
                return i * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + e;
            else if (t < 2.5 / 2.75)
                return i * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + e;
            else
                return i * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + e
        }
        ;
        o.backIn = function(t, e, i, n, s) {
            s === void 0 && (s = 1.70158);
            return i * (t /= n) * t * ((s + 1) * t - s) + e
        }
        ;
        o.backInOut = function(t, e, i, n, s) {
            s === void 0 && (s = 1.70158);
            if ((t /= n * .5) < 1)
                return i * .5 * (t * t * (((s *= 1.525) + 1) * t - s)) + e;
            return i / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + e
        }
        ;
        o.backOut = function(t, e, i, n, s) {
            s === void 0 && (s = 1.70158);
            return i * ((t = t / n - 1) * t * ((s + 1) * t + s) + 1) + e
        }
        ;
        o.elasticIn = function(t, e, i, n, s, r) {
            s === void 0 && (s = 0);
            r === void 0 && (r = 0);
            var a;
            if (t == 0)
                return e;
            if ((t /= n) == 1)
                return e + i;
            if (!r)
                r = n * .3;
            if (!s || i > 0 && s < i || i < 0 && s < -i) {
                s = i;
                a = r / 4
            } else
                a = r / o.PI2 * Math.asin(i / s);
            return -(s * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - a) * o.PI2 / r)) + e
        }
        ;
        o.elasticInOut = function(t, e, i, n, s, r) {
            s === void 0 && (s = 0);
            r === void 0 && (r = 0);
            var a;
            if (t == 0)
                return e;
            if ((t /= n * .5) == 2)
                return e + i;
            if (!r)
                r = n * (.3 * 1.5);
            if (!s || i > 0 && s < i || i < 0 && s < -i) {
                s = i;
                a = r / 4
            } else
                a = r / o.PI2 * Math.asin(i / s);
            if (t < 1)
                return -.5 * (s * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - a) * o.PI2 / r)) + e;
            return s * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * n - a) * o.PI2 / r) * .5 + i + e
        }
        ;
        o.elasticOut = function(t, e, i, n, s, r) {
            s === void 0 && (s = 0);
            r === void 0 && (r = 0);
            var a;
            if (t == 0)
                return e;
            if ((t /= n) == 1)
                return e + i;
            if (!r)
                r = n * .3;
            if (!s || i > 0 && s < i || i < 0 && s < -i) {
                s = i;
                a = r / 4
            } else
                a = r / o.PI2 * Math.asin(i / s);
            return s * Math.pow(2, -10 * t) * Math.sin((t * n - a) * o.PI2 / r) + i + e
        }
        ;
        o.strongIn = function(t, e, i, n) {
            return i * (t /= n) * t * t * t * t + e
        }
        ;
        o.strongInOut = function(t, e, i, n) {
            if ((t /= n * .5) < 1)
                return i * .5 * t * t * t * t * t + e;
            return i * .5 * ((t -= 2) * t * t * t * t + 2) + e
        }
        ;
        o.strongOut = function(t, e, i, n) {
            return i * ((t = t / n - 1) * t * t * t * t + 1) + e
        }
        ;
        o.sineInOut = function(t, e, i, n) {
            return -i * .5 * (Math.cos(Math.PI * t / n) - 1) + e
        }
        ;
        o.sineIn = function(t, e, i, n) {
            return -i * Math.cos(t / n * o.HALF_PI) + i + e
        }
        ;
        o.sineOut = function(t, e, i, n) {
            return i * Math.sin(t / n * o.HALF_PI) + e
        }
        ;
        o.quintIn = function(t, e, i, n) {
            return i * (t /= n) * t * t * t * t + e
        }
        ;
        o.quintInOut = function(t, e, i, n) {
            if ((t /= n * .5) < 1)
                return i * .5 * t * t * t * t * t + e;
            return i * .5 * ((t -= 2) * t * t * t * t + 2) + e
        }
        ;
        o.quintOut = function(t, e, i, n) {
            return i * ((t = t / n - 1) * t * t * t * t + 1) + e
        }
        ;
        o.quartIn = function(t, e, i, n) {
            return i * (t /= n) * t * t * t + e
        }
        ;
        o.quartInOut = function(t, e, i, n) {
            if ((t /= n * .5) < 1)
                return i * .5 * t * t * t * t + e;
            return -i * .5 * ((t -= 2) * t * t * t - 2) + e
        }
        ;
        o.quartOut = function(t, e, i, n) {
            return -i * ((t = t / n - 1) * t * t * t - 1) + e
        }
        ;
        o.cubicIn = function(t, e, i, n) {
            return i * (t /= n) * t * t + e
        }
        ;
        o.cubicInOut = function(t, e, i, n) {
            if ((t /= n * .5) < 1)
                return i * .5 * t * t * t + e;
            return i * .5 * ((t -= 2) * t * t + 2) + e
        }
        ;
        o.cubicOut = function(t, e, i, n) {
            return i * ((t = t / n - 1) * t * t + 1) + e
        }
        ;
        o.quadIn = function(t, e, i, n) {
            return i * (t /= n) * t + e
        }
        ;
        o.quadInOut = function(t, e, i, n) {
            if ((t /= n * .5) < 1)
                return i * .5 * t * t + e;
            return -i * .5 * (--t * (t - 2) - 1) + e
        }
        ;
        o.quadOut = function(t, e, i, n) {
            return -i * (t /= n) * (t - 2) + e
        }
        ;
        o.expoIn = function(t, e, i, n) {
            return t == 0 ? e : i * Math.pow(2, 10 * (t / n - 1)) + e - i * .001
        }
        ;
        o.expoInOut = function(t, e, i, n) {
            if (t == 0)
                return e;
            if (t == n)
                return e + i;
            if ((t /= n * .5) < 1)
                return i * .5 * Math.pow(2, 10 * (t - 1)) + e;
            return i * .5 * (-Math.pow(2, -10 * --t) + 2) + e
        }
        ;
        o.expoOut = function(t, e, i, n) {
            return t == n ? e + i : i * (-Math.pow(2, -10 * t / n) + 1) + e
        }
        ;
        o.circIn = function(t, e, i, n) {
            return -i * (Math.sqrt(1 - (t /= n) * t) - 1) + e
        }
        ;
        o.circInOut = function(t, e, i, n) {
            if ((t /= n * .5) < 1)
                return -i * .5 * (Math.sqrt(1 - t * t) - 1) + e;
            return i * .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) + e
        }
        ;
        o.circOut = function(t, e, i, n) {
            return i * Math.sqrt(1 - (t = t / n - 1) * t) + e
        }
        ;
        o.HALF_PI = Math.PI * .5;
        o.PI2 = Math.PI * 2;
        return o
    }();
    var $e = function() {
        function s(t, e, i, n) {
            this.char = t;
            this.charNum = t.charCodeAt(0);
            this._x = this._y = 0;
            this.width = e;
            this.height = i;
            this.style = n;
            this.isWord = !s._isWordRegExp.test(t)
        }
        x(s, "laya.utils.HTMLChar");
        var t = s.prototype;
        st.imps(t, {
            "laya.display.ILayout": true
        });
        t.setSprite = function(t) {
            this._sprite = t
        }
        ;
        t.getSprite = function() {
            return this._sprite
        }
        ;
        t._isChar = function() {
            return true
        }
        ;
        t._getCSSStyle = function() {
            return this.style
        }
        ;
        p(0, t, "width", function() {
            return this._w
        }, function(t) {
            this._w = t
        });
        p(0, t, "x", function() {
            return this._x
        }, function(t) {
            if (this._sprite) {
                this._sprite.x = t
            }
            this._x = t
        });
        p(0, t, "y", function() {
            return this._y
        }, function(t) {
            if (this._sprite) {
                this._sprite.y = t
            }
            this._y = t
        });
        p(0, t, "height", function() {
            return this._h
        }, function(t) {
            this._h = t
        });
        s._isWordRegExp = new RegExp("[\\w.]","");
        return s
    }();
    var ti = function() {
        function e() {}
        x(e, "laya.utils.Mouse");
        p(1, e, "cursor", function() {
            return e._style.cursor
        }, function(t) {
            e._style.cursor = t
        });
        e.hide = function() {
            if (e.cursor != "none") {
                e._preCursor = e.cursor;
                e.cursor = "none"
            }
        }
        ;
        e.show = function() {
            if (e.cursor == "none") {
                if (e._preCursor) {
                    e.cursor = e._preCursor
                } else {
                    e.cursor = "auto"
                }
            }
        }
        ;
        e._preCursor = null;
        u(e, ["_style", function() {
            return this._style = He.document.body.style
        }
        ]);
        return e
    }();
    var ei = function() {
        function r() {}
        x(r, "laya.utils.Pool");
        r.getPoolBySign = function(t) {
            return r._poolDic[t] || (r._poolDic[t] = [])
        }
        ;
        r.clearBySign = function(t) {
            if (r._poolDic[t])
                r._poolDic[t].length = 0
        }
        ;
        r.recover = function(t, e) {
            if (e["__InPool"])
                return;
            e["__InPool"] = true;
            r.getPoolBySign(t).push(e)
        }
        ;
        r.getItemByClass = function(t, e) {
            var i = r.getPoolBySign(t);
            var n = i.length ? i.pop() : new e;
            n["__InPool"] = false;
            return n
        }
        ;
        r.getItemByCreateFun = function(t, e, i) {
            var n = r.getPoolBySign(t);
            var s = n.length ? n.pop() : e.call(i);
            s["__InPool"] = false;
            return s
        }
        ;
        r.getItem = function(t) {
            var e = r.getPoolBySign(t);
            var i = e.length ? e.pop() : null;
            if (i) {
                i["__InPool"] = false
            }
            return i
        }
        ;
        r._poolDic = {};
        r.InPoolSign = "__InPool";
        return r
    }();
    var ii = function() {
        function h() {}
        x(h, "laya.utils.Stat");
        p(1, h, "count", function() {
            return h._count
        });
        p(1, h, "onclick", null, function(t) {
            if (h._sp) {
                h._sp.on("click", h._sp, t)
            }
            if (h._canvas) {
                h._canvas.source.onclick = t;
                h._canvas.source.style.pointerEvents = ""
            }
        });
        h.show = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            if (Be.isConchApp && !Be.isConchWebGL) {
                He.window.conch.showFPS && He.window.conch.showFPS(t, e);
                return
            }
            if (!Be.isConchWebGL && !He.onMiniGame && !He.onLimixiu && !He.onKGMiniGame && !He.onBDMiniGame && !He.onTTMiniGame && !He.onQGMiniGame && !He.onVVMiniGame && !He.onBLMiniGame && !He.onAlipayMiniGame && !He.onQQMiniGame && !He.onTTMiniGame && !He.onHWMiniGame)
                h._useCanvas = true;
            h._show = true;
            h._fpsData.length = 60;
            h._view[0] = {
                title: "FPS(Canvas)",
                value: "_fpsStr",
                color: "yellow",
                units: "int"
            };
            h._view[1] = {
                title: "Sprite",
                value: "_spriteStr",
                color: "white",
                units: "int"
            };
            h._view[2] = {
                title: "DrawCall",
                value: "drawCall",
                color: "white",
                units: "int"
            };
            h._view[3] = {
                title: "CurMem",
                value: "currentMemorySize",
                color: "yellow",
                units: "M"
            };
            if (Be.isWebGL) {
                h._view[4] = {
                    title: "Shader",
                    value: "shaderCall",
                    color: "white",
                    units: "int"
                };
                if (!Be.is3DMode) {
                    h._view[0].title = "FPS(WebGL)";
                    h._view[5] = {
                        title: "Canvas",
                        value: "_canvasStr",
                        color: "white",
                        units: "int"
                    }
                } else {
                    h._view[0].title = "FPS(3D)";
                    h._view[5] = {
                        title: "TriFaces",
                        value: "trianglesFaces",
                        color: "white",
                        units: "int"
                    };
                    h._view[6] = {
                        title: "treeNodeColl",
                        value: "treeNodeCollision",
                        color: "white",
                        units: "int"
                    };
                    h._view[7] = {
                        title: "treeSpriteColl",
                        value: "treeSpriteCollision",
                        color: "white",
                        units: "int"
                    }
                }
            } else {
                h._view[4] = {
                    title: "Canvas",
                    value: "_canvasStr",
                    color: "white",
                    units: "int"
                }
            }
            if (h._useCanvas) {
                h.createUIPre(t, e)
            } else
                h.createUI(t, e);
            h.enable()
        }
        ;
        h.createUIPre = function(t, e) {
            var i = He.pixelRatio;
            if (st.stage.useRetinalCanvas) {
                i = 3
            }
            h._width = i * 130;
            h._vx = i * 75;
            h._height = i * (h._view.length * 12 + 3 * i) + 4;
            h._fontSize = 12 * i;
            for (var n = 0; n < h._view.length; n++) {
                h._view[n].x = 4;
                h._view[n].y = n * h._fontSize + 2 * i
            }
            if (!h._canvas) {
                h._canvas = new Ss("2D");
                h._canvas.size(h._width, h._height);
                h._ctx = h._canvas.getContext("2d");
                h._ctx.textBaseline = "top";
                h._ctx.font = h._fontSize + "px Sans-serif";
                h._canvas.source.style.cssText = "pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:" + t + "px;top:" + e + "px;width:" + h._width / i + "px;height:" + h._height / i + "px;"
            }
            h._first = true;
            h.loop();
            h._first = false;
            if (!He.onKGMiniGame) {
                He.container.appendChild(h._canvas.source)
            }
        }
        ;
        h.createUI = function(t, e) {
            var i = h._sp;
            var n = He.pixelRatio;
            if (st.stage.useRetinalCanvas) {
                n = 3
            }
            if (!i) {
                i = new Dn;
                h._leftText = new hs;
                h._leftText.pos(5, 5);
                h._leftText.color = "#ffffff";
                i.addChild(h._leftText);
                h._txt = new hs;
                h._txt.pos(80 * n, 5);
                h._txt.color = "#ffffff";
                i.addChild(h._txt);
                h._sp = i
            }
            i.pos(t, e);
            var s = "";
            for (var r = 0; r < h._view.length; r++) {
                var a = h._view[r];
                s += a.title + "\n"
            }
            h._leftText.text = s;
            var o = n * 138;
            var l = n * (h._view.length * 12 + 3 * n) + 4;
            h._txt.fontSize = h._fontSize * n;
            h._leftText.fontSize = h._fontSize * n;
            i.size(o, l);
            i.graphics.clear();
            i.graphics.setAlpha(.5);
            i.graphics.drawRect(0, 0, o, l, "#999999");
            i.graphics.setAlpha(1);
            h.loop()
        }
        ;
        h.enable = function() {
            st.timer.frameLoop(1, h, h.loop)
        }
        ;
        h.hide = function() {
            h._show = false;
            st.timer.clear(h, h.loop);
            if (h._canvas) {
                He.removeElement(h._canvas.source)
            }
        }
        ;
        h.clear = function() {
            h.trianglesFaces = h.drawCall = h.shaderCall = h.spriteCount = h.spriteRenderUseCacheCount = h.treeNodeCollision = h.treeSpriteCollision = h.canvasNormal = h.canvasBitmap = h.canvasReCache = 0
        }
        ;
        h.loop = function() {
            h._count++;
            var t = He.now();
            if (t - h._timer < 1e3)
                return;
            var e = h._count;
            h.FPS = Math.round(e * 1e3 / (t - h._timer));
            if (h._show) {
                h.trianglesFaces = Math.round(h.trianglesFaces / e);
                if (!h._useCanvas) {
                    h.drawCall = Math.round(h.drawCall / e) - 2;
                    h.shaderCall = Math.round(h.shaderCall / e) - 4;
                    h.spriteCount = Math.round(h.spriteCount / e) - 4
                } else {
                    h.drawCall = Math.round(h.drawCall / e) - 2;
                    h.shaderCall = Math.round(h.shaderCall / e);
                    h.spriteCount = Math.round(h.spriteCount / e) - 1
                }
                h.spriteRenderUseCacheCount = Math.round(h.spriteRenderUseCacheCount / e);
                h.canvasNormal = Math.round(h.canvasNormal / e);
                h.canvasBitmap = Math.round(h.canvasBitmap / e);
                h.canvasReCache = Math.ceil(h.canvasReCache / e);
                h.treeNodeCollision = Math.round(h.treeNodeCollision / e);
                h.treeSpriteCollision = Math.round(h.treeSpriteCollision / e);
                var i = h.FPS > 0 ? Math.floor(1e3 / h.FPS).toString() : " ";
                h._fpsStr = h.FPS + (h.renderSlow ? " slow" : "") + " " + i;
                h._spriteStr = h.spriteCount + (h.spriteRenderUseCacheCount ? "/" + h.spriteRenderUseCacheCount : "");
                h._canvasStr = h.canvasReCache + "/" + h.canvasNormal + "/" + h.canvasBitmap;
                h.currentMemorySize = Xe.systemResourceManager.memorySize;
                if (h._useCanvas) {
                    h.renderInfoPre()
                } else
                    h.renderInfo();
                h.clear()
            }
            h._count = 0;
            h._timer = t
        }
        ;
        h.renderInfoPre = function() {
            if (h._canvas) {
                var t = h._ctx;
                t.clearRect(h._first ? 0 : h._vx, 0, h._width, h._height);
                for (var e = 0; e < h._view.length; e++) {
                    var i = h._view[e];
                    if (h._first) {
                        t.fillStyle = "white";
                        t.fillText(i.title, i.x, i.y, null, null, null)
                    }
                    t.fillStyle = i.color;
                    var n = h[i.value];
                    i.units == "M" && (n = Math.floor(n / (1024 * 1024) * 100) / 100 + " M");
                    t.fillText(n + "", i.x + h._vx, i.y, null, null, null)
                }
            }
        }
        ;
        h.renderInfo = function() {
            var t = "";
            for (var e = 0; e < h._view.length; e++) {
                var i = h._view[e];
                var n = h[i.value];
                i.units == "M" && (n = Math.floor(n / (1024 * 1024) * 100) / 100 + " M");
                i.units == "K" && (n = Math.floor(n / 1024 * 100) / 100 + " K");
                t += n + "\n"
            }
            h._txt.text = t
        }
        ;
        h.FPS = 0;
        h.loopCount = 0;
        h.shaderCall = 0;
        h.drawCall = 0;
        h.trianglesFaces = 0;
        h.spriteCount = 0;
        h.spriteRenderUseCacheCount = 0;
        h.treeNodeCollision = 0;
        h.treeSpriteCollision = 0;
        h.canvasNormal = 0;
        h.canvasBitmap = 0;
        h.canvasReCache = 0;
        h.renderSlow = false;
        h.currentMemorySize = 0;
        h._fpsStr = null;
        h._canvasStr = null;
        h._spriteStr = null;
        h._fpsData = [];
        h._timer = 0;
        h._count = 0;
        h._view = [];
        h._fontSize = 12;
        h._txt = null;
        h._leftText = null;
        h._sp = null;
        h._show = false;
        h._useCanvas = false;
        h._canvas = null;
        h._ctx = null;
        h._first = false;
        h._vx = NaN;
        h._width = 0;
        h._height = 100;
        return h
    }();
    var ni = function() {
        function t() {
            this._strsToID = {};
            this._idToStrs = [];
            this._length = 0
        }
        x(t, "laya.utils.StringKey");
        var e = t.prototype;
        e.add = function(t) {
            var e = this._strsToID[t];
            if (e != null)
                return e;
            this._idToStrs[this._length] = t;
            return this._strsToID[t] = this._length++
        }
        ;
        e.getID = function(t) {
            var e = this._strsToID[t];
            return e == null ? -1 : e
        }
        ;
        e.getName = function(t) {
            var e = this._idToStrs[t];
            return e == null ? undefined : e
        }
        ;
        return t
    }();
    var si = function() {
        var l;
        function h() {
            this._delta = 0;
            this.scale = 1;
            this.currFrame = 0;
            this._mid = 1;
            this._map = {};
            this._laters = [];
            this._handlers = [];
            this._temp = [];
            this._count = 0;
            this.currTimer = this._now();
            this._lastTimer = this._now();
            this._init()
        }
        x(h, "laya.utils.Timer");
        var t = h.prototype;
        t._init = function() {
            st.timer && st.timer.frameLoop(1, this, this._update)
        }
        ;
        t._now = function() {
            return Date.now()
        }
        ;
        t._update = function() {
            if (this.scale <= 0) {
                this._lastTimer = this._now();
                return
            }
            var t = this.currFrame = this.currFrame + this.scale;
            var e = this._now();
            this._delta = (e - this._lastTimer) * this.scale;
            var i = this.currTimer = this.currTimer + this._delta;
            this._lastTimer = e;
            var n = this._handlers;
            this._count = 0;
            for (a = 0,
            o = n.length; a < o; a++) {
                l = n[a];
                if (l.method !== null) {
                    var s = l.userFrame ? t : i;
                    if (s >= l.exeTime) {
                        if (l.repeat) {
                            if (!l.jumpFrame) {
                                l.exeTime += l.delay;
                                l.run(false);
                                if (s > l.exeTime) {
                                    l.exeTime += Math.ceil((s - l.exeTime) / l.delay) * l.delay
                                }
                            } else {
                                while (s >= l.exeTime) {
                                    l.exeTime += l.delay;
                                    l.run(false)
                                }
                            }
                        } else {
                            l.run(true)
                        }
                    }
                } else {
                    this._count++
                }
            }
            if (this._count > 30 || t % 200 === 0)
                this._clearHandlers();
            var r = this._laters;
            for (var a = 0, o = r.length - 1; a <= o; a++) {
                var l = r[a];
                if (l.method !== null) {
                    this._map[l.key] = null;
                    delete this._map[l.key];
                    l.run(false)
                }
                this._recoverHandler(l);
                a === o && (o = r.length - 1)
            }
            r.length = 0
        }
        ;
        t._clearHandlers = function() {
            var t = this._handlers;
            for (var e = 0, i = t.length; e < i; e++) {
                var n = t[e];
                if (n.method !== null)
                    this._temp.push(n);
                else
                    this._recoverHandler(n)
            }
            this._handlers = this._temp;
            this._temp = t;
            this._temp.length = 0
        }
        ;
        t._recoverHandler = function(t) {
            if (this._map[t.key] == t) {
                this._map[t.key] = null;
                delete this._map[t.key]
            }
            t.clear();
            h._pool.push(t)
        }
        ;
        t._create = function(t, e, i, n, s, r, a) {
            if (!i) {
                s.apply(n, r);
                return null
            }
            if (a) {
                var o = this._getHandler(n, s);
                if (o) {
                    o.repeat = e;
                    o.userFrame = t;
                    o.delay = i;
                    o.caller = n;
                    o.method = s;
                    o.args = r;
                    o.exeTime = i + (t ? this.currFrame : this.currTimer + this._now() - this._lastTimer);
                    return o
                }
            }
            o = h._pool.length > 0 ? h._pool.pop() : new l;
            o.repeat = e;
            o.userFrame = t;
            o.delay = i;
            o.caller = n;
            o.method = s;
            o.args = r;
            o.exeTime = i + (t ? this.currFrame : this.currTimer + this._now() - this._lastTimer) + 1;
            this._indexHandler(o);
            this._handlers.push(o);
            return o
        }
        ;
        t._indexHandler = function(t) {
            var e = t.caller;
            var i = t.method;
            var n = e ? e.$_GID || (e.$_GID = ai.getGID() * 1e6) : 0;
            var s = i.$_TID || (i.$_TID = this._mid++);
            t.key = n + s;
            this._map[t.key] = t
        }
        ;
        t.once = function(t, e, i, n, s) {
            s === void 0 && (s = true);
            this._create(false, false, t, e, i, n, s)
        }
        ;
        t.loop = function(t, e, i, n, s, r) {
            s === void 0 && (s = true);
            r === void 0 && (r = false);
            var a = this._create(false, true, t, e, i, n, s);
            if (a)
                a.jumpFrame = r
        }
        ;
        t.frameOnce = function(t, e, i, n, s) {
            s === void 0 && (s = true);
            this._create(true, false, t, e, i, n, s)
        }
        ;
        t.frameLoop = function(t, e, i, n, s) {
            s === void 0 && (s = true);
            this._create(true, true, t, e, i, n, s)
        }
        ;
        t.toString = function() {
            return "callLater:" + this._laters.length + " handlers:" + this._handlers.length + " pool:" + h._pool.length
        }
        ;
        t.clear = function(t, e) {
            var i = this._getHandler(t, e);
            if (i) {
                this._map[i.key] = null;
                delete this._map[i.key];
                i.key = 0;
                i.clear()
            }
        }
        ;
        t.clearAll = function(t) {
            if (!t)
                return;
            for (var e = 0, i = this._handlers.length; e < i; e++) {
                var n = this._handlers[e];
                if (n.caller === t) {
                    this._map[n.key] = null;
                    delete this._map[n.key];
                    n.key = 0;
                    n.clear()
                }
            }
        }
        ;
        t._getHandler = function(t, e) {
            var i = t ? t.$_GID || (t.$_GID = ai.getGID() * 1e6) : 0;
            var n = e.$_TID || (e.$_TID = this._mid++);
            return this._map[i + n]
        }
        ;
        t.callLater = function(t, e, i) {
            if (this._getHandler(t, e) == null) {
                if (h._pool.length)
                    var n = h._pool.pop();
                else
                    n = new l;
                n.caller = t;
                n.method = e;
                n.args = i;
                this._indexHandler(n);
                this._laters.push(n)
            }
        }
        ;
        t.runCallLater = function(t, e) {
            var i = this._getHandler(t, e);
            if (i && i.method != null) {
                this._map[i.key] = null;
                delete this._map[i.key];
                i.run(true)
            }
        }
        ;
        t.runTimer = function(t, e) {
            this.runCallLater(t, e)
        }
        ;
        p(0, t, "delta", function() {
            return this._delta
        });
        h._pool = [];
        h.__init$ = function() {
            l = function() {
                function t() {
                    this.key = 0;
                    this.repeat = false;
                    this.delay = 0;
                    this.userFrame = false;
                    this.exeTime = 0;
                    this.caller = null;
                    this.method = null;
                    this.args = null;
                    this.jumpFrame = false
                }
                x(t, "");
                var e = t.prototype;
                e.clear = function() {
                    this.caller = null;
                    this.method = null;
                    this.args = null
                }
                ;
                e.run = function(t) {
                    var e = this.caller;
                    if (e && e.destroyed)
                        return this.clear();
                    var i = this.method;
                    var n = this.args;
                    t && this.clear();
                    if (i == null)
                        return;
                    n ? i.apply(e, n) : i.call(e)
                }
                ;
                return t
            }()
        }
        ;
        return h
    }();
    var ri = function() {
        function c() {
            this.gid = 0
        }
        x(c, "laya.utils.Tween");
        var t = c.prototype;
        t.to = function(t, e, i, n, s, r, a) {
            r === void 0 && (r = 0);
            a === void 0 && (a = false);
            return this._create(t, e, i, n, s, r, a, true, false, true)
        }
        ;
        t.from = function(t, e, i, n, s, r, a) {
            r === void 0 && (r = 0);
            a === void 0 && (a = false);
            return this._create(t, e, i, n, s, r, a, false, false, true)
        }
        ;
        t._create = function(t, e, i, n, s, r, a, o, l, h) {
            if (!t)
                throw new Error("Tween:target is null");
            this._target = t;
            this._duration = i;
            this._ease = n || e.ease || c.easeNone;
            this._complete = s || e.complete;
            this._delay = r;
            this._props = [];
            this._usedTimer = 0;
            this._startTimer = He.now();
            this._usedPool = l;
            this._delayParam = null;
            this.update = e.update;
            var u = t.$_GID || (t.$_GID = ai.getGID());
            if (!c.tweenMap[u]) {
                c.tweenMap[u] = [this]
            } else {
                if (a)
                    c.clearTween(t);
                c.tweenMap[u].push(this)
            }
            if (h) {
                if (r <= 0)
                    this.firstStart(t, e, o);
                else {
                    this._delayParam = [t, e, o];
                    st.scaleTimer.once(r, this, this.firstStart, this._delayParam)
                }
            } else {
                this._initProps(t, e, o)
            }
            return this
        }
        ;
        t.firstStart = function(t, e, i) {
            this._delayParam = null;
            if (t.destroyed) {
                this.clear();
                return
            }
            this._initProps(t, e, i);
            this._beginLoop()
        }
        ;
        t._initProps = function(t, e, i) {
            for (var n in e) {
                if (typeof t[n] == "number") {
                    var s = i ? t[n] : e[n];
                    var r = i ? e[n] : t[n];
                    this._props.push([n, s, r - s]);
                    if (!i)
                        t[n] = s
                }
            }
        }
        ;
        t._beginLoop = function() {
            st.scaleTimer.frameLoop(1, this, this._doEase)
        }
        ;
        t._doEase = function() {
            this._updateEase(He.now())
        }
        ;
        t._updateEase = function(t) {
            var e = this._target;
            if (!e)
                return;
            if (e.destroyed)
                return c.clearTween(e);
            var i = this._usedTimer = t - this._startTimer - this._delay;
            if (i < 0)
                return;
            if (i >= this._duration)
                return this.complete();
            var n = i > 0 ? this._ease(i, 0, 1, this._duration) : 0;
            var s = this._props;
            for (var r = 0, a = s.length; r < a; r++) {
                var o = s[r];
                e[o[0]] = o[1] + n * o[2]
            }
            if (this.update)
                this.update.run()
        }
        ;
        t.complete = function() {
            if (!this._target)
                return;
            st.scaleTimer.runTimer(this, this.firstStart);
            var t = this._target;
            var e = this._props;
            var i = this._complete;
            for (var n = 0, s = e.length; n < s; n++) {
                var r = e[n];
                t[r[0]] = r[1] + r[2]
            }
            if (this.update)
                this.update.run();
            this.clear();
            i && i.run()
        }
        ;
        t.pause = function() {
            st.scaleTimer.clear(this, this._beginLoop);
            st.scaleTimer.clear(this, this._doEase);
            st.scaleTimer.clear(this, this.firstStart);
            var t = He.now();
            var e = NaN;
            e = t - this._startTimer - this._delay;
            if (e < 0) {
                this._usedTimer = e
            }
        }
        ;
        t.setStartTime = function(t) {
            this._startTimer = t
        }
        ;
        t.clear = function() {
            if (this._target) {
                this._remove();
                this._clear()
            }
        }
        ;
        t._clear = function() {
            this.pause();
            st.scaleTimer.clear(this, this.firstStart);
            this._complete = null;
            this._target = null;
            this._ease = null;
            this._props = null;
            this._delayParam = null;
            if (this._usedPool) {
                this.update = null;
                ei.recover("tween", this)
            }
        }
        ;
        t.recover = function() {
            this._usedPool = true;
            this._clear()
        }
        ;
        t._remove = function() {
            var t = c.tweenMap[this._target.$_GID];
            if (t) {
                for (var e = 0, i = t.length; e < i; e++) {
                    if (t[e] === this) {
                        t.splice(e, 1);
                        break
                    }
                }
            }
        }
        ;
        t.restart = function() {
            this.pause();
            this._usedTimer = 0;
            this._startTimer = He.now();
            if (this._delayParam) {
                st.scaleTimer.once(this._delay, this, this.firstStart, this._delayParam);
                return
            }
            var t = this._props;
            for (var e = 0, i = t.length; e < i; e++) {
                var n = t[e];
                this._target[n[0]] = n[1]
            }
            st.scaleTimer.once(this._delay, this, this._beginLoop)
        }
        ;
        t.resume = function() {
            if (this._usedTimer >= this._duration)
                return;
            this._startTimer = He.now() - this._usedTimer - this._delay;
            if (this._delayParam) {
                if (this._usedTimer < 0) {
                    st.scaleTimer.once(-this._usedTimer, this, this.firstStart, this._delayParam)
                } else {
                    this.firstStart.apply(this, this._delayParam)
                }
            } else {
                this._beginLoop()
            }
        }
        ;
        p(0, t, "progress", null, function(t) {
            var e = t * this._duration;
            this._startTimer = He.now() - this._delay - e
        });
        c.to = function(t, e, i, n, s, r, a, o) {
            r === void 0 && (r = 0);
            a === void 0 && (a = false);
            o === void 0 && (o = true);
            return ei.getItemByClass("tween", c)._create(t, e, i, n, s, r, a, true, o, true)
        }
        ;
        c.from = function(t, e, i, n, s, r, a, o) {
            r === void 0 && (r = 0);
            a === void 0 && (a = false);
            o === void 0 && (o = true);
            return ei.getItemByClass("tween", c)._create(t, e, i, n, s, r, a, false, o, true)
        }
        ;
        c.clearAll = function(t) {
            if (!t || !t.$_GID)
                return;
            var e = c.tweenMap[t.$_GID];
            if (e) {
                for (var i = 0, n = e.length; i < n; i++) {
                    e[i]._clear()
                }
                e.length = 0
            }
        }
        ;
        c.clear = function(t) {
            t.clear()
        }
        ;
        c.clearTween = function(t) {
            c.clearAll(t)
        }
        ;
        c.easeNone = function(t, e, i, n) {
            return i * t / n + e
        }
        ;
        c.tweenMap = {};
        return c
    }();
    var ai = function() {
        function o() {}
        x(o, "laya.utils.Utils");
        o.bezier = function(t, e, i, n) {
            var s = 1 - t;
            var r = s * s * e.x + 2 * t * s * i.x + t * t * n.x;
            var a = s * s * e.y + 2 * t * s * i.y + t * t * n.y;
            return new Se(r,a)
        }
        ;
        o.toRadian = function(t) {
            return t * o._pi2
        }
        ;
        o.toAngle = function(t) {
            return t * o._pi
        }
        ;
        o.toHexColor = function(t) {
            if (t < 0 || isNaN(t))
                return null;
            var e = t.toString(16);
            while (e.length < 6)
                e = "0" + e;
            return "#" + e
        }
        ;
        o.getGID = function() {
            return o._gid++
        }
        ;
        o.concatArray = function(t, e) {
            if (!e)
                return t;
            if (!t)
                return e;
            var i = 0
              , n = e.length;
            for (i = 0; i < n; i++) {
                t.push(e[i])
            }
            return t
        }
        ;
        o.clearArray = function(t) {
            if (!t)
                return t;
            t.length = 0;
            return t
        }
        ;
        o.copyArray = function(t, e) {
            t || (t = []);
            if (!e)
                return t;
            t.length = e.length;
            var i = 0
              , n = e.length;
            for (i = 0; i < n; i++) {
                t[i] = e[i]
            }
            return t
        }
        ;
        o.getGlobalRecByPoints = function(t, e, i, n, s) {
            var r;
            r = new Se(e,i);
            r = t.localToGlobal(r);
            var a;
            a = new Se(n,s);
            a = t.localToGlobal(a);
            return Te._getWrapRec([r.x, r.y, a.x, a.y])
        }
        ;
        o.getGlobalPosAndScale = function(t) {
            return o.getGlobalRecByPoints(t, 0, 0, 1, 1)
        }
        ;
        o.bind = function(t, e) {
            var i = t;
            i = t.bind(e);
            return i
        }
        ;
        o.measureText = function(t, e) {
            return G.measureText(t, e)
        }
        ;
        o.updateOrder = function(t) {
            if (!t || t.length < 2)
                return false;
            var e = 1, i = 0, n = t.length, s = NaN, r;
            while (e < n) {
                i = e;
                r = t[i];
                s = t[i]._zOrder;
                while (--i > -1) {
                    if (t[i]._zOrder > s)
                        t[i + 1] = t[i];
                    else
                        break
                }
                t[i + 1] = r;
                e++
            }
            var a = r.parent.conchModel;
            if (a) {
                if (a.updateZOrder != null) {
                    a.updateZOrder()
                } else {
                    for (e = 0; e < n; e++) {
                        a.removeChild(t[e].conchModel)
                    }
                    for (e = 0; e < n; e++) {
                        a.addChildAt(t[e].conchModel, e)
                    }
                }
            }
            return true
        }
        ;
        o.transPointList = function(t, e, i) {
            var n = 0
              , s = t.length;
            for (n = 0; n < s; n += 2) {
                t[n] += e;
                t[n + 1] += i
            }
        }
        ;
        o.parseInt = function(t, e) {
            e === void 0 && (e = 0);
            var i = He.window.parseInt(t, e);
            if (isNaN(i))
                return 0;
            return i
        }
        ;
        o.getFileExtension = function(t) {
            o._extReg.lastIndex = t.lastIndexOf(".");
            var e = o._extReg.exec(t);
            if (e && e.length > 1) {
                return e[1].toLowerCase()
            }
            return null
        }
        ;
        o.getTransformRelativeToWindow = function(t, e, i) {
            var n = st.stage;
            var s = laya.utils.Utils.getGlobalPosAndScale(t);
            var r = n._canvasTransform.clone();
            var a = r.tx;
            var o = r.ty;
            r.rotate(-Math.PI / 180 * st.stage.canvasDegree);
            r.scale(st.stage.clientScaleX, st.stage.clientScaleY);
            var l = st.stage.canvasDegree % 180 != 0;
            var h = NaN
              , u = NaN;
            if (l) {
                h = i + s.y;
                u = e + s.x;
                h *= r.d;
                u *= r.a;
                if (st.stage.canvasDegree == 90) {
                    h = a - h;
                    u += o
                } else {
                    h += a;
                    u = o - u
                }
            } else {
                h = e + s.x;
                u = i + s.y;
                h *= r.a;
                u *= r.d;
                h += a;
                u += o
            }
            var c = NaN
              , f = NaN;
            if (l) {
                c = r.d * s.height;
                f = r.a * s.width
            } else {
                c = r.a * s.width;
                f = r.d * s.height
            }
            return {
                x: h,
                y: u,
                scaleX: c,
                scaleY: f
            }
        }
        ;
        o.fitDOMElementInArea = function(t, e, i, n, s, r) {
            if (!t._fitLayaAirInitialized) {
                t._fitLayaAirInitialized = true;
                t.style.transformOrigin = t.style.webKittransformOrigin = "left top";
                t.style.position = "absolute"
            }
            var a = o.getTransformRelativeToWindow(e, i, n);
            t.style.transform = t.style.webkitTransform = "scale(" + a.scaleX + "," + a.scaleY + ") rotate(" + st.stage.canvasDegree + "deg)";
            t.style.width = s + "px";
            t.style.height = r + "px";
            t.style.left = a.x + "px";
            t.style.top = a.y + "px"
        }
        ;
        o.isOkTextureList = function(t) {
            if (!t)
                return false;
            var e = 0
              , i = t.length;
            var n;
            for (e = 0; e < i; e++) {
                n = t[e];
                if (!n || !n.source)
                    return false
            }
            return true
        }
        ;
        o.isOKCmdList = function(t) {
            if (!t)
                return false;
            var e = 0
              , i = t.length;
            var n = Be._context;
            var s;
            var r;
            for (e = 0; e < i; e++) {
                s = t[e];
                switch (s.callee) {
                case n._drawTexture:
                case n._fillTexture:
                case n._drawTextureWithTransform:
                    r = s[0];
                    if (!r || !r.source)
                        return false
                }
            }
            return true
        }
        ;
        o._gid = 1;
        o._pi = 180 / Math.PI;
        o._pi2 = Math.PI / 180;
        o._extReg = /\.(\w+)\??/g;
        o.parseXMLFromString = function(t) {
            var e;
            t = t.replace(/>\s+</g, "><");
            e = (new DOMParser).parseFromString(t, "text/xml");
            if (e.firstChild.textContent.indexOf("This page contains the following errors") > -1) {
                throw new Error(e.firstChild.firstChild.textContent)
            }
            return e
        }
        ;
        return o
    }();
    var oi = function() {
        function t() {
            this.useDic = {};
            this.shapeDic = {};
            this.shapeLineDic = {};
            this._id = 0;
            this._checkKey = false;
            this._freeIdArray = [];
            if (Be.isWebGL) {
                ze.regCacheByFunction(ai.bind(this.startDispose, this), ai.bind(this.getCacheList, this))
            }
        }
        x(t, "laya.utils.VectorGraphManager");
        var e = t.prototype;
        e.getId = function() {
            return this._id++
        }
        ;
        e.addShape = function(t, e) {
            this.shapeDic[t] = e;
            if (!this.useDic[t]) {
                this.useDic[t] = true
            }
        }
        ;
        e.addLine = function(t, e) {
            this.shapeLineDic[t] = e;
            if (!this.shapeLineDic[t]) {
                this.shapeLineDic[t] = true
            }
        }
        ;
        e.getShape = function(t) {
            if (this._checkKey) {
                if (this.useDic[t] != null) {
                    this.useDic[t] = true
                }
            }
        }
        ;
        e.deleteShape = function(t) {
            if (this.shapeDic[t]) {
                this.shapeDic[t] = null;
                delete this.shapeDic[t]
            }
            if (this.shapeLineDic[t]) {
                this.shapeLineDic[t] = null;
                delete this.shapeLineDic[t]
            }
            if (this.useDic[t] != null) {
                delete this.useDic[t]
            }
        }
        ;
        e.getCacheList = function() {
            var t;
            var e = [];
            for (t in this.shapeDic) {
                e.push(this.shapeDic[t])
            }
            for (t in this.shapeLineDic) {
                e.push(this.shapeLineDic[t])
            }
            return e
        }
        ;
        e.startDispose = function(t) {
            var e;
            for (e in this.useDic) {
                this.useDic[e] = false
            }
            this._checkKey = true
        }
        ;
        e.endDispose = function() {
            if (this._checkKey) {
                var t;
                for (t in this.useDic) {
                    if (!this.useDic[t]) {
                        this.deleteShape(t)
                    }
                }
                this._checkKey = false
            }
        }
        ;
        t.getInstance = function() {
            return t.instance = t.instance || new t
        }
        ;
        t.instance = null;
        return t
    }();
    var li = function() {
        function n() {
            this._obj = null;
            this._obj = n.supportWeakMap ? new He.window.WeakMap : {};
            if (!n.supportWeakMap)
                n._maps.push(this)
        }
        x(n, "laya.utils.WeakObject");
        var t = n.prototype;
        t.set = function(t, e) {
            if (t == null)
                return;
            if (n.supportWeakMap) {
                var i = t;
                if (typeof t == "string" || typeof t == "number") {
                    i = n._keys[t];
                    if (!i)
                        i = n._keys[t] = {
                            k: t
                        }
                }
                this._obj.set(i, e)
            } else {
                if (typeof t == "string" || typeof t == "number") {
                    this._obj[t] = e
                } else {
                    t.$_GID || (t.$_GID = ai.getGID());
                    this._obj[t.$_GID] = e
                }
            }
        }
        ;
        t.get = function(t) {
            if (t == null)
                return null;
            if (n.supportWeakMap) {
                var e = typeof t == "string" || typeof t == "number" ? n._keys[t] : t;
                if (!e)
                    return null;
                return this._obj.get(e)
            } else {
                if (typeof t == "string" || typeof t == "number")
                    return this._obj[t];
                return this._obj[t.$_GID]
            }
        }
        ;
        t.del = function(t) {
            if (t == null)
                return;
            if (n.supportWeakMap) {
                var e = typeof t == "string" || typeof t == "number" ? n._keys[t] : t;
                if (!e)
                    return;
                this._obj.delete(e)
            } else {
                if (typeof t == "string" || typeof t == "number")
                    delete this._obj[t];
                else
                    delete this._obj[this._obj.$_GID]
            }
        }
        ;
        t.has = function(t) {
            if (t == null)
                return false;
            if (n.supportWeakMap) {
                var e = typeof t == "string" || typeof t == "number" ? n._keys[t] : t;
                return this._obj.has(e)
            } else {
                if (typeof t == "string" || typeof t == "number")
                    return this._obj[t] != null;
                return this._obj[this._obj.$_GID] != null
            }
        }
        ;
        n.__init__ = function() {
            n.supportWeakMap = He.window.WeakMap != null;
            if (!n.supportWeakMap)
                st.timer.loop(n.delInterval, null, n.clearCache)
        }
        ;
        n.clearCache = function() {
            for (var t = 0, e = n._maps.length; t < e; t++) {
                var i = n._maps[t];
                i._obj = {}
            }
        }
        ;
        n.supportWeakMap = false;
        n.delInterval = 5 * 60 * 1e3;
        n._keys = {};
        n._maps = [];
        u(n, ["I", function() {
            return this.I = new n
        }
        ]);
        return n
    }();
    var hi = function() {
        function t() {
            this.id = NaN;
            this.save = [];
            this.toUpperCase = null;
            this.changed = false;
            this._text = null
        }
        x(t, "laya.utils.WordText");
        var e = t.prototype;
        e.setText = function(t) {
            this.changed = true;
            this._text = t
        }
        ;
        e.toString = function() {
            return this._text
        }
        ;
        e.charCodeAt = function(t) {
            return this._text ? this._text.charCodeAt(t) : NaN
        }
        ;
        e.charAt = function(t) {
            return this._text ? this._text.charAt(t) : null
        }
        ;
        p(0, e, "length", function() {
            return this._text ? this._text.length : 0
        });
        return t
    }();
    var ui = function() {
        var n, s;
        function t(t, e, i) {
            this._atlasID = 0;
            this._width = 0;
            this._height = 0;
            this._texCount = 0;
            this._rowInfo = null;
            this._cells = null;
            this._failSize = new s;
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            this._cells = null;
            this._rowInfo = null;
            this._init(t, e);
            this._atlasID = i
        }
        x(t, "laya.webgl.atlas.AtlasGrid");
        var e = t.prototype;
        e.getAltasID = function() {
            return this._atlasID
        }
        ;
        e.setAltasID = function(t) {
            if (t >= 0) {
                this._atlasID = t
            }
        }
        ;
        e.addTex = function(t, e, i) {
            var n = this._get(e, i);
            if (n.ret == false) {
                return n
            }
            this._fill(n.x, n.y, e, i, t);
            this._texCount++;
            return n
        }
        ;
        e._release = function() {
            if (this._cells != null) {
                this._cells.length = 0;
                this._cells = null
            }
            if (this._rowInfo) {
                this._rowInfo.length = 0;
                this._rowInfo = null
            }
        }
        ;
        e._init = function(t, e) {
            this._width = t;
            this._height = e;
            this._release();
            if (this._width == 0)
                return false;
            this._cells = new Uint8Array(this._width * this._height * 3);
            this._rowInfo = g(this._height);
            for (var i = 0; i < this._height; i++) {
                this._rowInfo[i] = new n
            }
            this._clear();
            return true
        }
        ;
        e._get = function(t, e) {
            var i = new fi;
            if (t >= this._failSize.width && e >= this._failSize.height) {
                return i
            }
            var n = -1;
            var s = -1;
            var r = this._width;
            var a = this._height;
            var o = this._cells;
            for (var l = 0; l < a; l++) {
                if (this._rowInfo[l].spaceCount < t)
                    continue;
                for (var h = 0; h < r; ) {
                    var u = (l * r + h) * 3;
                    if (o[u] != 0 || o[u + 1] < t || o[u + 2] < e) {
                        h += o[u + 1];
                        continue
                    }
                    n = h;
                    s = l;
                    for (var c = 0; c < t; c++) {
                        if (o[3 * c + u + 2] < e) {
                            n = -1;
                            break
                        }
                    }
                    if (n < 0) {
                        h += o[u + 1];
                        continue
                    }
                    i.ret = true;
                    i.x = n;
                    i.y = s;
                    return i
                }
            }
            return i
        }
        ;
        e._fill = function(t, e, i, n, s) {
            var r = this._width;
            var a = this._height;
            this._check(t + i <= r && e + n <= a);
            for (var o = e; o < n + e; ++o) {
                this._check(this._rowInfo[o].spaceCount >= i);
                this._rowInfo[o].spaceCount -= i;
                for (var l = 0; l < i; l++) {
                    var h = (t + o * r + l) * 3;
                    this._check(this._cells[h] == 0);
                    this._cells[h] = s;
                    this._cells[h + 1] = i;
                    this._cells[h + 2] = n
                }
            }
            if (t > 0) {
                for (o = 0; o < n; ++o) {
                    var u = 0;
                    for (l = t - 1; l >= 0; --l,
                    ++u) {
                        if (this._cells[((e + o) * r + l) * 3] != 0)
                            break
                    }
                    for (l = u; l > 0; --l) {
                        this._cells[((e + o) * r + t - l) * 3 + 1] = l;
                        this._check(l > 0)
                    }
                }
            }
            if (e > 0) {
                for (l = t; l < t + i; ++l) {
                    u = 0;
                    for (o = e - 1; o >= 0; --o,
                    u++) {
                        if (this._cells[(l + o * r) * 3] != 0)
                            break
                    }
                    for (o = u; o > 0; --o) {
                        this._cells[(l + (e - o) * r) * 3 + 2] = o;
                        this._check(o > 0)
                    }
                }
            }
        }
        ;
        e._check = function(t) {
            if (t == false) {
                console.log("xtexMerger 错误啦")
            }
        }
        ;
        e._clear = function() {
            this._texCount = 0;
            for (var t = 0; t < this._height; t++) {
                this._rowInfo[t].spaceCount = this._width
            }
            for (var e = 0; e < this._height; e++) {
                for (var i = 0; i < this._width; i++) {
                    var n = (e * this._width + i) * 3;
                    this._cells[n] = 0;
                    this._cells[n + 1] = this._width - i;
                    this._cells[n + 2] = this._width - e
                }
            }
            this._failSize.width = this._width + 1;
            this._failSize.height = this._height + 1
        }
        ;
        t.__init$ = function() {
            n = function() {
                function t() {
                    this.spaceCount = 0
                }
                x(t, "");
                return t
            }();
            s = function() {
                function t() {
                    this.width = 0;
                    this.height = 0
                }
                x(t, "");
                return t
            }()
        }
        ;
        return t
    }();
    var ci = function() {
        function b(t, e, i, n) {
            this._currentAtlasCount = 0;
            this._maxAtlaserCount = 0;
            this._width = 0;
            this._height = 0;
            this._gridSize = 0;
            this._gridNumX = 0;
            this._gridNumY = 0;
            this._init = false;
            this._curAtlasIndex = 0;
            this._setAtlasParam = false;
            this._atlaserArray = null;
            this._needGC = false;
            this._setAtlasParam = true;
            this._width = t;
            this._height = e;
            this._gridSize = i;
            this._maxAtlaserCount = n;
            this._gridNumX = t / i;
            this._gridNumY = e / i;
            this._curAtlasIndex = 0;
            this._atlaserArray = []
        }
        x(b, "laya.webgl.atlas.AtlasResourceManager");
        var t = b.prototype;
        t.setAtlasParam = function(t, e, i, n) {
            if (this._setAtlasParam == true) {
                b._sid_ = 0;
                this._width = t;
                this._height = e;
                this._gridSize = i;
                this._maxAtlaserCount = n;
                this._gridNumX = t / i;
                this._gridNumY = e / i;
                this._curAtlasIndex = 0;
                this.freeAll();
                return true
            } else {
                console.log("设置大图合集参数错误，只能在开始页面设置各种参数");
                throw -1;
                return false
            }
            return false
        }
        ;
        t.pushData = function(t) {
            var e = t.bitmap;
            var i = -1;
            var n = null;
            var s = 0
              , r = 0
              , a = 0;
            for (s = 0,
            r = this._atlaserArray.length; s < r; s++) {
                a = (this._curAtlasIndex + s) % r;
                n = this._atlaserArray[a];
                i = n.findBitmapIsExist(e);
                if (i != -1) {
                    break
                }
            }
            if (i != -1) {
                var o = n.InAtlasWebGLImagesOffsetValue[i];
                m = o[0];
                g = o[1];
                n.addToAtlas(t, m, g);
                return true
            } else {
                var l = t;
                this._setAtlasParam = false;
                var h = false;
                var u = Math.ceil((t.bitmap.width + 2) / this._gridSize);
                var c = Math.ceil((t.bitmap.height + 2) / this._gridSize);
                var f = false;
                for (var d = 0; d < 2; d++) {
                    var _ = this._maxAtlaserCount;
                    for (s = 0; s < _; s++) {
                        a = (this._curAtlasIndex + s) % _;
                        this._atlaserArray.length - 1 >= a || this._atlaserArray.push(new Nn(this._gridNumX,this._gridNumY,this._width,this._height,b._sid_++));
                        var p = this._atlaserArray[a];
                        var m = 0
                          , g = 0;
                        var v = p.addTex(1, u, c);
                        if (v.ret) {
                            m = v.x * this._gridSize + 1;
                            g = v.y * this._gridSize + 1;
                            e.lock = true;
                            p.addToAtlasTexture(e, m, g);
                            p.addToAtlas(t, m, g);
                            f = true;
                            this._curAtlasIndex = a;
                            break
                        }
                    }
                    if (f)
                        break;
                    this._atlaserArray.push(new Nn(this._gridNumX,this._gridNumY,this._width,this._height,b._sid_++));
                    this._needGC = true;
                    this.garbageCollection();
                    this._curAtlasIndex = this._atlaserArray.length - 1
                }
                if (!f) {
                    console.log(">>>AtlasManager pushData error")
                }
                return f
            }
        }
        ;
        t.addToAtlas = function(t) {
            laya.webgl.atlas.AtlasResourceManager.instance.pushData(t)
        }
        ;
        t.garbageCollection = function() {
            if (this._needGC === true) {
                var t = this._atlaserArray.length - this._maxAtlaserCount;
                for (var e = 0; e < t; e++) {
                    this._atlaserArray[e].dispose();
                    console.log("AtlasResourceManager:Dispose the inner Atlas。")
                }
                console.log(">>>>altas garbageCollection =" + t);
                this._atlaserArray.splice(0, t);
                this._needGC = false
            }
            return true
        }
        ;
        t.freeAll = function() {
            for (var t = 0, e = this._atlaserArray.length; t < e; t++) {
                this._atlaserArray[t].dispose()
            }
            this._atlaserArray.length = 0;
            this._curAtlasIndex = 0
        }
        ;
        t.getAtlaserCount = function() {
            return this._atlaserArray.length
        }
        ;
        t.getAtlaserByIndex = function(t) {
            return this._atlaserArray[t]
        }
        ;
        p(1, b, "instance", function() {
            if (!b._Instance) {
                b._Instance = new b(laya.webgl.atlas.AtlasResourceManager.atlasTextureWidth,laya.webgl.atlas.AtlasResourceManager.atlasTextureHeight,16,laya.webgl.atlas.AtlasResourceManager.maxTextureCount)
            }
            return b._Instance
        });
        p(1, b, "enabled", function() {
            return I.atlasEnable
        });
        p(1, b, "atlasLimitWidth", function() {
            return b._atlasLimitWidth
        }, function(t) {
            b._atlasLimitWidth = t
        });
        p(1, b, "atlasLimitHeight", function() {
            return b._atlasLimitHeight
        }, function(t) {
            b._atlasLimitHeight = t
        });
        b._enable = function() {
            I.atlasEnable = true
        }
        ;
        b._disable = function() {
            I.atlasEnable = false
        }
        ;
        b.__init__ = function() {
            b.atlasTextureWidth = 2048;
            b.atlasTextureHeight = 2048;
            b.maxTextureCount = 6;
            b.atlasLimitWidth = 512;
            b.atlasLimitHeight = 512
        }
        ;
        b._atlasLimitWidth = 0;
        b._atlasLimitHeight = 0;
        b.gridSize = 16;
        b.atlasTextureWidth = 0;
        b.atlasTextureHeight = 0;
        b.maxTextureCount = 0;
        b._atlasRestore = 0;
        b.BOARDER_TYPE_NO = 0;
        b.BOARDER_TYPE_RIGHT = 1;
        b.BOARDER_TYPE_LEFT = 2;
        b.BOARDER_TYPE_BOTTOM = 4;
        b.BOARDER_TYPE_TOP = 8;
        b.BOARDER_TYPE_ALL = 15;
        b._sid_ = 0;
        b._Instance = null;
        return b
    }();
    var fi = function() {
        function t() {
            this.x = 0;
            this.y = 0;
            this.ret = false;
            this.ret = false;
            this.x = 0;
            this.y = 0
        }
        x(t, "laya.webgl.atlas.MergeFillInfo");
        return t
    }();
    var di = function() {
        function e() {}
        x(e, "laya.webgl.canvas.BlendMode");
        e._init_ = function(t) {
            e.fns = [e.BlendNormal, e.BlendAdd, e.BlendMultiply, e.BlendScreen, e.BlendOverlay, e.BlendLight, e.BlendMask, e.BlendDestinationOut];
            e.targetFns = [e.BlendNormalTarget, e.BlendAddTarget, e.BlendMultiplyTarget, e.BlendScreenTarget, e.BlendOverlayTarget, e.BlendLightTarget, e.BlendMask, e.BlendDestinationOut]
        }
        ;
        e.BlendNormal = function(t) {
            t.blendFunc(1, 771)
        }
        ;
        e.BlendAdd = function(t) {
            t.blendFunc(1, 772)
        }
        ;
        e.BlendMultiply = function(t) {
            t.blendFunc(774, 771)
        }
        ;
        e.BlendScreen = function(t) {
            t.blendFunc(1, 1)
        }
        ;
        e.BlendOverlay = function(t) {
            t.blendFunc(1, 769)
        }
        ;
        e.BlendLight = function(t) {
            t.blendFunc(1, 1)
        }
        ;
        e.BlendNormalTarget = function(t) {
            t.blendFunc(1, 771)
        }
        ;
        e.BlendAddTarget = function(t) {
            t.blendFunc(1, 772)
        }
        ;
        e.BlendMultiplyTarget = function(t) {
            t.blendFunc(774, 771)
        }
        ;
        e.BlendScreenTarget = function(t) {
            t.blendFunc(1, 1)
        }
        ;
        e.BlendOverlayTarget = function(t) {
            t.blendFunc(1, 769)
        }
        ;
        e.BlendLightTarget = function(t) {
            t.blendFunc(1, 1)
        }
        ;
        e.BlendMask = function(t) {
            t.blendFunc(0, 770)
        }
        ;
        e.BlendDestinationOut = function(t) {
            t.blendFunc(0, 0)
        }
        ;
        e.activeBlendFunction = null;
        e.NAMES = ["normal", "add", "multiply", "screen", "overlay", "light", "mask", "destination-out"];
        e.TOINT = {
            normal: 0,
            add: 1,
            multiply: 2,
            screen: 3,
            lighter: 1,
            overlay: 4,
            light: 5,
            mask: 6,
            "destination-out": 7
        };
        e.NORMAL = "normal";
        e.ADD = "add";
        e.MULTIPLY = "multiply";
        e.SCREEN = "screen";
        e.LIGHT = "light";
        e.OVERLAY = "overlay";
        e.DESTINATIONOUT = "destination-out";
        e.fns = [];
        e.targetFns = [];
        return e
    }();
    var _i = function() {
        function i(t) {
            this._color = je.create("black");
            this.setValue(t)
        }
        x(i, "laya.webgl.canvas.DrawStyle");
        var t = i.prototype;
        t.setValue = function(t) {
            if (t) {
                if (typeof t == "string") {
                    this._color = je.create(t);
                    return
                }
                if (t instanceof laya.utils.Color) {
                    this._color = t;
                    return
                }
            }
        }
        ;
        t.reset = function() {
            this._color = je.create("black")
        }
        ;
        t.equal = function(t) {
            if (typeof t == "string")
                return this._color.strColor === t;
            if (t instanceof laya.utils.Color)
                return this._color.numColor === t.numColor;
            return false
        }
        ;
        t.toColorStr = function() {
            return this._color.strColor
        }
        ;
        i.create = function(t) {
            if (t) {
                var e;
                if (typeof t == "string")
                    e = je.create(t);
                else if (t instanceof laya.utils.Color)
                    e = t;
                if (e) {
                    return e._drawStyle || (e._drawStyle = new i(t))
                }
            }
            return laya.webgl.canvas.DrawStyle.DEFAULT
        }
        ;
        u(i, ["DEFAULT", function() {
            return this.DEFAULT = new i("#000000")
        }
        ]);
        return i
    }();
    var pi = function() {
        function t() {
            this._x = 0;
            this._y = 0;
            this.dirty = false;
            this.offset = 0;
            this.count = 0;
            this.geoStart = 0;
            this.tempArray = [];
            this.closePath = false;
            this.geomatrys = [];
            var t = Hi.mainContext;
            this.ib = ar.create(35048);
            this.vb = or.create(5)
        }
        x(t, "laya.webgl.canvas.Path");
        var e = t.prototype;
        e.addPoint = function(t, e) {
            this.tempArray.push(t, e)
        }
        ;
        e.getEndPointX = function() {
            return this.tempArray[this.tempArray.length - 2]
        }
        ;
        e.getEndPointY = function() {
            return this.tempArray[this.tempArray.length - 1]
        }
        ;
        e.polygon = function(t, e, i, n, s, r) {
            var a;
            this.geomatrys.push(this._curGeomatry = a = new kn(t,e,i,n,s,r));
            if (!n)
                a.fill = false;
            if (r == undefined)
                a.borderWidth = 0;
            return a
        }
        ;
        e.setGeomtry = function(t) {
            this.geomatrys.push(this._curGeomatry = t)
        }
        ;
        e.drawLine = function(t, e, i, n, s) {
            var r;
            if (this.closePath) {
                this.geomatrys.push(this._curGeomatry = r = new Bn(t,e,i,n,s))
            } else {
                this.geomatrys.push(this._curGeomatry = r = new Zn(t,e,i,n,s))
            }
            r.fill = false;
            return r
        }
        ;
        e.update = function() {
            var t = this.ib._byteLength;
            var e = this.geomatrys.length;
            this.offset = t;
            for (var i = this.geoStart; i < e; i++) {
                this.geomatrys[i].getData(this.ib, this.vb, this.vb._byteLength / 20)
            }
            this.geoStart = e;
            this.count = (this.ib._byteLength - t) / Fi.BYTES_PIDX
        }
        ;
        e.reset = function() {
            this.vb.clear();
            this.ib.clear();
            this.offset = this.count = this.geoStart = 0;
            this.geomatrys.length = 0
        }
        ;
        e.recover = function() {
            this._curGeomatry = null;
            this.vb.destory();
            this.vb = null;
            this.ib.destory();
            this.ib = null
        }
        ;
        return t
    }();
    var mi = function() {
        function o() {}
        x(o, "laya.webgl.canvas.save.SaveBase");
        var t = o.prototype;
        st.imps(t, {
            "laya.webgl.canvas.save.ISaveData": true
        });
        t.isSaveMark = function() {
            return false
        }
        ;
        t.restore = function(t) {
            this._dataObj[this._valueName] = this._value;
            o._cache[o._cache._length++] = this;
            this._newSubmit && (t._curSubmit = Mi.RENDERBASE,
            t._renderKey = 0)
        }
        ;
        o._createArray = function() {
            var t = [];
            t._length = 0;
            return t
        }
        ;
        o._init = function() {
            var t = o._namemap = {};
            t[1] = "ALPHA";
            t[2] = "fillStyle";
            t[8] = "font";
            t[256] = "lineWidth";
            t[512] = "strokeStyle";
            t[8192] = "_mergeID";
            t[1024] = t[2048] = t[4096] = [];
            t[16384] = "textBaseline";
            t[32768] = "textAlign";
            t[65536] = "_nBlendType";
            t[1048576] = "shader";
            t[2097152] = "filters";
            return t
        }
        ;
        o.save = function(t, e, i, n) {
            if ((t._saveMark._saveuse & e) !== e) {
                t._saveMark._saveuse |= e;
                var s = o._cache;
                var r = s._length > 0 ? s[--s._length] : new o;
                r._value = i[r._valueName = o._namemap[e]];
                r._dataObj = i;
                r._newSubmit = n;
                var a = t._save;
                a[a._length++] = r
            }
        }
        ;
        o._cache = laya.webgl.canvas.save.SaveBase._createArray();
        o._namemap = o._init();
        return o
    }();
    var gi = function() {
        function r() {
            this._clipRect = new Te
        }
        x(r, "laya.webgl.canvas.save.SaveClipRect");
        var t = r.prototype;
        st.imps(t, {
            "laya.webgl.canvas.save.ISaveData": true
        });
        t.isSaveMark = function() {
            return false
        }
        ;
        t.restore = function(t) {
            t._clipRect = this._clipSaveRect;
            r._cache[r._cache._length++] = this;
            this._submitScissor.submitLength = t._submits._length - this._submitScissor.submitIndex;
            t._curSubmit = Mi.RENDERBASE;
            t._renderKey = 0
        }
        ;
        r.save = function(t, e) {
            if ((t._saveMark._saveuse & 131072) == 131072)
                return;
            t._saveMark._saveuse |= 131072;
            var i = r._cache;
            var n = i._length > 0 ? i[--i._length] : new r;
            n._clipSaveRect = t._clipRect;
            t._clipRect = n._clipRect.copyFrom(t._clipRect);
            n._submitScissor = e;
            var s = t._save;
            s[s._length++] = n
        }
        ;
        u(r, ["_cache", function() {
            return this._cache = mi._createArray()
        }
        ]);
        return r
    }();
    var vi = function() {
        function d() {
            this._contextX = 0;
            this._contextY = 0;
            this._clipRect = new Te;
            this._rect = new Te;
            this._matrix = new Ce
        }
        x(d, "laya.webgl.canvas.save.SaveClipRectStencil");
        var t = d.prototype;
        st.imps(t, {
            "laya.webgl.canvas.save.ISaveData": true
        });
        t.isSaveMark = function() {
            return false
        }
        ;
        t.restore = function(t) {
            Vi.restore(t, this._rect, this._saveMatrix, this._contextX, this._contextY);
            t._clipRect = this._clipSaveRect;
            t._curMat = this._saveMatrix;
            t._x = this._contextX;
            t._y = this._contextY;
            d._cache[d._cache._length++] = this;
            t._curSubmit = Mi.RENDERBASE
        }
        ;
        d.save = function(t, e, i, n, s, r, a, o, l, h) {
            if ((t._saveMark._saveuse & 262144) == 262144)
                return;
            t._saveMark._saveuse |= 262144;
            var u = d._cache;
            var c = u._length > 0 ? u[--u._length] : new d;
            c._clipSaveRect = t._clipRect;
            c._clipRect.setTo(a, o, l, h);
            t._clipRect = c._clipRect;
            c._rect.x = i;
            c._rect.y = n;
            c._rect.width = s;
            c._rect.height = r;
            c._contextX = t._x;
            c._contextY = t._y;
            c._saveMatrix = t._curMat;
            t._curMat.copyTo(c._matrix);
            t._curMat = c._matrix;
            c._submitStencil = e;
            var f = t._save;
            f[f._length++] = c
        }
        ;
        u(d, ["_cache", function() {
            return this._cache = mi._createArray()
        }
        ]);
        return d
    }();
    var bi = function() {
        function n() {
            this._saveuse = 0
        }
        x(n, "laya.webgl.canvas.save.SaveMark");
        var t = n.prototype;
        st.imps(t, {
            "laya.webgl.canvas.save.ISaveData": true
        });
        t.isSaveMark = function() {
            return true
        }
        ;
        t.restore = function(t) {
            t._saveMark = this._preSaveMark;
            n._no[n._no._length++] = this
        }
        ;
        n.Create = function(t) {
            var e = n._no;
            var i = e._length > 0 ? e[--e._length] : new n;
            i._saveuse = 0;
            i._preSaveMark = t._saveMark;
            t._saveMark = i;
            return i
        }
        ;
        u(n, ["_no", function() {
            return this._no = mi._createArray()
        }
        ]);
        return n
    }();
    var yi = function() {
        function r() {
            this._matrix = new Ce
        }
        x(r, "laya.webgl.canvas.save.SaveTransform");
        var t = r.prototype;
        st.imps(t, {
            "laya.webgl.canvas.save.ISaveData": true
        });
        t.isSaveMark = function() {
            return false
        }
        ;
        t.restore = function(t) {
            t._curMat = this._savematrix;
            r._no[r._no._length++] = this
        }
        ;
        r.save = function(t) {
            var e = t._saveMark;
            if ((e._saveuse & 2048) === 2048)
                return;
            e._saveuse |= 2048;
            var i = r._no;
            var n = i._length > 0 ? i[--i._length] : new r;
            n._savematrix = t._curMat;
            t._curMat = t._curMat.copyTo(n._matrix);
            var s = t._save;
            s[s._length++] = n
        }
        ;
        u(r, ["_no", function() {
            return this._no = mi._createArray()
        }
        ]);
        return r
    }();
    var xi = function() {
        function s() {}
        x(s, "laya.webgl.canvas.save.SaveTranslate");
        var t = s.prototype;
        st.imps(t, {
            "laya.webgl.canvas.save.ISaveData": true
        });
        t.isSaveMark = function() {
            return false
        }
        ;
        t.restore = function(t) {
            var e = t._curMat;
            t._x = this._x;
            t._y = this._y;
            s._no[s._no._length++] = this
        }
        ;
        s.save = function(t) {
            var e = s._no;
            var i = e._length > 0 ? e[--e._length] : new s;
            i._x = t._x;
            i._y = t._y;
            var n = t._save;
            n[n._length++] = i
        }
        ;
        u(s, ["_no", function() {
            return this._no = mi._createArray()
        }
        ]);
        return s
    }();
    var wi = function() {
        function t() {
            this.target = null;
            this.repaint = false;
            this._width = NaN;
            this._height = NaN;
            this._sp = null;
            this._clipRect = new Te
        }
        x(t, "laya.webgl.resource.RenderTargetMAX");
        var e = t.prototype;
        e.setSP = function(t) {
            this._sp = t
        }
        ;
        e.size = function(t, e) {
            var i = this;
            if (this._width === t && this._height === e) {
                this.target.size(t, e);
                return
            }
            this.repaint = true;
            this._width = t;
            this._height = e;
            if (!this.target)
                this.target = Kn.create(t, e);
            else
                this.target.size(t, e);
            if (!this.target.hasListener("recovered")) {
                this.target.on("recovered", this, function(t) {
                    st.timer.callLater(i._sp, i._sp.repaint)
                })
            }
        }
        ;
        e._flushToTarget = function(t, e) {
            if (e._destroy)
                return;
            var i = Oi.worldScissorTest;
            var n = Oi.worldClipRect;
            Oi.worldClipRect = this._clipRect;
            this._clipRect.x = this._clipRect.y = 0;
            this._clipRect.width = this._width;
            this._clipRect.height = this._height;
            Oi.worldScissorTest = false;
            Hi.mainContext.disable(3089);
            var s = Oi.worldAlpha;
            var r = Oi.worldMatrix4;
            var a = Oi.worldMatrix;
            var o = Oi.worldFilters;
            var l = Oi.worldShaderDefines;
            Oi.worldMatrix = Ce.EMPTY;
            Oi.restoreTempArray();
            Oi.worldMatrix4 = Oi.TEMPMAT4_ARRAY;
            Oi.worldAlpha = 1;
            Oi.worldFilters = null;
            Oi.worldShaderDefines = null;
            On.activeShader = null;
            e.start();
            I.showCanvasMark ? e.clear(0, 1, 0, .3) : e.clear(0, 0, 0, 0);
            t.flush();
            e.end();
            On.activeShader = null;
            Oi.worldAlpha = s;
            Oi.worldMatrix4 = r;
            Oi.worldMatrix = a;
            Oi.worldFilters = o;
            Oi.worldShaderDefines = l;
            Oi.worldScissorTest = i;
            if (i) {
                var h = Oi.height - n.y - n.height;
                Hi.mainContext.scissor(n.x, h, n.width, n.height);
                Hi.mainContext.enable(3089)
            }
            Oi.worldClipRect = n
        }
        ;
        e.flush = function(t) {
            if (this.repaint) {
                this._flushToTarget(t, this.target);
                this.repaint = false
            }
        }
        ;
        e.drawTo = function(t, e, i, n, s) {
            t.drawTexture(this.target.getTexture(), e, i, n, s, 0, 0)
        }
        ;
        e.destroy = function() {
            if (this.target) {
                this.target.destroy();
                this.target = null;
                this._sp = null
            }
        }
        ;
        return t
    }();
    var Ci = function() {
        function t() {
            this.ALPHA = 1;
            this.shaderType = 0;
            this.defines = new Vn
        }
        x(t, "laya.webgl.shader.d2.Shader2D");
        var e = t.prototype;
        e.destroy = function() {
            this.defines = null;
            this.filters = null;
            this.glTexture = null;
            this.strokeStyle = null;
            this.fillStyle = null
        }
        ;
        t.__init__ = function() {
            ws.addInclude("parts/ColorFilter_ps_uniform.glsl", "uniform vec4 colorAlpha;\nuniform mat4 colorMat;");
            ws.addInclude("parts/ColorFilter_ps_logic.glsl", "mat4 alphaMat =colorMat;\n\nalphaMat[0][3] *= gl_FragColor.a;\nalphaMat[1][3] *= gl_FragColor.a;\nalphaMat[2][3] *= gl_FragColor.a;\n\ngl_FragColor = gl_FragColor * alphaMat;\ngl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n");
            ws.addInclude("parts/GlowFilter_ps_uniform.glsl", "uniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;");
            ws.addInclude("parts/GlowFilter_ps_logic.glsl", "const float c_IterationTime = 10.0;\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\nfloat maxNum = u_blurX * u_blurY;\nvec2 vec2Off = vec2(0.0,0.0);\nfloat floatOff = c_IterationTime/2.0;\nfor(float i = 0.0;i<=c_IterationTime; ++i){\n\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\tvec4Color += texture2D(texture, v_texcoord + vec2FilterDir + vec2Off)/floatIterationTotalTime;\n\t}\n}\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\ngl_FragColor.rgb *= gl_FragColor.a;");
            ws.addInclude("parts/BlurFilter_ps_logic.glsl", "gl_FragColor =   blur();\ngl_FragColor.w*=alpha;");
            ws.addInclude("parts/BlurFilter_ps_uniform.glsl", "uniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3σ以外影响很小。即当σ=1的时候，半径为3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoord-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //每个像素      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO 纹理坐标的固定偏移应该在vs中处理\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}");
            ws.addInclude("parts/ColorAdd_ps_uniform.glsl", "uniform vec4 colorAdd;\n");
            ws.addInclude("parts/ColorAdd_ps_logic.glsl", "gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\ngl_FragColor.xyz *= colorAdd.a;");
            var t, e;
            t = "attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}";
            e = 'precision mediump float;\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\nuniform float alpha;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec4 color= texture2D(texture, v_texcoord);\n   color.a*=alpha;\n   color.rgb*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}';
            ws.preCompile2D(0, 1, t, e, null);
            t = "attribute vec4 position;\nuniform vec2 size;\nuniform mat4 mmat;\nvoid main() {\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n}";
            e = 'precision mediump float;\nuniform vec4 color;\nuniform float alpha;\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\nvoid main() {\n\tvec4 a = vec4(color.r, color.g, color.b, color.a);\n\ta.w = alpha;\n\ta.xyz *= alpha;\n\tgl_FragColor = a;\n\t#include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n}';
            ws.preCompile2D(0, 2, t, e, null);
            t = "attribute vec4 position;\nattribute vec3 a_color;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nuniform vec2 u_pos;\nuniform vec2 size;\nvarying vec3 color;\nvoid main(){\n  vec4 tPos = vec4(position.x + u_pos.x,position.y + u_pos.y,position.z,position.w);\n  vec4 pos=mmat*u_mmat2*tPos;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  color=a_color;\n}";
            e = "precision mediump float;\n//precision mediump float;\nvarying vec3 color;\nuniform float alpha;\nvoid main(){\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\n\t//a.a*=alpha;\n    gl_FragColor=vec4(color.r, color.g, color.b, alpha);\n\tgl_FragColor.rgb*=alpha;\n}";
            ws.preCompile2D(0, 4, t, e, null);
            t = "attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}";
            e = '#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\nuniform float alpha;\nuniform vec4 u_TexRange;\nuniform vec2 u_offset;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec2 newTexCoord;\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\n   vec4 color= texture2D(texture, newTexCoord);\n   color.a*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}';
            ws.preCompile2D(0, 256, t, e, null);
            t = "attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}";
            e = "precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\nuniform float alpha;\nvoid main() {\n\tvec4 t_color = texture2D(texture, v_texcoord);\n\tgl_FragColor = t_color.rgba * v_color;\n\tgl_FragColor *= alpha;\n}";
            ws.preCompile2D(0, 512, t, e, null)
        }
        ;
        return t
    }();
    var Si = function() {
        function e(t, e, i) {
            this._value = 0;
            this._name2int = t;
            this._int2name = e;
            this._int2nameMap = i
        }
        x(e, "laya.webgl.shader.ShaderDefines");
        var t = e.prototype;
        t.add = function(t) {
            if (typeof t == "string")
                t = this._name2int[t];
            this._value |= t;
            return this._value
        }
        ;
        t.addInt = function(t) {
            this._value |= t;
            return this._value
        }
        ;
        t.remove = function(t) {
            if (typeof t == "string")
                t = this._name2int[t];
            this._value &= ~t;
            return this._value
        }
        ;
        t.isDefine = function(t) {
            return (this._value & t) === t
        }
        ;
        t.getValue = function() {
            return this._value
        }
        ;
        t.setValue = function(t) {
            this._value = t
        }
        ;
        t.toNameDic = function() {
            var t = this._int2nameMap[this._value];
            return t ? t : e._toText(this._value, this._int2name, this._int2nameMap)
        }
        ;
        e._reg = function(t, e, i, n) {
            i[t] = e;
            n[e] = t
        }
        ;
        e._toText = function(t, e, i) {
            var n = i[t];
            if (n)
                return n;
            var s = {};
            var r = 1;
            for (var a = 0; a < 32; a++) {
                r = 1 << a;
                if (r > t)
                    break;
                if (t & r) {
                    var o = e[r];
                    o && (s[o] = "")
                }
            }
            i[t] = s;
            return s
        }
        ;
        e._toInt = function(t, e) {
            var i = t.split(".");
            var n = 0;
            for (var s = 0, r = i.length; s < r; s++) {
                var a = e[i[s]];
                if (!a)
                    throw new Error("Defines to int err:" + t + "/" + i[s]);
                n |= a
            }
            return n
        }
        ;
        return e
    }();
    var Ti = function() {
        function h() {
            this.mVBBuffer = null;
            this.mIBBuffer = null;
            this.mVBData = null;
            this.mIBData = null;
            this.mEleNum = 0;
            this.mTexture = null;
            this.transform = null;
            this._vs = null;
            this._ps = null;
            this._indexStart = -1;
            this._verticles = null;
            this._uvs = null;
            this._tempMatrix = new Ce
        }
        x(h, "laya.webgl.shader.d2.skinAnishader.SkinMesh");
        var t = h.prototype;
        t.init = function(t, e, i) {
            if (e) {
                this._vs = e
            } else {
                this._vs = [];
                var n = t.width;
                var s = t.height;
                var r = 1;
                var a = 1;
                var o = 1;
                var l = 1;
                this._vs.push(0, 0, 0, 0, r, a, o, l);
                this._vs.push(n, 0, 1, 0, r, a, o, l);
                this._vs.push(n, s, 1, 1, r, a, o, l);
                this._vs.push(0, s, 0, 1, r, a, o, l)
            }
            if (i) {
                this._ps = i
            } else {
                if (!h._defaultPS) {
                    h._defaultPS = [];
                    h._defaultPS.push(0, 1, 3, 3, 1, 2)
                }
                this._ps = h._defaultPS
            }
            this.mVBData = new Float32Array(this._vs);
            this.mIBData = new Uint16Array(this._ps.length);
            this.mIBData["start"] = -1;
            this.mEleNum = this._ps.length;
            this.mTexture = t
        }
        ;
        t.init2 = function(t, e, i, n, s) {
            if (this.transform)
                this.transform = null;
            if (i) {
                this._ps = i
            } else {
                this._ps = [];
                this._ps.push(0, 1, 3, 3, 1, 2)
            }
            this._verticles = n;
            this._uvs = s;
            this.mEleNum = this._ps.length;
            this.mTexture = t;
            if (Be.isConchNode || Be.isConchApp) {
                this._initMyData();
                this.mVBData = new Float32Array(this._vs)
            }
        }
        ;
        t._initMyData = function() {
            var t = 0;
            var e = 0;
            var i = this._verticles.length;
            var n = i * 4;
            this._vs = h._tempVS;
            var s = false;
            if (Be.isConchNode || Be.isConchApp) {
                this._vs.length = n;
                s = true
            } else {
                if (this._vs.length < n) {
                    this._vs.length = n;
                    s = true
                }
            }
            h._tVSLen = n;
            if (s) {
                while (t < n) {
                    this._vs[t] = this._verticles[e];
                    this._vs[t + 1] = this._verticles[e + 1];
                    this._vs[t + 2] = this._uvs[e];
                    this._vs[t + 3] = this._uvs[e + 1];
                    this._vs[t + 4] = 1;
                    this._vs[t + 5] = 1;
                    this._vs[t + 6] = 1;
                    this._vs[t + 7] = 1;
                    t += 8;
                    e += 2
                }
            } else {
                while (t < n) {
                    this._vs[t] = this._verticles[e];
                    this._vs[t + 1] = this._verticles[e + 1];
                    this._vs[t + 2] = this._uvs[e];
                    this._vs[t + 3] = this._uvs[e + 1];
                    t += 8;
                    e += 2
                }
            }
        }
        ;
        t.getData2 = function(t, e, i) {
            this.mVBBuffer = t;
            this.mIBBuffer = e;
            this._initMyData();
            t.appendEx2(this._vs, Float32Array, h._tVSLen, 4);
            this._indexStart = e._byteLength;
            var n;
            n = h._tempIB;
            if (n.length < this._ps.length) {
                n.length = this._ps.length
            }
            for (var s = 0, r = this._ps.length; s < r; s++) {
                n[s] = this._ps[s] + i
            }
            e.appendEx2(n, Uint16Array, this._ps.length, 2)
        }
        ;
        t.getData = function(t, e, i) {
            this.mVBBuffer = t;
            this.mIBBuffer = e;
            t.append(this.mVBData);
            this._indexStart = e._byteLength;
            if (this.mIBData["start"] != i) {
                for (var n = 0, s = this._ps.length; n < s; n++) {
                    this.mIBData[n] = this._ps[n] + i
                }
                this.mIBData["start"] = i
            }
            e.append(this.mIBData)
        }
        ;
        t.render = function(t, e, i) {
            if (Be.isWebGL && this.mTexture) {
                t._renderKey = 0;
                t._shader2D.glTexture = null;
                Ri.getInstance().addSkinMesh(this);
                var n = Mi.createShape(t, this.mIBBuffer, this.mVBBuffer, this.mEleNum, this._indexStart, mn.create(512, 0));
                this.transform || (this.transform = Ce.EMPTY);
                this.transform.translate(e, i);
                Ce.mul(this.transform, t._curMat, this._tempMatrix);
                this.transform.translate(-e, -i);
                var s = n.shaderValue;
                var r = s.u_mmat2 || Oi.getMatrArray();
                Oi.mat2MatArray(this._tempMatrix, r);
                s.textureHost = this.mTexture;
                s.offsetX = 0;
                s.offsetY = 0;
                s.u_mmat2 = r;
                s.ALPHA = t._shader2D.ALPHA;
                t._submits[t._submits._length++] = n
            } else if (Be.isConchApp && this.mTexture) {
                this.transform || (this.transform = Ce.EMPTY);
                t.setSkinMesh && t.setSkinMesh(e, i, this._ps, this.mVBData, this.mEleNum, 0, this.mTexture, this.transform)
            }
        }
        ;
        h._tempVS = [];
        h._tempIB = [];
        h._defaultPS = null;
        h._tVSLen = 0;
        return h
    }();
    var Ri = function() {
        function t() {
            this.ib = null;
            this.vb = null;
            var t = Hi.mainContext;
            this.ib = ar.create(35048);
            this.vb = or.create(8)
        }
        x(t, "laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer");
        var e = t.prototype;
        e.addSkinMesh = function(t) {
            t.getData2(this.vb, this.ib, this.vb._byteLength / 32)
        }
        ;
        e.reset = function() {
            this.vb.clear();
            this.ib.clear()
        }
        ;
        t.getInstance = function() {
            return t.instance = t.instance || new t
        }
        ;
        t.instance = null;
        return t
    }();
    var Ii = function() {
        function t(t, e, i, n, s, r, a, o, l) {
            this.r0 = 0;
            this.fill = true;
            this.r1 = Math.PI / 2;
            l === void 0 && (l = 0);
            this.x = t;
            this.y = e;
            this.width = i;
            this.height = n;
            this.edges = s;
            this.color = r;
            this.borderWidth = a;
            this.borderColor = o
        }
        x(t, "laya.webgl.shapes.BasePoly");
        var e = t.prototype;
        st.imps(e, {
            "laya.webgl.shapes.IShape": true
        });
        e.getData = function(t, e, i) {}
        ;
        e.rebuild = function(t) {}
        ;
        e.setMatrix = function(t) {}
        ;
        e.needUpdate = function(t) {
            return true
        }
        ;
        e.sector = function(t, e, i) {
            var n = this.x
              , s = this.y
              , r = this.edges
              , a = (this.r1 - this.r0) / r;
            var o = this.width
              , l = this.height
              , h = this.color;
            var u = (h >> 16 & 255) / 255
              , c = (h >> 8 & 255) / 255
              , f = (h & 255) / 255;
            t.push(n, s, u, c, f);
            for (var d = 0; d < r + 1; d++) {
                t.push(n + Math.sin(a * d + this.r0) * o, s + Math.cos(a * d + this.r0) * l);
                t.push(u, c, f)
            }
            for (d = 0; d < r; d++) {
                e.push(i, i + d + 1, i + d + 2)
            }
        }
        ;
        e.createLine2 = function(t, e, i, n, s, r) {
            var a = t.concat();
            var o = s;
            var l = this.borderColor;
            var h = (l >> 16 & 255) / 255
              , u = (l >> 8 & 255) / 255
              , c = (l & 255) / 255;
            var f = a.length / 2;
            var d = n
              , _ = i / 2;
            var p, m, g, v, b, y, x, w;
            var C, S, T, R, I, A;
            var G, M, L, W, E, N;
            var V, Z, B;
            g = a[0];
            v = a[1];
            b = a[2];
            y = a[3];
            C = -(v - y);
            S = g - b;
            B = Math.sqrt(C * C + S * S);
            C = C / B * _;
            S = S / B * _;
            o.push(g - C + this.x, v - S + this.y, h, u, c, g + C + this.x, v + S + this.y, h, u, c);
            for (var k = 1; k < f - 1; k++) {
                g = a[(k - 1) * 2];
                v = a[(k - 1) * 2 + 1];
                b = a[k * 2];
                y = a[k * 2 + 1];
                x = a[(k + 1) * 2];
                w = a[(k + 1) * 2 + 1];
                C = -(v - y);
                S = g - b;
                B = Math.sqrt(C * C + S * S);
                C = C / B * _;
                S = S / B * _;
                T = -(y - w);
                R = b - x;
                B = Math.sqrt(T * T + R * R);
                T = T / B * _;
                R = R / B * _;
                G = -S + v - (-S + y);
                M = -C + b - (-C + g);
                L = (-C + g) * (-S + y) - (-C + b) * (-S + v);
                W = -R + w - (-R + y);
                E = -T + b - (-T + x);
                N = (-T + x) * (-R + y) - (-T + b) * (-R + w);
                V = G * E - W * M;
                if (Math.abs(V) < .1) {
                    V += 10.1;
                    o.push(b - C + this.x, y - S + this.y, h, u, c, b + C + this.x, y + S + this.y, h, u, c);
                    continue
                }
                p = (M * N - E * L) / V;
                m = (W * L - G * N) / V;
                Z = (p - b) * (p - b) + (m - y) + (m - y);
                o.push(p + this.x, m + this.y, h, u, c, b - (p - b) + this.x, y - (m - y) + this.y, h, u, c)
            }
            g = a[a.length - 4];
            v = a[a.length - 3];
            b = a[a.length - 2];
            y = a[a.length - 1];
            C = -(v - y);
            S = g - b;
            B = Math.sqrt(C * C + S * S);
            C = C / B * _;
            S = S / B * _;
            o.push(b - C + this.x, y - S + this.y, h, u, c, b + C + this.x, y + S + this.y, h, u, c);
            var P = r;
            for (k = 1; k < P; k++) {
                e.push(d + (k - 1) * 2, d + (k - 1) * 2 + 1, d + k * 2 + 1, d + k * 2 + 1, d + k * 2, d + (k - 1) * 2)
            }
            return o
        }
        ;
        e.createLine = function(t, e, i, n) {
            var s = t.concat();
            var r = t;
            var a = this.borderColor;
            var o = (a >> 16 & 255) / 255
              , l = (a >> 8 & 255) / 255
              , h = (a & 255) / 255;
            s.splice(0, 5);
            var u = s.length / 5;
            var c = n
              , f = i / 2;
            var d, _, p, m, g, v, b, y;
            var x, w, C, S, T, R;
            var I, A, G, M, L, W;
            var E, N, V;
            p = s[0];
            m = s[1];
            g = s[5];
            v = s[6];
            x = -(m - v);
            w = p - g;
            V = Math.sqrt(x * x + w * w);
            x = x / V * f;
            w = w / V * f;
            r.push(p - x, m - w, o, l, h, p + x, m + w, o, l, h);
            for (var Z = 1; Z < u - 1; Z++) {
                p = s[(Z - 1) * 5];
                m = s[(Z - 1) * 5 + 1];
                g = s[Z * 5];
                v = s[Z * 5 + 1];
                b = s[(Z + 1) * 5];
                y = s[(Z + 1) * 5 + 1];
                x = -(m - v);
                w = p - g;
                V = Math.sqrt(x * x + w * w);
                x = x / V * f;
                w = w / V * f;
                C = -(v - y);
                S = g - b;
                V = Math.sqrt(C * C + S * S);
                C = C / V * f;
                S = S / V * f;
                I = -w + m - (-w + v);
                A = -x + g - (-x + p);
                G = (-x + p) * (-w + v) - (-x + g) * (-w + m);
                M = -S + y - (-S + v);
                L = -C + g - (-C + b);
                W = (-C + b) * (-S + v) - (-C + g) * (-S + y);
                E = I * L - M * A;
                if (Math.abs(E) < .1) {
                    E += 10.1;
                    r.push(g - x, v - w, o, l, h, g + x, v + w, o, l, h);
                    continue
                }
                d = (A * W - L * G) / E;
                _ = (M * G - I * W) / E;
                N = (d - g) * (d - g) + (_ - v) + (_ - v);
                r.push(d, _, o, l, h, g - (d - g), v - (_ - v), o, l, h)
            }
            p = s[s.length - 10];
            m = s[s.length - 9];
            g = s[s.length - 5];
            v = s[s.length - 4];
            x = -(m - v);
            w = p - g;
            V = Math.sqrt(x * x + w * w);
            x = x / V * f;
            w = w / V * f;
            r.push(g - x, v - w, o, l, h, g + x, v + w, o, l, h);
            var B = this.edges + 1;
            for (Z = 1; Z < B; Z++) {
                e.push(c + (Z - 1) * 2, c + (Z - 1) * 2 + 1, c + Z * 2 + 1, c + Z * 2 + 1, c + Z * 2, c + (Z - 1) * 2)
            }
            return r
        }
        ;
        e.createLoopLine = function(t, e, i, n, s, r) {
            var a = t.concat();
            var o = s ? s : t;
            var l = this.borderColor;
            var h = (l >> 16 & 255) / 255
              , u = (l >> 8 & 255) / 255
              , c = (l & 255) / 255;
            a.splice(0, 5);
            var f = [a[0], a[1]];
            var d = [a[a.length - 5], a[a.length - 4]];
            var _ = d[0] + (f[0] - d[0]) * .5;
            var p = d[1] + (f[1] - d[1]) * .5;
            a.unshift(_, p, 0, 0, 0);
            a.push(_, p, 0, 0, 0);
            var m = a.length / 5;
            var g = n
              , v = i / 2;
            var b, y, x, w, C, S, T, R;
            var I, A, G, M, L, W;
            var E, N, V, Z, B, k;
            var P, F, X;
            x = a[0];
            w = a[1];
            C = a[5];
            S = a[6];
            I = -(w - S);
            A = x - C;
            X = Math.sqrt(I * I + A * A);
            I = I / X * v;
            A = A / X * v;
            o.push(x - I, w - A, h, u, c, x + I, w + A, h, u, c);
            for (var D = 1; D < m - 1; D++) {
                x = a[(D - 1) * 5];
                w = a[(D - 1) * 5 + 1];
                C = a[D * 5];
                S = a[D * 5 + 1];
                T = a[(D + 1) * 5];
                R = a[(D + 1) * 5 + 1];
                I = -(w - S);
                A = x - C;
                X = Math.sqrt(I * I + A * A);
                I = I / X * v;
                A = A / X * v;
                G = -(S - R);
                M = C - T;
                X = Math.sqrt(G * G + M * M);
                G = G / X * v;
                M = M / X * v;
                E = -A + w - (-A + S);
                N = -I + C - (-I + x);
                V = (-I + x) * (-A + S) - (-I + C) * (-A + w);
                Z = -M + R - (-M + S);
                B = -G + C - (-G + T);
                k = (-G + T) * (-M + S) - (-G + C) * (-M + R);
                P = E * B - Z * N;
                if (Math.abs(P) < .1) {
                    P += 10.1;
                    o.push(C - I, S - A, h, u, c, C + I, S + A, h, u, c);
                    continue
                }
                b = (N * k - B * V) / P;
                y = (Z * V - E * k) / P;
                F = (b - C) * (b - C) + (y - S) + (y - S);
                o.push(b, y, h, u, c, C - (b - C), S - (y - S), h, u, c)
            }
            if (r) {
                e = r
            }
            var Y = this.edges + 1;
            for (D = 1; D < Y; D++) {
                e.push(g + (D - 1) * 2, g + (D - 1) * 2 + 1, g + D * 2 + 1, g + D * 2 + 1, g + D * 2, g + (D - 1) * 2)
            }
            e.push(g + (D - 1) * 2, g + (D - 1) * 2 + 1, g + 1, g + 1, g, g + (D - 1) * 2);
            return o
        }
        ;
        return t
    }();
    var Ai = function() {
        function p() {}
        x(p, "laya.webgl.shapes.Earcut");
        p.earcut = function(t, e, i) {
            i = i || 2;
            var n = e && e.length
              , s = n ? e[0] * i : t.length
              , r = p.linkedList(t, 0, s, i, true)
              , a = [];
            if (!r)
                return a;
            var o, l, h, u, c, f, d;
            if (n)
                r = p.eliminateHoles(t, e, r, i);
            if (t.length > 80 * i) {
                o = h = t[0];
                l = u = t[1];
                for (var _ = i; _ < s; _ += i) {
                    c = t[_];
                    f = t[_ + 1];
                    if (c < o)
                        o = c;
                    if (f < l)
                        l = f;
                    if (c > h)
                        h = c;
                    if (f > u)
                        u = f
                }
                d = Math.max(h - o, u - l);
                d = d !== 0 ? 1 / d : 0
            }
            p.earcutLinked(r, a, i, o, l, d);
            return a
        }
        ;
        p.linkedList = function(t, e, i, n, s) {
            var r, a;
            if (s === p.signedArea(t, e, i, n) > 0) {
                for (r = e; r < i; r += n)
                    a = p.insertNode(r, t[r], t[r + 1], a)
            } else {
                for (r = i - n; r >= e; r -= n)
                    a = p.insertNode(r, t[r], t[r + 1], a)
            }
            if (a && p.equals(a, a.next)) {
                p.removeNode(a);
                a = a.next
            }
            return a
        }
        ;
        p.filterPoints = function(t, e) {
            if (!t)
                return t;
            if (!e)
                e = t;
            var i = t, n;
            do {
                n = false;
                if (!i.steiner && (p.equals(i, i.next) || p.area(i.prev, i, i.next) === 0)) {
                    p.removeNode(i);
                    i = e = i.prev;
                    if (i === i.next)
                        break;
                    n = true
                } else {
                    i = i.next
                }
            } while (n || i !== e);return e
        }
        ;
        p.earcutLinked = function(t, e, i, n, s, r, a) {
            if (!t)
                return;
            if (!a && r)
                p.indexCurve(t, n, s, r);
            var o = t, l, h;
            while (t.prev !== t.next) {
                l = t.prev;
                h = t.next;
                if (r ? p.isEarHashed(t, n, s, r) : p.isEar(t)) {
                    e.push(l.i / i);
                    e.push(t.i / i);
                    e.push(h.i / i);
                    p.removeNode(t);
                    t = h.next;
                    o = h.next;
                    continue
                }
                t = h;
                if (t === o) {
                    if (!a) {
                        p.earcutLinked(p.filterPoints(t, null), e, i, n, s, r, 1)
                    } else if (a === 1) {
                        t = p.cureLocalIntersections(t, e, i);
                        p.earcutLinked(t, e, i, n, s, r, 2)
                    } else if (a === 2) {
                        p.splitEarcut(t, e, i, n, s, r)
                    }
                    break
                }
            }
        }
        ;
        p.isEar = function(t) {
            var e = t.prev
              , i = t
              , n = t.next;
            if (p.area(e, i, n) >= 0)
                return false;
            var s = t.next.next;
            while (s !== t.prev) {
                if (p.pointInTriangle(e.x, e.y, i.x, i.y, n.x, n.y, s.x, s.y) && p.area(s.prev, s, s.next) >= 0)
                    return false;
                s = s.next
            }
            return true
        }
        ;
        p.isEarHashed = function(t, e, i, n) {
            var s = t.prev
              , r = t
              , a = t.next;
            if (p.area(s, r, a) >= 0)
                return false;
            var o = s.x < r.x ? s.x < a.x ? s.x : a.x : r.x < a.x ? r.x : a.x
              , l = s.y < r.y ? s.y < a.y ? s.y : a.y : r.y < a.y ? r.y : a.y
              , h = s.x > r.x ? s.x > a.x ? s.x : a.x : r.x > a.x ? r.x : a.x
              , u = s.y > r.y ? s.y > a.y ? s.y : a.y : r.y > a.y ? r.y : a.y;
            var c = p.zOrder(o, l, e, i, n)
              , f = p.zOrder(h, u, e, i, n);
            var d = t.nextZ;
            while (d && d.z <= f) {
                if (d !== t.prev && d !== t.next && p.pointInTriangle(s.x, s.y, r.x, r.y, a.x, a.y, d.x, d.y) && p.area(d.prev, d, d.next) >= 0)
                    return false;
                d = d.nextZ
            }
            d = t.prevZ;
            while (d && d.z >= c) {
                if (d !== t.prev && d !== t.next && p.pointInTriangle(s.x, s.y, r.x, r.y, a.x, a.y, d.x, d.y) && p.area(d.prev, d, d.next) >= 0)
                    return false;
                d = d.prevZ
            }
            return true
        }
        ;
        p.cureLocalIntersections = function(t, e, i) {
            var n = t;
            do {
                var s = n.prev
                  , r = n.next.next;
                if (!p.equals(s, r) && p.intersects(s, n, n.next, r) && p.locallyInside(s, r) && p.locallyInside(r, s)) {
                    e.push(s.i / i);
                    e.push(n.i / i);
                    e.push(r.i / i);
                    p.removeNode(n);
                    p.removeNode(n.next);
                    n = t = r
                }
                n = n.next
            } while (n !== t);return n
        }
        ;
        p.splitEarcut = function(t, e, i, n, s, r) {
            var a = t;
            do {
                var o = a.next.next;
                while (o !== a.prev) {
                    if (a.i !== o.i && p.isValidDiagonal(a, o)) {
                        var l = p.splitPolygon(a, o);
                        a = p.filterPoints(a, a.next);
                        l = p.filterPoints(l, l.next);
                        p.earcutLinked(a, e, i, n, s, r);
                        p.earcutLinked(l, e, i, n, s, r);
                        return
                    }
                    o = o.next
                }
                a = a.next
            } while (a !== t)
        }
        ;
        p.eliminateHoles = function(t, e, i, n) {
            var s = [], r, a, o, l, h;
            for (r = 0,
            a = e.length; r < a; r++) {
                o = e[r] * n;
                l = r < a - 1 ? e[r + 1] * n : t.length;
                h = p.linkedList(t, o, l, n, false);
                if (h === h.next)
                    h.steiner = true;
                s.push(p.getLeftmost(h))
            }
            s.sort(p.compareX);
            for (r = 0; r < s.length; r++) {
                p.eliminateHole(s[r], i);
                i = p.filterPoints(i, i.next)
            }
            return i
        }
        ;
        p.compareX = function(t, e) {
            return t.x - e.x
        }
        ;
        p.eliminateHole = function(t, e) {
            e = p.findHoleBridge(t, e);
            if (e) {
                var i = p.splitPolygon(e, t);
                p.filterPoints(i, i.next)
            }
        }
        ;
        p.findHoleBridge = function(t, e) {
            var i = e, n = t.x, s = t.y, r = -Infinity, a;
            do {
                if (s <= i.y && s >= i.next.y && i.next.y !== i.y) {
                    var o = i.x + (s - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
                    if (o <= n && o > r) {
                        r = o;
                        if (o === n) {
                            if (s === i.y)
                                return i;
                            if (s === i.next.y)
                                return i.next
                        }
                        a = i.x < i.next.x ? i : i.next
                    }
                }
                i = i.next
            } while (i !== e);if (!a)
                return null;
            if (n === r)
                return a.prev;
            var l = a, h = a.x, u = a.y, c = Infinity, f;
            i = a.next;
            while (i !== l) {
                if (n >= i.x && i.x >= h && n !== i.x && p.pointInTriangle(s < u ? n : r, s, h, u, s < u ? r : n, s, i.x, i.y)) {
                    f = Math.abs(s - i.y) / (n - i.x);
                    if ((f < c || f === c && i.x > a.x) && p.locallyInside(i, t)) {
                        a = i;
                        c = f
                    }
                }
                i = i.next
            }
            return a
        }
        ;
        p.indexCurve = function(t, e, i, n) {
            var s = t;
            do {
                if (s.z === null)
                    s.z = p.zOrder(s.x, s.y, e, i, n);
                s.prevZ = s.prev;
                s.nextZ = s.next;
                s = s.next
            } while (s !== t);s.prevZ.nextZ = null;
            s.prevZ = null;
            p.sortLinked(s)
        }
        ;
        p.sortLinked = function(t) {
            var e, i, n, s, r, a, o, l, h = 1;
            do {
                i = t;
                t = null;
                r = null;
                a = 0;
                while (i) {
                    a++;
                    n = i;
                    o = 0;
                    for (e = 0; e < h; e++) {
                        o++;
                        n = n.nextZ;
                        if (!n)
                            break
                    }
                    l = h;
                    while (o > 0 || l > 0 && n) {
                        if (o !== 0 && (l === 0 || !n || i.z <= n.z)) {
                            s = i;
                            i = i.nextZ;
                            o--
                        } else {
                            s = n;
                            n = n.nextZ;
                            l--
                        }
                        if (r)
                            r.nextZ = s;
                        else
                            t = s;
                        s.prevZ = r;
                        r = s
                    }
                    i = n
                }
                r.nextZ = null;
                h *= 2
            } while (a > 1);return t
        }
        ;
        p.zOrder = function(t, e, i, n, s) {
            t = 32767 * (t - i) * s;
            e = 32767 * (e - n) * s;
            t = (t | t << 8) & 16711935;
            t = (t | t << 4) & 252645135;
            t = (t | t << 2) & 858993459;
            t = (t | t << 1) & 1431655765;
            e = (e | e << 8) & 16711935;
            e = (e | e << 4) & 252645135;
            e = (e | e << 2) & 858993459;
            e = (e | e << 1) & 1431655765;
            return t | e << 1
        }
        ;
        p.getLeftmost = function(t) {
            var e = t
              , i = t;
            do {
                if (e.x < i.x)
                    i = e;
                e = e.next
            } while (e !== t);return i
        }
        ;
        p.pointInTriangle = function(t, e, i, n, s, r, a, o) {
            return (s - a) * (e - o) - (t - a) * (r - o) >= 0 && (t - a) * (n - o) - (i - a) * (e - o) >= 0 && (i - a) * (r - o) - (s - a) * (n - o) >= 0
        }
        ;
        p.isValidDiagonal = function(t, e) {
            return t.next.i !== e.i && t.prev.i !== e.i && !p.intersectsPolygon(t, e) && p.locallyInside(t, e) && p.locallyInside(e, t) && p.middleInside(t, e)
        }
        ;
        p.area = function(t, e, i) {
            return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y)
        }
        ;
        p.equals = function(t, e) {
            return t.x === e.x && t.y === e.y
        }
        ;
        p.intersects = function(t, e, i, n) {
            if (p.equals(t, e) && p.equals(i, n) || p.equals(t, n) && p.equals(i, e))
                return true;
            return p.area(t, e, i) > 0 !== p.area(t, e, n) > 0 && p.area(i, n, t) > 0 !== p.area(i, n, e) > 0
        }
        ;
        p.intersectsPolygon = function(t, e) {
            var i = t;
            do {
                if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && p.intersects(i, i.next, t, e))
                    return true;
                i = i.next
            } while (i !== t);return false
        }
        ;
        p.locallyInside = function(t, e) {
            return p.area(t.prev, t, t.next) < 0 ? p.area(t, e, t.next) >= 0 && p.area(t, t.prev, e) >= 0 : p.area(t, e, t.prev) < 0 || p.area(t, t.next, e) < 0
        }
        ;
        p.middleInside = function(t, e) {
            var i = t
              , n = false
              , s = (t.x + e.x) / 2
              , r = (t.y + e.y) / 2;
            do {
                if (i.y > r !== i.next.y > r && i.next.y !== i.y && s < (i.next.x - i.x) * (r - i.y) / (i.next.y - i.y) + i.x)
                    n = !n;
                i = i.next
            } while (i !== t);return n
        }
        ;
        p.splitPolygon = function(t, e) {
            var i = new Gi(t.i,t.x,t.y)
              , n = new Gi(e.i,e.x,e.y)
              , s = t.next
              , r = e.prev;
            t.next = e;
            e.prev = t;
            i.next = s;
            s.prev = i;
            n.next = i;
            i.prev = n;
            r.next = n;
            n.prev = r;
            return n
        }
        ;
        p.insertNode = function(t, e, i, n) {
            var s = new Gi(t,e,i);
            if (!n) {
                s.prev = s;
                s.next = s
            } else {
                s.next = n.next;
                s.prev = n;
                n.next.prev = s;
                n.next = s
            }
            return s
        }
        ;
        p.removeNode = function(t) {
            t.next.prev = t.prev;
            t.prev.next = t.next;
            if (t.prevZ)
                t.prevZ.nextZ = t.nextZ;
            if (t.nextZ)
                t.nextZ.prevZ = t.prevZ
        }
        ;
        p.signedArea = function(t, e, i, n) {
            var s = 0;
            for (var r = e, a = i - n; r < i; r += n) {
                s += (t[a] - t[r]) * (t[r + 1] + t[a + 1]);
                a = r
            }
            return s
        }
        ;
        return p
    }();
    var Gi = function() {
        function t(t, e, i) {
            this.i = null;
            this.x = null;
            this.y = null;
            this.prev = null;
            this.next = null;
            this.z = null;
            this.prevZ = null;
            this.nextZ = null;
            this.steiner = null;
            this.i = t;
            this.x = e;
            this.y = i;
            this.prev = null;
            this.next = null;
            this.z = null;
            this.prevZ = null;
            this.nextZ = null;
            this.steiner = false
        }
        x(t, "laya.webgl.shapes.EarcutNode");
        return t
    }();
    var Mi = function() {
        function l(t) {
            t === void 0 && (t = 1e4);
            this._renderType = t
        }
        x(l, "laya.webgl.submit.Submit");
        var t = l.prototype;
        st.imps(t, {
            "laya.webgl.submit.ISubmit": true
        });
        t.releaseRender = function() {
            var t = l._cache;
            t[t._length++] = this;
            this.shaderValue.release();
            this._vb = null
        }
        ;
        t.getRenderType = function() {
            return this._renderType
        }
        ;
        t.renderSubmit = function() {
            if (this._numEle === 0)
                return 1;
            var t = this.shaderValue.textureHost;
            if (t) {
                var e = t.source;
                if (!t.bitmap || !e)
                    return 1;
                this.shaderValue.texture = e
            }
            this._vb.bind_upload(this._ib);
            var i = Hi.mainContext;
            this.shaderValue.upload();
            if (di.activeBlendFunction !== this._blendFn) {
                i.enable(3042);
                this._blendFn(i);
                di.activeBlendFunction = this._blendFn
            }
            ii.drawCall++;
            ii.trianglesFaces += this._numEle / 3;
            i.drawElements(4, this._numEle, 5123, this._startIdx);
            return 1
        }
        ;
        l.__init__ = function() {
            var t = l.RENDERBASE = new l(-1);
            t.shaderValue = new mn(0,0);
            t.shaderValue.ALPHA = -1234
        }
        ;
        l.createSubmit = function(t, e, i, n, s) {
            var r = l._cache._length ? l._cache[--l._cache._length] : new l;
            if (i == null) {
                i = r._selfVb || (r._selfVb = or.create(-1));
                i.clear();
                n = 0
            }
            r._ib = e;
            r._vb = i;
            r._startIdx = n * Fi.BYTES_PIDX;
            r._numEle = 0;
            var a = t._nBlendType;
            r._blendFn = t._targets ? di.targetFns[a] : di.fns[a];
            r.shaderValue = s;
            r.shaderValue.setValue(t._shader2D);
            var o = t._shader2D.filters;
            o && r.shaderValue.setFilters(o);
            return r
        }
        ;
        l.createShape = function(t, e, i, n, s, r) {
            var a = !l._cache._length ? new l : l._cache[--l._cache._length];
            a._ib = e;
            a._vb = i;
            a._numEle = n;
            a._startIdx = s;
            a.shaderValue = r;
            a.shaderValue.setValue(t._shader2D);
            var o = t._nBlendType;
            a._blendFn = t._targets ? di.targetFns[o] : di.fns[o];
            return a
        }
        ;
        l.TYPE_2D = 1e4;
        l.TYPE_CANVAS = 10003;
        l.TYPE_CMDSETRT = 10004;
        l.TYPE_CUSTOM = 10005;
        l.TYPE_BLURRT = 10006;
        l.TYPE_CMDDESTORYPRERT = 10007;
        l.TYPE_DISABLESTENCIL = 10008;
        l.TYPE_OTHERIBVB = 10009;
        l.TYPE_PRIMITIVE = 10010;
        l.TYPE_RT = 10011;
        l.TYPE_BLUR_RT = 10012;
        l.TYPE_TARGET = 10013;
        l.TYPE_CHANGE_VALUE = 10014;
        l.TYPE_SHAPE = 10015;
        l.TYPE_TEXTURE = 10016;
        l.TYPE_FILLTEXTURE = 10017;
        l.RENDERBASE = null;
        l._cache = (l._cache = [],
        l._cache._length = 0,
        l._cache);
        return l
    }();
    var Li = function() {
        function n() {
            this.fun = null;
            this.args = null
        }
        x(n, "laya.webgl.submit.SubmitCMD");
        var t = n.prototype;
        st.imps(t, {
            "laya.webgl.submit.ISubmit": true
        });
        t.renderSubmit = function() {
            this.fun.apply(null, this.args);
            return 1
        }
        ;
        t.getRenderType = function() {
            return 0
        }
        ;
        t.releaseRender = function() {
            var t = n._cache;
            t[t._length++] = this
        }
        ;
        n.create = function(t, e) {
            var i = n._cache._length ? n._cache[--n._cache._length] : new n;
            i.fun = e;
            i.args = t;
            return i
        }
        ;
        n._cache = (n._cache = [],
        n._cache._length = 0,
        n._cache);
        return n
    }();
    var Wi = function() {
        function e() {
            this.variables = {}
        }
        x(e, "laya.webgl.submit.SubmitCMDScope");
        var t = e.prototype;
        t.getValue = function(t) {
            return this.variables[t]
        }
        ;
        t.addValue = function(t, e) {
            return this.variables[t] = e
        }
        ;
        t.setValue = function(t, e) {
            if (this.variables.hasOwnProperty(t)) {
                return this.variables[t] = e
            }
            return null
        }
        ;
        t.clear = function() {
            for (var t in this.variables) {
                delete this.variables[t]
            }
        }
        ;
        t.recycle = function() {
            this.clear();
            e.POOL.push(this)
        }
        ;
        e.create = function() {
            var t = e.POOL.pop();
            t || (t = new e);
            return t
        }
        ;
        e.POOL = [];
        return e
    }();
    var Ei = function() {
        function c() {
            this.offset = 0;
            this.startIndex = 0;
            this._mat = Ce.create()
        }
        x(c, "laya.webgl.submit.SubmitOtherIBVB");
        var t = c.prototype;
        st.imps(t, {
            "laya.webgl.submit.ISubmit": true
        });
        t.releaseRender = function() {
            var t = c._cache;
            t[t._length++] = this
        }
        ;
        t.getRenderType = function() {
            return 10009
        }
        ;
        t.renderSubmit = function() {
            var t = this._shaderValue.textureHost;
            if (t) {
                var e = t.source;
                if (!t.bitmap || !e)
                    return 1;
                this._shaderValue.texture = e
            }
            this._vb.bind_upload(this._ib);
            var i = Oi.worldMatrix4;
            var n = Ce.TEMP;
            Ce.mulPre(this._mat, i[0], i[1], i[4], i[5], i[12], i[13], n);
            var s = Oi.worldMatrix4 = c.tempMatrix4;
            s[0] = n.a;
            s[1] = n.b;
            s[4] = n.c;
            s[5] = n.d;
            s[12] = n.tx;
            s[13] = n.ty;
            this._shader._offset = this.offset;
            this._shaderValue.refresh();
            this._shader.upload(this._shaderValue);
            this._shader._offset = 0;
            var r = Hi.mainContext;
            if (di.activeBlendFunction !== this._blendFn) {
                r.enable(3042);
                this._blendFn(r);
                di.activeBlendFunction = this._blendFn
            }
            ii.drawCall++;
            ii.trianglesFaces += this._numEle / 3;
            r.drawElements(4, this._numEle, 5123, this.startIndex);
            Oi.worldMatrix4 = i;
            On.activeShader = null;
            return 1
        }
        ;
        c.create = function(t, e, i, n, s, r, a, o, l) {
            l === void 0 && (l = 0);
            var h = !c._cache._length ? new c : c._cache[--c._cache._length];
            h._ib = i;
            h._vb = e;
            h._numEle = n;
            h._shader = s;
            h._shaderValue = r;
            var u = t._nBlendType;
            h._blendFn = t._targets ? di.targetFns[u] : di.fns[u];
            switch (l) {
            case 0:
                h.offset = 0;
                h.startIndex = o / (Fi.BYTES_PE * e.vertexStride) * 1.5;
                h.startIndex *= Fi.BYTES_PIDX;
                break;
            case 1:
                h.startIndex = a;
                h.offset = o;
                break
            }
            return h
        }
        ;
        c._cache = (c._cache = [],
        c._cache._length = 0,
        c._cache);
        c.tempMatrix4 = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
        return c
    }();
    var Ni = function() {
        function i() {
            this.submitIndex = 0;
            this.submitLength = 0;
            this.context = null;
            this.clipRect = new Te;
            this.screenRect = new Te
        }
        x(i, "laya.webgl.submit.SubmitScissor");
        var t = i.prototype;
        st.imps(t, {
            "laya.webgl.submit.ISubmit": true
        });
        t._scissor = function(t, e, i, n) {
            var s = Oi.worldMatrix4;
            var r = s[0]
              , a = s[5]
              , o = s[12]
              , l = s[13];
            t = t * r + o;
            e = e * a + l;
            i *= r;
            n *= a;
            if (i < 1 || n < 1) {
                return false
            }
            var h = t + i;
            var u = e + n;
            t < 0 && (t = 0,
            i = h - t);
            e < 0 && (e = 0,
            n = u - e);
            var c = Oi.worldClipRect;
            t = Math.max(t, c.x);
            e = Math.max(e, c.y);
            i = Math.min(h, c.right) - t;
            n = Math.min(u, c.bottom) - e;
            if (i < 1 || n < 1) {
                return false
            }
            var f = Oi.worldScissorTest;
            this.screenRect.copyFrom(c);
            c.x = t;
            c.y = e;
            c.width = i;
            c.height = n;
            Oi.worldScissorTest = true;
            e = Oi.height - e - n;
            Hi.mainContext.scissor(t, e, i, n);
            Hi.mainContext.enable(3089);
            this.context.submitElement(this.submitIndex, this.submitIndex + this.submitLength);
            if (f) {
                e = Oi.height - this.screenRect.y - this.screenRect.height;
                Hi.mainContext.scissor(this.screenRect.x, e, this.screenRect.width, this.screenRect.height);
                Hi.mainContext.enable(3089)
            } else {
                Hi.mainContext.disable(3089);
                Oi.worldScissorTest = false
            }
            c.copyFrom(this.screenRect);
            return true
        }
        ;
        t._scissorWithTagart = function(t, e, i, n) {
            if (i < 1 || n < 1) {
                return false
            }
            var s = t + i;
            var r = e + n;
            t < 0 && (t = 0,
            i = s - t);
            e < 0 && (e = 0,
            n = r - e);
            var a = Oi.worldClipRect;
            t = Math.max(t, a.x);
            e = Math.max(e, a.y);
            i = Math.min(s, a.right) - t;
            n = Math.min(r, a.bottom) - e;
            if (i < 1 || n < 1) {
                return false
            }
            var o = Oi.worldScissorTest;
            this.screenRect.copyFrom(a);
            Oi.worldScissorTest = true;
            a.x = t;
            a.y = e;
            a.width = i;
            a.height = n;
            e = Oi.height - e - n;
            Hi.mainContext.scissor(t, e, i, n);
            Hi.mainContext.enable(3089);
            this.context.submitElement(this.submitIndex, this.submitIndex + this.submitLength);
            if (o) {
                e = Oi.height - this.screenRect.y - this.screenRect.height;
                Hi.mainContext.scissor(this.screenRect.x, e, this.screenRect.width, this.screenRect.height);
                Hi.mainContext.enable(3089)
            } else {
                Hi.mainContext.disable(3089);
                Oi.worldScissorTest = false
            }
            a.copyFrom(this.screenRect);
            return true
        }
        ;
        t.renderSubmit = function() {
            this.submitLength = Math.min(this.context._submits._length - 1, this.submitLength);
            if (this.submitLength < 1 || this.clipRect.width < 1 || this.clipRect.height < 1)
                return this.submitLength + 1;
            if (this.context._targets)
                this._scissorWithTagart(this.clipRect.x, this.clipRect.y, this.clipRect.width, this.clipRect.height);
            else
                this._scissor(this.clipRect.x, this.clipRect.y, this.clipRect.width, this.clipRect.height);
            return this.submitLength + 1
        }
        ;
        t.getRenderType = function() {
            return 0
        }
        ;
        t.releaseRender = function() {
            var t = i._cache;
            t[t._length++] = this;
            this.context = null
        }
        ;
        i.create = function(t) {
            var e = i._cache._length ? i._cache[--i._cache._length] : new i;
            e.context = t;
            return e
        }
        ;
        i._cache = (i._cache = [],
        i._cache._length = 0,
        i._cache);
        return i
    }();
    var Vi = function() {
        function u() {
            this.step = 0;
            this.blendMode = null;
            this.level = 0
        }
        x(u, "laya.webgl.submit.SubmitStencil");
        var t = u.prototype;
        st.imps(t, {
            "laya.webgl.submit.ISubmit": true
        });
        t.renderSubmit = function() {
            switch (this.step) {
            case 1:
                this.do1();
                break;
            case 2:
                this.do2();
                break;
            case 3:
                this.do3();
                break;
            case 4:
                this.do4();
                break;
            case 5:
                this.do5();
                break;
            case 6:
                this.do6();
                break;
            case 7:
                this.do7();
                break;
            case 8:
                this.do8();
                break
            }
            return 1
        }
        ;
        t.getRenderType = function() {
            return 0
        }
        ;
        t.releaseRender = function() {
            var t = u._cache;
            t[t._length++] = this
        }
        ;
        t.do1 = function() {
            var t = Hi.mainContext;
            t.enable(2960);
            t.clear(1024);
            t.colorMask(false, false, false, false);
            t.stencilFunc(514, this.level, 255);
            t.stencilOp(7680, 7680, 7682)
        }
        ;
        t.do2 = function() {
            var t = Hi.mainContext;
            t.stencilFunc(514, this.level + 1, 255);
            t.colorMask(true, true, true, true);
            t.stencilOp(7680, 7680, 7680)
        }
        ;
        t.do3 = function() {
            var t = Hi.mainContext;
            t.colorMask(true, true, true, true);
            t.stencilOp(7680, 7680, 7680);
            t.clear(1024);
            t.disable(2960)
        }
        ;
        t.do4 = function() {
            var t = Hi.mainContext;
            if (this.level == 0) {
                t.enable(2960);
                t.clear(1024)
            }
            t.colorMask(false, false, false, false);
            t.stencilFunc(519, 0, 255);
            t.stencilOp(7680, 7680, 7682)
        }
        ;
        t.do5 = function() {
            var t = Hi.mainContext;
            t.stencilFunc(514, this.level, 255);
            t.colorMask(true, true, true, true);
            t.stencilOp(7680, 7680, 7680)
        }
        ;
        t.do6 = function() {
            var t = Hi.mainContext;
            di.targetFns[di.TOINT[this.blendMode]](t)
        }
        ;
        t.do7 = function() {
            var t = Hi.mainContext;
            t.colorMask(false, false, false, false);
            t.stencilOp(7680, 7680, 7683)
        }
        ;
        t.do8 = function() {
            var t = Hi.mainContext;
            t.colorMask(true, true, true, true);
            t.stencilFunc(514, this.level, 255);
            t.stencilOp(7680, 7680, 7680)
        }
        ;
        u.restore = function(t, e, i, n, s) {
            var r;
            t._renderKey = 0;
            if (u._mask > 0) {
                u._mask--
            }
            if (u._mask == 0) {
                r = laya.webgl.submit.SubmitStencil.create(3);
                t.addRenderObject(r);
                t._curSubmit = Mi.RENDERBASE
            } else {
                r = laya.webgl.submit.SubmitStencil.create(7);
                t.addRenderObject(r);
                var a = t._vb;
                var o = a._byteLength >> 2;
                if (Xi.fillRectImgVb(a, null, e.x, e.y, e.width, e.height, _n.DEF_UV, i, n, s, 0, 0)) {
                    var l = t._shader2D;
                    l.glTexture = null;
                    var h = t._curSubmit = Mi.createSubmit(t, t._ib, a, (a._byteLength - 16 * 4) / 32 * 3, mn.create(2, 0));
                    h.shaderValue.ALPHA = 1;
                    t._submits[t._submits._length++] = h;
                    t._curSubmit._numEle += 6;
                    t._curSubmit = Mi.RENDERBASE
                } else {
                    alert("clipRect calc stencil rect error")
                }
                r = laya.webgl.submit.SubmitStencil.create(8);
                t.addRenderObject(r)
            }
        }
        ;
        u.restore2 = function(t, e) {
            var i;
            t._renderKey = 0;
            if (u._mask > 0) {
                u._mask--
            }
            if (u._mask == 0) {
                i = laya.webgl.submit.SubmitStencil.create(3);
                t.addRenderObject(i);
                t._curSubmit = Mi.RENDERBASE
            } else {
                i = laya.webgl.submit.SubmitStencil.create(7);
                t.addRenderObject(i);
                t._submits[t._submits._length++] = e;
                i = laya.webgl.submit.SubmitStencil.create(8);
                t.addRenderObject(i)
            }
        }
        ;
        u.create = function(t) {
            var e = u._cache._length ? u._cache[--u._cache._length] : new u;
            e.step = t;
            if (t == 5)
                ++u._mask;
            e.level = u._mask;
            return e
        }
        ;
        u._cache = (u._cache = [],
        u._cache._length = 0,
        u._cache);
        u._mask = 0;
        return u
    }();
    var Zi = function() {
        function o() {
            this._renderType = 0;
            this._vb = null;
            this._ib = null;
            this._startIdx = 0;
            this._numEle = 0;
            this.shaderValue = null;
            this.blendType = 0;
            this.proName = null;
            this.scope = null
        }
        x(o, "laya.webgl.submit.SubmitTarget");
        var t = o.prototype;
        st.imps(t, {
            "laya.webgl.submit.ISubmit": true
        });
        t.renderSubmit = function() {
            this._vb.bind_upload(this._ib);
            var t = this.scope.getValue(this.proName);
            if (t) {
                this.shaderValue.texture = t.source;
                if (this.shaderValue["strength"] && !this.shaderValue["blurInfo"]) {
                    this.shaderValue["blurInfo"] = [t.width, t.height]
                }
                this.shaderValue.upload();
                this.blend();
                ii.drawCall++;
                ii.trianglesFaces += this._numEle / 3;
                Hi.mainContext.drawElements(4, this._numEle, 5123, this._startIdx)
            }
            return 1
        }
        ;
        t.blend = function() {
            if (di.activeBlendFunction !== di.fns[this.blendType]) {
                var t = Hi.mainContext;
                t.enable(3042);
                di.fns[this.blendType](t);
                di.activeBlendFunction = di.fns[this.blendType]
            }
        }
        ;
        t.getRenderType = function() {
            return 0
        }
        ;
        t.releaseRender = function() {
            var t = o._cache;
            t[t._length++] = this
        }
        ;
        o.create = function(t, e, i, n, s, r) {
            var a = o._cache._length ? o._cache[--o._cache._length] : new o;
            a._ib = e;
            a._vb = i;
            a.proName = r;
            a._startIdx = n * Fi.BYTES_PIDX;
            a._numEle = 0;
            a.blendType = t._nBlendType;
            a.shaderValue = s;
            a.shaderValue.setValue(t._shader2D);
            return a
        }
        ;
        o._cache = (o._cache = [],
        o._cache._length = 0,
        o._cache);
        return o
    }();
    var Bi = function() {
        function t() {
            this._sourceStr = null
        }
        x(t, "laya.webgl.text.CharSegment");
        var e = t.prototype;
        st.imps(e, {
            "laya.webgl.text.ICharSegment": true
        });
        e.textToSpit = function(t) {
            this._sourceStr = t
        }
        ;
        e.getChar = function(t) {
            return this._sourceStr.charAt(t)
        }
        ;
        e.getCharCode = function(t) {
            return this._sourceStr.charCodeAt(t)
        }
        ;
        e.length = function() {
            return this._sourceStr.length
        }
        ;
        return t
    }();
    var ki = function() {
        var t;
        function L() {}
        x(L, "laya.webgl.text.DrawText");
        L.__init__ = function() {
            L._charsTemp = new Array;
            L._drawValue = new t;
            L._charSeg = new Bi
        }
        ;
        L.customCharSeg = function(t) {
            L._charSeg = t
        }
        ;
        L.getChar = function(t, e, i) {
            var n = As.createOneChar(t, i);
            if (e != -1)
                L._charsCache[e] = n;
            return n
        }
        ;
        L._drawSlow = function(t, e, i, n, s, r, a, o, l, h, u, c, f, d, _) {
            var p = L._drawValue.value(r, o, l, h, f, d, _);
            var m = 0
              , g = 0;
            var v = L._charsTemp;
            var b = 0, y, x, w = NaN;
            if (n) {
                v.length = n.length;
                for (m = 0,
                g = n.length; m < g; m++) {
                    x = n[m];
                    w = x.charNum + p.txtID;
                    v[m] = y = L._charsCache[w] || L.getChar(x.char, w, p);
                    y.active()
                }
            } else {
                var C = i instanceof laya.utils.WordText ? i.toString() : i;
                if (hs.CharacterCache) {
                    L._charSeg.textToSpit(C);
                    var S = L._charSeg.length();
                    v.length = S;
                    for (m = 0,
                    g = S; m < g; m++) {
                        w = L._charSeg.getCharCode(m) + p.txtID;
                        v[m] = y = L._charsCache[w] || L.getChar(L._charSeg.getChar(m), w, p);
                        y.active();
                        b += y.cw
                    }
                } else {
                    v.length = 0;
                    y = L.getChar(C, -1, p);
                    y.active();
                    b += y.cw;
                    v[0] = y
                }
            }
            var T = 0;
            if (a !== null && a !== "left")
                T = -(a == "center" ? b / 2 : b);
            var R, I = NaN, A, G, M = 0;
            if (n) {
                for (m = 0,
                g = v.length; m < g; m++) {
                    y = v[m];
                    if (!y.isSpace) {
                        x = n[m];
                        I = y.borderSize;
                        A = y.texture;
                        e._drawText(A, u + T + x.x * f - I, c + x.y * d - I, A.width, A.height, s, 0, 0, 0, 0)
                    }
                }
            } else {
                for (m = 0,
                g = v.length; m < g; m++) {
                    y = v[m];
                    if (!y.isSpace) {
                        I = y.borderSize;
                        A = y.texture;
                        e._drawText(A, u + T - I, c - I, A.width, A.height, s, 0, 0, 0, 0);
                        t && (G = t[M++],
                        G || (G = t[M - 1] = []),
                        G[0] = A,
                        G[1] = T - I,
                        G[2] = -I)
                    }
                    T += y.cw
                }
                t && (t.length = M)
            }
        }
        ;
        L._drawFast = function(t, e, i, n, s) {
            var r, a;
            for (var o = 0, l = t.length; o < l; o++) {
                a = t[o];
                r = a[0];
                r.active();
                e._drawText(r, n + a[1], s + a[2], r.width, r.height, i, 0, 0, 0, 0)
            }
        }
        ;
        L.drawText = function(t, e, i, n, s, r, a, o, l, h, u, c) {
            c === void 0 && (c = 0);
            if (e && e.length === 0 || i && i.length === 0)
                return;
            var f = n.a
              , d = n.d;
            (n.b !== 0 || n.c !== 0) && (f = d = 1);
            var _ = f !== 1 || d !== 1;
            if (_ && st.stage.transform) {
                var p = st.stage.transform;
                _ = p.a === f && p.d === d
            } else
                _ = false;
            if (_) {
                n = n.copyTo(Wn._tmpMatrix);
                var m = n.tx;
                var g = n.ty;
                n.scale(1 / f, 1 / d);
                n._checkTransform();
                h *= f;
                u *= d;
                h += m - n.tx;
                u += g - n.ty
            } else
                f = d = 1;
            if (i) {
                L._drawSlow(null, t, e, i, n, s, r, a, o, l, h, u, f, d, c)
            } else {
                if (e.toUpperCase === null) {
                    var v = f + d * 1e5;
                    var b = e;
                    if (!b.changed && b.id === v) {
                        L._drawFast(b.save, t, n, h, u)
                    } else {
                        b.id = v;
                        b.changed = false;
                        L._drawSlow(b.save, t, e, i, n, s, r, a, o, l, h, u, f, d, c)
                    }
                    return
                }
                var y = e + s.toString() + a + o + l + f + d + r;
                var x = L._textsCache[y];
                if (hs.CharacterCache) {
                    if (x) {
                        L._drawFast(x, t, n, h, u)
                    } else {
                        L._textsCache.__length || (L._textsCache.__length = 0);
                        if (L._textsCache.__length > I.WebGLTextCacheCount) {
                            L._textsCache = {};
                            L._textsCache.__length = 0;
                            L._curPoolIndex = 0
                        }
                        L._textCachesPool[L._curPoolIndex] ? (x = L._textsCache[y] = L._textCachesPool[L._curPoolIndex],
                        x.length = 0) : L._textCachesPool[L._curPoolIndex] = x = L._textsCache[y] = [];
                        L._textsCache.__length++;
                        L._curPoolIndex++;
                        L._drawSlow(x, t, e, i, n, s, r, a, o, l, h, u, f, d, c)
                    }
                } else {
                    L._drawSlow(x, t, e, i, n, s, r, a, o, l, h, u, f, d, c)
                }
            }
        }
        ;
        L._charsTemp = null;
        L._textCachesPool = [];
        L._curPoolIndex = 0;
        L._charsCache = {};
        L._textsCache = {};
        L._drawValue = null;
        L.d = [];
        L._charSeg = null;
        L.__init$ = function() {
            t = function() {
                function l() {}
                x(l, "");
                var t = l.prototype;
                t.value = function(t, e, i, n, s, r, a) {
                    this.font = t;
                    this.fillColor = e;
                    this.borderColor = i;
                    this.lineWidth = n;
                    this.scaleX = s;
                    this.scaleY = r;
                    this.underLine = a;
                    var o = t.toString() + s + r + n + e + i + a;
                    this.txtID = l._keymap[o];
                    if (!this.txtID) {
                        this.txtID = ++l._keymapCount * 1e-7;
                        l._keymap[o] = this.txtID
                    }
                    return this
                }
                ;
                l.clear = function() {
                    l._keymap = {};
                    l._keymapCount = 1
                }
                ;
                l._keymap = {};
                l._keymapCount = 1;
                return l
            }()
        }
        ;
        return L
    }();
    var Pi = function() {
        function s(t) {
            this._index = 0;
            this._size = 14;
            this._italic = -2;
            s._cache2 = s._cache2 || [];
            this.setFont(t || "14px Arial")
        }
        x(s, "laya.webgl.text.FontInContext");
        var t = s.prototype;
        t.setFont = function(t) {
            var e = s._cache2[t];
            if (!e) {
                this._words = t.split(" ");
                for (var i = 0, n = this._words.length; i < n; i++) {
                    if (this._words[i].indexOf("px") > 0) {
                        this._index = i;
                        break
                    }
                }
                this._size = parseInt(this._words[this._index]);
                s._cache2[t] = [this._words, this._size]
            } else {
                this._words = e[0];
                this._size = e[1]
            }
            this._text = null;
            this._italic = -2
        }
        ;
        t.getItalic = function() {
            this._italic === -2 && (this._italic = this.hasType("italic"));
            return this._italic
        }
        ;
        t.hasType = function(t) {
            for (var e = 0, i = this._words.length; e < i; e++)
                if (this._words[e] === t)
                    return e;
            return -1
        }
        ;
        t.removeType = function(t) {
            for (var e = 0, i = this._words.length; e < i; e++)
                if (this._words[e] === t) {
                    this._words.splice(e, 1);
                    if (this._index > e)
                        this._index--;
                    break
                }
            this._text = null;
            this._italic = -2
        }
        ;
        t.copyTo = function(t) {
            t._text = this._text;
            t._size = this._size;
            t._index = this._index;
            t._words = this._words.slice();
            t._italic = -2;
            return t
        }
        ;
        t.toString = function() {
            return this._text ? this._text : this._text = this._words.join(" ")
        }
        ;
        p(0, t, "size", function() {
            return this._size
        }, function(t) {
            this._size = t;
            this._words[this._index] = t + "px";
            this._text = null
        });
        s.create = function(t) {
            var e = s._cache[t];
            if (e)
                return e;
            e = s._cache[t] = new s(t);
            return e
        }
        ;
        s.EMPTY = new s;
        s._cache = {};
        s._cache2 = null;
        return s
    }();
    var Fi = function() {
        function t() {}
        x(t, "laya.webgl.utils.CONST3D2D");
        t.defaultMatrix4 = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
        t.defaultMinusYMatrix4 = [1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
        t.uniformMatrix3 = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0];
        t._TMPARRAY = [];
        t._OFFSETX = 0;
        t._OFFSETY = 0;
        u(t, ["BYTES_PE", function() {
            return this.BYTES_PE = Float32Array.BYTES_PER_ELEMENT
        }
        , "BYTES_PIDX", function() {
            return this.BYTES_PIDX = Uint16Array.BYTES_PER_ELEMENT
        }
        ]);
        return t
    }();
    var Xi = function() {
        function _() {}
        x(_, "laya.webgl.utils.GlUtils");
        _.make2DProjection = function(t, e, i) {
            return [2 / t, 0, 0, 0, 0, -2 / e, 0, 0, 0, 0, 2 / i, 0, -1, 1, 0, 1]
        }
        ;
        _.fillIBQuadrangle = function(t, e) {
            if (e > 65535 / 4) {
                throw Error("IBQuadrangle count:" + e + " must<:" + Math.floor(65535 / 4));
                return false
            }
            e = Math.floor(e);
            t._resizeBuffer((e + 1) * 6 * 2, false);
            t.byteLength = t.bufferLength;
            var i = t.getUint16Array();
            var n = 0;
            for (var s = 0; s < e; s++) {
                i[n++] = s * 4;
                i[n++] = s * 4 + 2;
                i[n++] = s * 4 + 1;
                i[n++] = s * 4;
                i[n++] = s * 4 + 3;
                i[n++] = s * 4 + 2
            }
            t.setNeedUpload();
            return true
        }
        ;
        _.expandIBQuadrangle = function(t, e) {
            t.bufferLength >= e * 6 * 2 || _.fillIBQuadrangle(t, e)
        }
        ;
        _.mathCeilPowerOfTwo = function(t) {
            t--;
            t |= t >> 1;
            t |= t >> 2;
            t |= t >> 4;
            t |= t >> 8;
            t |= t >> 16;
            t++;
            return t
        }
        ;
        _.fillQuadrangleImgVb = function(t, e, i, n, s, r, a, o) {
            var l = (t._byteLength >> 2) + 16;
            t.byteLength = l << 2;
            var h = t.getFloat32Array();
            l -= 16;
            h[l + 2] = s[0];
            h[l + 3] = s[1];
            h[l + 6] = s[2];
            h[l + 7] = s[3];
            h[l + 10] = s[4];
            h[l + 11] = s[5];
            h[l + 14] = s[6];
            h[l + 15] = s[7];
            var u = r.a
              , c = r.b
              , f = r.c
              , d = r.d;
            if (u !== 1 || c !== 0 || f !== 0 || d !== 1) {
                r.bTransform = true;
                var _ = r.tx + a
                  , p = r.ty + o;
                h[l] = (n[0] + e) * u + (n[1] + i) * f + _;
                h[l + 1] = (n[0] + e) * c + (n[1] + i) * d + p;
                h[l + 4] = (n[2] + e) * u + (n[3] + i) * f + _;
                h[l + 5] = (n[2] + e) * c + (n[3] + i) * d + p;
                h[l + 8] = (n[4] + e) * u + (n[5] + i) * f + _;
                h[l + 9] = (n[4] + e) * c + (n[5] + i) * d + p;
                h[l + 12] = (n[6] + e) * u + (n[7] + i) * f + _;
                h[l + 13] = (n[6] + e) * c + (n[7] + i) * d + p
            } else {
                r.bTransform = false;
                e += r.tx + a;
                i += r.ty + o;
                h[l] = e + n[0];
                h[l + 1] = i + n[1];
                h[l + 4] = e + n[2];
                h[l + 5] = i + n[3];
                h[l + 8] = e + n[4];
                h[l + 9] = i + n[5];
                h[l + 12] = e + n[6];
                h[l + 13] = i + n[7]
            }
            t._upload = true;
            return true
        }
        ;
        _.fillTranglesVB = function(t, e, i, n, s, r, a) {
            var o = (t._byteLength >> 2) + n.length;
            t.byteLength = o << 2;
            var l = t.getFloat32Array();
            o -= n.length;
            var h = n.length;
            var u = s.a
              , c = s.b
              , f = s.c
              , d = s.d;
            for (var _ = 0; _ < h; _ += 4) {
                l[o + _ + 2] = n[_ + 2];
                l[o + _ + 3] = n[_ + 3];
                if (u !== 1 || c !== 0 || f !== 0 || d !== 1) {
                    s.bTransform = true;
                    var p = s.tx + r
                      , m = s.ty + a;
                    l[o + _] = (n[_] + e) * u + (n[_ + 1] + i) * f + p;
                    l[o + _ + 1] = (n[_] + e) * c + (n[_ + 1] + i) * d + m
                } else {
                    s.bTransform = false;
                    e += s.tx + r;
                    i += s.ty + a;
                    l[o + _] = e + n[_];
                    l[o + _ + 1] = i + n[_ + 1]
                }
            }
            t._upload = true;
            return true
        }
        ;
        _.copyPreImgVb = function(t, e, i) {
            var n = t._byteLength >> 2;
            t.byteLength = n + 16 << 2;
            var s = t.getFloat32Array();
            for (var r = 0, a = n - 16; r < 4; r++) {
                s[n] = s[a] + e;
                ++n;
                ++a;
                s[n] = s[a] + i;
                ++n;
                ++a;
                s[n] = s[a];
                ++n;
                ++a;
                s[n] = s[a];
                ++n;
                ++a
            }
            t._upload = true
        }
        ;
        _.fillRectImgVb = function(t, e, i, n, s, r, a, o, l, h, u, c, f) {
            f === void 0 && (f = false);
            var d = 1;
            var _, p, m, g;
            var v, b, y, x;
            var w, C, S, T;
            var R, I, A, G;
            var M = o.a
              , L = o.b
              , W = o.c
              , E = o.d;
            var N = e && e.width < 99999999;
            if (M !== 1 || L !== 0 || W !== 0 || E !== 1) {
                o.bTransform = true;
                if (L === 0 && W === 0) {
                    d = 23;
                    w = s + i,
                    C = r + n;
                    S = o.tx + l,
                    T = o.ty + h;
                    _ = M * i + S;
                    m = M * w + S;
                    p = E * n + T;
                    g = E * C + T
                }
            } else {
                d = 23;
                o.bTransform = false;
                _ = i + o.tx + l;
                m = _ + s;
                p = n + o.ty + h;
                g = p + r
            }
            if (N) {
                v = e.x,
                b = e.y,
                y = e.width + v,
                x = e.height + b
            }
            if (d !== 1) {
                if (Math.min(_, m) >= y)
                    return false;
                if (Math.min(p, g) >= x)
                    return false;
                if (Math.max(m, _) <= v)
                    return false;
                if (Math.max(g, p) <= b)
                    return false
            }
            var V = t._byteLength >> 2;
            t.byteLength = V + 16 << 2;
            var Z = t.getFloat32Array();
            Z[V + 2] = a[0];
            Z[V + 3] = a[1];
            Z[V + 6] = a[2];
            Z[V + 7] = a[3];
            Z[V + 10] = a[4];
            Z[V + 11] = a[5];
            Z[V + 14] = a[6];
            Z[V + 15] = a[7];
            switch (d) {
            case 1:
                S = o.tx + l,
                T = o.ty + h;
                w = s + i,
                C = r + n;
                var B = i
                  , k = n;
                var P = M * B
                  , F = W * k
                  , X = E * k
                  , D = L * B;
                var Y = M * w
                  , O = W * C
                  , U = E * C
                  , H = L * w;
                if (f) {
                    R = P + F + S;
                    A = Math.round(R) - R;
                    I = X + D + T;
                    G = Math.round(I) - I;
                    Z[V] = R + A;
                    Z[V + 1] = I + G;
                    Z[V + 4] = Y + F + S + A;
                    Z[V + 5] = X + H + T + G;
                    Z[V + 8] = Y + O + S + A;
                    Z[V + 9] = U + H + T + G;
                    Z[V + 12] = P + O + S + A;
                    Z[V + 13] = U + D + T + G
                } else {
                    Z[V] = P + F + S;
                    Z[V + 1] = X + D + T;
                    Z[V + 4] = Y + F + S;
                    Z[V + 5] = X + H + T;
                    Z[V + 8] = Y + O + S;
                    Z[V + 9] = U + H + T;
                    Z[V + 12] = P + O + S;
                    Z[V + 13] = U + D + T
                }
                break;
            case 23:
                if (f) {
                    R = _ + u;
                    A = Math.round(R) - R;
                    I = p;
                    G = Math.round(I) - I;
                    Z[V] = R + A;
                    Z[V + 1] = I + G;
                    Z[V + 4] = m + u + A;
                    Z[V + 5] = p + G;
                    Z[V + 8] = m + A;
                    Z[V + 9] = g + G;
                    Z[V + 12] = _ + A;
                    Z[V + 13] = g + G
                } else {
                    Z[V] = _ + u;
                    Z[V + 1] = p;
                    Z[V + 4] = m + u;
                    Z[V + 5] = p;
                    Z[V + 8] = m;
                    Z[V + 9] = g;
                    Z[V + 12] = _;
                    Z[V + 13] = g
                }
                break
            }
            t._upload = true;
            return true
        }
        ;
        _.fillLineVb = function(t, e, i, n, s, r, a, o) {
            var l = a * .5;
            var h = _._fillLineArray;
            var u = -(n - r)
              , c = i - s;
            var f = Math.sqrt(u * u + c * c);
            u /= f,
            c /= f,
            u *= l,
            c *= l;
            h[0] = i - u,
            h[1] = n - c,
            h[4] = i + u,
            h[5] = n + c,
            h[8] = s + u,
            h[9] = r + c,
            h[12] = s - u,
            h[13] = r - c;
            o && o.transformPointArray(h, h);
            var d = (t._byteLength >> 2) + 16;
            t.byteLength = d << 2;
            t.insertData(h, d - 16);
            return true
        }
        ;
        _._fillLineArray = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        return _
    }();
    var Di = function() {
        function l() {}
        x(l, "laya.webgl.utils.MatirxArray");
        l.ArrayMul = function(t, e, i) {
            if (!t) {
                l.copyArray(e, i);
                return
            }
            if (!e) {
                l.copyArray(t, i);
                return
            }
            var n = NaN
              , s = NaN
              , r = NaN
              , a = NaN;
            for (var o = 0; o < 4; o++) {
                n = t[o];
                s = t[o + 4];
                r = t[o + 8];
                a = t[o + 12];
                i[o] = n * e[0] + s * e[1] + r * e[2] + a * e[3];
                i[o + 4] = n * e[4] + s * e[5] + r * e[6] + a * e[7];
                i[o + 8] = n * e[8] + s * e[9] + r * e[10] + a * e[11];
                i[o + 12] = n * e[12] + s * e[13] + r * e[14] + a * e[15]
            }
        }
        ;
        l.copyArray = function(t, e) {
            if (!t)
                return;
            if (!e)
                return;
            for (var i = 0; i < t.length; i++) {
                e[i] = t[i]
            }
        }
        ;
        return l
    }();
    var Yi = function() {
        function e(t, e, i) {
            this._stride = 0;
            this.vertNum = 0;
            this.indexNum = 0;
            this._applied = false;
            this._vb = null;
            this._ib = null;
            this._vao = null;
            this._attribInfo = null;
            this._quadNum = 0;
            this.canReuse = false;
            this._stride = t;
            this._vb = new or(t,35048);
            if (e) {
                this._vb._resizeBuffer(e, false)
            } else {}
            this._ib = new ar;
            if (i) {
                this._ib._resizeBuffer(i, false)
            }
        }
        x(e, "laya.webgl.utils.Mesh2D");
        var t = e.prototype;
        t.cloneWithNewVB = function() {
            var t = new e(this._stride,0,0);
            t._ib = this._ib;
            t._quadNum = this._quadNum;
            t._attribInfo = this._attribInfo;
            return t
        }
        ;
        t.cloneWithNewVBIB = function() {
            var t = new e(this._stride,0,0);
            t._attribInfo = this._attribInfo;
            return t
        }
        ;
        t.getVBW = function() {
            this._vb.setNeedUpload();
            return this._vb
        }
        ;
        t.getVBR = function() {
            return this._vb
        }
        ;
        t.getIBR = function() {
            return this._ib
        }
        ;
        t.getIBW = function() {
            this._ib.setNeedUpload();
            return this._ib
        }
        ;
        t.createQuadIB = function(t) {
            this._quadNum = t;
            this._ib._resizeBuffer(t * 6 * 2, false);
            this._ib.byteLength = this._ib.bufferLength;
            var e = this._ib.getUint16Array();
            var i = 0;
            var n = 0;
            for (var s = 0; s < t; s++) {
                e[i++] = n;
                e[i++] = n + 2;
                e[i++] = n + 1;
                e[i++] = n;
                e[i++] = n + 3;
                e[i++] = n + 2;
                n += 4
            }
            this._ib.setNeedUpload()
        }
        ;
        t.setAttributes = function(t) {
            this._attribInfo = t;
            if (this._attribInfo.length % 3 != 0) {
                throw "Mesh2D setAttributes error!"
            }
        }
        ;
        t.getEleNum = function() {
            return this._ib.getBuffer().byteLength / 2
        }
        ;
        t.releaseMesh = function() {}
        ;
        t.destroy = function() {}
        ;
        t.clearVB = function() {
            this._vb.clear()
        }
        ;
        e._gvaoid = 0;
        return e
    }();
    var Oi = function() {
        function s() {}
        x(s, "laya.webgl.utils.RenderState2D");
        s.getMatrArray = function() {
            return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
        }
        ;
        s.mat2MatArray = function(t, e) {
            var i = t;
            var n = e;
            n[0] = i.a;
            n[1] = i.b;
            n[2] = s.EMPTYMAT4_ARRAY[2];
            n[3] = s.EMPTYMAT4_ARRAY[3];
            n[4] = i.c;
            n[5] = i.d;
            n[6] = s.EMPTYMAT4_ARRAY[6];
            n[7] = s.EMPTYMAT4_ARRAY[7];
            n[8] = s.EMPTYMAT4_ARRAY[8];
            n[9] = s.EMPTYMAT4_ARRAY[9];
            n[10] = s.EMPTYMAT4_ARRAY[10];
            n[11] = s.EMPTYMAT4_ARRAY[11];
            n[12] = i.tx;
            n[13] = i.ty;
            n[14] = s.EMPTYMAT4_ARRAY[14];
            n[15] = s.EMPTYMAT4_ARRAY[15];
            return e
        }
        ;
        s.restoreTempArray = function() {
            s.TEMPMAT4_ARRAY[0] = 1;
            s.TEMPMAT4_ARRAY[1] = 0;
            s.TEMPMAT4_ARRAY[4] = 0;
            s.TEMPMAT4_ARRAY[5] = 1;
            s.TEMPMAT4_ARRAY[12] = 0;
            s.TEMPMAT4_ARRAY[13] = 0
        }
        ;
        s.clear = function() {
            s.worldScissorTest = false;
            s.worldShaderDefines = null;
            s.worldFilters = null;
            s.worldAlpha = 1;
            s.worldClipRect.x = s.worldClipRect.y = 0;
            s.worldClipRect.width = s.width;
            s.worldClipRect.height = s.height;
            s.curRenderTarget = null
        }
        ;
        s._MAXSIZE = 99999999;
        s.EMPTYMAT4_ARRAY = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
        s.TEMPMAT4_ARRAY = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
        s.worldMatrix4 = s.TEMPMAT4_ARRAY;
        s.worldAlpha = 1;
        s.worldScissorTest = false;
        s.worldFilters = null;
        s.worldShaderDefines = null;
        s.curRenderTarget = null;
        s.width = 0;
        s.height = 0;
        u(s, ["worldMatrix", function() {
            return this.worldMatrix = new Ce
        }
        , "worldClipRect", function() {
            return this.worldClipRect = new Te(0,0,99999999,99999999)
        }
        ]);
        return s
    }();
    var Ui = function() {
        var v, i;
        function b(t, e, i, n, s) {
            var r = this;
            function a(t) {
                var e = [];
                var i = new v(e);
                r._compileToTree(i, t.split("\n"), 0, e, s);
                return i
            }
            var o = He.now();
            this._VS = a(e);
            this._PS = a(i);
            this._nameMap = n;
            if (He.now() - o > 2)
                console.log("ShaderCompile use time:" + (He.now() - o) + "  size:" + e.length + "/" + i.length)
        }
        x(b, "laya.webgl.utils.ShaderCompile");
        var t = b.prototype;
        t._compileToTree = function(t, e, i, n, s) {
            var r, a;
            var o, l, h;
            var u = 0, c, f;
            var d = 0
              , _ = 0
              , p = 0;
            for (d = i; d < e.length; d++) {
                o = e[d];
                if (o.length < 1)
                    continue;
                u = o.indexOf("//");
                if (u === 0)
                    continue;
                if (u >= 0)
                    o = o.substr(0, u);
                r = f || new v(n);
                f = null;
                r.text = o;
                r.noCompile = true;
                if ((u = o.indexOf("#")) >= 0) {
                    l = "#";
                    for (p = u + 1,
                    _ = o.length; p < _; p++) {
                        var m = o.charAt(p);
                        if (m === " " || m === "\t" || m === "?")
                            break;
                        l += m
                    }
                    r.name = l;
                    switch (l) {
                    case "#ifdef":
                    case "#ifndef":
                        r.src = o;
                        r.noCompile = o.match(/[!&|()=<>]/) != null;
                        if (!r.noCompile) {
                            c = o.replace(/^\s*/, "").split(/\s+/);
                            r.setCondition(c[1], l === "#ifdef" ? 1 : 2);
                            r.text = "//" + r.text
                        } else {
                            console.log("function():Boolean{return " + o.substr(u + r.name.length) + "}")
                        }
                        r.setParent(t);
                        t = r;
                        if (s) {
                            c = o.substr(p).split(b._splitToWordExps3);
                            for (p = 0; p < c.length; p++) {
                                o = c[p];
                                o.length && (s[o] = true)
                            }
                        }
                        continue;
                    case "#if":
                        r.src = o;
                        r.noCompile = true;
                        r.setParent(t);
                        t = r;
                        if (s) {
                            c = o.substr(p).split(b._splitToWordExps3);
                            for (p = 0; p < c.length; p++) {
                                o = c[p];
                                o.length && o != "defined" && (s[o] = true)
                            }
                        }
                        continue;
                    case "#else":
                        r.src = o;
                        t = t.parent;
                        a = t.childs[t.childs.length - 1];
                        r.noCompile = a.noCompile;
                        if (!r.noCompile) {
                            r.condition = a.condition;
                            r.conditionType = a.conditionType == 1 ? 2 : 1;
                            r.text = "//" + r.text + " " + a.text + " " + r.conditionType
                        }
                        r.setParent(t);
                        t = r;
                        continue;
                    case "#endif":
                        t = t.parent;
                        a = t.childs[t.childs.length - 1];
                        r.noCompile = a.noCompile;
                        if (!r.noCompile) {
                            r.text = "//" + r.text
                        }
                        r.setParent(t);
                        continue;
                    case "#include":
                        c = b.splitToWords(o, null);
                        var g = b.includes[c[1]];
                        if (!g) {
                            throw "ShaderCompile error no this include file:" + c[1];
                            return
                        }
                        if ((u = c[0].indexOf("?")) < 0) {
                            r.setParent(t);
                            o = g.getWith(c[2] == "with" ? c[3] : null);
                            this._compileToTree(r, o.split("\n"), 0, n, s);
                            r.text = "";
                            continue
                        }
                        r.setCondition(c[0].substr(u + 1), 1);
                        r.text = g.getWith(c[2] == "with" ? c[3] : null);
                        break;
                    case "#import":
                        c = b.splitToWords(o, null);
                        h = c[1];
                        n.push({
                            node: r,
                            file: b.includes[h],
                            ofs: r.text.length
                        });
                        continue
                    }
                } else {
                    a = t.childs[t.childs.length - 1];
                    if (a && !a.name) {
                        n.length > 0 && b.splitToWords(o, a);
                        f = r;
                        a.text += "\n" + o;
                        continue
                    }
                    n.length > 0 && b.splitToWords(o, r)
                }
                r.setParent(t)
            }
        }
        ;
        t.createShader = function(t, e, i) {
            var n = {};
            var s = "";
            if (t) {
                for (var r in t) {
                    s += "#define " + r + "\n";
                    n[r] = true
                }
            }
            var a = this._VS.toscript(n, []);
            var o = this._PS.toscript(n, []);
            return (i || ws.create)(s + a.join("\n"), s + o.join("\n"), e, this._nameMap)
        }
        ;
        b._parseOne = function(t, e, i, n, s, r) {
            var a = {
                type: b.shaderParamsMap[i[n + 1]],
                name: i[n + 2],
                size: isNaN(parseInt(i[n + 3])) ? 1 : parseInt(i[n + 3])
            };
            if (r) {
                if (s == "attribute") {
                    t.push(a)
                } else {
                    e.push(a)
                }
            }
            if (i[n + 3] == ":") {
                a.type = i[n + 4];
                n += 2
            }
            n += 2;
            return n
        }
        ;
        b.addInclude = function(t, e) {
            if (!e || e.length === 0)
                throw new Error("add shader include file err:" + t);
            if (b.includes[t])
                throw new Error("add shader include file err, has add:" + t);
            b.includes[t] = new i(e)
        }
        ;
        b.preGetParams = function(t, e) {
            var i = [t, e];
            var n = {};
            var s = [];
            var r = [];
            var a = {};
            var o = [];
            n.attributes = s;
            n.uniforms = r;
            n.defines = a;
            var l = 0, h = 0, u;
            for (var c = 0; c < 2; c++) {
                i[c] = i[c].replace(b._removeAnnotation, "");
                var f = i[c].match(b._reg);
                var d;
                for (l = 0,
                h = f.length; l < h; l++) {
                    var _ = f[l];
                    if (_ != "attribute" && _ != "uniform") {
                        if (_ == "#define") {
                            _ = f[++l];
                            o[_] = 1;
                            continue
                        } else if (_ == "#ifdef") {
                            d = f[++l];
                            var p = a[d] = a[d] || [];
                            for (l++; l < h; l++) {
                                _ = f[l];
                                if (_ != "attribute" && _ != "uniform") {
                                    if (_ == "#else") {
                                        for (l++; l < h; l++) {
                                            _ = f[l];
                                            if (_ != "attribute" && _ != "uniform") {
                                                if (_ == "#endif") {
                                                    break
                                                }
                                                continue
                                            }
                                            l = b._parseOne(s, r, f, l, _, !o[d])
                                        }
                                    }
                                    continue
                                }
                                l = b._parseOne(s, r, f, l, _, o[d])
                            }
                        }
                        continue
                    }
                    l = b._parseOne(s, r, f, l, _, true)
                }
            }
            return n
        }
        ;
        b.splitToWords = function(t, e) {
            var i = [];
            var n;
            var s = -1;
            var r;
            for (var a = 0, o = t.length; a < o; a++) {
                n = t.charAt(a);
                if (" \t=+-*/&%!<>()'\",;".indexOf(n) >= 0) {
                    if (s >= 0 && a - s > 1) {
                        r = t.substr(s, a - s);
                        i.push(r)
                    }
                    if (n == '"' || n == "'") {
                        var l = t.indexOf(n, a + 1);
                        if (l < 0) {
                            throw "Sharder err:" + t
                        }
                        i.push(t.substr(a + 1, l - a - 1));
                        a = l;
                        s = -1;
                        continue
                    }
                    if (n == "(" && e && i.length > 0) {
                        r = i[i.length - 1] + ";";
                        if ("vec4;main;".indexOf(r) < 0)
                            e.useFuns += r
                    }
                    s = -1;
                    continue
                }
                if (s < 0)
                    s = a
            }
            if (s < o && o - s > 1) {
                r = t.substr(s, o - s);
                i.push(r)
            }
            return i
        }
        ;
        b.IFDEF_NO = 0;
        b.IFDEF_YES = 1;
        b.IFDEF_ELSE = 2;
        b.IFDEF_PARENT = 3;
        b._removeAnnotation = new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g");
        b._reg = new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g");
        b._splitToWordExps = new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%(),;])","g");
        b.includes = {};
        u(b, ["shaderParamsMap", function() {
            return this.shaderParamsMap = {
                float: 5126,
                int: 5124,
                bool: 35670,
                vec2: 35664,
                vec3: 35665,
                vec4: 35666,
                ivec2: 35667,
                ivec3: 35668,
                ivec4: 35669,
                bvec2: 35671,
                bvec3: 35672,
                bvec4: 35673,
                mat2: 35674,
                mat3: 35675,
                mat4: 35676,
                sampler2D: 35678,
                samplerCube: 35680
            }
        }
        , "_splitToWordExps3", function() {
            return this._splitToWordExps3 = new RegExp("[ \\t=\\+\\-*/&%!<>!%(),;\\|]","g")
        }
        ]);
        b.__init$ = function() {
            v = function() {
                function i(t) {
                    this.childs = [];
                    this.text = "";
                    this.parent = null;
                    this.name = null;
                    this.noCompile = false;
                    this.includefiles = null;
                    this.condition = null;
                    this.conditionType = 0;
                    this.useFuns = "";
                    this.z = 0;
                    this.src = null;
                    this.includefiles = t
                }
                x(i, "");
                var t = i.prototype;
                t.setParent = function(t) {
                    t.childs.push(this);
                    this.z = t.z + 1;
                    this.parent = t
                }
                ;
                t.setCondition = function(t, e) {
                    if (t) {
                        this.conditionType = e;
                        t = t.replace(/(\s*$)/g, "");
                        this.condition = function() {
                            return this[t]
                        }
                        ;
                        this.condition.__condition = t
                    }
                }
                ;
                t.toscript = function(t, e) {
                    return this._toscript(t, e, ++i.__id)
                }
                ;
                t._toscript = function(n, s, r) {
                    if (this.childs.length < 1 && !this.text)
                        return s;
                    var t = s.length;
                    if (this.condition) {
                        var e = !!this.condition.call(n);
                        this.conditionType === 2 && (e = !e);
                        if (!e)
                            return s
                    }
                    this.text && s.push(this.text);
                    this.childs.length > 0 && this.childs.forEach(function(t, e, i) {
                        t._toscript(n, s, r)
                    });
                    if (this.includefiles.length > 0 && this.useFuns.length > 0) {
                        var i;
                        for (var a = 0, o = this.includefiles.length; a < o; a++) {
                            if (this.includefiles[a].curUseID == r) {
                                continue
                            }
                            i = this.includefiles[a].file.getFunsScript(this.useFuns);
                            if (i.length > 0) {
                                this.includefiles[a].curUseID = r;
                                s[0] = i + s[0]
                            }
                        }
                    }
                    return s
                }
                ;
                i.__id = 1;
                return i
            }();
            i = function() {
                function t(t) {
                    this.script = null;
                    this.codes = {};
                    this.funs = {};
                    this.curUseID = -1;
                    this.funnames = "";
                    this.script = t;
                    var e = 0
                      , i = 0
                      , n = 0;
                    while (true) {
                        e = t.indexOf("#begin", e);
                        if (e < 0)
                            break;
                        n = e + 5;
                        while (true) {
                            n = t.indexOf("#end", n);
                            if (n < 0)
                                break;
                            if (t.charAt(n + 4) === "i")
                                n += 5;
                            else
                                break
                        }
                        if (n < 0) {
                            throw "add include err,no #end:" + t;
                            return
                        }
                        i = t.indexOf("\n", e);
                        var s = b.splitToWords(t.substr(e, i - e), null);
                        if (s[1] == "code") {
                            this.codes[s[2]] = t.substr(i + 1, n - i - 1)
                        } else if (s[1] == "function") {
                            i = t.indexOf("function", e);
                            i += "function".length;
                            this.funs[s[3]] = t.substr(i + 1, n - i - 1);
                            this.funnames += s[3] + ";"
                        }
                        e = n + 1
                    }
                }
                x(t, "");
                var e = t.prototype;
                e.getWith = function(t) {
                    var e = t ? this.codes[t] : this.script;
                    if (!e) {
                        throw "get with error:" + t
                    }
                    return e
                }
                ;
                e.getFunsScript = function(t) {
                    var e = "";
                    for (var i in this.funs) {
                        if (t.indexOf(i + ";") >= 0) {
                            e += this.funs[i]
                        }
                    }
                    return e
                }
                ;
                return t
            }()
        }
        ;
        return b
    }();
    var Hi = function() {
        function a() {}
        x(a, "laya.webgl.WebGL");
        a._uint8ArraySlice = function() {
            var t = this;
            var e = t.length;
            var i = new Uint8Array(t.length);
            for (var n = 0; n < e; n++)
                i[n] = t[n];
            return i
        }
        ;
        a._float32ArraySlice = function() {
            var t = this;
            var e = t.length;
            var i = new Float32Array(t.length);
            for (var n = 0; n < e; n++)
                i[n] = t[n];
            return i
        }
        ;
        a._uint16ArraySlice = function(t) {
            var e = arguments;
            var i = this;
            var n = 0;
            var s;
            var r = 0;
            if (e.length === 0) {
                n = i.length;
                s = new Uint16Array(n);
                for (r = 0; r < n; r++)
                    s[r] = i[r]
            } else if (e.length === 2) {
                var a = e[0];
                var o = e[1];
                if (o > a) {
                    n = o - a;
                    s = new Uint16Array(n);
                    for (r = a; r < o; r++)
                        s[r - a] = i[r]
                } else {
                    s = new Uint16Array(0)
                }
            }
            return s
        }
        ;
        a.expandContext = function() {
            var t = Fe.prototype;
            var e = CanvasRenderingContext2D.prototype;
            e.fillTrangles = t.fillTrangles;
            Ls.__int__(null);
            e.setIBVB = function(t, e, i, n, s, r, a, o, l, h) {
                l === void 0 && (l = 0);
                h === void 0 && (h = 0);
                if (i === null) {
                    this._ib = this._ib || ar.QuadrangleIB;
                    i = this._ib;
                    Xi.expandIBQuadrangle(i, n._byteLength / (4 * 16) + 8)
                }
                this._setIBVB(t, e, i, n, s, r, a, o, l, h)
            }
            ;
            e.fillTrangles = function(t, e, i, n, s) {
                this._curMat = this._curMat || Ce.create();
                this._vb = this._vb || or.create();
                if (!this._ib) {
                    this._ib = ar.create();
                    Xi.fillIBQuadrangle(this._ib, a / 4)
                }
                var r = this._vb;
                var a = n.length >> 4;
                Xi.fillTranglesVB(r, e, i, n, s || this._curMat, 0, 0);
                Xi.expandIBQuadrangle(this._ib, r._byteLength / (4 * 16) + 8);
                var o = new mn(1,0);
                o.textureHost = t;
                var l = new sr("attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }","precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; void main() {vec4 color= texture2D(texture, v_texcoord); color.a*=1.0; gl_FragColor= color;}");
                r._vertType = 3;
                this._setIBVB(e, i, this._ib, r, a * 6, s, l, o, 0, 0)
            }
        }
        ;
        a.enable = function() {
            He.__init__();
            if (Be.isConchApp) {
                if (!Be.isConchWebGL) {
                    G.skinAniSprite = function() {
                        var t = new Ti;
                        return t
                    }
                    ;
                    a.expandContext();
                    return false
                }
            }
            G.getWebGLContext = function t(e) {
                var i;
                var n = ["webgl", "experimental-webgl", "webkit-3d", "moz-webgl"];
                for (var s = 0; s < n.length; s++) {
                    try {
                        i = e.getContext(n[s], {
                            stencil: I.isStencil,
                            alpha: I.isAlpha,
                            antialias: I.isAntialias,
                            premultipliedAlpha: I.premultipliedAlpha,
                            preserveDrawingBuffer: I.preserveDrawingBuffer
                        })
                    } catch (t) {}
                    if (i)
                        return i
                }
                return null
            }
            ;
            a.mainContext = G.getWebGLContext(Be._mainCanvas);
            if (a.mainContext == null)
                return false;
            if (Be.isWebGL)
                return true;
            rr.create = function(t, e) {
                return new Or(t,e)
            }
            ;
            Ts.create = function(t, e, i, n, s, r, a) {
                return new Ms(t,e,i,n,s,r,a)
            }
            ;
            Be.WebGL = a;
            Be.isWebGL = true;
            ki.__init__();
            G.createRenderSprite = function(t, e) {
                return new En(t,e)
            }
            ;
            G.createWebGLContext2D = function(t) {
                return new Wn(t)
            }
            ;
            G.changeWebGLSize = function(t, e) {
                laya.webgl.WebGL.onStageResize(t, e)
            }
            ;
            G.createGraphics = function() {
                return new yn
            }
            ;
            var t = G.createFilterAction;
            G.createFilterAction = t ? t : function(t) {
                return new In
            }
            ;
            G.clear = function(t) {
                Oi.worldScissorTest && laya.webgl.WebGL.mainContext.disable(3089);
                var e = Be.context.ctx;
                var i = t && (e._submits._length == 0 || I.preserveDrawingBuffer) ? je.create(t)._color : ys._wgColor;
                if (i)
                    e.clearBG(i[0], i[1], i[2], i[3]);
                else
                    e.clearBG(0, 0, 0, 0);
                Oi.clear()
            }
            ;
            G.addToAtlas = function(t, e) {
                e === void 0 && (e = false);
                var i = t.bitmap;
                if (!Be.optimizeTextureMemory(t.url, t)) {
                    i.enableMerageInAtlas = false;
                    return
                }
                if (st.__typeof(i, "laya.webgl.resource.IMergeAtlasBitmap") && i.allowMerageInAtlas) {
                    i.on("recovered", t, t.addTextureToAtlas)
                }
            }
            ;
            G.isAtlas = function(t) {
                return t instanceof laya.webgl.atlas.AtlasWebGLCanvas
            }
            ;
            ci._enable();
            G.beginFlush = function() {
                var t = ci.instance;
                var e = t.getAtlaserCount();
                for (var i = 0; i < e; i++) {
                    var n = t.getAtlaserByIndex(i).texture;
                    n._flashCacheImageNeedFlush && G.flashFlushImage(n)
                }
            }
            ;
            G.drawToCanvas = function(t, e, i, n, s, r) {
                if (i <= 0 || n <= 0) {
                    console.log("[error] canvasWidth and canvasHeight should greater than zero")
                }
                i |= 0;
                n |= 0;
                s |= 0;
                r |= 0;
                var a = Kn.create(i, n, 6408, 5121, 0, false);
                a.start();
                a.clear(0, 0, 0, 0);
                Be.context.clear();
                Pe.renders[e]._fun(t, Be.context, s, Oi.height - n + r);
                Be.context.flush();
                a.end();
                var o = a.getData(0, 0, i, n);
                a.recycle();
                if (o.byteLength != i * n * 4) {
                    console.log("drawToCanvas error: w:" + i + ",h:" + n + ",datalen:" + o.byteLength);
                    return
                }
                var l = new Is;
                l._canvas = He.createElement("canvas");
                l.size(i, n);
                var h = l._canvas.getContext("2d");
                He.canvas.size(i, n);
                var u = He.context;
                var c = u.createImageData(i, n);
                c.data.set(new Uint8ClampedArray(o.buffer));
                l._imgData = c;
                u.putImageData(c, 0, 0);
                h.save();
                h.translate(0, n);
                h.scale(1, -1);
                h.drawImage(He.canvas.source, 0, 0);
                h.restore();
                return l
            }
            ;
            G.createFilterAction = function(t) {
                var e;
                switch (t) {
                case 32:
                    e = new In;
                    break
                }
                return e
            }
            ;
            G.addTextureToAtlas = function(t) {
                t._uvID++;
                ci._atlasRestore++;
                t.bitmap.enableMerageInAtlas && ci.instance.addToAtlas(t)
            }
            ;
            G.getTexturePixels = function(t, e, i, n, s) {
                Be.context.ctx.clear();
                var r = new Dn;
                r.graphics.drawTexture(t, -e, -i);
                var a = Kn.create(n, s);
                a.start();
                a.clear(0, 0, 0, 0);
                r.render(Be.context, 0, 0);
                Be.context.ctx.flush();
                a.end();
                var o = a.getData(0, 0, n, s);
                var l = [];
                var h = 0;
                for (var u = s - 1; u >= 0; u--) {
                    for (var c = 0; c < n; c++) {
                        h = (u * n + c) * 4;
                        l.push(o[h]);
                        l.push(o[h + 1]);
                        l.push(o[h + 2]);
                        l.push(o[h + 3])
                    }
                }
                return l
            }
            ;
            G.skinAniSprite = function() {
                var t = new Ti;
                return t
            }
            ;
            Ss.create = function(t, e) {
                var i = new Is;
                i._imgData = e;
                i.flipY = false;
                return i
            }
            ;
            ce._filterStart = function(t, e, i, n, s) {
                var r = t.getValue("bounds");
                var a = Kn.create(r.width, r.height);
                a.start();
                a.clear(0, 0, 0, 0);
                t.addValue("src", a);
                t.addValue("ScissorTest", Oi.worldScissorTest);
                if (Oi.worldScissorTest) {
                    var o = new Te;
                    o.copyFrom(i.ctx._clipRect);
                    t.addValue("clipRect", o);
                    Oi.worldScissorTest = false;
                    laya.webgl.WebGL.mainContext.disable(3089)
                }
            }
            ;
            ce._filterEnd = function(t, e, i, n, s) {
                var r = t.getValue("bounds");
                var a = t.getValue("src");
                a.end();
                var o = Kn.create(r.width, r.height);
                o.start();
                o.clear(0, 0, 0, 0);
                t.addValue("out", o);
                e._set$P("_filterCache", o);
                e._set$P("_isHaveGlowFilter", t.getValue("_isHaveGlowFilter"))
            }
            ;
            ce._EndTarget = function(t, e) {
                var i = t.getValue("src");
                i.recycle();
                var n = t.getValue("out");
                n.end();
                var s = t.getValue("ScissorTest");
                if (s) {
                    Oi.worldScissorTest = true;
                    laya.webgl.WebGL.mainContext.enable(3089);
                    e.ctx.save();
                    var r = t.getValue("clipRect");
                    e.ctx.clipRect(r.x, r.y, r.width, r.height)
                }
            }
            ;
            ce._useSrc = function(t) {
                var e = t.getValue("out");
                e.end();
                e = t.getValue("src");
                e.start();
                e.clear(0, 0, 0, 0)
            }
            ;
            ce._endSrc = function(t) {
                var e = t.getValue("src");
                e.end()
            }
            ;
            ce._useOut = function(t) {
                var e = t.getValue("src");
                e.end();
                e = t.getValue("out");
                e.start();
                e.clear(0, 0, 0, 0)
            }
            ;
            ce._endOut = function(t) {
                var e = t.getValue("out");
                e.end()
            }
            ;
            ce._recycleScope = function(t) {
                t.recycle()
            }
            ;
            ce._filter = function(t, e, i, n) {
                var s = this._next;
                if (s) {
                    var r = t.filters
                      , a = r.length;
                    if (a == 1 && r[0].type == 32) {
                        e.ctx.save();
                        e.ctx.setFilters([r[0]]);
                        s._fun.call(s, t, e, i, n);
                        e.ctx.restore();
                        return
                    }
                    var o;
                    var l;
                    var h = Wi.create();
                    var u = Se.TEMP;
                    var c = e.ctx._getTransformMatrix();
                    var f = Ce.create();
                    c.copyTo(f);
                    var d = 0;
                    var _ = 0;
                    var p = false;
                    var m = t._$P._filterCache ? t._$P._filterCache : null;
                    if (!m || t._repaint) {
                        p = t._isHaveGlowFilter();
                        h.addValue("_isHaveGlowFilter", p);
                        if (p) {
                            d = 50;
                            _ = 25
                        }
                        l = new Te;
                        l.copyFrom(t.getSelfBounds());
                        l.x += t.x;
                        l.y += t.y;
                        l.x -= t.pivotX + 4;
                        l.y -= t.pivotY + 4;
                        var g = l.x;
                        var v = l.y;
                        l.width += d + 8;
                        l.height += d + 8;
                        u.x = l.x * f.a + l.y * f.c;
                        u.y = l.y * f.d + l.x * f.b;
                        l.x = u.x;
                        l.y = u.y;
                        u.x = l.width * f.a + l.height * f.c;
                        u.y = l.height * f.d + l.width * f.b;
                        l.width = u.x;
                        l.height = u.y;
                        if (l.width <= 0 || l.height <= 0) {
                            return
                        }
                        m && m.recycle();
                        h.addValue("bounds", l);
                        var b = Li.create([h, t, e, 0, 0], ce._filterStart);
                        e.addRenderObject(b);
                        e.ctx._renderKey = 0;
                        e.ctx._shader2D.glTexture = null;
                        var y = t.x - g + _;
                        var x = t.y - v + _;
                        s._fun.call(s, t, e, y, x);
                        b = Li.create([h, t, e, 0, 0], ce._filterEnd);
                        e.addRenderObject(b);
                        for (var w = 0; w < a; w++) {
                            if (w != 0) {
                                b = Li.create([h], ce._useSrc);
                                e.addRenderObject(b);
                                o = mn.create(1, 0);
                                Ce.TEMP.identity();
                                e.ctx.drawTarget(h, 0, 0, l.width, l.height, Ce.TEMP, "out", o, null, di.TOINT.overlay);
                                b = Li.create([h], ce._useOut);
                                e.addRenderObject(b)
                            }
                            var C = r[w];
                            C.action.apply3d(h, t, e, 0, 0)
                        }
                        b = Li.create([h, e], ce._EndTarget);
                        e.addRenderObject(b)
                    } else {
                        p = t._$P._isHaveGlowFilter ? t._$P._isHaveGlowFilter : false;
                        if (p) {
                            d = 50;
                            _ = 25
                        }
                        l = t.getBounds();
                        if (l.width <= 0 || l.height <= 0) {
                            return
                        }
                        l.width += d;
                        l.height += d;
                        u.x = l.x * f.a + l.y * f.c;
                        u.y = l.y * f.d + l.x * f.b;
                        l.x = u.x;
                        l.y = u.y;
                        u.x = l.width * f.a + l.height * f.c;
                        u.y = l.height * f.d + l.width * f.b;
                        l.width = u.x;
                        l.height = u.y;
                        h.addValue("out", m)
                    }
                    i = i - _ - t.x;
                    n = n - _ - t.y;
                    u.setTo(i, n);
                    f.transformPoint(u);
                    i = u.x + l.x;
                    n = u.y + l.y;
                    o = mn.create(1, 0);
                    Ce.TEMP.identity();
                    e.ctx.drawTarget(h, i, n, l.width, l.height, Ce.TEMP, "out", o, null, di.TOINT.overlay);
                    b = Li.create([h], ce._recycleScope);
                    e.addRenderObject(b);
                    f.destroy()
                }
            }
            ;
            Float32Array.prototype.slice || (Float32Array.prototype.slice = a._float32ArraySlice);
            Uint16Array.prototype.slice || (Uint16Array.prototype.slice = a._uint16ArraySlice);
            Uint8Array.prototype.slice || (Uint8Array.prototype.slice = a._uint8ArraySlice);
            return true
        }
        ;
        a.onStageResize = function(t, e) {
            if (a.mainContext == null)
                return;
            a.mainContext.viewport(0, 0, t, e);
            Oi.width = t;
            Oi.height = e
        }
        ;
        a.onInvalidGLRes = function() {
            ci.instance.freeAll();
            Xe.releaseContentManagers(true);
            a.doNodeRepaint(st.stage);
            a.mainContext.viewport(0, 0, Oi.width, Oi.height);
            st.stage.event("devicelost")
        }
        ;
        a.doNodeRepaint = function(t) {
            t.numChildren == 0 && t.repaint();
            for (var e = 0; e < t.numChildren; e++)
                a.doNodeRepaint(t.getChildAt(e))
        }
        ;
        a.init = function(t, e, i) {
            a.mainCanvas = t;
            Ss._createContext = function(t) {
                return new Wn(t)
            }
            ;
            Is._createContext = function(t) {
                return new Wn(t)
            }
            ;
            var n = laya.webgl.WebGL.mainContext;
            if (n.getShaderPrecisionFormat != null) {
                var s = n.getShaderPrecisionFormat(35633, 36338);
                var r = n.getShaderPrecisionFormat(35632, 36338);
                a.shaderHighPrecision = s.precision && r.precision ? true : false
            } else {
                a.shaderHighPrecision = false
            }
            a.compressAstc = n.getExtension("WEBGL_compressed_texture_astc");
            a.compressAtc = n.getExtension("WEBGL_compressed_texture_atc");
            a.compressEtc = n.getExtension("WEBGL_compressed_texture_etc");
            a.compressEtc1 = n.getExtension("WEBGL_compressed_texture_etc1");
            a.compressPvrtc = n.getExtension("WEBGL_compressed_texture_pvrtc");
            a.compressS3tc = n.getExtension("WEBGL_compressed_texture_s3tc");
            a.compressS3tc_srgb = n.getExtension("WEBGL_compressed_texture_s3tc_srgb");
            n.deleteTexture1 = n.deleteTexture;
            n.deleteTexture = function(t) {
                if (t == zi.curBindTexValue) {
                    zi.curBindTexValue = null
                }
                n.deleteTexture1(t)
            }
            ;
            a.onStageResize(e, i);
            if (a.mainContext == null)
                throw new Error("webGL getContext err!");
            De.__init__();
            ci.__init__();
            Vn.__init__();
            Mi.__init__();
            Wn.__init__();
            mn.__init__();
            Ci.__init__();
            Ls.__int__(n);
            di._init_(n);
            if (Be.isConchApp) {
                conch.setOnInvalidGLRes(a.onInvalidGLRes)
            }
        }
        ;
        a.compressAstc = null;
        a.compressAtc = null;
        a.compressEtc = null;
        a.compressEtc1 = null;
        a.compressPvrtc = null;
        a.compressS3tc = null;
        a.compressS3tc_srgb = null;
        a.mainCanvas = null;
        a.mainContext = null;
        a.antialias = true;
        a.shaderHighPrecision = false;
        a._bg_null = [0, 0, 0, 0];
        return a
    }();
    var zi = function() {
        function n() {}
        x(n, "laya.webgl.WebGLContext");
        n.UseProgram = function(t) {
            if (n._useProgram === t)
                return false;
            Hi.mainContext.useProgram(t);
            n._useProgram = t;
            return true
        }
        ;
        n.setDepthTest = function(t, e) {
            e !== n._depthTest && (n._depthTest = e,
            e ? t.enable(2929) : t.disable(2929))
        }
        ;
        n.setDepthMask = function(t, e) {
            e !== n._depthMask && (n._depthMask = e,
            t.depthMask(e))
        }
        ;
        n.setDepthFunc = function(t, e) {
            e !== n._depthFunc && (n._depthFunc = e,
            t.depthFunc(e))
        }
        ;
        n.setBlend = function(t, e) {
            e !== n._blend && (n._blend = e,
            e ? t.enable(3042) : t.disable(3042))
        }
        ;
        n.setBlendFunc = function(t, e, i) {
            (e !== n._sFactor || i !== n._dFactor) && (n._sFactor = e,
            n._dFactor = i,
            t.blendFunc(e, i))
        }
        ;
        n.setCullFace = function(t, e) {
            e !== n._cullFace && (n._cullFace = e,
            e ? t.enable(2884) : t.disable(2884))
        }
        ;
        n.setFrontFace = function(t, e) {
            e !== n._frontFace && (n._frontFace = e,
            t.frontFace(e))
        }
        ;
        n.bindTexture = function(t, e, i) {
            t.bindTexture(e, i);
            n.curBindTexTarget = e;
            n.curBindTexValue = i
        }
        ;
        n.DEPTH_BUFFER_BIT = 256;
        n.STENCIL_BUFFER_BIT = 1024;
        n.COLOR_BUFFER_BIT = 16384;
        n.POINTS = 0;
        n.LINES = 1;
        n.LINE_LOOP = 2;
        n.LINE_STRIP = 3;
        n.TRIANGLES = 4;
        n.TRIANGLE_STRIP = 5;
        n.TRIANGLE_FAN = 6;
        n.ZERO = 0;
        n.ONE = 1;
        n.SRC_COLOR = 768;
        n.ONE_MINUS_SRC_COLOR = 769;
        n.SRC_ALPHA = 770;
        n.ONE_MINUS_SRC_ALPHA = 771;
        n.DST_ALPHA = 772;
        n.ONE_MINUS_DST_ALPHA = 773;
        n.DST_COLOR = 774;
        n.ONE_MINUS_DST_COLOR = 775;
        n.SRC_ALPHA_SATURATE = 776;
        n.FUNC_ADD = 32774;
        n.BLEND_EQUATION = 32777;
        n.BLEND_EQUATION_RGB = 32777;
        n.BLEND_EQUATION_ALPHA = 34877;
        n.FUNC_SUBTRACT = 32778;
        n.FUNC_REVERSE_SUBTRACT = 32779;
        n.BLEND_DST_RGB = 32968;
        n.BLEND_SRC_RGB = 32969;
        n.BLEND_DST_ALPHA = 32970;
        n.BLEND_SRC_ALPHA = 32971;
        n.CONSTANT_COLOR = 32769;
        n.ONE_MINUS_CONSTANT_COLOR = 32770;
        n.CONSTANT_ALPHA = 32771;
        n.ONE_MINUS_CONSTANT_ALPHA = 32772;
        n.BLEND_COLOR = 32773;
        n.ARRAY_BUFFER = 34962;
        n.ELEMENT_ARRAY_BUFFER = 34963;
        n.ARRAY_BUFFER_BINDING = 34964;
        n.ELEMENT_ARRAY_BUFFER_BINDING = 34965;
        n.STREAM_DRAW = 35040;
        n.STATIC_DRAW = 35044;
        n.DYNAMIC_DRAW = 35048;
        n.BUFFER_SIZE = 34660;
        n.BUFFER_USAGE = 34661;
        n.CURRENT_VERTEX_ATTRIB = 34342;
        n.FRONT = 1028;
        n.BACK = 1029;
        n.CULL_FACE = 2884;
        n.FRONT_AND_BACK = 1032;
        n.BLEND = 3042;
        n.DITHER = 3024;
        n.STENCIL_TEST = 2960;
        n.DEPTH_TEST = 2929;
        n.SCISSOR_TEST = 3089;
        n.POLYGON_OFFSET_FILL = 32823;
        n.SAMPLE_ALPHA_TO_COVERAGE = 32926;
        n.SAMPLE_COVERAGE = 32928;
        n.NO_ERROR = 0;
        n.INVALID_ENUM = 1280;
        n.INVALID_VALUE = 1281;
        n.INVALID_OPERATION = 1282;
        n.OUT_OF_MEMORY = 1285;
        n.CW = 2304;
        n.CCW = 2305;
        n.LINE_WIDTH = 2849;
        n.ALIASED_POINT_SIZE_RANGE = 33901;
        n.ALIASED_LINE_WIDTH_RANGE = 33902;
        n.CULL_FACE_MODE = 2885;
        n.FRONT_FACE = 2886;
        n.DEPTH_RANGE = 2928;
        n.DEPTH_WRITEMASK = 2930;
        n.DEPTH_CLEAR_VALUE = 2931;
        n.DEPTH_FUNC = 2932;
        n.STENCIL_CLEAR_VALUE = 2961;
        n.STENCIL_FUNC = 2962;
        n.STENCIL_FAIL = 2964;
        n.STENCIL_PASS_DEPTH_FAIL = 2965;
        n.STENCIL_PASS_DEPTH_PASS = 2966;
        n.STENCIL_REF = 2967;
        n.STENCIL_VALUE_MASK = 2963;
        n.STENCIL_WRITEMASK = 2968;
        n.STENCIL_BACK_FUNC = 34816;
        n.STENCIL_BACK_FAIL = 34817;
        n.STENCIL_BACK_PASS_DEPTH_FAIL = 34818;
        n.STENCIL_BACK_PASS_DEPTH_PASS = 34819;
        n.STENCIL_BACK_REF = 36003;
        n.STENCIL_BACK_VALUE_MASK = 36004;
        n.STENCIL_BACK_WRITEMASK = 36005;
        n.VIEWPORT = 2978;
        n.SCISSOR_BOX = 3088;
        n.COLOR_CLEAR_VALUE = 3106;
        n.COLOR_WRITEMASK = 3107;
        n.UNPACK_ALIGNMENT = 3317;
        n.PACK_ALIGNMENT = 3333;
        n.MAX_TEXTURE_SIZE = 3379;
        n.MAX_VIEWPORT_DIMS = 3386;
        n.SUBPIXEL_BITS = 3408;
        n.RED_BITS = 3410;
        n.GREEN_BITS = 3411;
        n.BLUE_BITS = 3412;
        n.ALPHA_BITS = 3413;
        n.DEPTH_BITS = 3414;
        n.STENCIL_BITS = 3415;
        n.POLYGON_OFFSET_UNITS = 10752;
        n.POLYGON_OFFSET_FACTOR = 32824;
        n.TEXTURE_BINDING_2D = 32873;
        n.SAMPLE_BUFFERS = 32936;
        n.SAMPLES = 32937;
        n.SAMPLE_COVERAGE_VALUE = 32938;
        n.SAMPLE_COVERAGE_INVERT = 32939;
        n.NUM_COMPRESSED_TEXTURE_FORMATS = 34466;
        n.COMPRESSED_TEXTURE_FORMATS = 34467;
        n.DONT_CARE = 4352;
        n.FASTEST = 4353;
        n.NICEST = 4354;
        n.GENERATE_MIPMAP_HINT = 33170;
        n.BYTE = 5120;
        n.UNSIGNED_BYTE = 5121;
        n.SHORT = 5122;
        n.UNSIGNED_SHORT = 5123;
        n.INT = 5124;
        n.UNSIGNED_INT = 5125;
        n.FLOAT = 5126;
        n.DEPTH_COMPONENT = 6402;
        n.ALPHA = 6406;
        n.RGB = 6407;
        n.RGBA = 6408;
        n.LUMINANCE = 6409;
        n.LUMINANCE_ALPHA = 6410;
        n.UNSIGNED_SHORT_4_4_4_4 = 32819;
        n.UNSIGNED_SHORT_5_5_5_1 = 32820;
        n.UNSIGNED_SHORT_5_6_5 = 33635;
        n.FRAGMENT_SHADER = 35632;
        n.VERTEX_SHADER = 35633;
        n.MAX_VERTEX_ATTRIBS = 34921;
        n.MAX_VERTEX_UNIFORM_VECTORS = 36347;
        n.MAX_VARYING_VECTORS = 36348;
        n.MAX_COMBINED_TEXTURE_IMAGE_UNITS = 35661;
        n.MAX_VERTEX_TEXTURE_IMAGE_UNITS = 35660;
        n.MAX_TEXTURE_IMAGE_UNITS = 34930;
        n.MAX_FRAGMENT_UNIFORM_VECTORS = 36349;
        n.SHADER_TYPE = 35663;
        n.DELETE_STATUS = 35712;
        n.LINK_STATUS = 35714;
        n.VALIDATE_STATUS = 35715;
        n.ATTACHED_SHADERS = 35717;
        n.ACTIVE_UNIFORMS = 35718;
        n.ACTIVE_ATTRIBUTES = 35721;
        n.SHADING_LANGUAGE_VERSION = 35724;
        n.CURRENT_PROGRAM = 35725;
        n.NEVER = 512;
        n.LESS = 513;
        n.EQUAL = 514;
        n.LEQUAL = 515;
        n.GREATER = 516;
        n.NOTEQUAL = 517;
        n.GEQUAL = 518;
        n.ALWAYS = 519;
        n.KEEP = 7680;
        n.REPLACE = 7681;
        n.INCR = 7682;
        n.DECR = 7683;
        n.INVERT = 5386;
        n.INCR_WRAP = 34055;
        n.DECR_WRAP = 34056;
        n.VENDOR = 7936;
        n.RENDERER = 7937;
        n.VERSION = 7938;
        n.NEAREST = 9728;
        n.LINEAR = 9729;
        n.NEAREST_MIPMAP_NEAREST = 9984;
        n.LINEAR_MIPMAP_NEAREST = 9985;
        n.NEAREST_MIPMAP_LINEAR = 9986;
        n.LINEAR_MIPMAP_LINEAR = 9987;
        n.TEXTURE_MAG_FILTER = 10240;
        n.TEXTURE_MIN_FILTER = 10241;
        n.TEXTURE_WRAP_S = 10242;
        n.TEXTURE_WRAP_T = 10243;
        n.TEXTURE_2D = 3553;
        n.TEXTURE = 5890;
        n.TEXTURE_CUBE_MAP = 34067;
        n.TEXTURE_BINDING_CUBE_MAP = 34068;
        n.TEXTURE_CUBE_MAP_POSITIVE_X = 34069;
        n.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070;
        n.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071;
        n.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072;
        n.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073;
        n.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074;
        n.MAX_CUBE_MAP_TEXTURE_SIZE = 34076;
        n.TEXTURE0 = 33984;
        n.TEXTURE1 = 33985;
        n.TEXTURE2 = 33986;
        n.TEXTURE3 = 33987;
        n.TEXTURE4 = 33988;
        n.TEXTURE5 = 33989;
        n.TEXTURE6 = 33990;
        n.TEXTURE7 = 33991;
        n.TEXTURE8 = 33992;
        n.TEXTURE9 = 33993;
        n.TEXTURE10 = 33994;
        n.TEXTURE11 = 33995;
        n.TEXTURE12 = 33996;
        n.TEXTURE13 = 33997;
        n.TEXTURE14 = 33998;
        n.TEXTURE15 = 33999;
        n.TEXTURE16 = 34e3;
        n.TEXTURE17 = 34001;
        n.TEXTURE18 = 34002;
        n.TEXTURE19 = 34003;
        n.TEXTURE20 = 34004;
        n.TEXTURE21 = 34005;
        n.TEXTURE22 = 34006;
        n.TEXTURE23 = 34007;
        n.TEXTURE24 = 34008;
        n.TEXTURE25 = 34009;
        n.TEXTURE26 = 34010;
        n.TEXTURE27 = 34011;
        n.TEXTURE28 = 34012;
        n.TEXTURE29 = 34013;
        n.TEXTURE30 = 34014;
        n.TEXTURE31 = 34015;
        n.ACTIVE_TEXTURE = 34016;
        n.REPEAT = 10497;
        n.CLAMP_TO_EDGE = 33071;
        n.MIRRORED_REPEAT = 33648;
        n.FLOAT_VEC2 = 35664;
        n.FLOAT_VEC3 = 35665;
        n.FLOAT_VEC4 = 35666;
        n.INT_VEC2 = 35667;
        n.INT_VEC3 = 35668;
        n.INT_VEC4 = 35669;
        n.BOOL = 35670;
        n.BOOL_VEC2 = 35671;
        n.BOOL_VEC3 = 35672;
        n.BOOL_VEC4 = 35673;
        n.FLOAT_MAT2 = 35674;
        n.FLOAT_MAT3 = 35675;
        n.FLOAT_MAT4 = 35676;
        n.SAMPLER_2D = 35678;
        n.SAMPLER_CUBE = 35680;
        n.VERTEX_ATTRIB_ARRAY_ENABLED = 34338;
        n.VERTEX_ATTRIB_ARRAY_SIZE = 34339;
        n.VERTEX_ATTRIB_ARRAY_STRIDE = 34340;
        n.VERTEX_ATTRIB_ARRAY_TYPE = 34341;
        n.VERTEX_ATTRIB_ARRAY_NORMALIZED = 34922;
        n.VERTEX_ATTRIB_ARRAY_POINTER = 34373;
        n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING = 34975;
        n.COMPILE_STATUS = 35713;
        n.LOW_FLOAT = 36336;
        n.MEDIUM_FLOAT = 36337;
        n.HIGH_FLOAT = 36338;
        n.LOW_INT = 36339;
        n.MEDIUM_INT = 36340;
        n.HIGH_INT = 36341;
        n.FRAMEBUFFER = 36160;
        n.RENDERBUFFER = 36161;
        n.RGBA4 = 32854;
        n.RGB5_A1 = 32855;
        n.RGB565 = 36194;
        n.DEPTH_COMPONENT16 = 33189;
        n.STENCIL_INDEX = 6401;
        n.STENCIL_INDEX8 = 36168;
        n.DEPTH_STENCIL = 34041;
        n.RENDERBUFFER_WIDTH = 36162;
        n.RENDERBUFFER_HEIGHT = 36163;
        n.RENDERBUFFER_INTERNAL_FORMAT = 36164;
        n.RENDERBUFFER_RED_SIZE = 36176;
        n.RENDERBUFFER_GREEN_SIZE = 36177;
        n.RENDERBUFFER_BLUE_SIZE = 36178;
        n.RENDERBUFFER_ALPHA_SIZE = 36179;
        n.RENDERBUFFER_DEPTH_SIZE = 36180;
        n.RENDERBUFFER_STENCIL_SIZE = 36181;
        n.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE = 36048;
        n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME = 36049;
        n.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL = 36050;
        n.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE = 36051;
        n.COLOR_ATTACHMENT0 = 36064;
        n.DEPTH_ATTACHMENT = 36096;
        n.STENCIL_ATTACHMENT = 36128;
        n.DEPTH_STENCIL_ATTACHMENT = 33306;
        n.NONE = 0;
        n.FRAMEBUFFER_COMPLETE = 36053;
        n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT = 36054;
        n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 36055;
        n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS = 36057;
        n.FRAMEBUFFER_UNSUPPORTED = 36061;
        n.FRAMEBUFFER_BINDING = 36006;
        n.RENDERBUFFER_BINDING = 36007;
        n.MAX_RENDERBUFFER_SIZE = 34024;
        n.INVALID_FRAMEBUFFER_OPERATION = 1286;
        n.UNPACK_FLIP_Y_WEBGL = 37440;
        n.UNPACK_PREMULTIPLY_ALPHA_WEBGL = 37441;
        n.CONTEXT_LOST_WEBGL = 37442;
        n.UNPACK_COLORSPACE_CONVERSION_WEBGL = 37443;
        n.BROWSER_DEFAULT_WEBGL = 37444;
        n._useProgram = null;
        n._depthTest = true;
        n._depthMask = true;
        n._depthFunc = 513;
        n._blend = false;
        n._sFactor = 1;
        n._dFactor = 0;
        n._cullFace = false;
        n._frontFace = 2305;
        n.curBindTexTarget = null;
        n.curBindTexValue = null;
        return n
    }();
    var Ji = function() {
        function t() {}
        x(t, "PathFinding.core.DiagonalMovement");
        t.Always = 1;
        t.Never = 2;
        t.IfAtMostOneObstacle = 3;
        t.OnlyWhenNoObstacles = 4;
        return t
    }();
    var ji = function() {
        function _(t, e, i) {
            this.width = 0;
            this.height = 0;
            this.nodes = null;
            var n = 0;
            if (typeof t == "number") {
                n = t
            } else {
                e = t.length;
                n = t[0].length;
                i = t
            }
            this.width = n;
            this.height = e;
            this.nodes = this._buildNodes(n, e, i)
        }
        x(_, "PathFinding.core.Grid", null, "Grid$1");
        var t = _.prototype;
        t._buildNodes = function(t, e, i) {
            var n = 0
              , s = 0
              , r = [];
            for (n = 0; n < e; ++n) {
                r[n] = [];
                for (s = 0; s < t; ++s) {
                    r[n][s] = new Ki(s,n)
                }
            }
            if (i == null) {
                return r
            }
            if (i.length != e || i[0].length != t) {
                throw new Error("Matrix size does not fit")
            }
            for (n = 0; n < e; ++n) {
                for (s = 0; s < t; ++s) {
                    if (i[n][s]) {
                        r[n][s].walkable = false
                    }
                }
            }
            return r
        }
        ;
        t.getNodeAt = function(t, e) {
            return this.nodes[e][t]
        }
        ;
        t.isWalkableAt = function(t, e) {
            return this.isInside(t, e) && this.nodes[e][t].walkable
        }
        ;
        t.isInside = function(t, e) {
            return t >= 0 && t < this.width && (e >= 0 && e < this.height)
        }
        ;
        t.setWalkableAt = function(t, e, i) {
            this.nodes[e][t].walkable = i
        }
        ;
        t.getNeighbors = function(t, e) {
            var i = t.x
              , n = t.y
              , s = []
              , r = false
              , a = false
              , o = false
              , l = false
              , h = false
              , u = false
              , c = false
              , f = false
              , d = this.nodes;
            if (this.isWalkableAt(i, n - 1)) {
                s.push(d[n - 1][i]);
                r = true
            }
            if (this.isWalkableAt(i + 1, n)) {
                s.push(d[n][i + 1]);
                o = true
            }
            if (this.isWalkableAt(i, n + 1)) {
                s.push(d[n + 1][i]);
                h = true
            }
            if (this.isWalkableAt(i - 1, n)) {
                s.push(d[n][i - 1]);
                c = true
            }
            if (e == Ji.Never) {
                return s
            }
            if (e == Ji.OnlyWhenNoObstacles) {
                a = c && r;
                l = r && o;
                u = o && h;
                f = h && c
            } else if (e == Ji.IfAtMostOneObstacle) {
                a = c || r;
                l = r || o;
                u = o || h;
                f = h || c
            } else if (e == Ji.Always) {
                a = true;
                l = true;
                u = true;
                f = true
            } else {
                throw new Error("Incorrect value of diagonalMovement")
            }
            if (a && this.isWalkableAt(i - 1, n - 1)) {
                s.push(d[n - 1][i - 1])
            }
            if (l && this.isWalkableAt(i + 1, n - 1)) {
                s.push(d[n - 1][i + 1])
            }
            if (u && this.isWalkableAt(i + 1, n + 1)) {
                s.push(d[n + 1][i + 1])
            }
            if (f && this.isWalkableAt(i - 1, n + 1)) {
                s.push(d[n + 1][i - 1])
            }
            return s
        }
        ;
        t.clone = function() {
            var t = 0
              , e = 0
              , i = this.width
              , n = this.height
              , s = this.nodes
              , r = new _(i,n)
              , a = [];
            for (t = 0; t < n; ++t) {
                a[t] = [];
                for (e = 0; e < i; ++e) {
                    a[t][e] = new Ki(e,t,s[t][e].walkable)
                }
            }
            r.nodes = a;
            return r
        }
        ;
        t.reset = function() {
            var t;
            for (var e = 0; e < this.height; ++e) {
                for (var i = 0; i < this.width; ++i) {
                    t = this.nodes[e][i];
                    t.g = 0;
                    t.f = 0;
                    t.h = 0;
                    t.by = 0;
                    t.parent = null;
                    t.opened = null;
                    t.closed = null;
                    t.tested = null
                }
            }
        }
        ;
        _.createGridFromAStarMap = function(t) {
            var e = t.width;
            var i = t.height;
            var n = t.getPixels();
            var s = [];
            var r = 0;
            for (var a = 0; a < e; a++) {
                var o = s[a] = [];
                for (var l = 0; l < i; l++) {
                    var h = n[r++];
                    var u = n[r++];
                    var c = n[r++];
                    var f = n[r++];
                    if (h == 255 && u == 255 && c == 255 && f == 255)
                        o[l] = 1;
                    else {
                        o[l] = 0
                    }
                }
            }
            var d = new _(e,i,s);
            return d
        }
        ;
        return _
    }();
    var Ki = function() {
        function t(t, e, i) {
            this.x = 0;
            this.y = 0;
            this.g = 0;
            this.f = 0;
            this.h = 0;
            this.by = 0;
            this.parent = null;
            this.opened = null;
            this.closed = null;
            this.tested = null;
            this.retainCount = null;
            this.walkable = false;
            i === void 0 && (i = true);
            this.x = t;
            this.y = e;
            this.walkable = i
        }
        x(t, "PathFinding.core.Node", null, "Node$2");
        return t
    }();
    var Qi = function() {
        function e(t) {
            this.cmp = null;
            this.nodes = null;
            this.heapFunction = new qi;
            this.cmp = t != null ? t : this.heapFunction.defaultCmp;
            this.nodes = []
        }
        x(e, "PathFinding.libs.Heap");
        var t = e.prototype;
        t.push = function(t) {
            return this.heapFunction.heappush(this.nodes, t, this.cmp)
        }
        ;
        t.pop = function() {
            return this.heapFunction.heappop(this.nodes, this.cmp)
        }
        ;
        t.peek = function() {
            return this.nodes[0]
        }
        ;
        t.contains = function(t) {
            return this.nodes.indexOf(t) !== -1
        }
        ;
        t.replace = function(t) {
            return this.heapFunction.heapreplace(this.nodes, t, this.cmp)
        }
        ;
        t.pushpop = function(t) {
            return this.heapFunction.heappushpop(this.nodes, t, this.cmp)
        }
        ;
        t.heapify = function() {
            return this.heapFunction.heapify(this.nodes, this.cmp)
        }
        ;
        t.updateItem = function(t) {
            return this.heapFunction.updateItem(this.nodes, t, this.cmp)
        }
        ;
        t.clear = function() {
            return this.nodes = []
        }
        ;
        t.empty = function() {
            return this.nodes.length === 0
        }
        ;
        t.size = function() {
            return this.nodes.length
        }
        ;
        t.clone = function() {
            var t = new e;
            t.nodes = this.nodes.slice(0);
            return t
        }
        ;
        t.toArray = function() {
            return this.nodes.slice(0)
        }
        ;
        return e
    }();
    var qi = function() {
        function t() {
            this.defaultCmp = function(t, e) {
                if (t < e) {
                    return -1
                }
                if (t > e) {
                    return 1
                }
                return 0
            }
        }
        x(t, "PathFinding.libs.HeapFunction");
        var e = t.prototype;
        e.insort = function(t, e, i, n, s) {
            var r = NaN;
            if (i == null) {
                i = 0
            }
            if (s == null) {
                s = this.defaultCmp
            }
            if (i < 0) {
                throw new Error("lo must be non-negative")
            }
            if (n == null) {
                n = t.length
            }
            while (i < n) {
                r = Math.floor((i + n) / 2);
                if (s(e, t[r]) < 0) {
                    n = r
                } else {
                    i = r + 1
                }
            }
            return [].splice.apply(t, [i, i - i].concat(e)),
            e
        }
        ;
        e.heappush = function(t, e, i) {
            if (i == null) {
                i = this.defaultCmp
            }
            t.push(e);
            return this._siftdown(t, 0, t.length - 1, i)
        }
        ;
        e.heappop = function(t, e) {
            var i, n;
            if (e == null) {
                e = this.defaultCmp
            }
            i = t.pop();
            if (t.length) {
                n = t[0];
                t[0] = i;
                this._siftup(t, 0, e)
            } else {
                n = i
            }
            return n
        }
        ;
        e.heapreplace = function(t, e, i) {
            var n;
            if (i == null) {
                i = this.defaultCmp
            }
            n = t[0];
            t[0] = e;
            this._siftup(t, 0, i);
            return n
        }
        ;
        e.heappushpop = function(t, e, i) {
            var n;
            if (i == null) {
                i = this.defaultCmp
            }
            if (t.length && i(t[0], e) < 0) {
                n = [t[0], e],
                e = n[0],
                t[0] = n[1];
                this._siftup(t, 0, i)
            }
            return e
        }
        ;
        e.heapify = function(t, e) {
            var i = 0, n = 0, s = 0, r = 0, a, o, l, h;
            if (e == null) {
                e = this.defaultCmp
            }
            o = function() {
                h = [];
                for (s = 0,
                a = Math.floor(t.length / 2); 0 <= a ? s < a : s > a; 0 <= a ? s++ : s--) {
                    h.push(s)
                }
                return h
            }
            .apply(this).reverse();
            l = [];
            for (n = 0,
            r = o.length; n < r; n++) {
                i = o[n];
                l.push(this._siftup(t, i, e))
            }
            return l
        }
        ;
        e.updateItem = function(t, e, i) {
            var n = 0;
            if (i == null) {
                i = this.defaultCmp
            }
            n = t.indexOf(e);
            if (n === -1) {
                return null
            }
            this._siftdown(t, 0, n, i);
            return this._siftup(t, n, i)
        }
        ;
        e.nlargest = function(t, e, i) {
            var n, s, r = 0, a = 0, o;
            if (i == null) {
                i = this.defaultCmp
            }
            s = t.slice(0, e);
            if (!s.length) {
                return s
            }
            this.heapify(s, i);
            o = t.slice(e);
            for (r = 0,
            a = o.length; r < a; r++) {
                n = o[r];
                this.heappushpop(s, n, i)
            }
            return s.sort(i).reverse()
        }
        ;
        e.nsmallest = function(t, e, i) {
            var n, s, r, a, o = 0, l = 0, h, u, c, f;
            if (i == null) {
                i = this.defaultCmp
            }
            if (e * 10 <= t.length) {
                a = t.slice(0, e).sort(i);
                if (!a.length) {
                    return a
                }
                r = a[a.length - 1];
                u = t.slice(e);
                for (o = 0,
                h = u.length; o < h; o++) {
                    n = u[o];
                    if (i(n, r) < 0) {
                        this.insort(a, n, 0, null, i);
                        a.pop();
                        r = a[a.length - 1]
                    }
                }
                return a
            }
            this.heapify(t, i);
            f = [];
            for (s = l = 0,
            c = Math.min(e, t.length); 0 <= c ? l < c : l > c; s = 0 <= c ? ++l : --l) {
                f.push(this.heappop(t, i))
            }
            return f
        }
        ;
        e._siftdown = function(t, e, i, n) {
            var s, r, a = 0;
            if (n == null) {
                n = this.defaultCmp
            }
            s = t[i];
            while (i > e) {
                a = i - 1 >> 1;
                r = t[a];
                if (n(s, r) < 0) {
                    t[i] = r;
                    i = a;
                    continue
                }
                break
            }
            return t[i] = s
        }
        ;
        e._siftup = function(t, e, i) {
            var n = 0, s = 0, r, a = 0, o = 0;
            if (i == null) {
                i = this.defaultCmp
            }
            s = t.length;
            o = e;
            r = t[e];
            n = 2 * e + 1;
            while (n < s) {
                a = n + 1;
                if (a < s && !(i(t[n], t[a]) < 0)) {
                    n = a
                }
                t[e] = t[n];
                e = n;
                n = 2 * e + 1
            }
            t[e] = r;
            return this._siftdown(t, o, e, i)
        }
        ;
        return t
    }();
    var $i = function() {
        function t() {}
        x(t, "UIConfig");
        t.touchScrollEnable = true;
        t.mouseWheelEnable = true;
        t.showButtons = true;
        t.popupBgColor = "#000000";
        t.popupBgAlpha = .5;
        t.closeDialogOnSide = true;
        return t
    }();
    var tn = function(t) {
        function a() {
            this._bits = 0;
            this._displayedInStage = false;
            this._parent = null;
            this.conchModel = null;
            this.name = "";
            this._destroyed = false;
            a.__super.call(this);
            this._childs = a.ARRAY_EMPTY;
            this._$P = a.PROP_EMPTY;
            this.timer = st.scaleTimer;
            this.conchModel = Be.isConchNode ? this.createConchModel() : null
        }
        x(a, "laya.display.Node", t);
        var e = a.prototype;
        e._setBit = function(t, e) {
            if (t == 1) {
                var i = this._getBit(t);
                if (i != e) {
                    this._updateDisplayedInstage()
                }
            }
            if (e) {
                this._bits |= t
            } else {
                this._bits &= ~t
            }
        }
        ;
        e._getBit = function(t) {
            return (this._bits & t) != 0
        }
        ;
        e._setUpNoticeChain = function() {
            if (this._getBit(1)) {
                this._setUpNoticeType(1)
            }
        }
        ;
        e._setUpNoticeType = function(t) {
            var e = this;
            e._setBit(t, true);
            e = e.parent;
            while (e) {
                if (e._getBit(t))
                    return;
                e._setBit(t, true);
                e = e.parent
            }
        }
        ;
        e.on = function(t, e, i, n) {
            if (t === "display" || t === "undisplay") {
                if (!this._getBit(1)) {
                    this._setUpNoticeType(1)
                }
            }
            return this._createListener(t, e, i, n, false)
        }
        ;
        e.once = function(t, e, i, n) {
            if (t === "display" || t === "undisplay") {
                if (!this._getBit(1)) {
                    this._setUpNoticeType(1)
                }
            }
            return this._createListener(t, e, i, n, true)
        }
        ;
        e.createConchModel = function() {
            return null
        }
        ;
        e.destroy = function(t) {
            t === void 0 && (t = true);
            this._destroyed = true;
            this._parent && this._parent.removeChild(this);
            if (this._childs) {
                if (t)
                    this.destroyChildren();
                else
                    this.removeChildren()
            }
            this._childs = null;
            this._$P = null;
            this.offAll();
            this.timer.clearAll(this)
        }
        ;
        e.destroyChildren = function() {
            if (this._childs) {
                for (var t = this._childs.length - 1; t > -1; t--) {
                    this._childs[t].destroy(true)
                }
            }
        }
        ;
        e.addChild = function(t) {
            if (!t || this.destroyed || t === this)
                return t;
            if (t.zOrder)
                this._set$P("hasZorder", true);
            if (t._parent === this) {
                var e = this.getChildIndex(t);
                if (e !== this._childs.length - 1) {
                    this._childs.splice(e, 1);
                    this._childs.push(t);
                    if (this.conchModel) {
                        this.conchModel.removeChild(t.conchModel);
                        this.conchModel.addChildAt(t.conchModel, this._childs.length - 1)
                    }
                    this._childChanged()
                }
            } else {
                t.parent && t.parent.removeChild(t);
                this._childs === a.ARRAY_EMPTY && (this._childs = []);
                this._childs.push(t);
                this.conchModel && this.conchModel.addChildAt(t.conchModel, this._childs.length - 1);
                t.parent = this;
                this._childChanged()
            }
            return t
        }
        ;
        e.addChildren = function(t) {
            var e = arguments;
            var i = 0
              , n = e.length;
            while (i < n) {
                this.addChild(e[i++])
            }
        }
        ;
        e.addChildAt = function(t, e) {
            if (!t || this.destroyed || t === this)
                return t;
            if (t.zOrder)
                this._set$P("hasZorder", true);
            if (e >= 0 && e <= this._childs.length) {
                if (t._parent === this) {
                    var i = this.getChildIndex(t);
                    this._childs.splice(i, 1);
                    this._childs.splice(e, 0, t);
                    if (this.conchModel) {
                        this.conchModel.removeChild(t.conchModel);
                        this.conchModel.addChildAt(t.conchModel, e)
                    }
                    this._childChanged()
                } else {
                    t.parent && t.parent.removeChild(t);
                    this._childs === a.ARRAY_EMPTY && (this._childs = []);
                    this._childs.splice(e, 0, t);
                    this.conchModel && this.conchModel.addChildAt(t.conchModel, e);
                    t.parent = this
                }
                return t
            } else {
                throw new Error("appendChildAt:The index is out of bounds")
            }
        }
        ;
        e.getChildIndex = function(t) {
            return this._childs.indexOf(t)
        }
        ;
        e.getChildByName = function(t) {
            var e = this._childs;
            if (e) {
                for (var i = 0, n = e.length; i < n; i++) {
                    var s = e[i];
                    if (s.name === t)
                        return s
                }
            }
            return null
        }
        ;
        e._get$P = function(t) {
            return this._$P[t]
        }
        ;
        e._set$P = function(t, e) {
            if (!this.destroyed) {
                this._$P === a.PROP_EMPTY && (this._$P = {});
                this._$P[t] = e
            }
            return e
        }
        ;
        e.getChildAt = function(t) {
            return this._childs[t]
        }
        ;
        e.setChildIndex = function(t, e) {
            var i = this._childs;
            if (e < 0 || e >= i.length) {
                throw new Error("setChildIndex:The index is out of bounds.")
            }
            var n = this.getChildIndex(t);
            if (n < 0)
                throw new Error("setChildIndex:node is must child of this object.");
            i.splice(n, 1);
            i.splice(e, 0, t);
            if (this.conchModel) {
                this.conchModel.removeChild(t.conchModel);
                this.conchModel.addChildAt(t.conchModel, e)
            }
            this._childChanged();
            return t
        }
        ;
        e._childChanged = function(t) {}
        ;
        e.removeChild = function(t) {
            if (!this._childs)
                return t;
            var e = this._childs.indexOf(t);
            return this.removeChildAt(e)
        }
        ;
        e.removeSelf = function() {
            this._parent && this._parent.removeChild(this);
            return this
        }
        ;
        e.removeChildByName = function(t) {
            var e = this.getChildByName(t);
            e && this.removeChild(e);
            return e
        }
        ;
        e.removeChildAt = function(t) {
            var e = this.getChildAt(t);
            if (e) {
                this._childs.splice(t, 1);
                this.conchModel && this.conchModel.removeChild(e.conchModel);
                e.parent = null
            }
            return e
        }
        ;
        e.removeChildren = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 2147483647);
            if (this._childs && this._childs.length > 0) {
                var i = this._childs;
                if (t === 0 && e >= r) {
                    var n = i;
                    this._childs = a.ARRAY_EMPTY
                } else {
                    n = i.splice(t, e - t)
                }
                for (var s = 0, r = n.length; s < r; s++) {
                    n[s].parent = null;
                    this.conchModel && this.conchModel.removeChild(n[s].conchModel)
                }
            }
            return this
        }
        ;
        e.replaceChild = function(t, e) {
            var i = this._childs.indexOf(e);
            if (i > -1) {
                this._childs.splice(i, 1, t);
                if (this.conchModel) {
                    this.conchModel.removeChild(e.conchModel);
                    this.conchModel.addChildAt(t.conchModel, i)
                }
                e.parent = null;
                t.parent = this;
                return t
            }
            return null
        }
        ;
        e._updateDisplayedInstage = function() {
            var t;
            t = this;
            var e = st.stage;
            this._displayedInStage = false;
            while (t) {
                if (t._getBit(1)) {
                    this._displayedInStage = t._displayedInStage;
                    break
                }
                if (t == e || t._displayedInStage) {
                    this._displayedInStage = true;
                    break
                }
                t = t.parent
            }
        }
        ;
        e._setDisplay = function(t) {
            if (this._displayedInStage !== t) {
                this._displayedInStage = t;
                if (t)
                    this.event("display");
                else
                    this.event("undisplay")
            }
        }
        ;
        e._displayChild = function(t, e) {
            var i = t._childs;
            if (i) {
                for (var n = 0, s = i.length; n < s; n++) {
                    var r = i[n];
                    if (!r._getBit(1))
                        continue;
                    if (r._childs.length > 0) {
                        this._displayChild(r, e)
                    } else {
                        r._setDisplay(e)
                    }
                }
            }
            t._setDisplay(e)
        }
        ;
        e.contains = function(t) {
            if (t === this)
                return true;
            while (t) {
                if (t.parent === this)
                    return true;
                t = t.parent
            }
            return false
        }
        ;
        e.timerLoop = function(t, e, i, n, s, r) {
            s === void 0 && (s = true);
            r === void 0 && (r = false);
            this.timer.loop(t, e, i, n, s, r)
        }
        ;
        e.timerOnce = function(t, e, i, n, s) {
            s === void 0 && (s = true);
            this.timer._create(false, false, t, e, i, n, s)
        }
        ;
        e.frameLoop = function(t, e, i, n, s) {
            s === void 0 && (s = true);
            this.timer._create(true, true, t, e, i, n, s)
        }
        ;
        e.frameOnce = function(t, e, i, n, s) {
            s === void 0 && (s = true);
            this.timer._create(true, false, t, e, i, n, s)
        }
        ;
        e.clearTimer = function(t, e) {
            this.timer.clear(t, e)
        }
        ;
        p(0, e, "numChildren", function() {
            return this._childs.length
        });
        p(0, e, "destroyed", function() {
            return this._destroyed
        });
        p(0, e, "parent", function() {
            return this._parent
        }, function(t) {
            if (this._parent !== t) {
                if (t) {
                    this._parent = t;
                    this.event("added");
                    if (this._getBit(1)) {
                        this._setUpNoticeChain();
                        t.displayedInStage && this._displayChild(this, true)
                    }
                    t._childChanged(this)
                } else {
                    this.event("removed");
                    this._parent._childChanged();
                    if (this._getBit(1))
                        this._displayChild(this, false);
                    this._parent = t
                }
            }
        });
        p(0, e, "displayedInStage", function() {
            if (this._getBit(1))
                return this._displayedInStage;
            this._setUpNoticeType(1);
            return this._displayedInStage
        });
        a.ARRAY_EMPTY = [];
        a.PROP_EMPTY = {};
        a.NOTICE_DISPLAY = 1;
        a.MOUSEENABLE = 2;
        return a
    }(v);
    var en = function(t) {
        function i(t, e) {
            this.data = null;
            i.__super.call(this);
            this.type = t;
            this.data = e
        }
        x(i, "GameEvent", t);
        i.GAME_CHANGE_IP = "GAME_CHANGE_IP";
        i.GAME_SOCKET_CLOSE = "game_socket_close";
        i.GAME_SOCKET_CONNECT_ERROR = "game_socket_connect_error";
        i.GAME_ACCOUNT_VERIFY_COMPLETE = "game_account_verify_complete";
        i.GAME_SERVERLIST_UPDATE = "game_serverlist_update";
        i.GAME_SERVER_PARAMS = "game_server_params";
        i.GAME_MAINPLAYER_BEGIN_MOVE = "game_mainplayer_begin_move";
        i.GAME_MAINPLAYER_ENTER_GRID = "game_mainplayer_enter_grid";
        i.GAME_MAINPLAYER_END_MOVE = "game_mainplayer_end_move";
        i.GAME_MAINPLAYER_FIGHTPOWER_CHANGE = "game_mainplayer_fightpower_change";
        i.GAME_MAINPLAYER_DEAD = "game_mainplayer_dead";
        i.GAME_MAINPLAYER_CHALLENGE_CHANGE = "game_mainplayer_challenge_change";
        i.GAME_FUNNY_UPDATE = "game_funny_update";
        i.GAME_RANKLIST_UPDATE = "game_ranklist_update";
        i.GAME_DATA_PARSE_COMPLETE = "game_data_parse_complete";
        i.GAME_UPGRADE_AUTOBUY_CHANGE = "game_upgrade_autobuy_chage";
        i.GAME_CHANGE_MAP_START = "game_change_map_start";
        i.GAME_ENTER_MAP = "game_enter_map";
        i.GAME_MAINUI_MODE_CHANGE = "game_mainui_mode_change";
        i.GAME_COMMON_CONDITION_CHANGE = "game_common_condition_change";
        i.GAME_SCENE_PLAYER_CREATE = "game_scene_player_create";
        i.GAME_SCENE_PLAYER_DELETE = "game_scene_player_delete";
        i.GAME_SCENE_PLAYER_PKMODE = "game_scene_player_pkmode";
        i.GAME_SCENE_MONSTER_CREATE = "game_scene_monster_create";
        i.GAME_SCENE_MONSTER_DELETE = "game_scene_monster_delete";
        i.GAME_SCENE_NPC_CREATE = "game_scene_npc_create";
        i.GAME_SCENE_NPC_DELETE = "game_scene_npc_delete";
        i.NATIVE_CONNECT_RESULT = "native_connect_result";
        i.NATIVE_BATTERY_CHANGE = "native_battery_change";
        i.NATIVE_NET_CHANGE = "native_net_change";
        i.NATIVE_XIYOU_LOGOUT = "native_xiyou_logout";
        i.NATIVE_XIYOU_ORDERFLAG = "native_xiyou_orderflag";
        i.NATIVE_XIYOU_PAY_RESULT = "native_xiyou_pay_result";
        i.GAME_UPDATE_CONTENT_COMPLETE = "game_update_content_complete";
        i.GAME_BACK_TO_LOGIN = "game_back_to_login";
        i.GAME_SOFT_NUM_KEYBOARD_ACTION = "GAME_SOFT_NUM_KEYBOARD_ACTION";
        i.GAME_DROP_DOWN_SELECT_ACTION = "GAME_DROP_DOWN_SELECT_ACTION";
        i.GAME_TASK_INNERTRACK_TITLE = "GAME_TASK_INNERTRACK_TITLE";
        i.GAME_VOICE_RECORD_STATE_CHANGE = "GAME_VOICE_RECORD_STATE_CHANGE";
        i.GAME_VOICE_PLAY_STATE_CHANGE = "GAME_VOICE_PLAY_STATE_CHANGE";
        i.GAME_VOICE_PLAY_STATE_UPDATE = "GAME_VOICE_PLAY_STATE_UPDATE";
        i.GAME_VOICE_MIC_LEVEL_CHANGE = "GAME_VOICE_MIC_LEVEL_CHANGE";
        i.GAME_VOICE_TIME_CHANGE = "GAME_VOICE_VOLUME_CHANGE";
        i.GAME_ACTIVITY_ZADAN = "huodong_zhadan";
        i.GAME_GAME_RECHARGE = "game_game_recharge";
        return i
    }(y);
    var nn = function(t) {
        function h() {
            this._responseType = null;
            this._data = null;
            h.__super.call(this);
            this._http = new He.window.XMLHttpRequest
        }
        x(h, "laya.net.HttpRequest", t);
        var e = h.prototype;
        e.send = function(t, e, i, n, s) {
            i === void 0 && (i = "get");
            n === void 0 && (n = "text");
            this._responseType = n;
            this._data = null;
            if (He.onQGMiniGame || He.onVVMiniGame || He.onQQMiniGame || He.onBDMiniGame || He.onBLMiniGame || He.onAlipayMiniGame || He.onHWMiniGame || He.onTTMiniGame) {
                t = h._urlEncode(t)
            }
            var r = this;
            var a = this._http;
            a.open(i, t, true);
            if (s) {
                for (var o = 0; o < s.length; o++) {
                    a.setRequestHeader(s[o++], s[o])
                }
            } else if (!Be.isConchApp) {
                if (!e || typeof e == "string")
                    a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                else
                    a.setRequestHeader("Content-Type", "application/json")
            }
            var l = n !== "arraybuffer" ? "text" : "arraybuffer";
            a.responseType = l;
            if (a.dataType) {
                a.dataType = l
            }
            a.onerror = function(t) {
                r._onError(t)
            }
            ;
            a.onabort = function(t) {
                r._onAbort(t)
            }
            ;
            a.onprogress = function(t) {
                r._onProgress(t)
            }
            ;
            a.onload = function(t) {
                r._onLoad(t)
            }
            ;
            if (He.onBLMiniGame && He.onAndroid && !e) {
                e = {}
            }
            a.send(e)
        }
        ;
        e._onProgress = function(t) {
            if (t && t.lengthComputable)
                this.event("progress", t.loaded / t.total)
        }
        ;
        e._onAbort = function(t) {
            this.error("Request was aborted by user")
        }
        ;
        e._onError = function(t) {
            this.error("Request failed Status:" + this._http.status + " text:" + this._http.statusText)
        }
        ;
        e._onLoad = function(t) {
            var e = this._http;
            var i = e.status !== undefined ? e.status : 200;
            if (i === 200 || i === 204 || i === 0) {
                this.complete()
            } else {
                this.error("[" + e.status + "]" + e.statusText + ":" + e.responseURL)
            }
        }
        ;
        e.error = function(t) {
            this.clear();
            this.event("error", t)
        }
        ;
        e.complete = function() {
            this.clear();
            var e = true;
            try {
                if (this._responseType === "json") {
                    this._data = JSON.parse(this._http.responseText)
                } else if (this._responseType === "xml") {
                    this._data = ai.parseXMLFromString(this._http.responseText)
                } else {
                    this._data = this._http.response || this._http.responseText
                }
            } catch (t) {
                e = false;
                this.error(t.message)
            }
            e && this.event("complete", this._data instanceof Array ? [this._data] : this._data)
        }
        ;
        e.clear = function() {
            var t = this._http;
            t.onerror = t.onabort = t.onprogress = t.onload = null
        }
        ;
        p(0, e, "url", function() {
            return this._http.responseURL
        });
        p(0, e, "http", function() {
            return this._http
        });
        p(0, e, "data", function() {
            return this._data
        });
        u(h, ["_urlEncode", function() {
            return this._urlEncode = encodeURI
        }
        ]);
        return h
    }(v);
    var sn = function(t) {
        function o() {
            o.__super.call(this);
            this._$1__id = ++o._uniqueIDCounter;
            this.__loaded = true;
            this._destroyed = false;
            this._referenceCount = 0;
            o._idResourcesMap[this.id] = this;
            this._released = true;
            this.lock = false;
            this._memorySize = 0;
            this._lastUseFrameCount = -1;
            Xe.currentResourceManager && Xe.currentResourceManager.addResource(this)
        }
        x(o, "laya.resource.Resource", t);
        var e = o.prototype;
        st.imps(e, {
            "laya.resource.ICreateResource": true,
            "laya.resource.IDispose": true
        });
        e._setUrl = function(t) {
            if (this._url !== t) {
                var e;
                if (this._url) {
                    e = o._urlResourcesMap[this._url];
                    e.splice(e.indexOf(this), 1);
                    e.length === 0 && delete o._urlResourcesMap[this._url]
                }
                if (t) {
                    e = o._urlResourcesMap[t];
                    e || (o._urlResourcesMap[t] = e = []);
                    e.push(this)
                }
                this._url = t
            }
        }
        ;
        e._getGroup = function() {
            return this._group
        }
        ;
        e._setGroup = function(t) {
            if (this._group !== t) {
                var e;
                if (this._group) {
                    e = o._groupResourcesMap[this._group];
                    e.splice(e.indexOf(this), 1);
                    e.length === 0 && delete o._groupResourcesMap[this._group]
                }
                if (t) {
                    e = o._groupResourcesMap[t];
                    e || (o._groupResourcesMap[t] = e = []);
                    e.push(this)
                }
                this._group = t
            }
        }
        ;
        e._addReference = function() {
            this._referenceCount++
        }
        ;
        e._removeReference = function() {
            this._referenceCount--
        }
        ;
        e._clearReference = function() {
            this._referenceCount = 0
        }
        ;
        e._endLoaded = function() {
            this.__loaded = true;
            this.event("loaded", this)
        }
        ;
        e.recreateResource = function() {
            this.completeCreate()
        }
        ;
        e.disposeResource = function() {}
        ;
        e.activeResource = function(t) {
            t === void 0 && (t = false);
            this._lastUseFrameCount = ii.loopCount;
            if (!this._destroyed && this.__loaded && (this._released || t))
                this.recreateResource()
        }
        ;
        e.releaseResource = function(t) {
            t === void 0 && (t = false);
            if (!t && this.lock)
                return false;
            if (!this._released || t) {
                this.disposeResource();
                this._released = true;
                this._lastUseFrameCount = -1;
                this.event("released", this);
                return true
            } else {
                return false
            }
        }
        ;
        e.onAsynLoaded = function(t, e, i) {
            throw new Error("Resource: must override this function!")
        }
        ;
        e.destroy = function() {
            if (this._destroyed)
                return;
            if (this._resourceManager !== null)
                this._resourceManager.removeResource(this);
            this._destroyed = true;
            this.lock = false;
            this.releaseResource();
            delete o._idResourcesMap[this.id];
            var t;
            if (this._url) {
                t = o._urlResourcesMap[this._url];
                if (t) {
                    t.splice(t.indexOf(this), 1);
                    t.length === 0 && delete o._urlResourcesMap[this.url]
                }
                fn.clearRes(this._url);
                this.__loaded || G.cancelLoadByUrl(this._url)
            }
            if (this._group) {
                t = o._groupResourcesMap[this._group];
                t.splice(t.indexOf(this), 1);
                t.length === 0 && delete o._groupResourcesMap[this.url]
            }
        }
        ;
        e.completeCreate = function() {
            this.event("recovered", this);
            this._released = false
        }
        ;
        e.dispose = function() {
            this.destroy()
        }
        ;
        p(0, e, "memorySize", function() {
            return this._memorySize
        }, function(t) {
            var e = t - this._memorySize;
            this._memorySize = t;
            this.resourceManager && this.resourceManager.addSize(e)
        });
        p(0, e, "_loaded", null, function(t) {
            this.__loaded = t
        });
        p(0, e, "loaded", function() {
            return this.__loaded
        });
        p(0, e, "id", function() {
            return this._$1__id
        });
        p(0, e, "destroyed", function() {
            return this._destroyed
        });
        p(0, e, "group", function() {
            return this._getGroup()
        }, function(t) {
            this._setGroup(t)
        });
        p(0, e, "resourceManager", function() {
            return this._resourceManager
        });
        p(0, e, "url", function() {
            return this._url
        });
        p(0, e, "released", function() {
            return this._released
        });
        p(0, e, "referenceCount", function() {
            return this._referenceCount
        });
        o.getResourceByID = function(t) {
            return o._idResourcesMap[t]
        }
        ;
        o.getResourceByURL = function(t, e) {
            e === void 0 && (e = 0);
            return o._urlResourcesMap[t][e]
        }
        ;
        o.getResourceCountByURL = function(t) {
            return o._urlResourcesMap[t].length
        }
        ;
        o.destroyUnusedResources = function(t) {
            var e;
            if (t) {
                var i = o._groupResourcesMap[t];
                if (i) {
                    var n = i.slice();
                    for (var s = 0, r = n.length; s < r; s++) {
                        e = n[s];
                        if (!e.lock && e._referenceCount === 0)
                            e.destroy()
                    }
                }
            } else {
                for (var a in o._idResourcesMap) {
                    e = o._idResourcesMap[a];
                    if (!e.lock && e._referenceCount === 0)
                        e.destroy()
                }
            }
        }
        ;
        o._uniqueIDCounter = 0;
        o._idResourcesMap = {};
        o._urlResourcesMap = {};
        o._groupResourcesMap = {};
        return o
    }(v);
    var rn = function(t) {
        function e() {
            this._destroyed = false;
            this._templet = null;
            this._currentTime = NaN;
            this._currentFrameTime = NaN;
            this._playStart = NaN;
            this._playEnd = NaN;
            this._playDuration = NaN;
            this._overallDuration = NaN;
            this._stopWhenCircleFinish = false;
            this._elapsedPlaybackTime = NaN;
            this._startUpdateLoopCount = NaN;
            this._currentAnimationClipIndex = 0;
            this._currentKeyframeIndex = 0;
            this._paused = false;
            this._cacheFrameRate = 0;
            this._cacheFrameRateInterval = NaN;
            this._cachePlayRate = NaN;
            this._fullFrames = null;
            this.isCache = true;
            this.playbackRate = 1;
            this.returnToZeroStopped = false;
            e.__super.call(this);
            this._destroyed = false;
            this._currentAnimationClipIndex = -1;
            this._currentKeyframeIndex = -1;
            this._currentTime = 0;
            this._overallDuration = Number.MAX_VALUE;
            this._stopWhenCircleFinish = false;
            this._elapsedPlaybackTime = 0;
            this._startUpdateLoopCount = -1;
            this._cachePlayRate = 1;
            this.cacheFrameRate = 60;
            this.returnToZeroStopped = false
        }
        x(e, "laya.ani.AnimationPlayer", t);
        var i = e.prototype;
        st.imps(i, {
            "laya.resource.IDestroy": true
        });
        i._onTempletLoadedComputeFullKeyframeIndices = function(t, e, i) {
            if (this._templet === i && this._cachePlayRate === t && this._cacheFrameRate === e)
                this._computeFullKeyframeIndices()
        }
        ;
        i._computeFullKeyframeIndices = function() {
            var t = this._fullFrames = [];
            var e = this._templet;
            var i = this._cacheFrameRateInterval * this._cachePlayRate;
            for (var n = 0, s = e.getAnimationCount(); n < s; n++) {
                var r = [];
                for (var a = 0, o = e.getAnimation(n).nodes.length; a < o; a++) {
                    var l = e.getAnimation(n).nodes[a];
                    var h = Math.floor(l.playTime / i + .01);
                    var u = new Uint16Array(h + 1);
                    var c = -1;
                    for (var f = 0, d = l.keyFrame.length; f < d; f++) {
                        var _ = l.keyFrame[f];
                        var p = _.startTime;
                        var m = p + _.duration + i;
                        do {
                            var g = Math.floor(p / i + .5);
                            for (var v = c + 1; v < g; v++)
                                u[v] = f;
                            c = g;
                            u[g] = f;
                            p += i
                        } while (p <= m)
                    }
                    r.push(u)
                }
                t.push(r)
            }
        }
        ;
        i._onAnimationTempletLoaded = function() {
            this.destroyed || this._calculatePlayDuration()
        }
        ;
        i._calculatePlayDuration = function() {
            if (this.state !== 0) {
                var t = this._templet.getAniDuration(this._currentAnimationClipIndex);
                this._playEnd === 0 && (this._playEnd = t);
                if (this._playEnd > t)
                    this._playEnd = t;
                this._playDuration = this._playEnd - this._playStart
            }
        }
        ;
        i._setPlayParams = function(t, e) {
            this._currentTime = t;
            this._currentKeyframeIndex = Math.max(Math.floor(this.currentPlayTime / e + .01), 0);
            this._currentFrameTime = this._currentKeyframeIndex * e
        }
        ;
        i._setPlayParamsWhenStop = function(t, e, i) {
            i === void 0 && (i = -1);
            this._currentTime = t;
            var n = i > 0 ? i : t;
            this._currentKeyframeIndex = Math.max(Math.floor(n / e + .01), 0);
            this._currentFrameTime = this._currentKeyframeIndex * e;
            this._currentAnimationClipIndex = -1
        }
        ;
        i._update = function(t) {
            if (this._currentAnimationClipIndex === -1 || this._paused || !this._templet || !this._templet.loaded)
                return;
            var e = this._cacheFrameRateInterval * this._cachePlayRate;
            var i = 0;
            this._startUpdateLoopCount !== ii.loopCount && (i = t * this.playbackRate,
            this._elapsedPlaybackTime += i);
            var n = this.playDuration;
            i += this._currentTime;
            if (this._overallDuration !== 0 && this._elapsedPlaybackTime >= this._overallDuration || this._overallDuration === 0 && this._elapsedPlaybackTime >= n || this._overallDuration === 0 && i >= this.playEnd) {
                this._setPlayParamsWhenStop(n, e, this.playEnd);
                this.event("stopped");
                return
            }
            if (n > 0) {
                if (i >= n) {
                    do {
                        i -= n;
                        if (this._stopWhenCircleFinish) {
                            this._setPlayParamsWhenStop(n, e);
                            this._stopWhenCircleFinish = false;
                            this.event("stopped");
                            return
                        }
                        if (i < n) {
                            this._setPlayParams(i, e);
                            this.event("complete")
                        }
                    } while (i >= n)
                } else {
                    this._setPlayParams(i, e)
                }
            } else {
                if (this._stopWhenCircleFinish) {
                    this._setPlayParamsWhenStop(n, e);
                    this._stopWhenCircleFinish = false;
                    this.event("stopped");
                    return
                }
                this._currentTime = this._currentFrameTime = this._currentKeyframeIndex = 0;
                this.event("complete")
            }
        }
        ;
        i._destroy = function() {
            this.offAll();
            this._templet = null;
            this._fullFrames = null;
            this._destroyed = true
        }
        ;
        i.play = function(t, e, i, n, s) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 1);
            i === void 0 && (i = 2147483647);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            if (!this._templet)
                throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");
            if (i < 0 || n < 0 || s < 0)
                throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");
            if (s !== 0 && n > s)
                throw new Error("AnimationPlayer:start must less than end.");
            this._currentTime = 0;
            this._currentFrameTime = 0;
            this._elapsedPlaybackTime = 0;
            this.playbackRate = e;
            this._overallDuration = i;
            this._playStart = n;
            this._playEnd = s;
            this._paused = false;
            this._currentAnimationClipIndex = t;
            this._currentKeyframeIndex = 0;
            this._startUpdateLoopCount = ii.loopCount;
            this.event("played");
            if (this._templet.loaded)
                this._calculatePlayDuration();
            else
                this._templet.once("loaded", this, this._onAnimationTempletLoaded);
            this._update(0)
        }
        ;
        i.playByFrame = function(t, e, i, n, s, r) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 1);
            i === void 0 && (i = 2147483647);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            r === void 0 && (r = 30);
            var a = 1e3 / r;
            this.play(t, e, i, n * a, s * a)
        }
        ;
        i.stop = function(t) {
            t === void 0 && (t = true);
            if (t) {
                this._currentTime = this._currentFrameTime = this._currentKeyframeIndex = 0;
                this._currentAnimationClipIndex = -1;
                this.event("stopped")
            } else {
                this._stopWhenCircleFinish = true
            }
        }
        ;
        p(0, i, "playEnd", function() {
            return this._playEnd
        });
        p(0, i, "templet", function() {
            return this._templet
        }, function(t) {
            if (!this.state === 0)
                this.stop(true);
            if (this._templet !== t) {
                this._templet = t;
                if (t.loaded)
                    this._computeFullKeyframeIndices();
                else
                    t.once("loaded", this, this._onTempletLoadedComputeFullKeyframeIndices, [this._cachePlayRate, this._cacheFrameRate])
            }
        });
        p(0, i, "playStart", function() {
            return this._playStart
        });
        p(0, i, "playDuration", function() {
            return this._playDuration
        });
        p(0, i, "state", function() {
            if (this._currentAnimationClipIndex === -1)
                return 0;
            if (this._paused)
                return 1;
            return 2
        });
        p(0, i, "currentKeyframeIndex", function() {
            return this._currentKeyframeIndex
        });
        p(0, i, "overallDuration", function() {
            return this._overallDuration
        });
        p(0, i, "currentFrameTime", function() {
            return this._currentFrameTime
        });
        p(0, i, "currentAnimationClipIndex", function() {
            return this._currentAnimationClipIndex
        });
        p(0, i, "currentPlayTime", function() {
            return this._currentTime + this._playStart
        });
        p(0, i, "cachePlayRate", function() {
            return this._cachePlayRate
        }, function(t) {
            if (this._cachePlayRate !== t) {
                this._cachePlayRate = t;
                if (this._templet)
                    if (this._templet.loaded)
                        this._computeFullKeyframeIndices();
                    else
                        this._templet.once("loaded", this, this._onTempletLoadedComputeFullKeyframeIndices, [t, this._cacheFrameRate])
            }
        });
        p(0, i, "cacheFrameRate", function() {
            return this._cacheFrameRate
        }, function(t) {
            if (this._cacheFrameRate !== t) {
                this._cacheFrameRate = t;
                this._cacheFrameRateInterval = 1e3 / this._cacheFrameRate;
                if (this._templet)
                    if (this._templet.loaded)
                        this._computeFullKeyframeIndices();
                    else
                        this._templet.once("loaded", this, this._onTempletLoadedComputeFullKeyframeIndices, [this._cachePlayRate, t])
            }
        });
        p(0, i, "currentTime", null, function(t) {
            if (this._currentAnimationClipIndex === -1 || !this._templet || !this._templet.loaded)
                return;
            if (t < this._playStart || t > this._playEnd)
                throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");
            this._startUpdateLoopCount = ii.loopCount;
            var e = this._cacheFrameRateInterval * this._cachePlayRate;
            this._currentTime = t;
            this._currentKeyframeIndex = Math.max(Math.floor(this.currentPlayTime / e), 0);
            this._currentFrameTime = this._currentKeyframeIndex * e
        });
        p(0, i, "paused", function() {
            return this._paused
        }, function(t) {
            this._paused = t;
            t && this.event("paused")
        });
        p(0, i, "cacheFrameRateInterval", function() {
            return this._cacheFrameRateInterval
        });
        p(0, i, "destroyed", function() {
            return this._destroyed
        });
        return e
    }(v);
    var an = function(t) {
        var f;
        function _() {
            this.retryNum = 1;
            this.retryDelay = 0;
            this.maxLoader = 5;
            this._loaders = [];
            this._loaderCount = 0;
            this._resInfos = [];
            this._infoPool = [];
            this._maxPriority = 5;
            this._failRes = {};
            _.__super.call(this);
            for (var t = 0; t < this._maxPriority; t++)
                this._resInfos[t] = []
        }
        x(_, "laya.net.LoaderManager", t);
        var e = _.prototype;
        e.create = function(t, i, e, n, s, r, a, o) {
            r === void 0 && (r = 1);
            a === void 0 && (a = true);
            if (t instanceof Array) {
                var l = t;
                var h = l.length;
                var u = 0;
                if (e) {
                    var c = b.create(e.caller, e.method, e.args, false)
                }
                for (var f = 0; f < h; f++) {
                    var d = l[f];
                    if (typeof d == "string")
                        d = l[f] = {
                            url: d
                        };
                    d.progress = 0
                }
                for (f = 0; f < h; f++) {
                    d = l[f];
                    var _ = e ? b.create(null, g, [d], false) : null;
                    var p = e || i ? b.create(null, m, [d]) : null;
                    this._create(d.url, p, _, d.clas || n, d.params || s, d.priority || r, a, d.group || o)
                }
                function m(t, e) {
                    u++;
                    t.progress = 1;
                    if (u === h && i) {
                        i.run()
                    }
                }
                function g(t, e) {
                    t.progress = e;
                    var i = 0;
                    for (var n = 0; n < h; n++) {
                        var s = l[n];
                        i += s.progress
                    }
                    var r = i / h;
                    c.runWith(r)
                }
                return true
            } else
                return this._create(t, i, e, n, s, r, a, o)
        }
        ;
        e._create = function(e, i, t, n, s, r, a, o) {
            r === void 0 && (r = 1);
            a === void 0 && (a = true);
            var l = Ge.formatURL(e);
            var h = this.getRes(l);
            if (!h) {
                var u = ai.getFileExtension(e);
                var c = _.createMap[u];
                if (!c)
                    throw new Error("LoaderManager:unknown file(" + e + ") extension with: " + u + ".");
                if (!n)
                    n = c[0];
                var f = c[1];
                if (u == "atlas") {
                    this.load(e, i, t, f, r, a)
                } else {
                    if (n === _n)
                        f = "htmlimage";
                    h = n ? new n : null;
                    if (h.hasOwnProperty("_loaded"))
                        h._loaded = false;
                    h._setUrl(e);
                    o && h._setGroup(o);
                    this._createLoad(h, e, b.create(null, d), t, f, r, false, o, true);
                    function d(t) {
                        h && !h.destroyed && t && h.onAsynLoaded.call(h, e, t, s);
                        if (i)
                            i.run();
                        st.loader.event(e)
                    }
                    a && this.cacheRes(l, h)
                }
            } else {
                if (!h.hasOwnProperty("loaded") || h.loaded) {
                    t && t.runWith(1);
                    i && i.run()
                } else if (i) {
                    st.loader._createListener(e, i.caller, i.method, i.args, true, false)
                }
            }
            return h
        }
        ;
        e.load = function(t, e, i, n, s, r, a, o) {
            var l = this;
            s === void 0 && (s = 1);
            r === void 0 && (r = true);
            o === void 0 && (o = false);
            if (t instanceof Array)
                return this._loadAssets(t, e, i, n, s, r, a);
            _.URLSS[t] = t;
            var h = fn.getRes(t);
            if (h != null) {
                st.timer.frameOnce(1, null, function() {
                    i && i.runWith(1);
                    e && e.runWith(h);
                    l._loaderCount || l.event("complete")
                })
            } else {
                var u = _._resMap[t];
                if (!u) {
                    u = this._infoPool.length ? this._infoPool.pop() : new f;
                    u.url = t;
                    u.type = n;
                    u.cache = r;
                    u.group = a;
                    u.ignoreCache = o;
                    e && u.on("complete", e.caller, e.method, e.args);
                    i && u.on("progress", i.caller, i.method, i.args);
                    _._resMap[t] = u;
                    s = s < this._maxPriority ? s : this._maxPriority - 1;
                    this._resInfos[s].push(u);
                    this._next()
                } else {
                    e && u._createListener("complete", e.caller, e.method, e.args, false, false);
                    i && u._createListener("progress", i.caller, i.method, i.args, false, false)
                }
            }
            return this
        }
        ;
        e._createLoad = function(t, e, i, n, s, r, a, o, l) {
            var h = this;
            r === void 0 && (r = 1);
            a === void 0 && (a = true);
            l === void 0 && (l = false);
            if (e instanceof Array)
                return this._loadAssets(e, i, n, s, r, a, o);
            var u = fn.getRes(e);
            if (u != null) {
                st.timer.frameOnce(1, null, function() {
                    n && n.runWith(1);
                    i && i.runWith(u);
                    h._loaderCount || h.event("complete")
                })
            } else {
                var c = _._resMap[e];
                if (!c) {
                    c = this._infoPool.length ? this._infoPool.pop() : new f;
                    c.url = e;
                    c.clas = t;
                    c.type = s;
                    c.cache = a;
                    c.group = o;
                    c.ignoreCache = l;
                    i && c.on("complete", i.caller, i.method, i.args);
                    n && c.on("progress", n.caller, n.method, n.args);
                    _._resMap[e] = c;
                    r = r < this._maxPriority ? r : this._maxPriority - 1;
                    this._resInfos[r].push(c);
                    this._next()
                } else {
                    i && c._createListener("complete", i.caller, i.method, i.args, false, false);
                    n && c._createListener("progress", n.caller, n.method, n.args, false, false)
                }
            }
            return this
        }
        ;
        e._next = function() {
            if (this._loaderCount >= this.maxLoader)
                return;
            for (var t = 0; t < this._maxPriority; t++) {
                var e = this._resInfos[t];
                while (e.length > 0) {
                    var i = e.shift();
                    if (i)
                        return this._doLoad(i)
                }
            }
            this._loaderCount || this.event("complete")
        }
        ;
        e._doLoad = function(e) {
            this._loaderCount++;
            var i = this._loaders.length ? this._loaders.pop() : new fn;
            i.on("complete", null, s);
            i.on("progress", null, function(t) {
                e.event("progress", t)
            });
            i.on("error", null, function(t) {
                s(null)
            });
            var n = this;
            function s(t) {
                i.offAll();
                i._data = null;
                i._customParse = false;
                n._loaders.push(i);
                n._endLoad(e, t instanceof Array ? [t] : t);
                n._loaderCount--;
                n._next()
            }
            i._class = e.clas;
            i.load(e.url, e.type, e.cache, e.group, e.ignoreCache)
        }
        ;
        e._endLoad = function(t, e) {
            var i = t.url;
            if (e == null) {
                var n = this._failRes[i] || 0;
                if (n < this.retryNum) {
                    console.warn("[warn]Retry to load:", i);
                    this._failRes[i] = n + 1;
                    st.timer.once(this.retryDelay, this, this._addReTry, [t], false);
                    return
                } else {
                    console.warn("[error]Failed to load:", i);
                    this.event("error", i)
                }
            }
            if (this._failRes[i])
                this._failRes[i] = 0;
            delete _._resMap[i];
            t.event("complete", e);
            t.offAll();
            this._infoPool.push(t)
        }
        ;
        e._addReTry = function(t) {
            this._resInfos[this._maxPriority - 1].push(t);
            this._next()
        }
        ;
        e.clearRes = function(t, e) {
            e === void 0 && (e = false);
            fn.clearRes(t, e)
        }
        ;
        e.getRes = function(t) {
            return fn.getRes(t)
        }
        ;
        e.cacheRes = function(t, e) {
            fn.cacheRes(t, e)
        }
        ;
        e.clearTextureRes = function(t) {
            fn.clearTextureRes(t)
        }
        ;
        e.setGroup = function(t, e) {
            fn.setGroup(t, e)
        }
        ;
        e.clearResByGroup = function(t) {
            fn.clearResByGroup(t)
        }
        ;
        e.clearUnLoaded = function() {
            for (var t = 0; t < this._maxPriority; t++) {
                var e = this._resInfos[t];
                for (var i = e.length - 1; i > -1; i--) {
                    var n = e[i];
                    if (n) {
                        n.offAll();
                        this._infoPool.push(n)
                    }
                }
                e.length = 0
            }
            this._loaderCount = 0;
            _._resMap = {}
        }
        ;
        e.cancelLoadByUrls = function(t) {
            if (!t)
                return;
            for (var e = 0, i = t.length; e < i; e++) {
                this.cancelLoadByUrl(t[e])
            }
        }
        ;
        e.cancelLoadByUrl = function(t) {
            for (var e = 0; e < this._maxPriority; e++) {
                var i = this._resInfos[e];
                for (var n = i.length - 1; n > -1; n--) {
                    var s = i[n];
                    if (s && s.url === t) {
                        i[n] = null;
                        s.offAll();
                        this._infoPool.push(s)
                    }
                }
            }
            if (_._resMap[t])
                delete _._resMap[t]
        }
        ;
        e._loadAssets = function(t, i, a, e, n, s, r) {
            n === void 0 && (n = 1);
            s === void 0 && (s = true);
            var o = t.length;
            var l = 0;
            var h = 0;
            var u = [];
            var c = true;
            for (var f = 0; f < o; f++) {
                var d = t[f];
                if (typeof d == "string")
                    d = {
                        url: d,
                        type: e,
                        size: 1,
                        priority: n
                    };
                if (!d.size)
                    d.size = 1;
                d.progress = 0;
                h += d.size;
                u.push(d);
                var _ = a ? b.create(null, g, [d], false) : null;
                var p = i || a ? b.create(null, m, [d]) : null;
                this.load(d.url, p, _, d.type, d.priority || 1, s, d.group || r)
            }
            function m(t, e) {
                l++;
                t.progress = 1;
                if (!e)
                    c = false;
                if (l === o && i) {
                    i.runWith(c)
                }
            }
            function g(t, e) {
                if (a != null) {
                    t.progress = e;
                    var i = 0;
                    for (var n = 0; n < u.length; n++) {
                        var s = u[n];
                        i += s.size * s.progress
                    }
                    var r = i / h;
                    a.runWith(r)
                }
            }
            return this
        }
        ;
        _.cacheRes = function(t, e) {
            fn.cacheRes(t, e)
        }
        ;
        _._resMap = {};
        _.URLSS = {};
        u(_, ["createMap", function() {
            return this.createMap = {
                atlas: [null, "atlas"]
            }
        }
        ]);
        _.__init$ = function() {
            f = function(t) {
                function e() {
                    this.url = null;
                    this.type = null;
                    this.cache = false;
                    this.group = null;
                    this.ignoreCache = false;
                    this.clas = null;
                    e.__super.call(this)
                }
                x(e, "", t);
                return e
            }(v)
        }
        ;
        return _
    }(v);
    var on = function(t) {
        function r() {
            r.__super.call(this)
        }
        x(r, "laya.debug.tools.Notice", t);
        r.notify = function(t, e) {
            r.I.event(t, e)
        }
        ;
        r.listen = function(t, e, i, n, s) {
            s === void 0 && (s = false);
            if (s)
                r.cancel(t, e, i);
            r.I.on(t, e, i, n)
        }
        ;
        r.cancel = function(t, e, i) {
            r.I.off(t, e, i)
        }
        ;
        u(r, ["I", function() {
            return this.I = new r
        }
        ]);
        return r
    }(v);
    var ln = function(t) {
        function a() {
            this.url = null;
            this.audio = null;
            this.loaded = false;
            a.__super.call(this)
        }
        x(a, "laya.media.h5audio.AudioSound", t);
        var e = a.prototype;
        e.dispose = function() {
            var t = a._audioCache[this.url];
            ei.clearBySign("audio:" + this.url);
            if (t) {
                if (!Be.isConchApp) {
                    t.src = ""
                }
                delete a._audioCache[this.url]
            }
        }
        ;
        e.load = function(t) {
            t = Ge.formatURL(t);
            this.url = t;
            var e;
            if (t == Re._tMusic) {
                a._initMusicAudio();
                e = a._musicAudio;
                if (e.src != t) {
                    a._audioCache[e.src] = null;
                    e = null
                }
            } else {
                e = a._audioCache[t]
            }
            if (e && e.readyState >= 2) {
                this.event("complete");
                return
            }
            if (!e) {
                if (t == Re._tMusic) {
                    a._initMusicAudio();
                    e = a._musicAudio
                } else {
                    e = He.createElement("audio")
                }
                a._audioCache[t] = e;
                e.src = t
            }
            e.addEventListener("canplaythrough", n);
            e.addEventListener("error", s);
            var i = this;
            function n() {
                r();
                i.loaded = true;
                i.event("complete")
            }
            function s() {
                e.load = null;
                r();
                i.event("error")
            }
            function r() {
                e.removeEventListener("canplaythrough", n);
                e.removeEventListener("error", s)
            }
            this.audio = e;
            if (e.load) {
                e.load()
            } else {
                s()
            }
        }
        ;
        e.play = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            if (!this.url)
                return null;
            var i;
            if (this.url == Re._tMusic) {
                i = a._musicAudio
            } else {
                i = a._audioCache[this.url]
            }
            if (!i)
                return null;
            var n;
            n = ei.getItem("audio:" + this.url);
            if (Be.isConchApp) {
                if (!n) {
                    n = He.createElement("audio");
                    n.src = this.url
                }
            } else {
                if (this.url == Re._tMusic) {
                    a._initMusicAudio();
                    n = a._musicAudio;
                    n.src = this.url
                } else {
                    n = n ? n : i.cloneNode(true)
                }
            }
            var s = new Jn(n);
            s.url = this.url;
            s.loops = e;
            s.startTime = t;
            s.play();
            Re.addChannel(s);
            return s
        }
        ;
        p(0, e, "duration", function() {
            var t;
            t = a._audioCache[this.url];
            if (!t)
                return 0;
            return t.duration
        });
        a._initMusicAudio = function() {
            if (a._musicAudio)
                return;
            if (!a._musicAudio)
                a._musicAudio = He.createElement("audio");
            if (!Be.isConchApp) {
                He.document.addEventListener("mousedown", a._makeMusicOK)
            }
        }
        ;
        a._makeMusicOK = function() {
            He.document.removeEventListener("mousedown", a._makeMusicOK);
            if (!a._musicAudio.src) {
                a._musicAudio.src = "";
                a._musicAudio.load()
            } else {
                a._musicAudio.play()
            }
        }
        ;
        a._audioCache = {};
        a._musicAudio = null;
        return a
    }(v);
    var hn = function(t) {
        function e() {
            this.url = null;
            this.loops = 0;
            this.startTime = NaN;
            this.isStopped = false;
            this.completeHandler = null;
            e.__super.call(this)
        }
        x(e, "laya.media.SoundChannel", t);
        var i = e.prototype;
        i.play = function() {}
        ;
        i.stop = function() {
            if (this.completeHandler)
                this.completeHandler.run()
        }
        ;
        i.pause = function() {}
        ;
        i.resume = function() {}
        ;
        i.__runComplete = function(t) {
            if (t) {
                t.run()
            }
        }
        ;
        p(0, i, "volume", function() {
            return 1
        }, function(t) {});
        p(0, i, "position", function() {
            return 0
        });
        p(0, i, "duration", function() {
            return 0
        });
        return e
    }(v);
    var un = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.media.Sound", t);
        var i = e.prototype;
        i.load = function(t) {}
        ;
        i.play = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            return null
        }
        ;
        i.dispose = function() {}
        ;
        p(0, i, "duration", function() {
            return 0
        });
        return e
    }(v);
    var cn = function(t) {
        function s() {
            this.url = null;
            this.loaded = false;
            this.data = null;
            this.audioBuffer = null;
            this.__toPlays = null;
            this._disposed = false;
            s.__super.call(this)
        }
        x(s, "laya.media.webaudio.WebAudioSound", t);
        var e = s.prototype;
        e.load = function(t) {
            var e = this;
            t = Ge.formatURL(t);
            this.url = t;
            this.audioBuffer = s._dataCache[t];
            if (this.audioBuffer) {
                this._loaded(this.audioBuffer);
                return
            }
            s.e.on("loaded:" + t, this, this._loaded);
            s.e.on("err:" + t, this, this._err);
            if (s.__loadingSound[t]) {
                return
            }
            s.__loadingSound[t] = true;
            var i = new He.window.XMLHttpRequest;
            i.open("GET", t, true);
            i.responseType = "arraybuffer";
            i.onload = function() {
                if (e._disposed) {
                    e._removeLoadEvents();
                    return
                }
                e.data = i.response;
                s.buffs.push({
                    buffer: e.data,
                    url: e.url
                });
                s.decode()
            }
            ;
            i.onerror = function(t) {
                e._err()
            }
            ;
            i.send()
        }
        ;
        e._err = function() {
            this._removeLoadEvents();
            s.__loadingSound[this.url] = false;
            this.event("error");
            if (!this.__toPlays)
                return;
            var t = 0
              , e = 0;
            var i;
            i = this.__toPlays;
            e = i.length;
            var n;
            for (t = 0; t < e; t++) {
                n = i[t];
                if (n[2] && !n[2].isStopped) {
                    n[2].event("error")
                }
            }
            this.__toPlays.length = 0
        }
        ;
        e._loaded = function(t) {
            this._removeLoadEvents();
            if (this._disposed) {
                return
            }
            this.audioBuffer = t;
            s._dataCache[this.url] = this.audioBuffer;
            this.loaded = true;
            this.event("complete")
        }
        ;
        e._removeLoadEvents = function() {
            s.e.off("loaded:" + this.url, this, this._loaded);
            s.e.off("err:" + this.url, this, this._err)
        }
        ;
        e.__playAfterLoaded = function() {
            if (!this.__toPlays)
                return;
            var t = 0
              , e = 0;
            var i;
            i = this.__toPlays;
            e = i.length;
            var n;
            for (t = 0; t < e; t++) {
                n = i[t];
                if (n[2] && !n[2].isStopped) {
                    this.play(n[0], n[1], n[2])
                }
            }
            this.__toPlays.length = 0
        }
        ;
        e.play = function(t, e, i) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            i = i ? i : new jn;
            if (!this.audioBuffer) {
                if (this.url) {
                    if (!this.__toPlays)
                        this.__toPlays = [];
                    this.__toPlays.push([t, e, i]);
                    this.once("complete", this, this.__playAfterLoaded);
                    this.load(this.url)
                }
            }
            i.url = this.url;
            i.loops = e;
            i["audioBuffer"] = this.audioBuffer;
            i.startTime = t;
            i.play();
            Re.addChannel(i);
            return i
        }
        ;
        e.dispose = function() {
            this._disposed = true;
            delete s._dataCache[this.url];
            delete s.__loadingSound[this.url];
            this.audioBuffer = null;
            this.data = null;
            this.__toPlays = []
        }
        ;
        p(0, e, "duration", function() {
            if (this.audioBuffer) {
                return this.audioBuffer.duration
            }
            return 0
        });
        s.decode = function() {
            if (s.buffs.length <= 0 || s.isDecoding) {
                return
            }
            s.isDecoding = true;
            s.tInfo = s.buffs.shift();
            s.ctx.decodeAudioData(s.tInfo["buffer"], s._done, s._fail)
        }
        ;
        s._done = function(t) {
            s.e.event("loaded:" + s.tInfo.url, t);
            s.isDecoding = false;
            s.decode()
        }
        ;
        s._fail = function() {
            s.e.event("err:" + s.tInfo.url, null);
            s.isDecoding = false;
            s.decode()
        }
        ;
        s._playEmptySound = function() {
            if (s.ctx == null) {
                return
            }
            var t = s.ctx.createBufferSource();
            t.buffer = s._miniBuffer;
            t.connect(s.ctx.destination);
            t.start(0, 0, 0)
        }
        ;
        s._unlock = function() {
            if (s._unlocked) {
                return
            }
            s._playEmptySound();
            if (s.ctx.state == "running") {
                He.document.removeEventListener("mousedown", s._unlock, true);
                He.document.removeEventListener("touchend", s._unlock, true);
                He.document.removeEventListener("touchstart", s._unlock, true);
                s._unlocked = true
            }
        }
        ;
        s.initWebAudio = function() {
            if (s.ctx.state != "running") {
                s._unlock();
                He.document.addEventListener("mousedown", s._unlock, true);
                He.document.addEventListener("touchend", s._unlock, true);
                He.document.addEventListener("touchstart", s._unlock, true)
            }
        }
        ;
        s._dataCache = {};
        s.buffs = [];
        s.isDecoding = false;
        s._unlocked = false;
        s.tInfo = null;
        s.__loadingSound = {};
        u(s, ["window", function() {
            return this.window = He.window
        }
        , "webAudioEnabled", function() {
            return this.webAudioEnabled = s.window["AudioContext"] || s.window["webkitAudioContext"] || s.window["mozAudioContext"]
        }
        , "ctx", function() {
            return this.ctx = s.webAudioEnabled ? new (s.window["AudioContext"] || s.window["webkitAudioContext"] || s.window["mozAudioContext"]) : undefined
        }
        , "_miniBuffer", function() {
            return this._miniBuffer = s.ctx.createBuffer(1, 1, 22050)
        }
        , "e", function() {
            return this.e = new v
        }
        ]);
        return s
    }(v);
    var fn = function(t) {
        function R() {
            this._data = null;
            this._class = null;
            this._url = null;
            this._type = null;
            this._cache = false;
            this._http = null;
            this._customParse = false;
            R.__super.call(this)
        }
        x(R, "laya.net.Loader", t);
        var e = R.prototype;
        e.load = function(t, e, i, n, s) {
            i === void 0 && (i = true);
            s === void 0 && (s = false);
            this._url = t;
            if (t.indexOf("data:image") === 0)
                this._type = e = "image";
            else {
                this._type = e || (e = this.getTypeFromUrl(t));
                t = Ge.formatURL(t)
            }
            this._cache = i;
            this._data = null;
            if (!s && R.loadedMap[t]) {
                this._data = R.loadedMap[t];
                this.event("progress", 1);
                this.event("complete", this._data);
                return
            }
            if (n)
                R.setGroup(t, n);
            if (R.parserMap[e] != null) {
                this._customParse = true;
                if (R.parserMap[e]instanceof laya.utils.Handler)
                    R.parserMap[e].runWith(this);
                else
                    R.parserMap[e].call(null, this);
                return
            }
            if (e === "image" || e === "htmlimage" || e === "nativeimage")
                return this._loadImage(t);
            if (e === "sound")
                return this._loadSound(t);
            if (e === "ttf")
                return this._loadTTF(t);
            var r;
            switch (e) {
            case "atlas":
            case "plf":
                r = "json";
                break;
            case "font":
                r = "xml";
                break;
            case "pkm":
                r = "arraybuffer";
                break;
            default:
                r = e
            }
            if (R.preLoadedMap[t]) {
                this.onLoaded(R.preLoadedMap[t])
            } else {
                if (He.onVVMiniGame || He.onHWMiniGame) {
                    this._http = new nn
                } else {
                    if (!this._http) {
                        this._http = new nn
                    }
                }
                this._http.on("progress", this, this.onProgress);
                this._http.on("error", this, this.onError);
                this._http.on("complete", this, this.onLoaded);
                this._http.send(t, null, "get", r)
            }
        }
        ;
        e.getTypeFromUrl = function(t) {
            var e = ai.getFileExtension(t);
            if (e)
                return R.typeMap[e];
            console.warn("Not recognize the resources suffix", t);
            return "text"
        }
        ;
        e._loadTTF = function(t) {
            t = Ge.formatURL(t);
            var e = new Ae;
            e.complete = b.create(this, this.onLoaded);
            e.load(t)
        }
        ;
        e._loadImage = function(e) {
            e = Ge.formatURL(e);
            var t = this;
            var i;
            function n() {
                i.onload = null;
                i.onerror = null;
                delete R.imgCache[e]
            }
            var s = function() {
                n();
                t.onLoaded(i)
            };
            var r = function() {
                n();
                t.event("error", "Load image failed")
            };
            if (this._type === "nativeimage") {
                i = new He.window.Image;
                i.crossOrigin = "";
                i.onload = s;
                i.onerror = r;
                i.src = e;
                R.imgCache[e] = i
            } else {
                new rr.create(e,{
                    onload: s,
                    onerror: r,
                    onCreate: function(t) {
                        i = t;
                        R.imgCache[e] = t
                    }
                })
            }
        }
        ;
        e._loadSound = function(t) {
            var e = new Re._soundClass;
            var i = this;
            e.on("complete", this, n);
            e.on("error", this, s);
            e.load(t);
            function n() {
                r();
                i.onLoaded(e)
            }
            function s() {
                r();
                e.dispose();
                i.event("error", "Load sound failed")
            }
            function r() {
                e.offAll()
            }
        }
        ;
        e.onProgress = function(t) {
            if (this._type === "atlas")
                this.event("progress", t * .3);
            else
                this.event("progress", t)
        }
        ;
        e.onError = function(t) {
            this.event("error", t)
        }
        ;
        e.onLoaded = function(t) {
            var e = this._type;
            if (e == "plf") {
                this.parsePLFData(t);
                this.complete(t)
            } else if (e === "image") {
                var i = new _n(t);
                i.url = this._url;
                this.complete(i)
            } else if (e === "sound" || e === "htmlimage" || e === "nativeimage") {
                this.complete(t)
            } else if (e === "atlas") {
                if (!t.src && !t._setContext) {
                    if (!this._data) {
                        this._data = t;
                        if (t.meta && t.meta.image) {
                            var n = t.meta.image.split(",");
                            var s = this._url.indexOf("/") >= 0 ? "/" : "\\";
                            var r = this._url.lastIndexOf(s);
                            var a = r >= 0 ? this._url.substr(0, r + 1) : "";
                            for (var o = 0, l = n.length; o < l; o++) {
                                n[o] = a + n[o]
                            }
                        } else {
                            n = [this._url.replace(".json", ".png")]
                        }
                        n.reverse();
                        t.toLoads = n;
                        t.pics = []
                    }
                    this.event("progress", .3 + 1 / n.length * .6);
                    return this._loadImage(n.pop())
                } else {
                    this._data.pics.push(t);
                    if (this._data.toLoads.length > 0) {
                        this.event("progress", .3 + 1 / this._data.toLoads.length * .6);
                        return this._loadImage(this._data.toLoads.pop())
                    }
                    var h = this._data.frames;
                    var u = this._url.split("?")[0];
                    var c = this._data.meta && this._data.meta.prefix ? this._data.meta.prefix : u.substring(0, u.lastIndexOf(".")) + "/";
                    var f = this._data.pics;
                    var d = Ge.formatURL(this._url);
                    var _ = R.atlasMap[d] || (R.atlasMap[d] = []);
                    _.dir = c;
                    var p = 1;
                    if (this._data.meta && this._data.meta.scale && this._data.meta.scale != 1) {
                        p = parseFloat(this._data.meta.scale);
                        for (var m in h) {
                            var g = h[m];
                            var v = f[g.frame.idx ? g.frame.idx : 0];
                            var b = Ge.formatURL(c + m);
                            v.scaleRate = p;
                            var y;
                            y = _n.create(v, g.frame.x, g.frame.y, g.frame.w, g.frame.h, g.spriteSourceSize.x, g.spriteSourceSize.y, g.sourceSize.w, g.sourceSize.h);
                            R.cacheRes(b, y);
                            y.url = b;
                            _.push(b)
                        }
                    } else {
                        for (m in h) {
                            g = h[m];
                            v = f[g.frame.idx ? g.frame.idx : 0];
                            b = Ge.formatURL(c + m);
                            R.cacheRes(b, _n.create(v, g.frame.x, g.frame.y, g.frame.w, g.frame.h, g.spriteSourceSize.x, g.spriteSourceSize.y, g.sourceSize.w, g.sourceSize.h));
                            R.loadedMap[b].url = b;
                            _.push(b)
                        }
                    }
                    delete this._data.pics;
                    this.complete(this._data)
                }
            } else if (e == "font") {
                if (!t.src) {
                    this._data = t;
                    this.event("progress", .5);
                    return this._loadImage(this._url.replace(".fnt", ".png"))
                } else {
                    var x = new ie;
                    x.parseFont(this._data, t);
                    var w = this._url.split(".fnt")[0].split("/");
                    var C = w[w.length - 1];
                    hs.registerBitmapFont(C, x);
                    this._data = x;
                    this.complete(this._data)
                }
            } else if (e == "pkm") {
                var S = rr.create(t, this._url);
                var T = new _n(S);
                T.url = this._url;
                this.complete(T)
            } else {
                this.complete(t)
            }
        }
        ;
        e.parsePLFData = function(t) {
            var e;
            var i;
            var n;
            for (e in t) {
                n = t[e];
                switch (e) {
                case "json":
                case "text":
                    for (i in n) {
                        R.preLoadedMap[Ge.formatURL(i)] = n[i]
                    }
                    break;
                default:
                    for (i in n) {
                        R.preLoadedMap[Ge.formatURL(i)] = n[i]
                    }
                }
            }
        }
        ;
        e.complete = function(t) {
            this._data = t;
            if (this._customParse) {
                this.event("loaded", t instanceof Array ? [t] : t)
            } else {
                R._loaders.push(this);
                if (!R._isWorking)
                    R.checkNext()
            }
        }
        ;
        e.endLoad = function(t) {
            t && (this._data = t);
            if (this._cache)
                R.cacheRes(this._url, this._data);
            this.event("progress", 1);
            this.event("complete", this.data instanceof Array ? [this.data] : this.data)
        }
        ;
        p(0, e, "url", function() {
            return this._url
        });
        p(0, e, "data", function() {
            return this._data
        });
        p(0, e, "cache", function() {
            return this._cache
        });
        p(0, e, "type", function() {
            return this._type
        });
        R.checkNext = function() {
            R._isWorking = true;
            var t = He.now();
            var e = t;
            while (R._startIndex < R._loaders.length) {
                e = He.now();
                R._loaders[R._startIndex].endLoad();
                R._startIndex++;
                if (He.now() - t > R.maxTimeOut) {
                    console.warn("loader callback cost a long time:" + (He.now() - t) + " url=" + R._loaders[R._startIndex - 1].url);
                    st.timer.frameOnce(1, null, R.checkNext);
                    return
                }
            }
            R._loaders.length = 0;
            R._startIndex = 0;
            R._isWorking = false
        }
        ;
        R.clearRes = function(t, e) {
            e === void 0 && (e = false);
            t = Ge.formatURL(t);
            var i = R.getAtlas(t);
            if (i) {
                for (var n = 0, s = i.length; n < s; n++) {
                    var r = i[n];
                    var a = R.getRes(r);
                    delete R.loadedMap[r];
                    if (a)
                        a.destroy(e)
                }
                i.length = 0;
                delete R.atlasMap[t];
                delete R.loadedMap[t]
            } else {
                var o = R.loadedMap[t];
                if (o) {
                    delete R.loadedMap[t];
                    if (o instanceof laya.resource.Texture && o.bitmap)
                        o.destroy(e)
                }
            }
        }
        ;
        R.clearTextureRes = function(t) {
            t = Ge.formatURL(t);
            var e = laya.net.Loader.getAtlas(t);
            var i = e && e.length > 0 ? laya.net.Loader.getRes(e[0]) : laya.net.Loader.getRes(t);
            if (i && i.bitmap) {
                if (Be.isConchApp && !Be.isConchWebGL) {
                    if (i.bitmap.source.releaseTexture) {
                        i.bitmap.source.releaseTexture()
                    }
                } else if (i.bitmap._atlaser == null) {
                    i.bitmap.releaseResource(true)
                }
            }
        }
        ;
        R.getRes = function(t) {
            var e = R.loadedMap[Ge.formatURL(t)];
            if (e != null)
                return e;
            return R.getPubImgAtlas(t)
        }
        ;
        R.getAtlas = function(t) {
            return R.atlasMap[Ge.formatURL(t)]
        }
        ;
        R.cacheRes = function(t, e) {
            t = Ge.formatURL(t);
            if (R.loadedMap[t] != null) {
                console.warn("Resources already exist,is repeated loading:", t)
            } else {
                R.loadedMap[t] = e
            }
        }
        ;
        R.setGroup = function(t, e) {
            if (!R.groupMap[e])
                R.groupMap[e] = [];
            R.groupMap[e].push(t)
        }
        ;
        R.clearResByGroup = function(t) {
            if (!R.groupMap[t])
                return;
            var e = R.groupMap[t]
              , i = 0
              , n = e.length;
            for (i = 0; i < n; i++) {
                R.clearRes(e[i])
            }
            e.length = 0
        }
        ;
        R.setPubImgAtlas = function(t, e) {
            R.imgPubAtlas = e;
            R.impPubCfgMap = t["frames"];
            R.impPubAtlasMap = new Object
        }
        ;
        R.getPubImgAtlas = function(t) {
            if (R.imgPubAtlas == null || R.impPubCfgMap == null || t == null)
                return null;
            if (t.indexOf("res/ui/image/other/tongyong/") < 0)
                return null;
            t = t.replace("res/ui/image/other/tongyong/", "");
            t = t.replace(/\//g, "_");
            var e = null;
            var i = R.impPubCfgMap[t];
            if (i == null)
                return e;
            e = R.impPubAtlasMap[t];
            if (e == null) {
                if (t.indexOf("mianbanbujian_repeat_") >= 0) {
                    e = _n.createFromTexture(R.imgPubAtlas, i.frame.x + 1, i.frame.y + 1, i.frame.w - 2, i.frame.h - 2)
                } else {
                    e = _n.createFromTexture(R.imgPubAtlas, i.frame.x, i.frame.y, i.frame.w, i.frame.h)
                }
                e.isLinearSampling = false;
                R.impPubAtlasMap[t] = e
            }
            return e
        }
        ;
        R.TEXT = "text";
        R.JSON = "json";
        R.XML = "xml";
        R.BUFFER = "arraybuffer";
        R.IMAGE = "image";
        R.SOUND = "sound";
        R.ATLAS = "atlas";
        R.FONT = "font";
        R.TTF = "ttf";
        R.PLF = "plf";
        R.PKM = "pkm";
        R.typeMap = {
            png: "image",
            jpg: "image",
            jpeg: "image",
            txt: "text",
            json: "json",
            xml: "xml",
            als: "atlas",
            atlas: "atlas",
            mp3: "sound",
            ogg: "sound",
            wav: "sound",
            part: "json",
            fnt: "font",
            pkm: "pkm",
            ttf: "ttf",
            plf: "plf",
            ani: "json",
            sk: "arraybuffer"
        };
        R.parserMap = {};
        R.groupMap = {};
        R.maxTimeOut = 100;
        R.loadedMap = {};
        R.preLoadedMap = {};
        R.atlasMap = {};
        R._loaders = [];
        R._isWorking = false;
        R._startIndex = 0;
        R.imgCache = {};
        R.imgPubAtlas = null;
        R.impPubAtlasMap = null;
        R.impPubCfgMap = null;
        R.PUB_IMG_URL = "res/ui/image/other/tongyong/";
        return R
    }(v);
    var dn = function(t) {
        function n(t, e, i) {
            this._endian = null;
            this._stamp = NaN;
            this._socket = null;
            this._connected = false;
            this._addInputPosition = 0;
            this._input = null;
            this._output = null;
            this.timeout = 0;
            this.objectEncoding = 0;
            this.disableInput = false;
            this._byteClass = null;
            this.protocols = [];
            e === void 0 && (e = 0);
            n.__super.call(this);
            this._byteClass = i ? i : Nt;
            this.endian = "bigEndian";
            this.timeout = 2e4;
            this._addInputPosition = 0;
            if (t && e > 0 && e < 65535)
                this.connect(t, e)
        }
        x(n, "laya.net.Socket", t);
        var e = n.prototype;
        e.connect = function(t, e) {
            var i = "ws://" + t + ":" + e;
            if (He.window.location.protocol == "https:") {
                i = "wss://" + t + ":" + e
            } else {
                i = "ws://" + t + ":" + e
            }
            this.connectByUrl(i)
        }
        ;
        e.connectByUrl = function(t) {
            var e = this;
            if (this._socket != null)
                this.close();
            this._socket && this.cleanSocket();
            if (!this.protocols || this.protocols.length == 0) {
                this._socket = new He.window.WebSocket(t)
            } else {
                this._socket = new He.window.WebSocket(t,this.protocols)
            }
            this._socket.binaryType = "arraybuffer";
            this._output = new this._byteClass;
            this._output.endian = this.endian;
            this._input = new this._byteClass;
            this._input.endian = this.endian;
            this._addInputPosition = 0;
            this._socket.onopen = function(t) {
                e._onOpen(t)
            }
            ;
            this._socket.onmessage = function(t) {
                e._onMessage(t)
            }
            ;
            this._socket.onclose = function(t) {
                e._onClose(t)
            }
            ;
            this._socket.onerror = function(t) {
                e._onError(t)
            }
        }
        ;
        e.cleanSocket = function() {
            try {
                this._socket.close()
            } catch (t) {}
            this._connected = false;
            this._socket.onopen = null;
            this._socket.onmessage = null;
            this._socket.onclose = null;
            this._socket.onerror = null;
            this._socket = null
        }
        ;
        e.close = function() {
            if (this._socket != null) {
                try {
                    this._socket.close()
                } catch (t) {}
            }
        }
        ;
        e._onOpen = function(t) {
            this._connected = true;
            this.event("open", t)
        }
        ;
        e._onMessage = function(t) {
            if (!t || !t.data)
                return;
            var e = t.data;
            if (this.disableInput && e) {
                this.event("message", e);
                return
            }
            if (this._input.length > 0 && this._input.bytesAvailable < 1) {
                this._input.clear();
                this._addInputPosition = 0
            }
            var i = this._input.pos;
            !this._addInputPosition && (this._addInputPosition = 0);
            this._input.pos = this._addInputPosition;
            if (e) {
                if (typeof e == "string") {
                    this._input.writeUTFBytes(e)
                } else {
                    this._input.writeArrayBuffer(e)
                }
                this._addInputPosition = this._input.pos;
                this._input.pos = i
            }
            this.event("message", e)
        }
        ;
        e._onClose = function(t) {
            this._connected = false;
            this.event("close", t)
        }
        ;
        e._onError = function(t) {
            this.event("error", t)
        }
        ;
        e.send = function(t) {
            this._socket.send(t)
        }
        ;
        e.flush = function() {
            if (this._output && this._output.length > 0) {
                var e;
                try {
                    this._socket && this._socket.send(this._output.__getBuffer().slice(0, this._output.length))
                } catch (t) {
                    e = t
                }
                this._output.endian = this.endian;
                this._output.clear();
                if (e)
                    this.event("error", e)
            }
        }
        ;
        p(0, e, "input", function() {
            return this._input
        });
        p(0, e, "output", function() {
            return this._output
        });
        p(0, e, "connected", function() {
            return this._connected
        });
        p(0, e, "endian", function() {
            return this._endian
        }, function(t) {
            this._endian = t;
            if (this._input != null)
                this._input.endian = t;
            if (this._output != null)
                this._output.endian = t
        });
        n.LITTLE_ENDIAN = "littleEndian";
        n.BIG_ENDIAN = "bigEndian";
        return n
    }(v);
    var _n = function(t) {
        function R(t, e) {
            this.offsetX = 0;
            this.offsetY = 0;
            this.sourceWidth = 0;
            this.sourceHeight = 0;
            this._w = 0;
            this._h = 0;
            this._uvID = 0;
            this._atlasID = -1;
            this.scaleRate = 1;
            R.__super.call(this);
            if (t && t._addReference != null) {
                t._addReference()
            }
            this.setTo(t, e)
        }
        x(R, "laya.resource.Texture", t);
        var e = R.prototype;
        e._setUrl = function(t) {
            this.url = t
        }
        ;
        e.setTo = function(t, e) {
            if (t instanceof a.HTMLElement) {
                var i = Ss.create("2D", t);
                this.bitmap = i
            } else {
                this.bitmap = t
            }
            this.uv = e || R.DEF_UV;
            if (t) {
                this._w = t.width;
                this._h = t.height;
                this.sourceWidth = this.sourceWidth || this._w;
                this.sourceHeight = this.sourceHeight || this._h;
                this._loaded = this._w > 0;
                var n = this;
                if (this._loaded) {
                    G.addToAtlas && G.addToAtlas(n)
                } else {
                    var s = t;
                    if (s instanceof laya.resource.HTMLImage && s.image)
                        s.image.addEventListener("load", function(t) {
                            G.addToAtlas && G.addToAtlas(n)
                        }, false)
                }
            }
        }
        ;
        e.active = function() {
            if (this.bitmap)
                this.bitmap.activeResource()
        }
        ;
        e.destroy = function(t) {
            t === void 0 && (t = false);
            if (this.bitmap && this.bitmap.referenceCount > 0) {
                var e = this.bitmap;
                if (t) {
                    if (Be.isConchApp && e.source && e.source.conchDestroy) {
                        this.bitmap.source.conchDestroy()
                    }
                    this.bitmap = null;
                    e.dispose();
                    e._clearReference()
                } else {
                    e._removeReference();
                    if (e.referenceCount == 0) {
                        if (Be.isConchApp && e.source && e.source.conchDestroy) {
                            this.bitmap.source.conchDestroy()
                        }
                        this.bitmap = null;
                        e.dispose()
                    }
                }
                if (this.url && this === st.loader.getRes(this.url))
                    st.loader.clearRes(this.url, t);
                this._loaded = false
            }
        }
        ;
        e.load = function(t) {
            var e = this;
            this._loaded = false;
            t = Ge.customFormat(t);
            var i = this.bitmap || (this.bitmap = rr.create(t));
            if (i)
                i._addReference();
            var n = this;
            i.onload = function() {
                i.onload = null;
                n._loaded = true;
                e.sourceWidth = e._w = i.width;
                e.sourceHeight = e._h = i.height;
                n.event("loaded", this);
                G.addToAtlas && G.addToAtlas(n)
            }
        }
        ;
        e.addTextureToAtlas = function(t) {
            G.addTextureToAtlas(this)
        }
        ;
        e.getPixels = function(t, e, i, n) {
            if (Be.isConchApp) {
                var s = this.bitmap;
                if (s.source && s.source.getImageData) {
                    var r = s.source.getImageData(t, e, i, n);
                    var a = new Uint8Array(r);
                    return Array.from(a)
                }
                return null
            } else if (Be.isWebGL) {
                return G.getTexturePixels(this, t, e, i, n)
            } else {
                He.canvas.size(i, n);
                He.canvas.clear();
                He.context.drawTexture(this, -t, -e, this.width, this.height, 0, 0);
                var o = He.context.getImageData(0, 0, i, n)
            }
            return o.data
        }
        ;
        e.onAsynLoaded = function(t, e) {
            if (e)
                e._addReference();
            this.setTo(e, this.uv)
        }
        ;
        p(0, e, "source", function() {
            if (!this.bitmap)
                return null;
            this.bitmap.activeResource();
            return this.bitmap.source
        });
        p(0, e, "loaded", function() {
            return this._loaded
        });
        p(0, e, "released", function() {
            if (!this.bitmap)
                return true;
            return this.bitmap.released
        });
        p(0, e, "width", function() {
            if (this._w)
                return this._w;
            return this.uv && this.uv !== R.DEF_UV ? (this.uv[2] - this.uv[0]) * this.bitmap.width : this.bitmap.width
        }, function(t) {
            this._w = t;
            this.sourceWidth || (this.sourceWidth = t)
        });
        p(0, e, "repeat", function() {
            if (Be.isWebGL && this.bitmap) {
                return this.bitmap.repeat
            }
            return true
        }, function(t) {
            if (t) {
                if (Be.isWebGL && this.bitmap) {
                    this.bitmap.repeat = t;
                    if (t) {
                        this.bitmap.enableMerageInAtlas = false
                    }
                }
            }
        });
        p(0, e, "height", function() {
            if (this._h)
                return this._h;
            return this.uv && this.uv !== R.DEF_UV ? (this.uv[5] - this.uv[1]) * this.bitmap.height : this.bitmap.height
        }, function(t) {
            this._h = t;
            this.sourceHeight || (this.sourceHeight = t)
        });
        p(0, e, "isLinearSampling", function() {
            return Be.isWebGL ? this.bitmap.minFifter != 9728 : true
        }, function(t) {
            if (!t && Be.isWebGL) {
                if (!t && this.bitmap.minFifter == -1 && this.bitmap.magFifter == -1) {
                    this.bitmap.minFifter = 9728;
                    this.bitmap.magFifter = 9728;
                    this.bitmap.enableMerageInAtlas = false
                }
            }
        });
        R.moveUV = function(t, e, i) {
            for (var n = 0; n < 8; n += 2) {
                i[n] += t;
                i[n + 1] += e
            }
            return i
        }
        ;
        R.create = function(t, e, i, n, s, r, a, o, l) {
            r === void 0 && (r = 0);
            a === void 0 && (a = 0);
            o === void 0 && (o = 0);
            l === void 0 && (l = 0);
            var h = t instanceof laya.resource.Texture;
            var u = h ? t.uv : R.DEF_UV;
            var c = h ? t.bitmap : t;
            var f = G.isAtlas(c);
            if (f) {
                var d = c._atlaser;
                var _ = t._atlasID;
                if (_ == -1) {
                    throw new Error("create texture error")
                }
                c = d._inAtlasTextureBitmapValue[_];
                u = d._inAtlasTextureOriUVValue[_]
            }
            var p = new R(c,null);
            if (c.width && e + n > c.width)
                n = c.width - e;
            if (c.height && i + s > c.height)
                s = c.height - i;
            p.width = n;
            p.height = s;
            p.offsetX = r;
            p.offsetY = a;
            p.sourceWidth = o || n;
            p.sourceHeight = l || s;
            var m = 1 / c.width;
            var g = 1 / c.height;
            e *= m;
            i *= g;
            n *= m;
            s *= g;
            var v = p.uv[0]
              , b = p.uv[1]
              , y = p.uv[4]
              , x = p.uv[5];
            var w = y - v
              , C = x - b;
            var S = R.moveUV(u[0], u[1], [e, i, e + n, i, e + n, i + s, e, i + s]);
            p.uv = [v + S[0] * w, b + S[1] * C, y - (1 - S[2]) * w, b + S[3] * C, y - (1 - S[4]) * w, x - (1 - S[5]) * C, v + S[6] * w, x - (1 - S[7]) * C];
            if (f) {
                p.addTextureToAtlas()
            }
            var T = c.scaleRate;
            if (T && T != 1) {
                p.sourceWidth /= T;
                p.sourceHeight /= T;
                p.width /= T;
                p.height /= T;
                p.scaleRate = T;
                p.offsetX /= T;
                p.offsetY /= T
            } else {
                p.scaleRate = 1
            }
            return p
        }
        ;
        R.createFromTexture = function(t, e, i, n, s) {
            var r = t.scaleRate;
            if (r != 1) {
                e *= r;
                i *= r;
                n *= r;
                s *= r
            }
            var a = Te.TEMP.setTo(e - t.offsetX, i - t.offsetY, n, s);
            var o = a.intersection(R._rect1.setTo(0, 0, t.width, t.height), R._rect2);
            if (o)
                var l = R.create(t, o.x, o.y, o.width, o.height, o.x - a.x, o.y - a.y, n, s);
            else
                return null;
            l.bitmap._removeReference();
            return l
        }
        ;
        R.DEF_UV = [0, 0, 1, 0, 1, 1, 0, 1];
        R.INV_UV = [0, 1, 1, 1, 1, 0, 0, 0];
        R._rect1 = new Te;
        R._rect2 = new Te;
        return R
    }(v);
    var pn = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.UIEvent", t);
        e.SHOW_TIP = "showtip";
        e.HIDE_TIP = "hidetip";
        return e
    }(y);
    var mn = function(t) {
        function n(t, e) {
            this.size = [0, 0];
            this.alpha = 1;
            this.ALPHA = 1;
            this.subID = 0;
            this._cacheID = 0;
            n.__super.call(this);
            this.defines = new Vn;
            this.position = n._POSITION;
            this.mainID = t;
            this.subID = e;
            this.textureHost = null;
            this.texture = null;
            this.fillStyle = null;
            this.color = null;
            this.strokeStyle = null;
            this.colorAdd = null;
            this.glTexture = null;
            this.u_mmat2 = null;
            this._cacheID = t | e;
            this._inClassCache = n._cache[this._cacheID];
            if (t > 0 && !this._inClassCache) {
                this._inClassCache = n._cache[this._cacheID] = [];
                this._inClassCache._length = 0
            }
            this.clear()
        }
        x(n, "laya.webgl.shader.d2.value.Value2D", t);
        var e = n.prototype;
        e.setValue = function(t) {}
        ;
        e.refresh = function() {
            var t = this.size;
            t[0] = Oi.width;
            t[1] = Oi.height;
            this.alpha = this.ALPHA * Oi.worldAlpha;
            this.mmat = Oi.worldMatrix4;
            return this
        }
        ;
        e._ShaderWithCompile = function() {
            return ws.withCompile2D(0, this.mainID, this.defines.toNameDic(), this.mainID | this.defines._value, sr.create)
        }
        ;
        e._withWorldShaderDefines = function() {
            var t = Oi.worldShaderDefines;
            var e = ws.sharders[this.mainID | this.defines._value | t.getValue()];
            if (!e) {
                var i = {};
                var n;
                var s;
                n = this.defines.toNameDic();
                for (s in n)
                    i[s] = "";
                n = t.toNameDic();
                for (s in n)
                    i[s] = "";
                e = ws.withCompile2D(0, this.mainID, i, this.mainID | this.defines._value | t.getValue(), sr.create)
            }
            var r = Oi.worldFilters;
            if (!r)
                return e;
            var a = r.length, o;
            for (var l = 0; l < a; l++) {
                (o = r[l]) && o.action.setValue(this)
            }
            return e
        }
        ;
        e.upload = function() {
            var t = Oi;
            this.alpha = this.ALPHA * t.worldAlpha;
            if (Oi.worldMatrix4 !== Oi.TEMPMAT4_ARRAY)
                this.defines.add(128);
            Hi.shaderHighPrecision && this.defines.add(1024);
            var e = t.worldShaderDefines ? this._withWorldShaderDefines() : ws.sharders[this.mainID | this.defines._value] || this._ShaderWithCompile();
            var i;
            this.size[0] = t.width,
            this.size[1] = t.height;
            this.mmat = t.worldMatrix4;
            if (On.activeShader !== e) {
                if (e._shaderValueWidth !== t.width || e._shaderValueHeight !== t.height) {
                    e._shaderValueWidth = t.width;
                    e._shaderValueHeight = t.height
                } else {
                    i = e._params2dQuick2 || e._make2dQuick2()
                }
                e.upload(this, i)
            } else {
                if (e._shaderValueWidth !== t.width || e._shaderValueHeight !== t.height) {
                    e._shaderValueWidth = t.width;
                    e._shaderValueHeight = t.height
                } else {
                    i = e._params2dQuick1 || e._make2dQuick1()
                }
                e.upload(this, i)
            }
        }
        ;
        e.setFilters = function(t) {
            this.filters = t;
            if (!t)
                return;
            var e = t.length, i;
            for (var n = 0; n < e; n++) {
                i = t[n];
                if (i) {
                    this.defines.add(i.type);
                    i.action.setValue(this)
                }
            }
        }
        ;
        e.clear = function() {
            this.defines.setValue(this.subID)
        }
        ;
        e.release = function() {
            this._inClassCache[this._inClassCache._length++] = this;
            this.fillStyle = null;
            this.strokeStyle = null;
            this.clear()
        }
        ;
        n._initone = function(t, e) {
            n._typeClass[t] = e;
            n._cache[t] = [];
            n._cache[t]._length = 0
        }
        ;
        n.__init__ = function() {
            n._POSITION = [2, 5126, false, 4 * Fi.BYTES_PE, 0];
            n._TEXCOORD = [2, 5126, false, 4 * Fi.BYTES_PE, 2 * Fi.BYTES_PE];
            n._initone(2, $n);
            n._initone(4, is);
            n._initone(256, ts);
            n._initone(512, qn);
            n._initone(1, es);
            n._initone(1 | 64, Ws);
            n._initone(1 | 8, es)
        }
        ;
        n.create = function(t, e) {
            var i = n._cache[t | e];
            if (i._length)
                return i[--i._length];
            else
                return new n._typeClass[t | e](e)
        }
        ;
        n._POSITION = null;
        n._TEXCOORD = null;
        n._cache = [];
        n._typeClass = [];
        n.TEMPMAT4_ARRAY = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
        return n
    }(C);
    var gn = function(e) {
        function _() {
            this.autoCacheCmd = true;
            this._width = 0;
            this._height = 0;
            this._source = null;
            this._sizeGrid = null;
            this._isChanged = false;
            this._offset = null;
            _.__super.call(this)
        }
        x(_, "laya.ui.AutoBitmap", e);
        var t = _.prototype;
        t.destroy = function() {
            e.prototype.destroy.call(this);
            this._source = null;
            this._sizeGrid = null;
            this._offset = null
        }
        ;
        t._setChanged = function() {
            if (!this._isChanged) {
                this._isChanged = true;
                st.timer.callLater(this, this.changeSource)
            }
        }
        ;
        t.changeSource = function() {
            this._isChanged = false;
            var t = this._source;
            if (!t || !t.bitmap)
                return;
            var e = this.width;
            var i = this.height;
            var n = this._sizeGrid;
            var s = t.sourceWidth;
            var r = t.sourceHeight;
            if (!n || s === e && r === i) {
                this.clear();
                this.drawTexture(t, this._offset ? this._offset[0] : 0, this._offset ? this._offset[1] : 0, e, i)
            } else {
                t.$_GID || (t.$_GID = ai.getGID());
                var a = t.$_GID + "." + e + "." + i + "." + n.join(".");
                if (ai.isOKCmdList(li.I.get(a))) {
                    this.cmds = li.I.get(a);
                    return
                }
                this.clear();
                var o = n[0];
                var l = n[1];
                var h = n[2];
                var u = n[3];
                var c = n[4];
                var f = false;
                if (e == s) {
                    u = l = 0
                }
                if (i == r) {
                    o = h = 0
                }
                if (u + l > e) {
                    var d = e;
                    f = true;
                    e = u + l;
                    this.save();
                    this.clipRect(0, 0, d, i)
                }
                u && o && this.drawTexture(_.getTexture(t, 0, 0, u, o), 0, 0, u, o);
                l && o && this.drawTexture(_.getTexture(t, s - l, 0, l, o), e - l, 0, l, o);
                u && h && this.drawTexture(_.getTexture(t, 0, r - h, u, h), 0, i - h, u, h);
                l && h && this.drawTexture(_.getTexture(t, s - l, r - h, l, h), e - l, i - h, l, h);
                o && this.drawBitmap(c, _.getTexture(t, u, 0, s - u - l, o), u, 0, e - u - l, o);
                h && this.drawBitmap(c, _.getTexture(t, u, r - h, s - u - l, h), u, i - h, e - u - l, h);
                u && this.drawBitmap(c, _.getTexture(t, 0, o, u, r - o - h), 0, o, u, i - o - h);
                l && this.drawBitmap(c, _.getTexture(t, s - l, o, l, r - o - h), e - l, o, l, i - o - h);
                this.drawBitmap(c, _.getTexture(t, u, o, s - u - l, r - o - h), u, o, e - u - l, i - o - h);
                if (f)
                    this.restore();
                if (this.autoCacheCmd && !Be.isConchApp)
                    li.I.set(a, this.cmds);
                t.bitmap.lock = true
            }
            this._repaint()
        }
        ;
        t.drawBitmap = function(t, e, i, n, s, r) {
            s === void 0 && (s = 0);
            r === void 0 && (r = 0);
            if (s < .1 || r < .1)
                return;
            if (t && (e.width != s || e.height != r))
                this.fillTexture(e, i, n, s, r);
            else
                this.drawTexture(e, i, n, s, r)
        }
        ;
        t.clear = function(t) {
            t === void 0 && (t = true);
            e.prototype.clear.call(this, false)
        }
        ;
        p(0, t, "sizeGrid", function() {
            return this._sizeGrid
        }, function(t) {
            this._sizeGrid = t;
            this._setChanged()
        });
        p(0, t, "width", function() {
            if (this._width)
                return this._width;
            if (this._source)
                return this._source.sourceWidth;
            return 0
        }, function(t) {
            if (this._width != t) {
                this._width = t;
                this._setChanged()
            }
        });
        p(0, t, "height", function() {
            if (this._height)
                return this._height;
            if (this._source)
                return this._source.sourceHeight;
            return 0
        }, function(t) {
            if (this._height != t) {
                this._height = t;
                this._setChanged()
            }
        });
        p(0, t, "source", function() {
            return this._source
        }, function(t) {
            if (t) {
                this._source = t;
                this._setChanged()
            } else {
                this._source = null;
                this.clear()
            }
        });
        _.getTexture = function(t, e, i, n, s) {
            if (n <= 0)
                n = 1;
            if (s <= 0)
                s = 1;
            t.$_GID || (t.$_GID = ai.getGID());
            var r = t.$_GID + "." + e + "." + i + "." + n + "." + s;
            var a = li.I.get(r);
            if (!a || !a.source) {
                a = _n.createFromTexture(t, e, i, n, s);
                if (a != null)
                    a.isLinearSampling = false;
                li.I.set(r, a)
            }
            return a
        }
        ;
        return _
    }(S);
    var vn = function(e) {
        function n(t) {
            n.__super.call(this, t);
            this.endian = "bigEndian"
        }
        x(n, "layabyte.ByteArray", e);
        var t = n.prototype;
        t.uncompress = function(t) {
            t === void 0 && (t = "zlib");
            var e = new Zlib.Inflate(this._u8d_);
            this._u8d_ = e.decompress();
            this._d_ = new DataView(this._u8d_.buffer);
            this._length = this._u8d_.byteLength
        }
        ;
        t.compress = function(t) {
            t === void 0 && (t = "zlib");
            var e = new Zlib.Deflate(this._byteView_);
            this._byteView_ = e.compress();
            this._data_ = new DataView(this._byteView_.buffer)
        }
        ;
        t.GetByteArray = function(t, e) {
            var i = new n(e);
            i.writeArrayBuffer(this.getUint8Array(this.pos + t, e));
            i.pos = 0;
            return i
        }
        ;
        t.readUTF = function(t) {
            var e = ""
              , i = this._pos_ + t
              , n = 0
              , s = 0
              , r = 0;
            var a = this._u8d_
              , o = 0;
            var l = [];
            var h = null;
            var u = 0;
            while (this._pos_ < i) {
                n = a[this._pos_++];
                if (n < 128) {
                    if (n != 0) {
                        l[u++] = n
                    }
                } else if (n < 224) {
                    l[u++] = (n & 63) << 6 | a[this._pos_++] & 127
                } else if (n < 240) {
                    s = a[this._pos_++];
                    l[u++] = (n & 31) << 12 | (s & 127) << 6 | a[this._pos_++] & 127
                } else {
                    s = a[this._pos_++];
                    r = a[this._pos_++];
                    l[u++] = (n & 15) << 18 | (s & 127) << 12 | r << 6 & 127 | a[this._pos_++] & 127
                }
                o++;
                if (u > 1e4) {
                    if (h == null)
                        h = [];
                    h.push(l);
                    l = [];
                    u = 0
                }
            }
            if (h != null) {
                if (l.length > 0)
                    h.push(l);
                var c = "";
                for (var f = 0; f < h.length; ++f)
                    c += String.fromCharCode.apply(String, h[f]);
                return c
            } else {
                return String.fromCharCode.apply(String, l)
            }
        }
        ;
        t.readUTFBytes = function(t) {
            t === void 0 && (t = -1);
            if (t == 0)
                return "";
            var e = this.bytesAvailable;
            if (t > e)
                throw "readUTFBytes error - Out of bounds";
            t = t > 0 ? t : e;
            return this.readUTF(t)
        }
        ;
        t.readUTFBytesOld = function(t) {
            t === void 0 && (t = -1);
            return e.prototype.readUTFBytes.call(this, t)
        }
        ;
        t.readDouble = function() {
            return this.getFloat64()
        }
        ;
        t.readFloat = function() {
            return this.getFloat32()
        }
        ;
        t.readBytes = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            if (e < 0 || i < 0) {
                throw "Read error - Out of bounds"
            }
            if (i == 0)
                i = this.length - this.pos;
            t.writeArrayBuffer(this.getUint8Array(this.pos + e, i))
        }
        ;
        t.readInt = function() {
            return this.getInt32()
        }
        ;
        t.readShort = function() {
            return this.getInt16()
        }
        ;
        t.readUnsignedByte = function() {
            return this.getUint8()
        }
        ;
        t.readUnsignedInt = function() {
            return this.getUint32()
        }
        ;
        t.readUnsignedShort = function() {
            return this.getUint16()
        }
        ;
        t.writeFloat = function(t) {
            this.writeFloat32(t)
        }
        ;
        t.writeInt = function(t) {
            this.writeInt32(t)
        }
        ;
        t.writeShort = function(t) {
            this.writeInt16(t)
        }
        ;
        t.writeBytes = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            t.pos = 0;
            this.writeArrayBuffer(t.getUint8Array(t.pos, t.length), e, i)
        }
        ;
        t.writeMultiByte = function(t, e) {
            t = t + "";
            if (e == "UNICODE" || e == "unicode") {
                throw "not support unicode"
            }
            this.writeUTFBytes(t)
        }
        ;
        p(0, t, "buffer", function() {
            return this._d_.buffer
        });
        return n
    }(Nt);
    var bn = function(t) {
        function e() {
            e.__super.call(this);
            if (Be.isConchNode) {
                this["drawSkin"] = function(t) {
                    t.transform || (t.transform = Ce.EMPTY);
                    this._addCmd([t]);
                    this.setSkinMesh && this.setSkinMesh(t._ps, t.mVBData, t.mEleNum, 0, t.mTexture, t.transform)
                }
            }
        }
        x(e, "laya.ani.GraphicsAni", t);
        var i = e.prototype;
        i.drawSkin = function(t) {
            var e = [t];
            this._saveToCmd(Be._context._drawSkin, e)
        }
        ;
        e.create = function() {
            var t = e._caches.pop();
            return t || new e
        }
        ;
        e.recycle = function(t) {
            t.clear();
            e._caches.push(t)
        }
        ;
        e._caches = [];
        return e
    }(S);
    var yn = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.webgl.display.GraphicsGL", t);
        var i = e.prototype;
        i.setShader = function(t) {
            this._saveToCmd(Be.context._setShader, [t])
        }
        ;
        i.setIBVB = function(t, e, i, n, s, r) {
            this._saveToCmd(Be.context._setIBVB, [t, e, i, n, s, r])
        }
        ;
        i.drawParticle = function(t, e, i) {
            var n = G.createParticleTemplate2D(i);
            n.x = t;
            n.y = e;
            this._saveToCmd(Be.context._drawParticle, [n])
        }
        ;
        return e
    }(S);
    var xn = function(t) {
        function n() {
            n.__super.call(this);
            this.mesh = new V
        }
        x(n, "laya.ani.bone.canvasmesh.SkinMeshCanvas", t);
        var e = n.prototype;
        e.init2 = function(t, e, i, n, s) {
            if (this.transform) {
                this.transform = null
            }
            var r;
            if (i) {
                r = i
            } else {
                r = [];
                r.push(0, 1, 3, 3, 1, 2)
            }
            this.mesh.texture = t;
            this.mesh.indexes = r;
            this.mesh.vertices = n;
            this.mesh.uvs = s
        }
        ;
        e.render = function(t, e, i) {
            if (!this.mesh.texture)
                return;
            if (!this.transform) {
                this.transform = n._tempMatrix;
                this.transform.identity();
                this.transform.translate(e, i);
                this.renderToContext(t);
                this.transform.translate(-e, -i);
                this.transform = null
            } else {
                this.transform.translate(e, i);
                this.renderToContext(t);
                this.transform.translate(-e, -i)
            }
        }
        ;
        u(n, ["_tempMatrix", function() {
            return this._tempMatrix = new Ce
        }
        ]);
        return n
    }(N);
    var wn = function(t) {
        function f(t) {
            this._bgground = null;
            this._border = null;
            this._rect = null;
            this.underLine = 0;
            this.lineHeight = 0;
            f.__super.call(this);
            this._padding = f._PADDING;
            this._spacing = f._SPACING;
            this._aligns = f._ALIGNS;
            this._font = se.EMPTY;
            this._ower = t
        }
        x(f, "laya.display.css.CSSStyle", t);
        var e = f.prototype;
        e.destroy = function() {
            this._ower = null;
            this._font = null;
            this._rect = null
        }
        ;
        e.inherit = function(t) {
            this._font = t._font;
            this._spacing = t._spacing === f._SPACING ? f._SPACING : t._spacing.slice();
            this.lineHeight = t.lineHeight
        }
        ;
        e._widthAuto = function() {
            return (this._type & 262144) !== 0
        }
        ;
        e.widthed = function(t) {
            return (this._type & 8) != 0
        }
        ;
        e._calculation = function(t, e) {
            if (e.indexOf("%") < 0)
                return false;
            var n = this._ower;
            var s = n.parent;
            var r = this._rect;
            function a(t, e, i) {
                return t * i[0] + e * i[1] + i[2]
            }
            function i(t) {
                var e = s.width
                  , i = n.width;
                r.width && (n.width = a(e, i, r.width));
                r.height && (n.height = a(e, i, r.height));
                r.left && (n.x = a(e, i, r.left));
                r.top && (n.y = a(e, i, r.top))
            }
            if (r === null) {
                s._getCSSStyle()._type |= 524288;
                s.on("resize", this, i);
                this._rect = r = {
                    input: {}
                }
            }
            var o = e.split(" ");
            o[0] = parseFloat(o[0]) / 100;
            if (o.length == 1)
                o[1] = o[2] = 0;
            else {
                o[1] = parseFloat(o[1]) / 100;
                o[2] = parseFloat(o[2])
            }
            r[t] = o;
            r.input[t] = e;
            i(t);
            return true
        }
        ;
        e.heighted = function(t) {
            return (this._type & 8192) != 0
        }
        ;
        e.size = function(t, e) {
            var i = this._ower;
            var n = false;
            if (t !== -1 && t != this._ower.width) {
                this._type |= 8;
                this._ower.width = t;
                n = true
            }
            if (e !== -1 && e != this._ower.height) {
                this._type |= 8192;
                this._ower.height = e;
                n = true
            }
            if (n) {
                i._layoutLater();
                this._type & 524288 && i.event("resize", this)
            }
        }
        ;
        e._getAlign = function() {
            return this._aligns[0]
        }
        ;
        e._getValign = function() {
            return this._aligns[1]
        }
        ;
        e._getCssFloat = function() {
            return (this._type & 32768) != 0 ? 32768 : 0
        }
        ;
        e._createFont = function() {
            return this._type & 4096 ? this._font : (this._type |= 4096,
            this._font = new se(this._font))
        }
        ;
        e.render = function(t, e, i, n) {
            var s = t.width;
            var r = t.height;
            i -= t.pivotX;
            n -= t.pivotY;
            this._bgground && this._bgground.color != null && e.ctx.fillRect(i, n, s, r, this._bgground.color);
            this._border && this._border.color && e.drawRect(i, n, s, r, this._border.color.strColor, this._border.size)
        }
        ;
        e.getCSSStyle = function() {
            return this
        }
        ;
        e.cssText = function(t) {
            this.attrs(f.parseOneCSS(t, ";"))
        }
        ;
        e.attrs = function(t) {
            if (t) {
                for (var e = 0, i = t.length; e < i; e++) {
                    var n = t[e];
                    this[n[0]] = n[1]
                }
            }
        }
        ;
        e.setTransform = function(t) {
            t === "none" ? this._tf = ne._TF_EMPTY : this.attrs(f.parseOneCSS(t, ","))
        }
        ;
        e.translate = function(t, e) {
            this._tf === ne._TF_EMPTY && (this._tf = new re);
            this._tf.translateX = t;
            this._tf.translateY = e
        }
        ;
        e.scale = function(t, e) {
            this._tf === ne._TF_EMPTY && (this._tf = new re);
            this._tf.scaleX = t;
            this._tf.scaleY = e
        }
        ;
        e._enableLayout = function() {
            return (this._type & 2) === 0 && (this._type & 4) === 0
        }
        ;
        p(0, e, "block", t.prototype._$get_block, function(t) {
            t ? this._type |= 1 : this._type &= ~1
        });
        p(0, e, "valign", function() {
            return f._valigndef[this._aligns[1]]
        }, function(t) {
            this._aligns === f._ALIGNS && (this._aligns = [0, 0, 0]);
            this._aligns[1] = f._valigndef[t]
        });
        p(0, e, "height", null, function(t) {
            this._type |= 8192;
            if (typeof t == "string") {
                if (this._calculation("height", t))
                    return;
                t = parseInt(t)
            }
            this.size(-1, t)
        });
        p(0, e, "width", null, function(t) {
            this._type |= 8;
            if (typeof t == "string") {
                var e = t.indexOf("auto");
                if (e >= 0) {
                    this._type |= 262144;
                    t = t.substr(0, e)
                }
                if (this._calculation("width", t))
                    return;
                t = parseInt(t)
            }
            this.size(t, -1)
        });
        p(0, e, "fontWeight", function() {
            return this._font.weight
        }, function(t) {
            this._createFont().weight = t
        });
        p(0, e, "left", null, function(t) {
            var e = this._ower;
            if (typeof t == "string") {
                if (t === "center")
                    t = "50% -50% 0";
                else if (t === "right")
                    t = "100% -100% 0";
                if (this._calculation("left", t))
                    return;
                t = parseInt(t)
            }
            e.x = t
        });
        p(0, e, "_translate", null, function(t) {
            this.translate(t[0], t[1])
        });
        p(0, e, "absolute", function() {
            return (this._type & 4) !== 0
        });
        p(0, e, "top", null, function(t) {
            var e = this._ower;
            if (typeof t == "string") {
                if (t === "middle")
                    t = "50% -50% 0";
                else if (t === "bottom")
                    t = "100% -100% 0";
                if (this._calculation("top", t))
                    return;
                t = parseInt(t)
            }
            e.y = t
        });
        p(0, e, "align", function() {
            return f._aligndef[this._aligns[0]]
        }, function(t) {
            this._aligns === f._ALIGNS && (this._aligns = [0, 0, 0]);
            this._aligns[0] = f._aligndef[t]
        });
        p(0, e, "bold", function() {
            return this._font.bold
        }, function(t) {
            this._createFont().bold = t
        });
        p(0, e, "padding", function() {
            return this._padding
        }, function(t) {
            this._padding = t
        });
        p(0, e, "leading", function() {
            return this._spacing[1]
        }, function(t) {
            typeof t == "string" && (t = parseInt(t + ""));
            this._spacing === f._SPACING && (this._spacing = [0, 0]);
            this._spacing[1] = t
        });
        p(0, e, "lineElement", function() {
            return (this._type & 65536) != 0
        }, function(t) {
            t ? this._type |= 65536 : this._type &= ~65536
        });
        p(0, e, "cssFloat", function() {
            return (this._type & 32768) != 0 ? "right" : "left"
        }, function(t) {
            this.lineElement = false;
            t === "right" ? this._type |= 32768 : this._type &= ~32768
        });
        p(0, e, "textDecoration", function() {
            return this._font.decoration
        }, function(t) {
            this._createFont().decoration = t
        });
        p(0, e, "whiteSpace", function() {
            return this._type & 131072 ? "nowrap" : ""
        }, function(t) {
            t === "nowrap" && (this._type |= 131072);
            t === "none" && (this._type &= ~131072)
        });
        p(0, e, "background", null, function(t) {
            if (!t) {
                this._bgground = null;
                return
            }
            this._bgground || (this._bgground = {});
            this._bgground.color = t;
            this._ower.conchModel && this._ower.conchModel.bgColor(t);
            this._type |= 16384;
            this._ower._renderType |= 256
        });
        p(0, e, "wordWrap", function() {
            return (this._type & 131072) === 0
        }, function(t) {
            t ? this._type &= ~131072 : this._type |= 131072
        });
        p(0, e, "color", function() {
            return this._font.color
        }, function(t) {
            this._createFont().color = t
        });
        p(0, e, "password", function() {
            return this._font.password
        }, function(t) {
            this._createFont().password = t
        });
        p(0, e, "backgroundColor", function() {
            return this._bgground ? this._bgground.color : null
        }, function(t) {
            if (t === "none")
                this._bgground = null;
            else
                this._bgground || (this._bgground = {}),
                this._bgground.color = t;
            this._ower.conchModel && this._ower.conchModel.bgColor(t);
            this._ower._renderType |= 256
        });
        p(0, e, "font", function() {
            return this._font.toString()
        }, function(t) {
            this._createFont().set(t)
        });
        p(0, e, "weight", null, function(t) {
            this._createFont().weight = t
        });
        p(0, e, "letterSpacing", function() {
            return this._spacing[0]
        }, function(t) {
            typeof t == "string" && (t = parseInt(t + ""));
            this._spacing === f._SPACING && (this._spacing = [0, 0]);
            this._spacing[0] = t
        });
        p(0, e, "fontSize", function() {
            return this._font.size
        }, function(t) {
            this._createFont().size = t
        });
        p(0, e, "italic", function() {
            return this._font.italic
        }, function(t) {
            this._createFont().italic = t
        });
        p(0, e, "fontFamily", function() {
            return this._font.family
        }, function(t) {
            this._createFont().family = t
        });
        p(0, e, "stroke", function() {
            return this._font.stroke[0]
        }, function(t) {
            if (this._createFont().stroke === se._STROKE)
                this._font.stroke = [0, "#000000"];
            this._font.stroke[0] = t
        });
        p(0, e, "strokeColor", function() {
            return this._font.stroke[1]
        }, function(t) {
            if (this._createFont().stroke === se._STROKE)
                this._font.stroke = [0, "#000000"];
            this._font.stroke[1] = t
        });
        p(0, e, "border", function() {
            return this._border ? this._border.value : ""
        }, function(t) {
            if (t == "none") {
                this._border = null;
                return
            }
            this._border || (this._border = {});
            this._border.value = t;
            var e = t.split(" ");
            this._border.color = je.create(e[e.length - 1]);
            if (e.length == 1) {
                this._border.size = 1;
                this._border.type = "solid";
                return
            }
            var i = 0;
            if (e[0].indexOf("px") > 0) {
                this._border.size = parseInt(e[0]);
                i++
            } else
                this._border.size = 1;
            this._border.type = e[i];
            this._ower._renderType |= 256
        });
        p(0, e, "borderColor", function() {
            return this._border && this._border.color ? this._border.color.strColor : null
        }, function(t) {
            if (!t) {
                this._border = null;
                return
            }
            this._border || (this._border = {
                size: 1,
                type: "solid"
            });
            this._border.color = t == null ? null : je.create(t);
            this._ower.conchModel && this._ower.conchModel.border(this._border.color.strColor);
            this._ower._renderType |= 256
        });
        p(0, e, "position", function() {
            return this._type & 4 ? "absolute" : ""
        }, function(t) {
            t == "absolute" ? this._type |= 4 : this._type &= ~4
        });
        p(0, e, "display", null, function(t) {
            switch (t) {
            case "":
                this._type &= ~2;
                this.visible = true;
                break;
            case "none":
                this._type |= 2;
                this.visible = false;
                this._ower._layoutLater();
                break
            }
        });
        p(0, e, "paddingLeft", function() {
            return this.padding[3]
        });
        p(0, e, "paddingTop", function() {
            return this.padding[0]
        });
        p(0, e, "_scale", null, function(t) {
            this._ower.scale(t[0], t[1])
        });
        p(0, e, "_rotate", null, function(t) {
            this._ower.rotation = t
        });
        f.parseOneCSS = function(t, e) {
            var i = [];
            var n = t.split(e);
            var s;
            for (var r = 0, a = n.length; r < a; r++) {
                var o = n[r];
                var l = o.indexOf(":");
                var h = o.substr(0, l).replace(/^\s+|\s+$/g, "");
                if (h.length == 0)
                    continue;
                var u = o.substr(l + 1).replace(/^\s+|\s+$/g, "");
                var c = [h, u];
                switch (h) {
                case "italic":
                case "bold":
                    c[1] = u == "true";
                    break;
                case "line-height":
                    c[0] = "lineHeight";
                    c[1] = parseInt(u);
                    break;
                case "font-size":
                    c[0] = "fontSize";
                    c[1] = parseInt(u);
                    break;
                case "padding":
                    s = u.split(" ");
                    s.length > 1 || (s[1] = s[2] = s[3] = s[0]);
                    c[1] = [parseInt(s[0]), parseInt(s[1]), parseInt(s[2]), parseInt(s[3])];
                    break;
                case "rotate":
                    c[0] = "_rotate";
                    c[1] = parseFloat(u);
                    break;
                case "scale":
                    s = u.split(" ");
                    c[0] = "_scale";
                    c[1] = [parseFloat(s[0]), parseFloat(s[1])];
                    break;
                case "translate":
                    s = u.split(" ");
                    c[0] = "_translate";
                    c[1] = [parseInt(s[0]), parseInt(s[1])];
                    break;
                default:
                    (c[0] = f._CSSTOVALUE[h]) || (c[0] = h)
                }
                i.push(c)
            }
            return i
        }
        ;
        f.parseCSS = function(t, e) {
            var i;
            while ((i = f._parseCSSRegExp.exec(t)) != null) {
                f.styleSheets[i[1]] = f.parseOneCSS(i[2], ";")
            }
        }
        ;
        f.EMPTY = new f(null);
        f._CSSTOVALUE = {
            "letter-spacing": "letterSpacing",
            "line-spacing": "lineSpacing",
            "white-space": "whiteSpace",
            "line-height": "lineHeight",
            "scale-x": "scaleX",
            "scale-y": "scaleY",
            "translate-x": "translateX",
            "translate-y": "translateY",
            "font-family": "fontFamily",
            "font-weight": "fontWeight",
            "vertical-align": "valign",
            "text-decoration": "textDecoration",
            "background-color": "backgroundColor",
            "border-color": "borderColor",
            float: "cssFloat"
        };
        f._parseCSSRegExp = new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}","g");
        f._aligndef = {
            left: 0,
            center: 1,
            right: 2,
            0: "left",
            1: "center",
            2: "right"
        };
        f._valigndef = {
            top: 0,
            middle: 1,
            bottom: 2,
            0: "top",
            1: "middle",
            2: "bottom"
        };
        f.styleSheets = {};
        f.ALIGN_CENTER = 1;
        f.ALIGN_RIGHT = 2;
        f.VALIGN_MIDDLE = 1;
        f.VALIGN_BOTTOM = 2;
        f._CSS_BLOCK = 1;
        f._DISPLAY_NONE = 2;
        f._ABSOLUTE = 4;
        f._WIDTH_SET = 8;
        f._PADDING = [0, 0, 0, 0];
        f._RECT = [-1, -1, -1, -1];
        f._SPACING = [0, 0];
        f._ALIGNS = [0, 0, 0];
        f.ADDLAYOUTED = 512;
        f._NEWFONT = 4096;
        f._HEIGHT_SET = 8192;
        f._BACKGROUND_SET = 16384;
        f._FLOAT_RIGHT = 32768;
        f._LINE_ELEMENT = 65536;
        f._NOWARP = 131072;
        f._WIDTHAUTO = 262144;
        f._LISTERRESZIE = 524288;
        return f
    }(ne);
    var Cn = function(t) {
        function e(t) {
            this.strength = NaN;
            this.strength_sig2_2sig2_gauss1 = [];
            e.__super.call(this);
            t === void 0 && (t = 4);
            if (Be.isWebGL)
                pe.enable();
            this.strength = t;
            this._action = G.createFilterAction(16);
            this._action.data = this
        }
        x(e, "laya.filters.BlurFilter", t);
        var i = e.prototype;
        i.callNative = function(t) {
            t.conchModel && t.conchModel.blurFilter && t.conchModel.blurFilter(this.strength)
        }
        ;
        p(0, i, "action", function() {
            return this._action
        });
        p(0, i, "type", function() {
            return 16
        });
        return e
    }(ce);
    var Sn = function(t) {
        function s(t) {
            s.__super.call(this);
            if (!t) {
                t = [.3, .59, .11, 0, 0, .3, .59, .11, 0, 0, .3, .59, .11, 0, 0, 0, 0, 0, 1, 0]
            }
            this._mat = new Float32Array(16);
            this._alpha = new Float32Array(4);
            var e = 0;
            var i = 0;
            for (var n = 0; n < 20; n++) {
                if (n % 5 != 4) {
                    this._mat[e++] = t[n]
                } else {
                    this._alpha[i++] = t[n]
                }
            }
            this._action = G.createFilterAction(32);
            this._action.data = this
        }
        x(s, "laya.filters.ColorFilter", t);
        var e = s.prototype;
        st.imps(e, {
            "laya.filters.IFilter": true
        });
        e.callNative = function(t) {
            var e = t._$P.cf = this;
            t.conchModel && t.conchModel.setFilterMatrix && t.conchModel.setFilterMatrix(this._mat, this._alpha)
        }
        ;
        p(0, e, "type", function() {
            return 32
        });
        p(0, e, "action", function() {
            return this._action
        });
        return s
    }(ce);
    var Tn = function(t) {
        function s(t, e, i, n) {
            this._color = null;
            s.__super.call(this);
            this._elements = new Float32Array(9);
            e === void 0 && (e = 4);
            i === void 0 && (i = 6);
            n === void 0 && (n = 6);
            if (Be.isWebGL) {
                pe.enable()
            }
            this._color = new je(t);
            this.blur = Math.min(e, 20);
            this.offX = i;
            this.offY = n;
            this._action = G.createFilterAction(8);
            this._action.data = this
        }
        x(s, "laya.filters.GlowFilter", t);
        var e = s.prototype;
        e.getColor = function() {
            return this._color._color
        }
        ;
        e.callNative = function(t) {
            t.conchModel && t.conchModel.glowFilter && t.conchModel.glowFilter(this._color.strColor, this._elements[4], this._elements[5], this._elements[6])
        }
        ;
        p(0, e, "type", function() {
            return 8
        });
        p(0, e, "action", function() {
            return this._action
        });
        p(0, e, "offY", function() {
            return this._elements[6]
        }, function(t) {
            this._elements[6] = t
        });
        p(0, e, "offX", function() {
            return this._elements[5]
        }, function(t) {
            this._elements[5] = t
        });
        p(0, e, "blur", function() {
            return this._elements[4]
        }, function(t) {
            this._elements[4] = t
        });
        return s
    }(ce);
    var Rn = function(t) {
        function e() {
            this.data = null;
            e.__super.call(this)
        }
        x(e, "laya.filters.webgl.BlurFilterActionGL", t);
        var i = e.prototype;
        i.setValueMix = function(t) {
            t.defines.add(this.data.type);
            var e = t
        }
        ;
        i.apply3d = function(t, e, i, n, s) {
            var r = t.getValue("bounds");
            var a = mn.create(1, 0);
            a.setFilters([this.data]);
            var o = Ce.EMPTY;
            o.identity();
            i.ctx.drawTarget(t, 0, 0, r.width, r.height, Ce.EMPTY, "src", a);
            a.setFilters(null)
        }
        ;
        i.setValue = function(t) {
            t.strength = this.data.strength;
            var e = this.data.strength / 3;
            var i = e * e;
            this.data.strength_sig2_2sig2_gauss1[0] = this.data.strength;
            this.data.strength_sig2_2sig2_gauss1[1] = i;
            this.data.strength_sig2_2sig2_gauss1[2] = 2 * i;
            this.data.strength_sig2_2sig2_gauss1[3] = 1 / (2 * Math.PI * i);
            t.strength_sig2_2sig2_gauss1 = this.data.strength_sig2_2sig2_gauss1
        }
        ;
        p(0, i, "typeMix", function() {
            return 16
        });
        return e
    }(_e);
    var In = function(t) {
        function e() {
            this.data = null;
            e.__super.call(this)
        }
        x(e, "laya.filters.webgl.ColorFilterActionGL", t);
        var i = e.prototype;
        st.imps(i, {
            "laya.filters.IFilterActionGL": true
        });
        i.setValue = function(t) {
            t.colorMat = this.data._mat;
            t.colorAlpha = this.data._alpha
        }
        ;
        i.apply3d = function(t, e, i, n, s) {
            var r = t.getValue("bounds");
            var a = mn.create(1, 0);
            a.setFilters([this.data]);
            var o = Ce.TEMP;
            o.identity();
            i.ctx.drawTarget(t, 0, 0, r.width, r.height, o, "src", a)
        }
        ;
        return e
    }(_e);
    var An = function(t) {
        function e() {
            this.data = null;
            this._initKey = false;
            this._textureWidth = 0;
            this._textureHeight = 0;
            e.__super.call(this)
        }
        x(e, "laya.filters.webgl.GlowFilterActionGL", t);
        var i = e.prototype;
        st.imps(i, {
            "laya.filters.IFilterActionGL": true
        });
        i.setValueMix = function(t) {}
        ;
        i.apply3d = function(t, e, i, n, s) {
            var r = t.getValue("bounds");
            t.addValue("color", this.data.getColor());
            var a = r.width
              , o = r.height;
            this._textureWidth = a;
            this._textureHeight = o;
            var l;
            var h = Ce.TEMP;
            h.identity();
            l = mn.create(1, 0);
            l.setFilters([this.data]);
            i.ctx.drawTarget(t, 0, 0, this._textureWidth, this._textureHeight, h, "src", l, null);
            l = mn.create(1, 0);
            i.ctx.drawTarget(t, 0, 0, this._textureWidth, this._textureHeight, h, "src", l);
            return null
        }
        ;
        i.setSpriteWH = function(t) {
            this._textureWidth = t.width;
            this._textureHeight = t.height
        }
        ;
        i.setValue = function(t) {
            t.u_offsetX = this.data.offX;
            t.u_offsetY = -this.data.offY;
            t.u_strength = 1;
            t.u_blurX = this.data.blur;
            t.u_blurY = this.data.blur;
            t.u_textW = this._textureWidth;
            t.u_textH = this._textureHeight;
            t.u_color = this.data.getColor()
        }
        ;
        p(0, i, "typeMix", function() {
            return 8
        });
        e.tmpTarget = function(t, e, i, n, s) {
            var r = t.getValue("bounds");
            var a = t.getValue("out");
            a.end();
            var o = Kn.create(r.width, r.height);
            o.start();
            var l = t.getValue("color");
            if (l) {
                o.clear(l[0], l[1], l[2], 0)
            }
            t.addValue("tmpTarget", o)
        }
        ;
        e.startOut = function(t, e, i, n, s) {
            var r = t.getValue("tmpTarget");
            r.end();
            var a = t.getValue("out");
            a.start();
            var o = t.getValue("color");
            if (o) {
                a.clear(o[0], o[1], o[2], 0)
            }
        }
        ;
        e.recycleTarget = function(t, e, i, n, s) {
            var r = t.getValue("src");
            var a = t.getValue("tmpTarget");
            a.recycle()
        }
        ;
        return e
    }(_e);
    var Gn = function(t) {
        function e(t) {
            this.setting = null;
            this._posRange = null;
            this._canvasTemplate = null;
            this._emitFun = null;
            e.__super.call(this);
            this.template = t
        }
        x(e, "laya.particle.emitter.Emitter2D", t);
        var i = e.prototype;
        i.emit = function() {
            t.prototype.emit.call(this);
            if (this._emitFun != null)
                this._emitFun()
        }
        ;
        i.getRandom = function(t) {
            return (Math.random() * 2 - 1) * t
        }
        ;
        i.webGLEmit = function() {
            var t = new Float32Array(3);
            t[0] = this.getRandom(this._posRange[0]);
            t[1] = this.getRandom(this._posRange[1]);
            t[2] = this.getRandom(this._posRange[2]);
            var e = new Float32Array(3);
            e[0] = 0;
            e[1] = 0;
            e[2] = 0;
            this._particleTemplate.addParticleArray(t, e)
        }
        ;
        i.canvasEmit = function() {
            var t = new Float32Array(3);
            t[0] = this.getRandom(this._posRange[0]);
            t[1] = this.getRandom(this._posRange[1]);
            t[2] = this.getRandom(this._posRange[2]);
            var e = new Float32Array(3);
            e[0] = 0;
            e[1] = 0;
            e[2] = 0;
            this._particleTemplate.addParticleArray(t, e)
        }
        ;
        p(0, i, "template", function() {
            return this._particleTemplate
        }, function(t) {
            this._particleTemplate = t;
            if (!t) {
                this._emitFun = null;
                this.setting = null;
                this._posRange = null
            }
            this.setting = t.settings;
            this._posRange = this.setting.positionVariance;
            if (this._particleTemplate instanceof laya.particle.ParticleTemplate2D) {
                this._emitFun = this.webGLEmit
            } else if (this._particleTemplate instanceof laya.particle.ParticleTemplateCanvas) {
                this._canvasTemplate = t;
                this._emitFun = this.canvasEmit
            }
        });
        return e
    }(Me);
    var Mn = function(t) {
        function e(t) {
            this._vertices = null;
            this._vertexBuffer = null;
            this._indexBuffer = null;
            this._floatCountPerVertex = 29;
            this._firstActiveElement = 0;
            this._firstNewElement = 0;
            this._firstFreeElement = 0;
            this._firstRetiredElement = 0;
            this._currentTime = 0;
            this._drawCounter = 0;
            e.__super.call(this);
            this.settings = t
        }
        x(e, "laya.particle.ParticleTemplateWebGL", t);
        var i = e.prototype;
        i.initialize = function() {
            this._vertices = new Float32Array(this.settings.maxPartices * this._floatCountPerVertex * 4);
            var t = 0;
            for (var e = 0; e < this.settings.maxPartices; e++) {
                var i = Math.random();
                var n = this.settings.textureCount ? 1 / this.settings.textureCount : 1;
                var s = NaN;
                for (s = 0; s < this.settings.textureCount; s += n) {
                    if (i < s + n)
                        break
                }
                t = e * this._floatCountPerVertex * 4;
                this._vertices[t + this._floatCountPerVertex * 0 + 0] = -1;
                this._vertices[t + this._floatCountPerVertex * 0 + 1] = -1;
                this._vertices[t + this._floatCountPerVertex * 0 + 2] = 0;
                this._vertices[t + this._floatCountPerVertex * 0 + 3] = s;
                this._vertices[t + this._floatCountPerVertex * 1 + 0] = 1;
                this._vertices[t + this._floatCountPerVertex * 1 + 1] = -1;
                this._vertices[t + this._floatCountPerVertex * 1 + 2] = 1;
                this._vertices[t + this._floatCountPerVertex * 1 + 3] = s;
                this._vertices[t + this._floatCountPerVertex * 2 + 0] = 1;
                this._vertices[t + this._floatCountPerVertex * 2 + 1] = 1;
                this._vertices[t + this._floatCountPerVertex * 2 + 2] = 1;
                this._vertices[t + this._floatCountPerVertex * 2 + 3] = s + n;
                this._vertices[t + this._floatCountPerVertex * 3 + 0] = -1;
                this._vertices[t + this._floatCountPerVertex * 3 + 1] = 1;
                this._vertices[t + this._floatCountPerVertex * 3 + 2] = 0;
                this._vertices[t + this._floatCountPerVertex * 3 + 3] = s + n
            }
        }
        ;
        i.loadContent = function() {}
        ;
        i.update = function(t) {
            this._currentTime += t / 1e3;
            this.retireActiveParticles();
            this.freeRetiredParticles();
            if (this._firstActiveElement == this._firstFreeElement)
                this._currentTime = 0;
            if (this._firstRetiredElement == this._firstActiveElement)
                this._drawCounter = 0
        }
        ;
        i.retireActiveParticles = function() {
            var t = 1e-4;
            var e = this.settings.duration;
            while (this._firstActiveElement != this._firstNewElement) {
                var i = this._firstActiveElement * this._floatCountPerVertex * 4;
                var n = i + 28;
                var s = this._currentTime - this._vertices[n];
                s *= 1 + this._vertices[i + 27];
                if (s + t < e)
                    break;
                this._vertices[n] = this._drawCounter;
                this._firstActiveElement++;
                if (this._firstActiveElement >= this.settings.maxPartices)
                    this._firstActiveElement = 0
            }
        }
        ;
        i.freeRetiredParticles = function() {
            while (this._firstRetiredElement != this._firstActiveElement) {
                var t = this._drawCounter - this._vertices[this._firstRetiredElement * this._floatCountPerVertex * 4 + 28];
                if (t < 3)
                    break;
                this._firstRetiredElement++;
                if (this._firstRetiredElement >= this.settings.maxPartices)
                    this._firstRetiredElement = 0
            }
        }
        ;
        i.addNewParticlesToVertexBuffer = function() {}
        ;
        i.addParticleArray = function(t, e) {
            var i = this._firstFreeElement + 1;
            if (i >= this.settings.maxPartices)
                i = 0;
            if (i === this._firstRetiredElement)
                return;
            var n = Le.Create(this.settings, t, e, this._currentTime);
            var s = this._firstFreeElement * this._floatCountPerVertex * 4;
            for (var r = 0; r < 4; r++) {
                var a = 0
                  , o = 0;
                for (a = 0,
                o = 4; a < 3; a++)
                    this._vertices[s + r * this._floatCountPerVertex + o + a] = n.position[a];
                for (a = 0,
                o = 7; a < 3; a++)
                    this._vertices[s + r * this._floatCountPerVertex + o + a] = n.velocity[a];
                for (a = 0,
                o = 10; a < 4; a++)
                    this._vertices[s + r * this._floatCountPerVertex + o + a] = n.startColor[a];
                for (a = 0,
                o = 14; a < 4; a++)
                    this._vertices[s + r * this._floatCountPerVertex + o + a] = n.endColor[a];
                for (a = 0,
                o = 18; a < 3; a++)
                    this._vertices[s + r * this._floatCountPerVertex + o + a] = n.sizeRotation[a];
                for (a = 0,
                o = 21; a < 2; a++)
                    this._vertices[s + r * this._floatCountPerVertex + o + a] = n.radius[a];
                for (a = 0,
                o = 23; a < 4; a++)
                    this._vertices[s + r * this._floatCountPerVertex + o + a] = n.radian[a];
                this._vertices[s + r * this._floatCountPerVertex + 27] = n.durationAddScale;
                this._vertices[s + r * this._floatCountPerVertex + 28] = n.time
            }
            this._firstFreeElement = i
        }
        ;
        return e
    }(Ee);
    var Ln = function(t) {
        function e(t) {
            this._ready = false;
            this.textureList = [];
            this.particleList = [];
            this.pX = 0;
            this.pY = 0;
            this.activeParticles = [];
            this.deadParticles = [];
            this.iList = [];
            this._maxNumParticles = 0;
            this.textureWidth = NaN;
            this.dTextureWidth = NaN;
            this.colorChange = true;
            this.step = 1 / 60;
            this.canvasShader = new Ne;
            e.__super.call(this);
            this.settings = t;
            this._maxNumParticles = t.maxPartices;
            this.texture = new _n;
            this.texture.on("loaded", this, this._textureLoaded);
            this.texture.load(t.textureName)
        }
        x(e, "laya.particle.ParticleTemplateCanvas", t);
        var i = e.prototype;
        i._textureLoaded = function(t) {
            this.setTexture(this.texture);
            this._ready = true
        }
        ;
        i.clear = function(t) {
            t === void 0 && (t = true);
            this.deadParticles.length = 0;
            this.activeParticles.length = 0;
            this.textureList.length = 0
        }
        ;
        i.setTexture = function(t) {
            this.texture = t;
            this.textureWidth = t.width;
            this.dTextureWidth = 1 / this.textureWidth;
            this.pX = -t.width * .5;
            this.pY = -t.height * .5;
            this.textureList = e.changeTexture(t, this.textureList);
            this.particleList.length = 0;
            this.deadParticles.length = 0;
            this.activeParticles.length = 0
        }
        ;
        i._createAParticleData = function(t, e) {
            this.canvasShader.u_EndVelocity = this.settings.endVelocity;
            this.canvasShader.u_Gravity = this.settings.gravity;
            this.canvasShader.u_Duration = this.settings.duration;
            var i;
            i = Le.Create(this.settings, t, e, 0);
            this.canvasShader.a_Position = i.position;
            this.canvasShader.a_Velocity = i.velocity;
            this.canvasShader.a_StartColor = i.startColor;
            this.canvasShader.a_EndColor = i.endColor;
            this.canvasShader.a_SizeRotation = i.sizeRotation;
            this.canvasShader.a_Radius = i.radius;
            this.canvasShader.a_Radian = i.radian;
            this.canvasShader.a_AgeAddScale = i.durationAddScale;
            this.canvasShader.oSize = this.textureWidth;
            var n = new Ve;
            var s = 0
              , r = this.settings.duration / (1 + i.durationAddScale);
            var a = [];
            var o = NaN;
            for (s = 0; s < r; s += this.step) {
                a.push(this.canvasShader.getData(s))
            }
            n.id = this.particleList.length;
            this.particleList.push(n);
            n.setCmds(a);
            return n
        }
        ;
        i.addParticleArray = function(t, e) {
            if (!this._ready)
                return;
            var i;
            if (this.particleList.length < this._maxNumParticles) {
                i = this._createAParticleData(t, e);
                this.iList[i.id] = 0;
                this.activeParticles.push(i)
            } else {
                if (this.deadParticles.length > 0) {
                    i = this.deadParticles.pop();
                    this.iList[i.id] = 0;
                    this.activeParticles.push(i)
                }
            }
        }
        ;
        i.advanceTime = function(t) {
            t === void 0 && (t = 1);
            if (!this._ready)
                return;
            var e = this.activeParticles;
            var i = this.deadParticles;
            var n = 0
              , s = e.length;
            var r;
            var a = 0;
            var o = this.iList;
            for (n = s - 1; n > -1; n--) {
                r = e[n];
                a = o[r.id];
                if (a >= r.maxIndex) {
                    a = 0;
                    e.splice(n, 1);
                    i.push(r)
                } else {
                    a += 1
                }
                o[r.id] = a
            }
        }
        ;
        i.render = function(t, e, i) {
            if (!this._ready)
                return;
            if (this.activeParticles.length < 1)
                return;
            if (this.textureList.length < 2)
                return;
            if (this.settings.disableColor) {
                this.noColorRender(t, e, i)
            } else {
                this.canvasRender(t, e, i)
            }
        }
        ;
        i.noColorRender = function(t, e, i) {
            var n = this.activeParticles;
            var s = 0
              , r = n.length;
            var a;
            var o;
            var l = NaN;
            var h = this.pX
              , u = this.pY;
            var c = -h * 2
              , f = -u * 2;
            var d = 0;
            var _ = this.textureList;
            var p = this.iList;
            var m = NaN;
            t.translate(e, i);
            m = t.ctx.globalAlpha;
            for (s = 0; s < r; s++) {
                a = n[s];
                d = p[a.id];
                o = a.cmds[d];
                if (!o)
                    continue;
                if ((l = o[1]) <= .01)
                    continue;
                t.setAlpha(m * l);
                t.drawTextureWithTransform(this.texture, h, u, c, f, o[2], 1)
            }
            t.setAlpha(m);
            t.translate(-e, -i)
        }
        ;
        i.canvasRender = function(t, e, i) {
            var n = this.activeParticles;
            var s = 0
              , r = n.length;
            var a;
            var o;
            var l = NaN;
            var h = this.pX
              , u = this.pY;
            var c = -h * 2
              , f = -u * 2;
            var d = 0;
            var _ = this.textureList;
            var p = this.iList;
            var m = NaN;
            var g;
            t.translate(e, i);
            m = t.ctx.globalAlpha;
            g = t.ctx.globalCompositeOperation;
            t.blendMode("lighter");
            for (s = 0; s < r; s++) {
                a = n[s];
                d = p[a.id];
                o = a.cmds[d];
                if (!o)
                    continue;
                if ((l = o[1]) <= .01)
                    continue;
                t.save();
                t.transformByMatrix(o[2]);
                if (o[3] > .01) {
                    t.setAlpha(m * o[3]);
                    t.drawTexture(_[0], h, u, c, f)
                }
                if (o[4] > .01) {
                    t.setAlpha(m * o[4]);
                    t.drawTexture(_[1], h, u, c, f)
                }
                if (o[5] > .01) {
                    t.setAlpha(m * o[5]);
                    t.drawTexture(_[2], h, u, c, f)
                }
                t.restore()
            }
            t.setAlpha(m);
            t.translate(-e, -i);
            t.blendMode(g)
        }
        ;
        e.changeTexture = function(t, e, i) {
            if (!e)
                e = [];
            e.length = 0;
            if (i && i.disableColor) {
                e.push(t, t, t)
            } else {
                ai.copyArray(e, Ze.getRGBPic(t))
            }
            return e
        }
        ;
        return e
    }(Ee);
    var Wn = function(t) {
        var i;
        function U(t) {
            this._x = 0;
            this._y = 0;
            this._id = ++U._COUNT;
            this._path = null;
            this._drawCount = 1;
            this._maxNumEle = 0;
            this._clear = false;
            this._isMain = false;
            this._atlasResourceChange = 0;
            this._submits = null;
            this._curSubmit = null;
            this._ib = null;
            this._vb = null;
            this._nBlendType = 0;
            this._saveMark = null;
            this._shader2D = null;
            this.meshlist = [];
            this.mId = -1;
            this.mHaveKey = false;
            this.mHaveLineKey = false;
            this.mX = 0;
            this.mY = 0;
            U.__super.call(this);
            this._width = 99999999;
            this._height = 99999999;
            this._clipRect = U.MAXCLIPRECT;
            this.mOutPoint;
            this._canvas = t;
            U._contextcount++;
            if (Be.isFlash) {
                this._ib = ar.create(35044);
                Xi.fillIBQuadrangle(this._ib, 16)
            } else
                this._ib = ar.QuadrangleIB;
            this.clear()
        }
        x(U, "laya.webgl.canvas.WebGLContext2D", t);
        var e = U.prototype;
        e.setIsMainContext = function() {
            this._isMain = true
        }
        ;
        e.clearBG = function(t, e, i, n) {
            var s = Hi.mainContext;
            s.clearColor(t, e, i, n);
            s.clear(16384)
        }
        ;
        e._getSubmits = function() {
            return this._submits
        }
        ;
        e._releaseMem = function() {
            if (!this._submits)
                return;
            this._curMat.destroy();
            this._curMat = null;
            this._shader2D.destroy();
            this._shader2D = null;
            for (var t = 0, e = this._submits._length; t < e; t++)
                this._submits[t].releaseRender();
            this._submits.length = 0;
            this._submits._length = 0;
            this._submits = null;
            this._curSubmit = null;
            this._path && this._path.recover();
            this._path = null;
            this._other && (this._other.font = null);
            this._save = null;
            if (this._vb) {
                this._vb.releaseResource();
                this._vb.destroy();
                this._vb.destory();
                this._vb = null
            }
        }
        ;
        e.destroy = function() {
            --U._contextcount;
            this.sprite = null;
            this._releaseMem();
            this._targets && this._targets.destroy();
            this._targets = null;
            this._canvas = null;
            this._ib && this._ib != ar.QuadrangleIB && this._ib.releaseResource()
        }
        ;
        e.clear = function() {
            if (!this._submits) {
                this._other = i.DEFAULT;
                this._curMat = Ce.create();
                this._vb = or.create(-1);
                this._submits = [];
                this._save = [bi.Create(this)];
                this._save.length = 10;
                this._shader2D = new Ci;
                this._triangleMesh = Xn.getAMesh()
            }
            this._vb.clear();
            this._targets && (this._targets.repaint = true);
            this._other = i.DEFAULT;
            this._clear = true;
            this._repaint = false;
            this._drawCount = 1;
            this._renderKey = 0;
            this._other.lineWidth = this._shader2D.ALPHA = 1;
            this._nBlendType = 0;
            this._clipRect = U.MAXCLIPRECT;
            this._curSubmit = Mi.RENDERBASE;
            this._shader2D.glTexture = null;
            this._shader2D.fillStyle = this._shader2D.strokeStyle = _i.DEFAULT;
            for (var t = 0, e = this._submits._length; t < e; t++)
                this._submits[t].releaseRender();
            this._submits._length = 0;
            this._curMat.identity();
            this._other.clear();
            this._saveMark = this._save[0];
            this._save._length = 1
        }
        ;
        e.size = function(t, e) {
            if (this._width != t || this._height != e) {
                if (t == 0 || e == 0) {
                    if (this._vb._byteLength != 0) {
                        this._width = t;
                        this._height = e;
                        this._vb.clear();
                        this._vb.upload()
                    }
                    for (var i = 0, n = this._submits._length; i < n; i++)
                        this._submits[i].releaseRender();
                    this._submits.length = 0;
                    this._submits._length = 0;
                    this._curSubmit = null;
                    this._path && this._path.recover();
                    this._path = null;
                    this.sprite = null;
                    this._targets && this._targets.destroy();
                    this._targets = null
                } else {
                    this._width = t;
                    this._height = e;
                    this._targets && this._targets.size(t, e);
                    this._canvas.memorySize -= this._canvas.memorySize
                }
            }
            if (t === 0 && e === 0)
                this._releaseMem()
        }
        ;
        e._getTransformMatrix = function() {
            return this._curMat
        }
        ;
        e.translate = function(t, e) {
            if (t !== 0 || e !== 0) {
                xi.save(this);
                if (this._curMat.bTransform) {
                    yi.save(this);
                    this._curMat.transformPointN(Se.TEMP.setTo(t, e));
                    t = Se.TEMP.x;
                    e = Se.TEMP.y
                }
                this._x += t;
                this._y += e
            }
        }
        ;
        e.save = function() {
            this._save[this._save._length++] = bi.Create(this)
        }
        ;
        e.restore = function() {
            var t = this._save._length;
            if (t < 1)
                return;
            for (var e = t - 1; e >= 0; e--) {
                var i = this._save[e];
                i.restore(this);
                if (i.isSaveMark()) {
                    this._save._length = e;
                    return
                }
            }
        }
        ;
        e._fillText = function(t, e, i, n, s, r, a, o, l, h) {
            h === void 0 && (h = 0);
            var u = this._shader2D;
            var c = this._curSubmit.shaderValue;
            var f = s ? Pi.create(s) : this._other.font;
            if (ci.enabled) {
                if (u.ALPHA !== c.ALPHA)
                    u.glTexture = null;
                ki.drawText(this, t, e, this._curMat, f, l || this._other.textAlign, r, a, o, i, n, h)
            } else {
                var d = this._shader2D.defines.getValue();
                var _ = r ? je.create(r)._color : u.colorAdd;
                if (u.ALPHA !== c.ALPHA || _ !== u.colorAdd || c.colorAdd !== u.colorAdd) {
                    u.glTexture = null;
                    u.colorAdd = _
                }
                ki.drawText(this, t, e, this._curMat, f, l || this._other.textAlign, r, a, o, i, n, h)
            }
        }
        ;
        e.fillWords = function(t, e, i, n, s, r) {
            this._fillText(null, t, e, i, n, s, null, -1, null, r)
        }
        ;
        e.fillBorderWords = function(t, e, i, n, s, r, a) {
            this._fillBorderText(null, t, e, i, n, s, r, a, null)
        }
        ;
        e.fillText = function(t, e, i, n, s, r) {
            this._fillText(t, null, e, i, n, s, null, -1, r)
        }
        ;
        e.strokeText = function(t, e, i, n, s, r, a) {
            this._fillText(t, null, e, i, n, null, s, r || 1, a)
        }
        ;
        e.fillBorderText = function(t, e, i, n, s, r, a, o) {
            this._fillBorderText(t, null, e, i, n, s, r, a, o)
        }
        ;
        e._fillBorderText = function(t, e, i, n, s, r, a, o, l) {
            if (!ci.enabled) {
                this._fillText(t, e, i, n, s, null, a, o || 1, l);
                this._fillText(t, e, i, n, s, r, null, -1, l);
                return
            }
            var h = this._shader2D;
            var u = this._curSubmit.shaderValue;
            if (h.ALPHA !== u.ALPHA)
                h.glTexture = null;
            var c = s ? (U._fontTemp.setFont(s),
            U._fontTemp) : this._other.font;
            ki.drawText(this, t, e, this._curMat, c, l || this._other.textAlign, r, a, o || 1, i, n, 0)
        }
        ;
        e.fillRect = function(t, e, i, n, s) {
            var r = this._vb;
            if (Xi.fillRectImgVb(r, this._clipRect, t, e, i, n, _n.DEF_UV, this._curMat, this._x, this._y, 0, 0)) {
                this._renderKey = 0;
                var a = this._shader2D.fillStyle;
                s && (this._shader2D.fillStyle = _i.create(s));
                var o = this._shader2D;
                var l = this._curSubmit.shaderValue;
                if (o.fillStyle !== l.fillStyle || o.ALPHA !== l.ALPHA) {
                    o.glTexture = null;
                    var h = this._curSubmit = Mi.createSubmit(this, this._ib, r, (r._byteLength - 16 * 4) / 32 * 3, mn.create(2, 0));
                    h.shaderValue.color = o.fillStyle._color._color;
                    h.shaderValue.ALPHA = o.ALPHA;
                    this._submits[this._submits._length++] = h
                }
                this._curSubmit._numEle += 6;
                this._shader2D.fillStyle = a
            }
        }
        ;
        e.fillTexture = function(t, e, i, n, s, r, a, o) {
            if (!(t.loaded && t.bitmap && t.source)) {
                if (this.sprite) {
                    st.timer.callLater(this, this._repaintSprite)
                }
                return
            }
            var l = this._vb;
            var h = t.bitmap.width
              , u = t.bitmap.height
              , c = t.uv;
            var f = a.x % t.width
              , d = a.y % t.height;
            if (h != o.w || u != o.h) {
                if (!o.w && !o.h) {
                    o.oy = o.ox = 0;
                    switch (r) {
                    case "repeat":
                        o.width = n;
                        o.height = s;
                        break;
                    case "repeat-x":
                        o.width = n;
                        if (d < 0) {
                            if (t.height + d > s) {
                                o.height = s
                            } else {
                                o.height = t.height + d
                            }
                        } else {
                            o.oy = d;
                            if (t.height + d > s) {
                                o.height = s - d
                            } else {
                                o.height = t.height
                            }
                        }
                        break;
                    case "repeat-y":
                        if (f < 0) {
                            if (t.width + f > n) {
                                o.width = n
                            } else {
                                o.width = t.width + f
                            }
                        } else {
                            o.ox = f;
                            if (t.width + f > n) {
                                o.width = n - f
                            } else {
                                o.width = t.width
                            }
                        }
                        o.height = s;
                        break;
                    case "no-repeat":
                        if (f < 0) {
                            if (t.width + f > n) {
                                o.width = n
                            } else {
                                o.width = t.width + f
                            }
                        } else {
                            o.ox = f;
                            if (t.width + f > n) {
                                o.width = n - f
                            } else {
                                o.width = t.width
                            }
                        }
                        if (d < 0) {
                            if (t.height + d > s) {
                                o.height = s
                            } else {
                                o.height = t.height + d
                            }
                        } else {
                            o.oy = d;
                            if (t.height + d > s) {
                                o.height = s - d
                            } else {
                                o.height = t.height
                            }
                        }
                        break;
                    default:
                        o.width = n;
                        o.height = s;
                        break
                    }
                }
                o.w = h;
                o.h = u;
                o.uv = [0, 0, o.width / h, 0, o.width / h, o.height / u, 0, o.height / u]
            }
            e += o.ox;
            i += o.oy;
            f -= o.ox;
            d -= o.oy;
            if (Xi.fillRectImgVb(l, this._clipRect, e, i, o.width, o.height, o.uv, this._curMat, this._x, this._y, 0, 0)) {
                this._renderKey = 0;
                var _ = Fn.create(this, this._ib, l, (l._byteLength - 16 * 4) / 32 * 3, mn.create(256, 0));
                this._submits[this._submits._length++] = _;
                var p = _.shaderValue;
                p.textureHost = t;
                var m = c[0] * h;
                var g = c[1] * u;
                var v = (c[2] - c[0]) * h;
                var b = (c[5] - c[3]) * u;
                var y = -f / h;
                var x = -d / u;
                p.u_TexRange[0] = m / h;
                p.u_TexRange[1] = v / h;
                p.u_TexRange[2] = g / u;
                p.u_TexRange[3] = b / u;
                p.u_offset[0] = y;
                p.u_offset[1] = x;
                if (ci.enabled && !this._isMain)
                    _.addTexture(t, (l._byteLength >> 2) - 16);
                this._curSubmit = _;
                _._renderType = 10017;
                _._numEle += 6
            }
        }
        ;
        e.setShader = function(t) {
            mi.save(this, 1048576, this._shader2D, true);
            this._shader2D.shader = t
        }
        ;
        e.setFilters = function(t) {
            mi.save(this, 2097152, this._shader2D, true);
            this._shader2D.filters = t;
            this._curSubmit = Mi.RENDERBASE;
            this._renderKey = 0;
            this._drawCount++
        }
        ;
        e.drawTexture = function(t, e, i, n, s, r, a) {
            this._drawTextureM(t, e, i, n, s, r, a, null, 1)
        }
        ;
        e.addTextureVb = function(t, e, i) {
            var n = this._curSubmit._vb || this._vb;
            var s = n._byteLength >> 2;
            n.byteLength = s + 16 << 2;
            var r = n.getFloat32Array();
            for (var a = 0, o = 0; a < 16; a += 4) {
                r[s++] = t[a] + e;
                r[s++] = t[a + 1] + i;
                r[s++] = t[a + 2];
                r[s++] = t[a + 3]
            }
            this._curSubmit._numEle += 6;
            this._maxNumEle = Math.max(this._maxNumEle, this._curSubmit._numEle);
            n._upload = true
        }
        ;
        e.willDrawTexture = function(t, e) {
            if (!(t.loaded && t.bitmap && t.source)) {
                if (this.sprite) {
                    st.timer.callLater(this, this._repaintSprite)
                }
                return 0
            }
            var i = t.bitmap;
            var n = i.id + this._shader2D.ALPHA * e + 10016;
            if (n == this._renderKey)
                return n;
            var s = this._shader2D;
            var r = s.ALPHA;
            var a = this._curSubmit.shaderValue;
            s.ALPHA *= e;
            this._renderKey = n;
            this._drawCount++;
            s.glTexture = i;
            var o = this._vb;
            var l = null;
            var h = o._byteLength / 32 * 3;
            l = Fn.create(this, this._ib, o, h, mn.create(1, 0));
            this._submits[this._submits._length++] = l;
            l.shaderValue.textureHost = t;
            l._renderType = 10016;
            l._preIsSameTextureShader = this._curSubmit._renderType === 10016 && s.ALPHA === a.ALPHA;
            this._curSubmit = l;
            s.ALPHA = r;
            return n
        }
        ;
        e.drawTextures = function(t, e, i, n) {
            if (!(t.loaded && t.bitmap && t.source)) {
                this.sprite && st.timer.callLater(this, this._repaintSprite);
                return
            }
            var s = this._clipRect;
            this._clipRect = U.MAXCLIPRECT;
            if (!this._drawTextureM(t, e[0], e[1], t.width, t.height, i, n, null, 1)) {
                alert("drawTextures err");
                return
            }
            this._clipRect = s;
            ii.drawCall++;
            if (e.length < 4)
                return;
            var r = this._curSubmit._vb || this._vb;
            var a = this._curMat.a
              , o = this._curMat.d;
            for (var l = 2, h = e.length; l < h; l += 2) {
                Xi.copyPreImgVb(r, (e[l] - e[l - 2]) * a, (e[l + 1] - e[l - 1]) * o);
                this._curSubmit._numEle += 6
            }
            this._maxNumEle = Math.max(this._maxNumEle, this._curSubmit._numEle)
        }
        ;
        e._drawTextureM = function(t, e, i, n, s, r, a, o, l) {
            if (!(t.loaded && t.source)) {
                if (this.sprite) {
                    st.timer.callLater(this, this._repaintSprite)
                }
                return false
            }
            var h = this._curSubmit._vb || this._vb;
            var u = t.bitmap;
            e += r;
            i += a;
            this._drawCount++;
            var c = u.id + this._shader2D.ALPHA * l + 10016;
            if (c != this._renderKey) {
                this._renderKey = c;
                var f = this._curSubmit.shaderValue;
                var d = this._shader2D;
                var _ = d.ALPHA;
                d.ALPHA *= l;
                d.glTexture = u;
                var p = this._vb;
                var m = null;
                var g = p._byteLength / 32 * 3;
                m = Fn.create(this, this._ib, p, g, mn.create(1, 0));
                this._submits[this._submits._length++] = m;
                m.shaderValue.textureHost = t;
                m._renderType = 10016;
                m._preIsSameTextureShader = this._curSubmit._renderType === 10016 && d.ALPHA === f.ALPHA;
                this._curSubmit = m;
                h = this._curSubmit._vb || this._vb;
                d.ALPHA = _
            }
            if (Xi.fillRectImgVb(h, this._clipRect, e, i, n || t.width, s || t.height, t.uv, o || this._curMat, this._x, this._y, 0, 0)) {
                if (ci.enabled && !this._isMain)
                    this._curSubmit.addTexture(t, (h._byteLength >> 2) - 16);
                this._curSubmit._numEle += 6;
                this._maxNumEle = Math.max(this._maxNumEle, this._curSubmit._numEle);
                return true
            }
            return false
        }
        ;
        e._repaintSprite = function() {
            if (this.sprite)
                this.sprite.repaint()
        }
        ;
        e._drawText = function(t, e, i, n, s, r, a, o, l, h) {
            var u = t.bitmap;
            this._drawCount++;
            var c = u.id + this._shader2D.ALPHA + 10016;
            if (c != this._renderKey) {
                this._renderKey = c;
                var f = this._curSubmit.shaderValue;
                var d = this._shader2D;
                d.glTexture = u;
                var _ = this._vb;
                var p = null;
                var m = NaN;
                var g = _._byteLength / 32 * 3;
                if (ci.enabled) {
                    p = Fn.create(this, this._ib, _, g, mn.create(1, 0))
                } else {
                    p = Fn.create(this, this._ib, _, g, Ws.create())
                }
                p._preIsSameTextureShader = this._curSubmit._renderType === 10016 && d.ALPHA === f.ALPHA;
                this._submits[this._submits._length++] = p;
                p.shaderValue.textureHost = t;
                p._renderType = 10016;
                this._curSubmit = p
            }
            t.active();
            var v = this._curSubmit._vb || this._vb;
            if (Xi.fillRectImgVb(v, this._clipRect, e + a, i + o, n || t.width, s || t.height, t.uv, r || this._curMat, this._x, this._y, l, h, true)) {
                if (ci.enabled && !this._isMain) {
                    this._curSubmit.addTexture(t, (v._byteLength >> 2) - 16)
                }
                this._curSubmit._numEle += 6;
                this._maxNumEle = Math.max(this._maxNumEle, this._curSubmit._numEle)
            }
        }
        ;
        e.drawTextureWithTransform = function(t, e, i, n, s, r, a, o, l) {
            if (!r) {
                this._drawTextureM(t, e, i, n, s, a, o, null, l);
                return
            }
            var h = this._curMat;
            var u = this._x;
            var c = this._y;
            (a !== 0 || o !== 0) && (this._x = a * h.a + o * h.c,
            this._y = o * h.d + a * h.b);
            if (r && h.bTransform) {
                Ce.mul(r, h, U._tmpMatrix);
                r = U._tmpMatrix;
                r._checkTransform()
            } else {
                this._x += h.tx;
                this._y += h.ty
            }
            this._drawTextureM(t, e, i, n, s, 0, 0, r, l);
            this._x = u;
            this._y = c
        }
        ;
        e.fillQuadrangle = function(t, e, i, n, s) {
            var r = this._curSubmit;
            var a = this._vb;
            var o = this._shader2D;
            var l = r.shaderValue;
            this._renderKey = 0;
            if (t.bitmap) {
                var h = t.bitmap;
                if (o.glTexture != h || o.ALPHA !== l.ALPHA) {
                    o.glTexture = h;
                    r = this._curSubmit = Mi.createSubmit(this, this._ib, a, a._byteLength / 32 * 3, mn.create(1, 0));
                    r.shaderValue.glTexture = h;
                    this._submits[this._submits._length++] = r
                }
                Xi.fillQuadrangleImgVb(a, e, i, n, t.uv, s || this._curMat, this._x, this._y)
            } else {
                if (!r.shaderValue.fillStyle || !r.shaderValue.fillStyle.equal(t) || o.ALPHA !== l.ALPHA) {
                    o.glTexture = null;
                    r = this._curSubmit = Mi.createSubmit(this, this._ib, a, a._byteLength / 32 * 3, mn.create(2, 0));
                    r.shaderValue.defines.add(2);
                    r.shaderValue.fillStyle = _i.create(t);
                    this._submits[this._submits._length++] = r
                }
                Xi.fillQuadrangleImgVb(a, e, i, n, _n.DEF_UV, s || this._curMat, this._x, this._y)
            }
            r._numEle += 6
        }
        ;
        e.drawTexture2 = function(t, e, i, n, s, r, a, o) {
            if (r == 0)
                return;
            var l = this._curMat;
            this._x = t * l.a + e * l.c;
            this._y = e * l.d + t * l.b;
            if (s) {
                if (l.bTransform || s.bTransform) {
                    Ce.mul(s, l, U._tmpMatrix);
                    s = U._tmpMatrix
                } else {
                    this._x += s.tx + l.tx;
                    this._y += s.ty + l.ty;
                    s = Ce.EMPTY
                }
            }
            if (r === 1 && !a)
                this._drawTextureM(o[0], o[1] - i, o[2] - n, o[3], o[4], 0, 0, s, 1);
            else {
                var h = this._shader2D.ALPHA;
                var u = this._nBlendType;
                this._shader2D.ALPHA = r;
                a && (this._nBlendType = di.TOINT(a));
                this._drawTextureM(o[0], o[1] - i, o[2] - n, o[3], o[4], 0, 0, s, 1);
                this._shader2D.ALPHA = h;
                this._nBlendType = u
            }
            this._x = this._y = 0
        }
        ;
        e.drawCanvas = function(t, e, i, n, s) {
            var r = t.context;
            this._renderKey = 0;
            if (r._targets) {
                this._submits[this._submits._length++] = Pn.create(r, 0, null);
                this._curSubmit = Mi.RENDERBASE;
                r._targets.drawTo(this, e, i, n, s)
            } else {
                var a = this._submits[this._submits._length++] = Pn.create(r, this._shader2D.ALPHA, this._shader2D.filters);
                var o = n / t.width;
                var l = s / t.height;
                var h = a._matrix;
                this._curMat.copyTo(h);
                o != 1 && l != 1 && h.scale(o, l);
                var u = h.tx
                  , c = h.ty;
                h.tx = h.ty = 0;
                h.transformPoint(Se.TEMP.setTo(e, i));
                h.translate(Se.TEMP.x + u, Se.TEMP.y + c);
                this._curSubmit = Mi.RENDERBASE
            }
            if (I.showCanvasMark) {
                this.save();
                this.lineWidth = 4;
                this.strokeStyle = r._targets ? "yellow" : "green";
                this.strokeRect(e - 1, i - 1, n + 2, s + 2, 1);
                this.strokeRect(e, i, n, s, 1);
                this.restore()
            }
        }
        ;
        e.drawTarget = function(t, e, i, n, s, r, a, o, l, h) {
            h === void 0 && (h = -1);
            var u = this._vb;
            if (Xi.fillRectImgVb(u, this._clipRect, e, i, n, s, l || _n.DEF_UV, r || this._curMat, this._x, this._y, 0, 0)) {
                this._renderKey = 0;
                var c = this._shader2D;
                c.glTexture = null;
                var f = this._curSubmit.shaderValue;
                var d = this._curSubmit = Zi.create(this, this._ib, u, (u._byteLength - 16 * 4) / 32 * 3, o, a);
                if (h == -1) {
                    d.blendType = this._nBlendType
                } else {
                    d.blendType = h
                }
                d.scope = t;
                this._submits[this._submits._length++] = d;
                this._curSubmit._numEle += 6
            }
        }
        ;
        e.mixRGBandAlpha = function(t) {
            return this._mixRGBandAlpha(t, this._shader2D.ALPHA)
        }
        ;
        e._mixRGBandAlpha = function(t, e) {
            var i = (t & 4278190080) >>> 24;
            if (i != 0) {
                i *= e
            } else {
                i = e * 255
            }
            return t & 16777215 | i << 24
        }
        ;
        e.drawTriangles = function(t, e, i, n, s, r, a, o, l, h) {
            if (!(t.loaded && t.source)) {
                if (this.sprite) {
                    st.timer.callLater(this, this._repaintSprite)
                }
                return false
            }
            this._drawCount++;
            var u = t.bitmap;
            var c = this._mixRGBandAlpha(4294967295, o);
            var f = n.length / 2;
            var d = r.length;
            this._renderKey = -1;
            var _ = this._curSubmit = Fn.create(this, this._triangleMesh.getIBR(), this._triangleMesh.getVBR(), this._triangleMesh.indexNum, mn.create(1, 0));
            _.shaderValue.textureHost = t;
            _._renderType = 10016;
            this._submits[this._submits._length++] = _;
            if (a) {
                U._tmpMatrix.a = a.a;
                U._tmpMatrix.b = a.b;
                U._tmpMatrix.c = a.c;
                U._tmpMatrix.d = a.d;
                U._tmpMatrix.tx = a.tx + e;
                U._tmpMatrix.ty = a.ty + i;
                Ce.mul(U._tmpMatrix, this._curMat, U._tmpMatrix)
            } else {
                U._tmpMatrix.a = this._curMat.a;
                U._tmpMatrix.b = this._curMat.b;
                U._tmpMatrix.c = this._curMat.c;
                U._tmpMatrix.d = this._curMat.d;
                U._tmpMatrix.tx = this._curMat.tx + e;
                U._tmpMatrix.ty = this._curMat.ty + i
            }
            this._triangleMesh.addData(n, s, r, U._tmpMatrix, c, this);
            this._curSubmit._numEle += d;
            this._maxNumEle = Math.max(this._maxNumEle, this._curSubmit._numEle);
            return true
        }
        ;
        e.transform = function(t, e, i, n, s, r) {
            yi.save(this);
            Ce.mul(Ce.TEMP.setTo(t, e, i, n, s, r), this._curMat, this._curMat);
            this._curMat._checkTransform()
        }
        ;
        e.setTransformByMatrix = function(t) {
            t.copyTo(this._curMat)
        }
        ;
        e.transformByMatrix = function(t) {
            yi.save(this);
            Ce.mul(t, this._curMat, this._curMat);
            this._curMat._checkTransform()
        }
        ;
        e.rotate = function(t) {
            yi.save(this);
            this._curMat.rotateEx(t)
        }
        ;
        e.scale = function(t, e) {
            yi.save(this);
            this._curMat.scaleEx(t, e)
        }
        ;
        e.clipRect = function(t, e, i, n) {
            if (this._curMat.b != 0 || this._curMat.c != 0) {
                this._renderKey = 0;
                var s = Vi.create(4);
                this.addRenderObject(s);
                var r = this._vb;
                var a = r._byteLength >> 2;
                if (Xi.fillRectImgVb(r, null, t, e, i, n, _n.DEF_UV, this._curMat, this._x, this._y, 0, 0)) {
                    var o = this._shader2D;
                    o.glTexture = null;
                    var l = this._curSubmit = Mi.createSubmit(this, this._ib, r, (r._byteLength - 16 * 4) / 32 * 3, mn.create(2, 0));
                    l.shaderValue.ALPHA = 1;
                    this._submits[this._submits._length++] = l;
                    this._curSubmit._numEle += 6
                } else {
                    alert("clipRect calc stencil rect error")
                }
                var h = Vi.create(5);
                this.addRenderObject(h);
                var u = r.getFloat32Array();
                var c = Math.min(Math.min(Math.min(u[a + 0], u[a + 4]), u[a + 8]), u[a + 12]);
                var f = Math.max(Math.max(Math.max(u[a + 0], u[a + 4]), u[a + 8]), u[a + 12]);
                var d = Math.min(Math.min(Math.min(u[a + 1], u[a + 5]), u[a + 9]), u[a + 13]);
                var _ = Math.max(Math.max(Math.max(u[a + 1], u[a + 5]), u[a + 9]), u[a + 13]);
                vi.save(this, h, t, e, i, n, c, d, f - c, _ - d);
                this._curSubmit = Mi.RENDERBASE
            } else {
                i *= this._curMat.a;
                n *= this._curMat.d;
                var p = Se.TEMP;
                this._curMat.transformPoint(p.setTo(t, e));
                if (i < 0) {
                    p.x = p.x + i;
                    i = -i
                }
                if (n < 0) {
                    p.y = p.y + n;
                    n = -n
                }
                this._renderKey = 0;
                var m = this._curSubmit = Ni.create(this);
                this._submits[this._submits._length++] = m;
                m.submitIndex = this._submits._length;
                m.submitLength = 9999999;
                gi.save(this, m);
                var g = this._clipRect;
                var v = g.x
                  , b = g.y;
                var y = p.x + i
                  , x = p.y + n;
                v < p.x && (g.x = p.x);
                b < p.y && (g.y = p.y);
                g.width = Math.min(y, v + g.width) - g.x;
                g.height = Math.min(x, b + g.height) - g.y;
                this._shader2D.glTexture = null;
                m.clipRect.copyFrom(g);
                this._curSubmit = Mi.RENDERBASE
            }
        }
        ;
        e.setIBVB = function(t, e, i, n, s, r, a, o, l, h, u) {
            l === void 0 && (l = 0);
            h === void 0 && (h = 0);
            u === void 0 && (u = 0);
            if (i === null) {
                if (!Be.isFlash) {
                    i = this._ib
                } else {
                    var c = n;
                    c._selfIB || (c._selfIB = ar.create(35044));
                    c._selfIB.clear();
                    i = c._selfIB
                }
                Xi.expandIBQuadrangle(i, n._byteLength / (4 * n.vertexStride * 4))
            }
            if (!o || !a)
                throw Error("setIBVB must input:shader shaderValues");
            var f = Ei.create(this, n, i, s, a, o, l, h, u);
            r || (r = Ce.EMPTY);
            r.translate(t, e);
            Ce.mul(r, this._curMat, f._mat);
            r.translate(-t, -e);
            this._submits[this._submits._length++] = f;
            this._curSubmit = Mi.RENDERBASE;
            this._renderKey = 0
        }
        ;
        e.addRenderObject = function(t) {
            this._submits[this._submits._length++] = t
        }
        ;
        e.fillTrangles = function(t, e, i, n, s) {
            var r = this._curSubmit;
            var a = this._vb;
            var o = this._shader2D;
            var l = r.shaderValue;
            var h = n.length >> 4;
            var u = t.bitmap;
            this._renderKey = 0;
            if (o.glTexture != u || o.ALPHA !== l.ALPHA) {
                r = this._curSubmit = Mi.createSubmit(this, this._ib, a, a._byteLength / 32 * 3, mn.create(1, 0));
                r.shaderValue.textureHost = t;
                this._submits[this._submits._length++] = r
            }
            Xi.fillTranglesVB(a, e, i, n, s || this._curMat, this._x, this._y);
            r._numEle += h * 6
        }
        ;
        e.submitElement = function(t, e) {
            var i = this._submits;
            e < 0 && (e = i._length);
            while (t < e) {
                t += i[t].renderSubmit()
            }
        }
        ;
        e.finish = function() {
            Hi.mainContext.finish()
        }
        ;
        e.flush = function() {
            var t = Math.max(this._vb._byteLength / (4 * 16), this._maxNumEle / 6) + 8;
            if (t > this._ib.bufferLength / (6 * 2)) {
                Xi.expandIBQuadrangle(this._ib, t)
            }
            if (!this._isMain && ci.enabled && ci._atlasRestore > this._atlasResourceChange) {
                this._atlasResourceChange = ci._atlasRestore;
                var e = this._submits;
                for (var i = 0, n = e._length; i < n; i++) {
                    var s = e[i];
                    if (s.getRenderType() === 10016)
                        s.checkTexture()
                }
            }
            this.submitElement(0, this._submits._length);
            this._path && this._path.reset();
            Ri.instance && Ri.getInstance().reset();
            var r = 0;
            for (i = 0,
            r = this.meshlist.length; i < r; i++) {
                var a = this.meshlist[i];
                a.canReuse ? a.releaseMesh() : a.destroy()
            }
            this.meshlist.length = 0;
            this._curSubmit = Mi.RENDERBASE;
            this._renderKey = 0;
            this._triangleMesh = Xn.getAMesh();
            this.meshlist.push(this._triangleMesh);
            return this._submits._length
        }
        ;
        e.setPathId = function(t) {
            this.mId = t;
            if (this.mId != -1) {
                this.mHaveKey = false;
                var e = oi.getInstance();
                if (e.shapeDic[this.mId]) {
                    this.mHaveKey = true
                }
                this.mHaveLineKey = false;
                if (e.shapeLineDic[this.mId]) {
                    this.mHaveLineKey = true
                }
            }
        }
        ;
        e.movePath = function(t, e) {
            var i = t
              , n = e;
            t = this._curMat.a * i + this._curMat.c * n + this._curMat.tx;
            e = this._curMat.b * i + this._curMat.d * n + this._curMat.ty;
            this.mX += t;
            this.mY += e
        }
        ;
        e.beginPath = function() {
            var t = this._getPath();
            t.tempArray.length = 0;
            t.closePath = false;
            this.mX = 0;
            this.mY = 0
        }
        ;
        e.closePath = function() {
            this._path.closePath = true
        }
        ;
        e.fill = function(t) {
            t === void 0 && (t = false);
            var e = this._getPath();
            this.drawPoly(0, 0, e.tempArray, this.fillStyle._color.numColor, 0, 0, t)
        }
        ;
        e.stroke = function() {
            var t = this._getPath();
            if (this.lineWidth > 0) {
                if (this.mId == -1) {
                    t.drawLine(0, 0, t.tempArray, this.lineWidth, this.strokeStyle._color.numColor)
                } else {
                    if (this.mHaveLineKey) {
                        var e = oi.getInstance().shapeLineDic[this.mId];
                        e.rebuild(t.tempArray);
                        t.setGeomtry(e)
                    } else {
                        oi.getInstance().addLine(this.mId, t.drawLine(0, 0, t.tempArray, this.lineWidth, this.strokeStyle._color.numColor))
                    }
                }
                t.update();
                var i = [this.mX, this.mY];
                var n = Mi.createShape(this, t.ib, t.vb, t.count, t.offset, mn.create(4, 0));
                n.shaderValue.ALPHA = this._shader2D.ALPHA;
                n.shaderValue.u_pos = i;
                n.shaderValue.u_mmat2 = Oi.TEMPMAT4_ARRAY;
                this._submits[this._submits._length++] = n;
                this._renderKey = -1
            }
        }
        ;
        e.line = function(t, e, i, n, s, r) {
            var a = this._curSubmit;
            var o = this._vb;
            if (Xi.fillLineVb(o, this._clipRect, t, e, i, n, s, r)) {
                this._renderKey = 0;
                var l = this._shader2D;
                var h = a.shaderValue;
                if (l.strokeStyle !== h.strokeStyle || l.ALPHA !== h.ALPHA) {
                    l.glTexture = null;
                    a = this._curSubmit = Mi.createSubmit(this, this._ib, o, (o._byteLength - 16 * 4) / 32 * 3, mn.create(2, 0));
                    a.shaderValue.strokeStyle = l.strokeStyle;
                    a.shaderValue.mainID = 2;
                    a.shaderValue.ALPHA = l.ALPHA;
                    this._submits[this._submits._length++] = a
                }
                a._numEle += 6
            }
        }
        ;
        e.moveTo = function(t, e, i) {
            i === void 0 && (i = true);
            var n = this._getPath();
            if (i) {
                var s = t
                  , r = e;
                t = this._curMat.a * s + this._curMat.c * r;
                e = this._curMat.b * s + this._curMat.d * r
            }
            n.addPoint(t, e)
        }
        ;
        e.lineTo = function(t, e, i) {
            i === void 0 && (i = true);
            var n = this._getPath();
            if (i) {
                var s = t
                  , r = e;
                t = this._curMat.a * s + this._curMat.c * r;
                e = this._curMat.b * s + this._curMat.d * r
            }
            n.addPoint(t, e)
        }
        ;
        e.drawCurves = function(t, e, i) {
            this.setPathId(-1);
            this.beginPath();
            this.strokeStyle = i[3];
            this.lineWidth = i[4];
            var n = i[2];
            t += i[0],
            e += i[1];
            this.movePath(t, e);
            this.moveTo(n[0], n[1]);
            var s = 2
              , r = n.length;
            while (s < r) {
                this.quadraticCurveTo(n[s++], n[s++], n[s++], n[s++])
            }
            this.stroke()
        }
        ;
        e.arcTo = function(t, e, i, n, s) {
            if (this.mId != -1) {
                if (this.mHaveKey) {
                    return
                }
            }
            var r = 0;
            var a = 0
              , o = 0;
            var l = this._getPath();
            this._curMat.copyTo(U._tmpMatrix);
            U._tmpMatrix.tx = U._tmpMatrix.ty = 0;
            U._tempPoint.setTo(l.getEndPointX(), l.getEndPointY());
            U._tmpMatrix.invertTransformPoint(U._tempPoint);
            var h = U._tempPoint.x - t;
            var u = U._tempPoint.y - e;
            var c = Math.sqrt(h * h + u * u);
            if (c <= 1e-6) {
                return
            }
            var f = h / c;
            var d = u / c;
            var _ = i - t;
            var p = n - e;
            var m = _ * _ + p * p;
            var g = Math.sqrt(m);
            if (g <= 1e-6) {
                return
            }
            var v = _ / g;
            var b = p / g;
            var y = f + v;
            var x = d + b;
            var w = Math.sqrt(y * y + x * x);
            if (w <= 1e-6) {
                return
            }
            var C = y / w;
            var S = x / w;
            var T = Math.acos(C * f + S * d);
            var R = Math.PI / 2 - T;
            c = s / Math.tan(R);
            var I = c * f + t;
            var A = c * d + e;
            var G = Math.sqrt(c * c + s * s);
            var M = t + C * G;
            var L = e + S * G;
            var W = c * v + t;
            var E = c * b + e;
            var N = f * b - d * v;
            var V = 0;
            var Z = 0;
            var B = 0;
            if (N >= 0) {
                V = R * 2;
                var k = V / U.SEGNUM;
                Z = Math.sin(k);
                B = Math.cos(k)
            } else {
                V = -R * 2;
                k = V / U.SEGNUM;
                Z = Math.sin(k);
                B = Math.cos(k)
            }
            a = this._curMat.a * I + this._curMat.c * A;
            o = this._curMat.b * I + this._curMat.d * A;
            if (a != this._path.getEndPointX() || o != this._path.getEndPointY()) {
                l.addPoint(a, o)
            }
            var P = I - M;
            var F = A - L;
            var X = 0;
            var D = 0;
            for (r = 0; r < U.SEGNUM; r++) {
                var Y = P * B + F * Z;
                var O = -P * Z + F * B;
                a = Y + M;
                o = O + L;
                t = this._curMat.a * a + this._curMat.c * o;
                e = this._curMat.b * a + this._curMat.d * o;
                a = t;
                o = e;
                if (a != this._path.getEndPointX() || o != this._path.getEndPointY()) {
                    l.addPoint(a, o)
                }
                P = Y;
                F = O
            }
        }
        ;
        e.arc = function(t, e, i, n, s, r, a) {
            r === void 0 && (r = false);
            a === void 0 && (a = true);
            if (this.mId != -1) {
                var o = oi.getInstance().shapeDic[this.mId];
                if (o) {
                    if (this.mHaveKey && !o.needUpdate(this._curMat))
                        return
                }
                t = 0;
                e = 0
            }
            var l = 0
              , h = 0
              , u = 0
              , c = 0;
            var f = 0
              , d = 0
              , _ = 0
              , p = 0
              , m = 0
              , g = 0;
            var v = 0
              , b = 0
              , y = 0
              , x = 0;
            var w = 0
              , C = 0
              , S = 0;
            h = s - n;
            if (!r) {
                if (Math.abs(h) >= Math.PI * 2) {
                    h = Math.PI * 2
                } else {
                    while (h < 0) {
                        h += Math.PI * 2
                    }
                }
            } else {
                if (Math.abs(h) >= Math.PI * 2) {
                    h = -Math.PI * 2
                } else {
                    while (h > 0) {
                        h -= Math.PI * 2
                    }
                }
            }
            if (i < 101) {
                C = Math.max(10, h * i / 5)
            } else if (i < 201) {
                C = Math.max(10, h * i / 20)
            } else {
                C = Math.max(10, h * i / 40)
            }
            u = h / C / 2;
            c = Math.abs(4 / 3 * (1 - Math.cos(u)) / Math.sin(u));
            if (r)
                c = -c;
            S = 0;
            var T = this._getPath();
            var R = NaN
              , I = NaN;
            for (w = 0; w <= C; w++) {
                l = n + h * (w / C);
                f = Math.cos(l);
                d = Math.sin(l);
                _ = t + f * i;
                p = e + d * i;
                if (a) {
                    R = _,
                    I = p;
                    _ = this._curMat.a * R + this._curMat.c * I;
                    p = this._curMat.b * R + this._curMat.d * I
                }
                if (_ != this._path.getEndPointX() || p != this._path.getEndPointY()) {
                    T.addPoint(_, p)
                }
            }
            f = Math.cos(s);
            d = Math.sin(s);
            _ = t + f * i;
            p = e + d * i;
            if (a) {
                R = _,
                I = p;
                _ = this._curMat.a * R + this._curMat.c * I;
                p = this._curMat.b * R + this._curMat.d * I
            }
            if (_ != this._path.getEndPointX() || p != this._path.getEndPointY()) {
                T.addPoint(_, p)
            }
        }
        ;
        e.quadraticCurveTo = function(t, e, i, n) {
            var s = ye.I;
            var r = [];
            var a = i
              , o = n;
            i = this._curMat.a * a + this._curMat.c * o;
            n = this._curMat.b * a + this._curMat.d * o;
            a = t,
            o = e;
            t = this._curMat.a * a + this._curMat.c * o;
            e = this._curMat.b * a + this._curMat.d * o;
            var l = s.getBezierPoints([this._path.getEndPointX(), this._path.getEndPointY(), t, e, i, n], 30, 2);
            for (var h = 0, u = l.length / 2; h < u; h++) {
                this.lineTo(l[h * 2], l[h * 2 + 1], false)
            }
            this.lineTo(i, n, false)
        }
        ;
        e.rect = function(t, e, i, n) {
            this._other = this._other.make();
            this._other.path || (this._other.path = new pi);
            this._other.path.rect(t, e, i, n)
        }
        ;
        e.strokeRect = function(t, e, i, n, s) {
            var r = s * .5;
            this.line(t - r, e, t + i + r, e, s, this._curMat);
            this.line(t + i, e, t + i, e + n, s, this._curMat);
            this.line(t, e, t, e + n, s, this._curMat);
            this.line(t - r, e + n, t + i + r, e + n, s, this._curMat)
        }
        ;
        e.clip = function() {}
        ;
        e.drawPoly = function(t, e, i, n, s, r, a) {
            a === void 0 && (a = false);
            this._renderKey = 0;
            this._shader2D.glTexture = null;
            var o = this._getPath();
            if (this.mId == -1) {
                o.polygon(t, e, i, n, s ? s : 1, r)
            } else {
                if (this.mHaveKey) {
                    var l = oi.getInstance().shapeDic[this.mId];
                    l.setMatrix(this._curMat);
                    l.rebuild(o.tempArray);
                    o.setGeomtry(l)
                } else {
                    var h = o.polygon(t, e, i, n, s ? s : 1, r);
                    oi.getInstance().addShape(this.mId, h);
                    h.setMatrix(this._curMat)
                }
            }
            o.update();
            var u = [this.mX, this.mY];
            var c;
            c = Mi.createShape(this, o.ib, o.vb, o.count, o.offset, mn.create(4, 0));
            c.shaderValue.ALPHA = this._shader2D.ALPHA;
            c.shaderValue.u_pos = u;
            c.shaderValue.u_mmat2 = Oi.EMPTYMAT4_ARRAY;
            this._submits[this._submits._length++] = c;
            if (s > 0) {
                if (this.mHaveLineKey) {
                    var f = oi.getInstance().shapeLineDic[this.mId];
                    f.rebuild(o.tempArray);
                    o.setGeomtry(f)
                } else {
                    oi.getInstance().addShape(this.mId, o.drawLine(t, e, i, s, r))
                }
                o.update();
                c = Mi.createShape(this, o.ib, o.vb, o.count, o.offset, mn.create(4, 0));
                c.shaderValue.ALPHA = this._shader2D.ALPHA;
                c.shaderValue.u_mmat2 = Oi.EMPTYMAT4_ARRAY;
                this._submits[this._submits._length++] = c
            }
        }
        ;
        e.drawParticle = function(t, e, i) {
            i.x = t;
            i.y = e;
            this._submits[this._submits._length++] = i
        }
        ;
        e._getPath = function() {
            return this._path || (this._path = new pi)
        }
        ;
        p(0, e, "globalCompositeOperation", function() {
            return di.NAMES[this._nBlendType]
        }, function(t) {
            var e = di.TOINT[t];
            e == null || this._nBlendType === e || (mi.save(this, 65536, this, true),
            this._curSubmit = Mi.RENDERBASE,
            this._renderKey = 0,
            this._nBlendType = e)
        });
        p(0, e, "strokeStyle", function() {
            return this._shader2D.strokeStyle
        }, function(t) {
            this._shader2D.strokeStyle.equal(t) || (mi.save(this, 512, this._shader2D, false),
            this._shader2D.strokeStyle = _i.create(t))
        });
        p(0, e, "globalAlpha", function() {
            return this._shader2D.ALPHA
        }, function(t) {
            t = Math.floor(t * 1e3) / 1e3;
            if (t != this._shader2D.ALPHA) {
                mi.save(this, 1, this._shader2D, true);
                this._shader2D.ALPHA = t
            }
        });
        p(0, e, "asBitmap", null, function(t) {
            if (t) {
                this._targets || (this._targets = new wi);
                this._targets.repaint = true;
                if (!this._width || !this._height)
                    throw Error("asBitmap no size!");
                this._targets.setSP(this.sprite);
                this._targets.size(this._width, this._height)
            } else
                this._targets = null
        });
        p(0, e, "fillStyle", function() {
            return this._shader2D.fillStyle
        }, function(t) {
            this._shader2D.fillStyle.equal(t) || (mi.save(this, 2, this._shader2D, false),
            this._shader2D.fillStyle = _i.create(t))
        });
        p(0, e, "textAlign", function() {
            return this._other.textAlign
        }, function(t) {
            this._other.textAlign === t || (this._other = this._other.make(),
            mi.save(this, 32768, this._other, false),
            this._other.textAlign = t)
        });
        p(0, e, "lineWidth", function() {
            return this._other.lineWidth
        }, function(t) {
            this._other.lineWidth === t || (this._other = this._other.make(),
            mi.save(this, 256, this._other, false),
            this._other.lineWidth = t)
        });
        p(0, e, "textBaseline", function() {
            return this._other.textBaseline
        }, function(t) {
            this._other.textBaseline === t || (this._other = this._other.make(),
            mi.save(this, 16384, this._other, false),
            this._other.textBaseline = t)
        });
        p(0, e, "font", null, function(t) {
            if (t == this._other.font.toString())
                return;
            this._other = this._other.make();
            mi.save(this, 8, this._other, false);
            this._other.font === Pi.EMPTY ? this._other.font = new Pi(t) : this._other.font.setFont(t)
        });
        U.__init__ = function() {
            i.DEFAULT = new i
        }
        ;
        U._tempPoint = new Se;
        U._SUBMITVBSIZE = 32e3;
        U._MAXSIZE = 99999999;
        U._RECTVBSIZE = 16;
        U.MAXCLIPRECT = new Te(0,0,99999999,99999999);
        U._COUNT = 0;
        U._tmpMatrix = new Ce;
        U.SEGNUM = 32;
        U._contextcount = 0;
        u(U, ["_fontTemp", function() {
            return this._fontTemp = new Pi
        }
        , "_drawStyleTemp", function() {
            return this._drawStyleTemp = new _i(null)
        }
        ]);
        U.__init$ = function() {
            i = function() {
                function t() {
                    this.lineWidth = 1;
                    this.path = null;
                    this.textAlign = null;
                    this.textBaseline = null;
                    this.font = Pi.EMPTY
                }
                x(t, "");
                var e = t.prototype;
                e.clear = function() {
                    this.lineWidth = 1;
                    this.path && this.path.clear();
                    this.textAlign = this.textBaseline = null;
                    this.font = Pi.EMPTY
                }
                ;
                e.make = function() {
                    return this === t.DEFAULT ? new t : this
                }
                ;
                t.DEFAULT = null;
                return t
            }()
        }
        ;
        return U
    }(Fe);
    var En = function(t) {
        function g(t, e) {
            g.__super.call(this, t, e)
        }
        x(g, "laya.webgl.utils.RenderSprite3D", t);
        var e = g.prototype;
        e.onCreate = function(t) {
            switch (t) {
            case 8:
                this._fun = this._blend;
                return;
            case 4:
                this._fun = this._transform;
                return
            }
        }
        ;
        e._mask = function(t, e, i, n) {
            var s = this._next;
            var r = t.mask;
            var a;
            var o;
            if (r) {
                e.ctx.save();
                var l = e.ctx.globalCompositeOperation;
                var h = new Te;
                h.copyFrom(r.getBounds());
                h.width = Math.round(h.width);
                h.height = Math.round(h.height);
                h.x = Math.round(h.x);
                h.y = Math.round(h.y);
                if (h.width > 0 && h.height > 0) {
                    var u = t._style._tf;
                    var c = Wi.create();
                    c.addValue("bounds", h);
                    a = Li.create([c, e], laya.webgl.utils.RenderSprite3D.tmpTarget);
                    e.addRenderObject(a);
                    r.render(e, -h.x, -h.y);
                    a = Li.create([c], laya.webgl.utils.RenderSprite3D.endTmpTarget);
                    e.addRenderObject(a);
                    e.ctx.save();
                    e.clipRect(i - u.translateX + h.x, n - u.translateY + h.y, h.width, h.height);
                    s._fun.call(s, t, e, i, n);
                    e.ctx.restore();
                    o = Vi.create(6);
                    l = e.ctx.globalCompositeOperation;
                    o.blendMode = "mask";
                    e.addRenderObject(o);
                    Ce.TEMP.identity();
                    var f = mn.create(1, 0);
                    var d = _n.INV_UV;
                    var _ = h.width;
                    var p = h.height;
                    var m = 32;
                    if (h.width < m || h.height < m) {
                        d = g.tempUV;
                        d[0] = 0;
                        d[1] = 0;
                        d[2] = h.width >= 32 ? 1 : h.width / m;
                        d[3] = 0;
                        d[4] = h.width >= 32 ? 1 : h.width / m;
                        d[5] = h.height >= 32 ? 1 : h.height / m;
                        d[6] = 0;
                        d[7] = h.height >= 32 ? 1 : h.height / m;
                        h.width = h.width >= 32 ? h.width : m;
                        h.height = h.height >= 32 ? h.height : m;
                        d[1] *= -1;
                        d[3] *= -1;
                        d[5] *= -1;
                        d[7] *= -1;
                        d[1] += 1;
                        d[3] += 1;
                        d[5] += 1;
                        d[7] += 1
                    }
                    e.ctx.drawTarget(c, i + h.x - u.translateX, n + h.y - u.translateY, _, p, Ce.TEMP, "tmpTarget", f, d, 6);
                    a = Li.create([c], laya.webgl.utils.RenderSprite3D.recycleTarget);
                    e.addRenderObject(a);
                    o = Vi.create(6);
                    o.blendMode = l;
                    e.addRenderObject(o)
                }
                e.ctx.restore()
            } else {
                s._fun.call(s, t, e, i, n)
            }
        }
        ;
        e._blend = function(t, e, i, n) {
            var s = t._style;
            var r = this._next;
            if (s.blendMode) {
                e.ctx.save();
                e.ctx.globalCompositeOperation = s.blendMode;
                r._fun.call(r, t, e, i, n);
                e.ctx.restore()
            } else {
                r._fun.call(r, t, e, i, n)
            }
        }
        ;
        e._transform = function(t, e, i, n) {
            var s = t.transform
              , r = this._next;
            if (s && r != Pe.NORENDER) {
                var a = e.ctx;
                var o = t._style;
                s.tx = i;
                s.ty = n;
                var l = a._getTransformMatrix();
                var h = l.clone();
                Ce.mul(s, l, l);
                l._checkTransform();
                s.tx = s.ty = 0;
                r._fun.call(r, t, e, 0, 0);
                h.copyTo(l);
                h.destroy()
            } else {
                r._fun.call(r, t, e, i, n)
            }
        }
        ;
        g.tmpTarget = function(t, e) {
            var i = t.getValue("bounds");
            var n = Kn.create(i.width, i.height);
            n.start();
            n.clear(0, 0, 0, 0);
            t.addValue("tmpTarget", n)
        }
        ;
        g.endTmpTarget = function(t) {
            var e = t.getValue("tmpTarget");
            e.end()
        }
        ;
        g.recycleTarget = function(t) {
            var e = t.getValue("tmpTarget");
            e.recycle();
            t.recycle()
        }
        ;
        u(g, ["tempUV", function() {
            return this.tempUV = new Array(8)
        }
        ]);
        return g
    }(Pe);
    var Nn = function(t) {
        function r(t, e, i, n, s) {
            this._atlasCanvas = null;
            this._inAtlasTextureKey = null;
            this._inAtlasTextureBitmapValue = null;
            this._inAtlasTextureOriUVValue = null;
            this._InAtlasWebGLImagesKey = null;
            this._InAtlasWebGLImagesOffsetValue = null;
            r.__super.call(this, t, e, s);
            this._inAtlasTextureKey = [];
            this._inAtlasTextureBitmapValue = [];
            this._inAtlasTextureOriUVValue = [];
            this._InAtlasWebGLImagesKey = {};
            this._InAtlasWebGLImagesOffsetValue = [];
            this._atlasCanvas = new Rs;
            this._atlasCanvas._atlaser = this;
            this._atlasCanvas.width = i;
            this._atlasCanvas.height = n;
            this._atlasCanvas.activeResource();
            this._atlasCanvas.lock = true
        }
        x(r, "laya.webgl.atlas.Atlaser", t);
        var e = r.prototype;
        e.computeUVinAtlasTexture = function(t, e, i, n) {
            var s = t;
            var r = ci.atlasTextureWidth;
            var a = ci.atlasTextureHeight;
            var o = i / r
              , l = n / a
              , h = (i + t.bitmap.width) / r
              , u = (n + t.bitmap.height) / a;
            var c = t.bitmap.width / r
              , f = t.bitmap.height / a;
            t.uv = [o + e[0] * c, l + e[1] * f, h - (1 - e[2]) * c, l + e[3] * f, h - (1 - e[4]) * c, u - (1 - e[5]) * f, o + e[6] * c, u - (1 - e[7]) * f]
        }
        ;
        e.findBitmapIsExist = function(t) {
            if (t instanceof laya.webgl.resource.WebGLImage) {
                var e = t;
                var i = e.url;
                var n = this._InAtlasWebGLImagesKey[i ? i : e.id];
                if (n) {
                    return n.offsetInfoID
                }
            }
            return -1
        }
        ;
        e.addToAtlasTexture = function(t, e, i) {
            if (t instanceof laya.webgl.resource.WebGLImage) {
                var n = t;
                var s = n.url;
                this._InAtlasWebGLImagesKey[s ? s : n.id] = {
                    bitmap: t,
                    offsetInfoID: this._InAtlasWebGLImagesOffsetValue.length
                };
                this._InAtlasWebGLImagesOffsetValue.push([e, i])
            }
            this._atlasCanvas.texSubImage2D(e, i, t.atlasImgData || t.atlasSource);
            t.clearAtlasSource()
        }
        ;
        e.addToAtlas = function(t, e, i) {
            t._atlasID = this._inAtlasTextureKey.length;
            var n = t.uv.slice();
            var s = t.bitmap;
            this._inAtlasTextureKey.push(t);
            this._inAtlasTextureOriUVValue.push(n);
            this._inAtlasTextureBitmapValue.push(s);
            this.computeUVinAtlasTexture(t, n, e, i);
            t.bitmap = this._atlasCanvas
        }
        ;
        e.clear = function() {
            for (var t = 0, e = this._inAtlasTextureKey.length; t < e; t++) {
                this._inAtlasTextureKey[t].bitmap = this._inAtlasTextureBitmapValue[t];
                this._inAtlasTextureKey[t].uv = this._inAtlasTextureOriUVValue[t];
                this._inAtlasTextureKey[t]._atlasID = -1;
                this._inAtlasTextureKey[t].bitmap.lock = false;
                this._inAtlasTextureKey[t].bitmap.releaseResource()
            }
            this._inAtlasTextureKey.length = 0;
            this._inAtlasTextureBitmapValue.length = 0;
            this._inAtlasTextureOriUVValue.length = 0;
            this._InAtlasWebGLImagesKey = null;
            this._InAtlasWebGLImagesOffsetValue.length = 0
        }
        ;
        e.dispose = function() {
            this.clear();
            this._atlasCanvas.destroy()
        }
        ;
        p(0, e, "InAtlasWebGLImagesOffsetValue", function() {
            return this._InAtlasWebGLImagesOffsetValue
        });
        p(0, e, "texture", function() {
            return this._atlasCanvas
        });
        p(0, e, "inAtlasWebGLImagesKey", function() {
            return this._InAtlasWebGLImagesKey
        });
        return r
    }(ui);
    var Vn = function(t) {
        function i() {
            i.__super.call(this, i.__name2int, i.__int2name, i.__int2nameMap)
        }
        x(i, "laya.webgl.shader.d2.ShaderDefines2D", t);
        i.__init__ = function() {
            i.reg("TEXTURE2D", 1);
            i.reg("COLOR2D", 2);
            i.reg("PRIMITIVE", 4);
            i.reg("GLOW_FILTER", 8);
            i.reg("BLUR_FILTER", 16);
            i.reg("COLOR_FILTER", 32);
            i.reg("COLOR_ADD", 64);
            i.reg("WORLDMAT", 128);
            i.reg("FILLTEXTURE", 256);
            i.reg("FSHIGHPRECISION", 1024)
        }
        ;
        i.reg = function(t, e) {
            Si._reg(t, e, i.__name2int, i.__int2name)
        }
        ;
        i.toText = function(t, e, i) {
            return Si._toText(t, e, i)
        }
        ;
        i.toInt = function(t) {
            return Si._toInt(t, i.__name2int)
        }
        ;
        i.TEXTURE2D = 1;
        i.COLOR2D = 2;
        i.PRIMITIVE = 4;
        i.FILTERGLOW = 8;
        i.FILTERBLUR = 16;
        i.FILTERCOLOR = 32;
        i.COLORADD = 64;
        i.WORLDMAT = 128;
        i.FILLTEXTURE = 256;
        i.SKINMESH = 512;
        i.SHADERDEFINE_FSHIGHPRECISION = 1024;
        i.__name2int = {};
        i.__int2name = [];
        i.__int2nameMap = [];
        return i
    }(Si);
    var Zn = function(t) {
        function r(t, e, i, n, s) {
            this._points = [];
            this.rebuild(i);
            r.__super.call(this, t, e, 0, 0, 0, s, n, s, 0)
        }
        x(r, "laya.webgl.shapes.Line", t);
        var e = r.prototype;
        e.rebuild = function(t) {
            var e = t.length;
            var i = this._points.length;
            if (e != i) {
                this.mUint16Array = new Uint16Array((e / 2 - 1) * 6);
                this.mFloat32Array = new Float32Array(e * 5)
            }
            this._points.length = 0;
            var n = NaN;
            var s = NaN;
            var r = -1;
            var a = -1;
            var o = t.length / 2;
            for (var l = 0; l < o; l++) {
                n = t[l * 2];
                s = t[l * 2 + 1];
                if (Math.abs(r - n) > .01 || Math.abs(a - s) > .01) {
                    this._points.push(n, s)
                }
                r = n;
                a = s
            }
        }
        ;
        e.getData = function(t, e, i) {
            var n = [];
            var s = [];
            this.borderWidth > 0 && this.createLine2(this._points, n, this.borderWidth, i, s, this._points.length / 2);
            this.mUint16Array.set(n, 0);
            this.mFloat32Array.set(s, 0);
            t.append(this.mUint16Array);
            e.append(this.mFloat32Array)
        }
        ;
        return r
    }(Ii);
    var Bn = function(t) {
        function c(t, e, i, n, s) {
            this._points = [];
            var r = NaN;
            var a = NaN;
            var o = -1;
            var l = -1;
            var h = i.length / 2 - 1;
            for (var u = 0; u < h; u++) {
                r = i[u * 2];
                a = i[u * 2 + 1];
                if (Math.abs(o - r) > .01 || Math.abs(l - a) > .01) {
                    this._points.push(r, a)
                }
                o = r;
                l = a
            }
            r = i[h * 2];
            a = i[h * 2 + 1];
            o = this._points[0];
            l = this._points[1];
            if (Math.abs(o - r) > .01 || Math.abs(l - a) > .01) {
                this._points.push(r, a)
            }
            c.__super.call(this, t, e, 0, 0, this._points.length / 2, 0, n, s)
        }
        x(c, "laya.webgl.shapes.LoopLine", t);
        var e = c.prototype;
        e.getData = function(t, e, i) {
            if (this.borderWidth > 0) {
                var n = this.color;
                var s = (n >> 16 & 255) / 255
                  , r = (n >> 8 & 255) / 255
                  , a = (n & 255) / 255;
                var o = [];
                var l = -1
                  , h = -1;
                var u = 0
                  , c = 0;
                var f = [];
                var d = Math.floor(this._points.length / 2);
                for (var _ = 0; _ < d; _++) {
                    u = this._points[_ * 2];
                    c = this._points[_ * 2 + 1];
                    o.push(this.x + u, this.y + c, s, r, a)
                }
                this.createLoopLine(o, f, this.borderWidth, i + o.length / 5);
                t.append(new Uint16Array(f));
                e.append(new Float32Array(o))
            }
        }
        ;
        e.createLoopLine = function(t, e, i, n, s, r) {
            var a = t.length / 5;
            var o = t.concat();
            var l = s ? s : t;
            var h = this.borderColor;
            var u = (h >> 16 & 255) / 255
              , c = (h >> 8 & 255) / 255
              , f = (h & 255) / 255;
            var d = [o[0], o[1]];
            var _ = [o[o.length - 5], o[o.length - 4]];
            var p = _[0] + (d[0] - _[0]) * .5;
            var m = _[1] + (d[1] - _[1]) * .5;
            o.unshift(p, m, 0, 0, 0);
            o.push(p, m, 0, 0, 0);
            var g = o.length / 5;
            var v = n
              , b = i / 2;
            var y, x, w, C, S, T, R, I;
            var A, G, M, L, W, E;
            var N, V, Z, B, k, P;
            var F, X, D;
            w = o[0];
            C = o[1];
            S = o[5];
            T = o[6];
            A = -(C - T);
            G = w - S;
            D = Math.sqrt(A * A + G * G);
            A = A / D * b;
            G = G / D * b;
            l.push(w - A, C - G, u, c, f, w + A, C + G, u, c, f);
            for (var Y = 1; Y < g - 1; Y++) {
                w = o[(Y - 1) * 5];
                C = o[(Y - 1) * 5 + 1];
                S = o[Y * 5];
                T = o[Y * 5 + 1];
                R = o[(Y + 1) * 5];
                I = o[(Y + 1) * 5 + 1];
                A = -(C - T);
                G = w - S;
                D = Math.sqrt(A * A + G * G);
                A = A / D * b;
                G = G / D * b;
                M = -(T - I);
                L = S - R;
                D = Math.sqrt(M * M + L * L);
                M = M / D * b;
                L = L / D * b;
                N = -G + C - (-G + T);
                V = -A + S - (-A + w);
                Z = (-A + w) * (-G + T) - (-A + S) * (-G + C);
                B = -L + I - (-L + T);
                k = -M + S - (-M + R);
                P = (-M + R) * (-L + T) - (-M + S) * (-L + I);
                F = N * k - B * V;
                if (Math.abs(F) < .1) {
                    F += 10.1;
                    l.push(S - A, T - G, u, c, f, S + A, T + G, u, c, f);
                    continue
                }
                y = (V * P - k * Z) / F;
                x = (B * Z - N * P) / F;
                X = (y - S) * (y - S) + (x - T) + (x - T);
                l.push(y, x, u, c, f, S - (y - S), T - (x - T), u, c, f)
            }
            if (r) {
                e = r
            }
            var O = this.edges + 1;
            for (Y = 1; Y < O; Y++) {
                e.push(v + (Y - 1) * 2, v + (Y - 1) * 2 + 1, v + Y * 2 + 1, v + Y * 2 + 1, v + Y * 2, v + (Y - 1) * 2)
            }
            e.push(v + (Y - 1) * 2, v + (Y - 1) * 2 + 1, v + 1, v + 1, v, v + (Y - 1) * 2);
            return l
        }
        ;
        return c
    }(Ii);
    var kn = function(t) {
        function a(t, e, i, n, s, r) {
            this._points = null;
            this._start = -1;
            this._repaint = false;
            this.earcutTriangles = null;
            this._mat = Ce.create();
            this._points = i.slice(0, i.length);
            a.__super.call(this, t, e, 0, 0, this._points.length / 2, n, s, r)
        }
        x(a, "laya.webgl.shapes.Polygon", t);
        var e = a.prototype;
        e.rebuild = function(t) {
            if (!this._repaint) {
                this._points.length = 0;
                this._points = this._points.concat(t)
            }
        }
        ;
        e.setMatrix = function(t) {
            t.copyTo(this._mat)
        }
        ;
        e.needUpdate = function(t) {
            this._repaint = this._mat.a == t.a && this._mat.b == t.b && this._mat.c == t.c && this._mat.d == t.d && this._mat.tx == t.tx && this._mat.ty == t.ty;
            return !this._repaint
        }
        ;
        e.getData = function(t, e, i) {
            var n, s = 0;
            var r = this._points;
            var a = 0;
            if (this.mUint16Array && this.mFloat32Array && this._repaint) {
                if (this._start != i) {
                    this._start = i;
                    n = [];
                    a = this.earcutTriangles.length;
                    for (s = 0; s < a; s++) {
                        n.push(this.earcutTriangles[s] + i)
                    }
                    this.mUint16Array = new Uint16Array(n)
                }
            } else {
                this._start = i;
                n = [];
                var o = [];
                var l = [];
                var h = this.color;
                var u = (h >> 16 & 255) / 255
                  , c = (h >> 8 & 255) / 255
                  , f = (h & 255) / 255;
                a = Math.floor(r.length / 2);
                for (s = 0; s < a; s++) {
                    o.push(this.x + r[s * 2], this.y + r[s * 2 + 1], u, c, f);
                    l.push(this.x + r[s * 2], this.y + r[s * 2 + 1])
                }
                this.earcutTriangles = Ai.earcut(l, null, 2);
                a = this.earcutTriangles.length;
                for (s = 0; s < a; s++) {
                    n.push(this.earcutTriangles[s] + i)
                }
                this.mUint16Array = new Uint16Array(n);
                this.mFloat32Array = new Float32Array(o)
            }
            t.append(this.mUint16Array);
            e.append(this.mFloat32Array)
        }
        ;
        return a
    }(Ii);
    var Pn = function(t) {
        function r() {
            this._matrix = new Ce;
            this._matrix4 = Fi.defaultMatrix4.concat();
            r.__super.call(this, 1e4);
            this.shaderValue = new mn(0,0)
        }
        x(r, "laya.webgl.submit.SubmitCanvas", t);
        var e = r.prototype;
        e.renderSubmit = function() {
            if (this._ctx_src._targets) {
                this._ctx_src._targets.flush(this._ctx_src);
                return 1
            }
            var t = Oi.worldAlpha;
            var e = Oi.worldMatrix4;
            var i = Oi.worldMatrix;
            var n = Oi.worldFilters;
            var s = Oi.worldShaderDefines;
            var r = this.shaderValue;
            var a = this._matrix;
            var o = this._matrix4;
            var l = Ce.TEMP;
            Ce.mul(a, i, l);
            o[0] = l.a;
            o[1] = l.b;
            o[4] = l.c;
            o[5] = l.d;
            o[12] = l.tx;
            o[13] = l.ty;
            Oi.worldMatrix = l.clone();
            Oi.worldMatrix4 = o;
            Oi.worldAlpha = Oi.worldAlpha * r.alpha;
            if (r.filters && r.filters.length) {
                Oi.worldFilters = r.filters;
                Oi.worldShaderDefines = r.defines
            }
            this._ctx_src.flush();
            Oi.worldAlpha = t;
            Oi.worldMatrix4 = e;
            Oi.worldMatrix.destroy();
            Oi.worldMatrix = i;
            Oi.worldFilters = n;
            Oi.worldShaderDefines = s;
            return 1
        }
        ;
        e.releaseRender = function() {
            var t = r._cache;
            this._ctx_src = null;
            t[t._length++] = this
        }
        ;
        e.getRenderType = function() {
            return 10003
        }
        ;
        r.create = function(t, e, i) {
            var n = !r._cache._length ? new r : r._cache[--r._cache._length];
            n._ctx_src = t;
            var s = n.shaderValue;
            s.alpha = e;
            s.defines.setValue(0);
            i && i.length && s.setFilters(i);
            return n
        }
        ;
        r._cache = (r._cache = [],
        r._cache._length = 0,
        r._cache);
        return r
    }(Mi);
    var Fn = function(t) {
        function h(t) {
            this._preIsSameTextureShader = false;
            this._isSameTexture = true;
            this._texs = new Array;
            this._texsID = new Array;
            this._vbPos = new Array;
            t === void 0 && (t = 1e4);
            h.__super.call(this, t)
        }
        x(h, "laya.webgl.submit.SubmitTexture", t);
        var e = h.prototype;
        e.releaseRender = function() {
            var t = h._cache;
            t[t._length++] = this;
            this.shaderValue.release();
            this._preIsSameTextureShader = false;
            this._vb = null;
            this._texs.length = 0;
            this._vbPos.length = 0;
            this._isSameTexture = true
        }
        ;
        e.addTexture = function(t, e) {
            this._texsID[this._texs.length] = t._uvID;
            this._texs.push(t);
            this._vbPos.push(e)
        }
        ;
        e.checkTexture = function() {
            if (this._texs.length < 1) {
                this._isSameTexture = true;
                return
            }
            var t = this.shaderValue.textureHost;
            var e = t.bitmap;
            if (e === null)
                return;
            var i = this._vb.getFloat32Array();
            for (var n = 0, s = this._texs.length; n < s; n++) {
                var r = this._texs[n];
                r.active();
                var a = r.uv;
                if (this._texsID[n] !== r._uvID) {
                    this._texsID[n] = r._uvID;
                    var o = this._vbPos[n];
                    i[o + 2] = a[0];
                    i[o + 3] = a[1];
                    i[o + 6] = a[2];
                    i[o + 7] = a[3];
                    i[o + 10] = a[4];
                    i[o + 11] = a[5];
                    i[o + 14] = a[6];
                    i[o + 15] = a[7];
                    this._vb.setNeedUpload()
                }
                if (r.bitmap !== e) {
                    this._isSameTexture = false
                }
            }
        }
        ;
        e.renderSubmit = function() {
            if (this._numEle === 0) {
                h._shaderSet = false;
                return 1
            }
            var t = this.shaderValue.textureHost;
            if (t) {
                var e = t.source;
                if (!t.bitmap || !e) {
                    h._shaderSet = false;
                    return 1
                }
                this.shaderValue.texture = e
            }
            this._vb.bind_upload(this._ib);
            var i = Hi.mainContext;
            if (di.activeBlendFunction !== this._blendFn) {
                i.enable(3042);
                this._blendFn(i);
                di.activeBlendFunction = this._blendFn
            }
            ii.drawCall++;
            ii.trianglesFaces += this._numEle / 3;
            if (this._preIsSameTextureShader && On.activeShader && h._shaderSet)
                On.activeShader.uploadTexture2D(this.shaderValue.texture);
            else
                this.shaderValue.upload();
            h._shaderSet = true;
            if (this._texs.length > 1 && !this._isSameTexture) {
                var n = t.bitmap;
                var s = 0;
                var r = On.activeShader;
                for (var a = 0, o = this._texs.length; a < o; a++) {
                    var l = this._texs[a];
                    if (l.bitmap !== n || a + 1 === o) {
                        r.uploadTexture2D(l.source);
                        i.drawElements(4, (a - s + 1) * 6, 5123, this._startIdx + s * 6 * Fi.BYTES_PIDX);
                        n = l.bitmap;
                        s = a
                    }
                }
            } else {
                i.drawElements(4, this._numEle, 5123, this._startIdx)
            }
            return 1
        }
        ;
        h.create = function(t, e, i, n, s) {
            var r = h._cache._length ? h._cache[--h._cache._length] : new h;
            if (i == null) {
                i = r._selfVb || (r._selfVb = or.create(-1));
                i.clear();
                n = 0
            }
            r._ib = e;
            r._vb = i;
            r._startIdx = n * Fi.BYTES_PIDX;
            r._numEle = 0;
            var a = t._nBlendType;
            r._blendFn = t._targets ? di.targetFns[a] : di.fns[a];
            r.shaderValue = s;
            r.shaderValue.setValue(t._shader2D);
            var o = t._shader2D.filters;
            o && r.shaderValue.setFilters(o);
            return r
        }
        ;
        h._cache = (h._cache = [],
        h._cache._length = 0,
        h._cache);
        h._shaderSet = true;
        return h
    }(Mi);
    var Xn = function(t) {
        function b() {
            b.__super.call(this, laya.webgl.utils.MeshTexture.const_stride, 0, 0);
            this.canReuse = true;
            this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo)
        }
        x(b, "laya.webgl.utils.MeshTexture", t);
        var e = b.prototype;
        e.addData = function(t, e, i, n, s, r) {
            var a = t.length / 2;
            var o = this._vb.needSize(a * b.const_stride);
            var l = o >> 2;
            var h = this._vb.getFloat32Array();
            var u = 0;
            for (var c = 0; c < a; c++) {
                var f = t[u]
                  , d = t[u + 1];
                var _ = f * n.a + d * n.c + n.tx;
                var p = f * n.b + d * n.d + n.ty;
                h[l++] = _;
                h[l++] = p;
                h[l++] = e[u];
                h[l++] = e[u + 1];
                u += 2
            }
            this._vb.setNeedUpload();
            var m = this.vertNum;
            if (m > 0) {
                var g = i.length;
                if (g > b.tmpIdx.length)
                    b.tmpIdx = new Uint16Array(g);
                for (var v = 0; v < g; v++) {
                    b.tmpIdx[v] = i[v] + m
                }
                this._ib.appendU16Array(b.tmpIdx, i.length)
            } else {
                this._ib.append(i)
            }
            this._ib.setNeedUpload();
            this.vertNum += a;
            this.indexNum += i.length
        }
        ;
        e.releaseMesh = function() {
            this._vb._byteLength = 0;
            this._ib._byteLength = 0;
            this.vertNum = 0;
            this.indexNum = 0;
            laya.webgl.utils.MeshTexture._POOL.push(this)
        }
        ;
        e.destroy = function() {
            this._ib.destroy();
            this._vb.destroy()
        }
        ;
        b.getAMesh = function() {
            if (laya.webgl.utils.MeshTexture._POOL.length) {
                return laya.webgl.utils.MeshTexture._POOL.pop()
            }
            return new b
        }
        ;
        b.const_stride = 16;
        b._POOL = [];
        u(b, ["_fixattriInfo", function() {
            return this._fixattriInfo = [5126, 2, 0, 5126, 2, 8]
        }
        , "tmpIdx", function() {
            return this.tmpIdx = new Uint16Array(4)
        }
        ]);
        return b
    }(Yi);
    var Dn = function(s) {
        function i() {
            this._transform = null;
            this._tfChanged = false;
            this._x = 0;
            this._y = 0;
            this._width = 0;
            this._height = 0;
            this._repaint = 1;
            this._mouseEnableState = 0;
            this._zOrder = 0;
            this._graphics = null;
            this._renderType = 0;
            this._optimizeScrollRect = false;
            this._texture = null;
            this.isCKSpr = true;
            this.mouseThrough = false;
            this.autoSize = false;
            this.hitTestPrior = false;
            this.viewport = null;
            i.__super.call(this);
            this._style = ne.EMPTY
        }
        x(i, "laya.display.Sprite", s);
        var t = i.prototype;
        st.imps(t, {
            "laya.display.ILayout": true
        });
        t.createConchModel = function() {
            return new ConchNode
        }
        ;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            this._releaseMem();
            s.prototype.destroy.call(this, t);
            this._style && this._style.destroy();
            this._transform && this._transform.destroy();
            this._transform = null;
            this._style = null;
            this._graphics = null
        }
        ;
        t.updateZOrder = function() {
            ai.updateOrder(this._childs) && this.repaint()
        }
        ;
        t.reCache = function() {
            if (this._$P.cacheCanvas)
                this._$P.cacheCanvas.reCache = true;
            this._repaint = 1
        }
        ;
        t.setBounds = function(t) {
            this._set$P("uBounds", t)
        }
        ;
        t.getBounds = function() {
            if (!this._$P.mBounds)
                this._set$P("mBounds", new Te);
            return Te._getWrapRec(this._boundPointsToParent(), this._$P.mBounds)
        }
        ;
        t.getSelfBounds = function() {
            if (this._$P.uBounds)
                return this._$P.uBounds;
            if (!this._$P.mBounds)
                this._set$P("mBounds", new Te);
            return Te._getWrapRec(this._getBoundPointsM(false), this._$P.mBounds)
        }
        ;
        t._boundPointsToParent = function(t) {
            t === void 0 && (t = false);
            var e = 0
              , i = 0;
            if (this._style) {
                e = this._style._tf.translateX;
                i = this._style._tf.translateY;
                t = t || this._style._tf.rotate !== 0;
                if (this._style.scrollRect) {
                    e += this._style.scrollRect.x;
                    i += this._style.scrollRect.y
                }
            }
            var n = this._getBoundPointsM(t);
            if (!n || n.length < 1)
                return n;
            if (n.length != 8) {
                n = t ? xe.scanPList(n) : Te._getWrapRec(n, Te.TEMP)._getBoundPoints()
            }
            if (!this.transform) {
                ai.transPointList(n, this._x - e, this._y - i);
                return n
            }
            var s = Se.TEMP;
            var r = 0
              , a = n.length;
            for (r = 0; r < a; r += 2) {
                s.x = n[r];
                s.y = n[r + 1];
                this.toParentPoint(s);
                n[r] = s.x;
                n[r + 1] = s.y
            }
            return n
        }
        ;
        t.getGraphicBounds = function(t) {
            t === void 0 && (t = false);
            if (!this._graphics)
                return Te.TEMP.setTo(0, 0, 0, 0);
            return this._graphics.getBounds(t)
        }
        ;
        t._getBoundPointsM = function(t) {
            t === void 0 && (t = false);
            if (this._$P.uBounds)
                return this._$P.uBounds._getBoundPoints();
            if (!this._$P.temBM)
                this._set$P("temBM", []);
            if (this.scrollRect) {
                var e = ai.clearArray(this._$P.temBM);
                var i = Te.TEMP;
                i.copyFrom(this.scrollRect);
                ai.concatArray(e, i._getBoundPoints());
                return e
            }
            var n = this._graphics ? this._graphics.getBoundPoints() : ai.clearArray(this._$P.temBM);
            var s;
            var r;
            var a;
            a = this._childs;
            for (var o = 0, l = a.length; o < l; o++) {
                s = a[o];
                if (s instanceof laya.display.Sprite && s.visible == true) {
                    r = s._boundPointsToParent(t);
                    if (r)
                        n = n ? ai.concatArray(n, r) : r
                }
            }
            return n
        }
        ;
        t.getStyle = function() {
            this._style === ne.EMPTY && (this._style = new ne);
            return this._style
        }
        ;
        t.setStyle = function(t) {
            this._style = t
        }
        ;
        t._adjustTransform = function() {
            this._tfChanged = false;
            var t = this._style;
            var e = t._tf;
            var i = e.scaleX
              , n = e.scaleY;
            var s;
            if (e.rotate || i !== 1 || n !== 1 || e.skewX || e.skewY) {
                s = this._transform || (this._transform = Ce.create());
                s.bTransform = true;
                var r = (e.rotate - e.skewX) * .0174532922222222;
                var a = (e.rotate + e.skewY) * .0174532922222222;
                var o = Math.cos(a);
                var l = Math.sin(a);
                var h = Math.sin(r);
                var u = Math.cos(r);
                s.a = i * o;
                s.b = i * l;
                s.c = -n * h;
                s.d = n * u;
                s.tx = s.ty = 0;
                return s
            } else {
                this._transform && this._transform.destroy();
                this._transform = null;
                this._renderType &= ~4
            }
            return s
        }
        ;
        t.pos = function(t, e, i) {
            i === void 0 && (i = false);
            if (this._x !== t || this._y !== e) {
                if (this.destroyed)
                    return this;
                if (i) {
                    this._x = t;
                    this._y = e;
                    this.conchModel && this.conchModel.pos(this._x, this._y);
                    var n = this._parent;
                    if (n && n._repaint === 0) {
                        n._repaint = 1;
                        n.parentRepaint()
                    }
                    if (this._$P.maskParent && this._$P.maskParent._repaint === 0) {
                        this._$P.maskParent._repaint = 1;
                        this._$P.maskParent.parentRepaint()
                    }
                } else {
                    this.x = t;
                    this.y = e
                }
            }
            return this
        }
        ;
        t.pivot = function(t, e) {
            this.pivotX = t;
            this.pivotY = e;
            return this
        }
        ;
        t.size = function(t, e) {
            this.width = t;
            this.height = e;
            return this
        }
        ;
        t.scale = function(t, e, i) {
            i === void 0 && (i = false);
            var n = this.getStyle();
            var s = n._tf;
            if (s.scaleX != t || s.scaleY != e) {
                if (this.destroyed)
                    return this;
                if (i) {
                    n.setScale(t, e);
                    this._tfChanged = true;
                    this.conchModel && this.conchModel.scale(t, e);
                    this._renderType |= 4;
                    var r = this._parent;
                    if (r && r._repaint === 0) {
                        r._repaint = 1;
                        r.parentRepaint()
                    }
                } else {
                    this.scaleX = t;
                    this.scaleY = e
                }
            }
            return this
        }
        ;
        t.skew = function(t, e) {
            this.skewX = t;
            this.skewY = e;
            return this
        }
        ;
        t.render = function(t, e, i) {
            ii.spriteCount++;
            Pe.renders[this._renderType]._fun(this, t, e + this._x, i + this._y);
            this._repaint = 0
        }
        ;
        t.drawToCanvas = function(t, e, i, n) {
            if (Be.isConchNode) {
                var s = Ss.create("2D");
                var r = new ke(t,e,s);
                r.ctx.setCanvasType(1);
                this.conchModel.drawToCanvas(s.source, i, n);
                return s
            } else {
                return G.drawToCanvas(this, this._renderType, t, e, i, n)
            }
        }
        ;
        t.customRender = function(t, e, i) {
            this._renderType |= 1024
        }
        ;
        t._applyFilters = function() {
            if (Be.isWebGL)
                return;
            var t;
            t = this._$P.filters;
            if (!t || t.length < 1)
                return;
            for (var e = 0, i = t.length; e < i; e++) {
                t[e].action.apply(this._$P.cacheCanvas)
            }
        }
        ;
        t._isHaveGlowFilter = function() {
            var t = 0
              , e = 0;
            if (this.filters) {
                for (t = 0; t < this.filters.length; t++) {
                    if (this.filters[t].type == 8) {
                        return true
                    }
                }
            }
            for (t = 0,
            e = this._childs.length; t < e; t++) {
                if (this._childs[t]._isHaveGlowFilter()) {
                    return true
                }
            }
            return false
        }
        ;
        t.localToGlobal = function(t, e) {
            e === void 0 && (e = false);
            if (e === true) {
                t = new Se(t.x,t.y)
            }
            var i = this;
            while (i) {
                if (i == st.stage)
                    break;
                t = i.toParentPoint(t);
                i = i.parent
            }
            return t
        }
        ;
        t.globalToLocal = function(t, e) {
            e === void 0 && (e = false);
            if (e) {
                t = new Se(t.x,t.y)
            }
            var i = this;
            var n = [];
            while (i) {
                if (i == st.stage)
                    break;
                n.push(i);
                i = i.parent
            }
            var s = n.length - 1;
            while (s >= 0) {
                i = n[s];
                t = i.fromParentPoint(t);
                s--
            }
            return t
        }
        ;
        t.toParentPoint = function(t) {
            if (!t)
                return t;
            t.x -= this.pivotX;
            t.y -= this.pivotY;
            if (this.transform) {
                this._transform.transformPoint(t)
            }
            t.x += this._x;
            t.y += this._y;
            var e = this._style.scrollRect;
            if (e) {
                t.x -= e.x;
                t.y -= e.y
            }
            return t
        }
        ;
        t.fromParentPoint = function(t) {
            if (!t)
                return t;
            t.x -= this._x;
            t.y -= this._y;
            var e = this._style.scrollRect;
            if (e) {
                t.x += e.x;
                t.y += e.y
            }
            if (this.transform) {
                this._transform.invertTransformPoint(t)
            }
            t.x += this.pivotX;
            t.y += this.pivotY;
            return t
        }
        ;
        t.on = function(t, e, i, n) {
            if (this._mouseEnableState !== 1 && this.isMouseEvent(t)) {
                this.mouseEnabled = true;
                this._setBit(2, true);
                if (this._parent) {
                    this._$2__onDisplay()
                }
                return this._createListener(t, e, i, n, false)
            }
            return s.prototype.on.call(this, t, e, i, n)
        }
        ;
        t.once = function(t, e, i, n) {
            if (this._mouseEnableState !== 1 && this.isMouseEvent(t)) {
                this.mouseEnabled = true;
                this._setBit(2, true);
                if (this._parent) {
                    this._$2__onDisplay()
                }
                return this._createListener(t, e, i, n, true)
            }
            return s.prototype.once.call(this, t, e, i, n)
        }
        ;
        t._$2__onDisplay = function() {
            if (this._mouseEnableState !== 1) {
                var t = this;
                t = t.parent;
                while (t && t._mouseEnableState !== 1) {
                    if (t._getBit(2))
                        break;
                    t.mouseEnabled = true;
                    t._setBit(2, true);
                    t = t.parent
                }
            }
        }
        ;
        t.loadImage = function(t, e, i, n, s, r) {
            var a = this;
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            function o(t) {
                if (!a.destroyed) {
                    a.size(e + (n || t.width), i + (s || t.height));
                    a.repaint();
                    r && r.runWith(t)
                }
            }
            this.graphics.loadImage(t, e, i, n, s, o);
            return this
        }
        ;
        t.repaint = function() {
            this.conchModel && this.conchModel.repaint && this.conchModel.repaint();
            if (this._repaint === 0) {
                this._repaint = 1;
                this.parentRepaint()
            }
            if (this._$P && this._$P.maskParent) {
                this._$P.maskParent.repaint()
            }
        }
        ;
        t._needRepaint = function() {
            return this._repaint !== 0 && this._$P.cacheCanvas && this._$P.cacheCanvas.reCache
        }
        ;
        t._childChanged = function(t) {
            if (this._childs.length)
                this._renderType |= 2048;
            else
                this._renderType &= ~2048;
            if (t && this._get$P("hasZorder"))
                st.timer.callLater(this, this.updateZOrder);
            this.repaint()
        }
        ;
        t.parentRepaint = function() {
            var t = this._parent;
            if (t && t._repaint === 0) {
                t._repaint = 1;
                t.parentRepaint()
            }
        }
        ;
        t.startDrag = function(t, e, i, n, s, r, a) {
            e === void 0 && (e = false);
            i === void 0 && (i = 0);
            n === void 0 && (n = 300);
            r === void 0 && (r = false);
            a === void 0 && (a = .92);
            this._$P.dragging || this._set$P("dragging", new Qe);
            this._$P.dragging.start(this, t, e, i, n, s, r, a)
        }
        ;
        t.stopDrag = function() {
            this._$P.dragging && this._$P.dragging.stop()
        }
        ;
        t._releaseMem = function() {
            if (!this._$P)
                return;
            var t = this._$P.cacheCanvas;
            if (t && t.ctx) {
                ei.recover("RenderContext", t.ctx);
                t.ctx.canvas.size(0, 0);
                t.ctx = null
            }
            var e = this._$P._filterCache;
            if (e) {
                e.destroy();
                e.recycle();
                this._set$P("_filterCache", null)
            }
            this._$P._isHaveGlowFilter && this._set$P("_isHaveGlowFilter", false);
            this._$P._isHaveGlowFilter = null
        }
        ;
        t._setDisplay = function(t) {
            if (!t)
                this._releaseMem();
            s.prototype._setDisplay.call(this, t)
        }
        ;
        t.hitTestPoint = function(t, e) {
            var i = this.globalToLocal(Se.TEMP.setTo(t, e));
            t = i.x;
            e = i.y;
            var n = this._$P.hitArea ? this._$P.hitArea : this._width > 0 && this._height > 0 ? Te.TEMP.setTo(0, 0, this._width, this._height) : this.getSelfBounds();
            return n.contains(t, e)
        }
        ;
        t.getMousePoint = function() {
            return this.globalToLocal(Se.TEMP.setTo(st.stage.mouseX, st.stage.mouseY))
        }
        ;
        t._getWords = function() {
            return null
        }
        ;
        t._addChildsToLayout = function(n) {
            var t = this._getWords();
            if (t == null && this._childs.length == 0)
                return false;
            if (t) {
                for (var e = 0, i = t.length; e < i; e++) {
                    n.push(t[e])
                }
            }
            this._childs.forEach(function(t, e, i) {
                t._style._enableLayout() && t._addToLayout(n)
            });
            return true
        }
        ;
        t._addToLayout = function(t) {
            if (this._style.absolute)
                return;
            this._style.block ? t.push(this) : this._addChildsToLayout(t) && (this.x = this.y = 0)
        }
        ;
        t._isChar = function() {
            return false
        }
        ;
        t._getCSSStyle = function() {
            return this._style.getCSSStyle()
        }
        ;
        t._setAttributes = function(t, e) {
            switch (t) {
            case "x":
                this.x = parseFloat(e);
                break;
            case "y":
                this.y = parseFloat(e);
                break;
            case "width":
                this.width = parseFloat(e);
                break;
            case "height":
                this.height = parseFloat(e);
                break;
            default:
                this[t] = e
            }
        }
        ;
        t._layoutLater = function() {
            this.parent && this.parent._layoutLater()
        }
        ;
        p(0, t, "optimizeScrollRect", function() {
            return this._optimizeScrollRect
        }, function(t) {
            if (this._optimizeScrollRect != t) {
                this._optimizeScrollRect = t;
                this.conchModel && this.conchModel.optimizeScrollRect(t)
            }
        });
        p(0, t, "customRenderEnable", null, function(t) {
            if (t) {
                this._renderType |= 1024;
                if (Be.isConchNode) {
                    i.CustomList.push(this);
                    var e = new Ss("2d");
                    e._setContext(new CanvasRenderingContext2D);
                    this.customContext = new ke(0,0,e);
                    e.context.setCanvasType && e.context.setCanvasType(2);
                    this.conchModel.custom(e.context)
                }
            }
        });
        p(0, t, "cacheAsBitmap", function() {
            return this.cacheAs !== "none"
        }, function(t) {
            this.cacheAs = t ? this._$P["hasFilter"] ? "none" : "normal" : "none"
        });
        p(0, t, "cacheAs", function() {
            return this._$P.cacheCanvas == null ? "none" : this._$P.cacheCanvas.type
        }, function(t) {
            var e = this._$P.cacheCanvas;
            if (t === (e ? e.type : "none"))
                return;
            if (t !== "none") {
                if (!this._getBit(1))
                    this._setUpNoticeType(1);
                e || (e = this._set$P("cacheCanvas", ei.getItemByClass("cacheCanvas", Object)));
                e.type = t;
                e.reCache = true;
                this._renderType |= 16;
                if (t == "bitmap")
                    this.conchModel && this.conchModel.cacheAs(1);
                this._set$P("cacheForFilters", false)
            } else {
                if (this._$P["_mask"]) {} else if (this._$P["hasFilter"]) {
                    this._set$P("cacheForFilters", true)
                } else {
                    if (e) {
                        var i = e;
                        if (i && i.ctx) {
                            ei.recover("RenderContext", i.ctx);
                            i.ctx.canvas.size(0, 0);
                            i.ctx = null
                        }
                        ei.recover("cacheCanvas", e)
                    }
                    this._$P.cacheCanvas = null;
                    this._renderType &= ~16;
                    this.conchModel && this.conchModel.cacheAs(0)
                }
            }
            this.repaint()
        });
        p(0, t, "zOrder", function() {
            return this._zOrder
        }, function(t) {
            if (this._zOrder != t) {
                this._zOrder = t;
                this.conchModel && this.conchModel.setZOrder && this.conchModel.setZOrder(t);
                if (this._parent) {
                    t && this._parent._set$P("hasZorder", true);
                    st.timer.callLater(this._parent, this.updateZOrder)
                }
            }
        });
        p(0, t, "rotation", function() {
            return this._style._tf.rotate
        }, function(t) {
            var e = this.getStyle();
            if (e._tf.rotate !== t) {
                e.setRotate(t);
                this._tfChanged = true;
                this.conchModel && this.conchModel.rotate(t);
                this._renderType |= 4;
                var i = this._parent;
                if (i && i._repaint === 0) {
                    i._repaint = 1;
                    i.parentRepaint()
                }
            }
        });
        p(0, t, "width", function() {
            if (!this.autoSize)
                return this._width;
            return this.getSelfBounds().width
        }, function(t) {
            if (this._width !== t) {
                this._width = t;
                this.conchModel && this.conchModel.size(t, this._height);
                this.repaint()
            }
        });
        p(0, t, "x", function() {
            return this._x
        }, function(t) {
            if (this._x !== t) {
                if (this.destroyed)
                    return;
                this._x = t;
                this.conchModel && this.conchModel.pos(t, this._y);
                var e = this._parent;
                if (e && e._repaint === 0) {
                    e._repaint = 1;
                    e.parentRepaint()
                }
                if (this._$P.maskParent && this._$P.maskParent._repaint === 0) {
                    this._$P.maskParent._repaint = 1;
                    this._$P.maskParent.parentRepaint()
                }
            }
        });
        p(0, t, "globalScaleY", function() {
            var t = 1;
            var e = this;
            while (e) {
                if (e === st.stage)
                    break;
                t *= e.scaleY;
                e = e.parent
            }
            return t
        });
        p(0, t, "hitArea", function() {
            return this._$P.hitArea
        }, function(t) {
            this._set$P("hitArea", t)
        });
        p(0, t, "staticCache", function() {
            return this._$P.staticCache
        }, function(t) {
            this._set$P("staticCache", t);
            if (!t)
                this.reCache()
        });
        p(0, t, "texture", function() {
            return this._texture
        }, function(t) {
            if (this._texture != t) {
                this._texture = t;
                this.graphics.cleanByTexture(t, 0, 0)
            }
        });
        p(0, t, "y", function() {
            return this._y
        }, function(t) {
            if (this._y !== t) {
                if (this.destroyed)
                    return;
                this._y = t;
                this.conchModel && this.conchModel.pos(this._x, t);
                var e = this._parent;
                if (e && e._repaint === 0) {
                    e._repaint = 1;
                    e.parentRepaint()
                }
                if (this._$P.maskParent && this._$P.maskParent._repaint === 0) {
                    this._$P.maskParent._repaint = 1;
                    this._$P.maskParent.parentRepaint()
                }
            }
        });
        p(0, t, "height", function() {
            if (!this.autoSize)
                return this._height;
            return this.getSelfBounds().height
        }, function(t) {
            if (this._height !== t) {
                this._height = t;
                this.conchModel && this.conchModel.size(this._width, t);
                this.repaint()
            }
        });
        p(0, t, "blendMode", function() {
            return this._style.blendMode
        }, function(t) {
            this.getStyle().blendMode = t;
            this.conchModel && this.conchModel.blendMode(t);
            if (t && t != "source-over")
                this._renderType |= 8;
            else
                this._renderType &= ~8;
            this.parentRepaint()
        });
        p(0, t, "scaleX", function() {
            return this._style._tf.scaleX
        }, function(t) {
            var e = this.getStyle();
            if (e._tf.scaleX !== t) {
                e.setScaleX(t);
                this._tfChanged = true;
                this.conchModel && this.conchModel.scale(t, e._tf.scaleY);
                this._renderType |= 4;
                var i = this._parent;
                if (i && i._repaint === 0) {
                    i._repaint = 1;
                    i.parentRepaint()
                }
            }
        });
        p(0, t, "scaleY", function() {
            return this._style._tf.scaleY
        }, function(t) {
            var e = this.getStyle();
            if (e._tf.scaleY !== t) {
                e.setScaleY(t);
                this._tfChanged = true;
                this.conchModel && this.conchModel.scale(e._tf.scaleX, t);
                this._renderType |= 4;
                var i = this._parent;
                if (i && i._repaint === 0) {
                    i._repaint = 1;
                    i.parentRepaint()
                }
            }
        });
        p(0, t, "stage", function() {
            return st.stage
        });
        p(0, t, "skewX", function() {
            return this._style._tf.skewX
        }, function(t) {
            var e = this.getStyle();
            if (e._tf.skewX !== t) {
                e.setSkewX(t);
                this._tfChanged = true;
                this.conchModel && this.conchModel.skew(t, e._tf.skewY);
                this._renderType |= 4;
                var i = this._parent;
                if (i && i._repaint === 0) {
                    i._repaint = 1;
                    i.parentRepaint()
                }
            }
        });
        p(0, t, "scrollRect", function() {
            return this._style.scrollRect
        }, function(t) {
            this.getStyle().scrollRect = t;
            this.repaint();
            if (t) {
                this._renderType |= 128;
                this.conchModel && this.conchModel.scrollRect(t.x, t.y, t.width, t.height)
            } else {
                this._renderType &= ~128;
                if (this.conchModel) {
                    if (i.RUNTIMEVERION < "0.9.1")
                        this.conchModel.removeType(64);
                    else
                        this.conchModel.removeType(128)
                }
            }
        });
        p(0, t, "skewY", function() {
            return this._style._tf.skewY
        }, function(t) {
            var e = this.getStyle();
            if (e._tf.skewY !== t) {
                e.setSkewY(t);
                this._tfChanged = true;
                this.conchModel && this.conchModel.skew(e._tf.skewX, t);
                this._renderType |= 4;
                var i = this._parent;
                if (i && i._repaint === 0) {
                    i._repaint = 1;
                    i.parentRepaint()
                }
            }
        });
        p(0, t, "transform", function() {
            return this._tfChanged ? this._adjustTransform() : this._transform
        }, function(t) {
            this._tfChanged = false;
            this._transform = t;
            if (t) {
                this._x = t.tx;
                this._y = t.ty;
                t.tx = t.ty = 0;
                this.conchModel && this.conchModel.transform(t.a, t.b, t.c, t.d, this._x, this._y)
            }
            if (t)
                this._renderType |= 4;
            else {
                this._renderType &= ~4;
                this.conchModel && this.conchModel.removeType(4)
            }
            this.parentRepaint()
        });
        p(0, t, "pivotX", function() {
            return this._style._tf.translateX
        }, function(t) {
            this.getStyle().setTranslateX(t);
            this.conchModel && this.conchModel.pivot(t, this._style._tf.translateY);
            this.repaint()
        });
        p(0, t, "pivotY", function() {
            return this._style._tf.translateY
        }, function(t) {
            this.getStyle().setTranslateY(t);
            this.conchModel && this.conchModel.pivot(this._style._tf.translateX, t);
            this.repaint()
        });
        p(0, t, "alpha", function() {
            return this._style.alpha
        }, function(t) {
            if (this._style && this._style.alpha !== t) {
                t = t < 0 ? 0 : t > 1 ? 1 : t;
                this.getStyle().alpha = t;
                this.conchModel && this.conchModel.alpha(t);
                if (t !== 1)
                    this._renderType |= 2;
                else
                    this._renderType &= ~2;
                this.parentRepaint()
            }
        });
        p(0, t, "visible", function() {
            return this._style.visible
        }, function(t) {
            if (this._style && this._style.visible !== t) {
                this.getStyle().visible = t;
                this.conchModel && this.conchModel.visible(t);
                this.parentRepaint()
            }
        });
        p(0, t, "graphics", function() {
            return this._graphics || (this.graphics = G.createGraphics())
        }, function(t) {
            if (this._graphics)
                this._graphics._sp = null;
            this._graphics = t;
            if (t) {
                this._renderType &= ~1;
                this._renderType |= 512;
                t._sp = this;
                this.conchModel && this.conchModel.graphics(this._graphics)
            } else {
                this._renderType &= ~512;
                this._renderType &= ~1;
                if (this.conchModel) {
                    if (i.RUNTIMEVERION < "0.9.1")
                        this.conchModel.removeType(256);
                    else
                        this.conchModel.removeType(512)
                }
            }
            this.repaint()
        });
        p(0, t, "filters", function() {
            return this._$P.filters
        }, function(t) {
            t && t.length === 0 && (t = null);
            if (this._$P.filters == t)
                return;
            this._set$P("filters", t ? t.slice() : null);
            if (Be.isConchApp) {
                if (this.conchModel) {
                    if (i.RUNTIMEVERION < "0.9.1")
                        this.conchModel.removeType(16);
                    else
                        this.conchModel.removeType(32)
                }
                if (this._$P.filters && this._$P.filters.length == 1) {
                    this._$P.filters[0].callNative(this)
                }
            }
            if (Be.isWebGL) {
                if (t && t.length) {
                    this._renderType |= 32
                } else {
                    this._renderType &= ~32
                }
            }
            if (t && t.length > 0) {
                if (!this._getBit(1))
                    this._setUpNoticeType(1);
                if (!(Be.isWebGL && t.length == 1 && t[0]instanceof laya.filters.ColorFilter)) {
                    if (this.cacheAs != "bitmap") {
                        if (!Be.isConchNode)
                            this.cacheAs = "bitmap";
                        this._set$P("cacheForFilters", true)
                    }
                    this._set$P("hasFilter", true)
                }
            } else {
                this._set$P("hasFilter", false);
                if (this._$P["cacheForFilters"] && this.cacheAs == "bitmap") {
                    this.cacheAs = "none"
                }
            }
            this.repaint()
        });
        p(0, t, "parent", s.prototype._$get_parent, function(t) {
            st.superSet(tn, this, "parent", t);
            if (t && this._getBit(2)) {
                this._$2__onDisplay()
            }
        });
        p(0, t, "mask", function() {
            return this._$P._mask
        }, function(t) {
            if (t && this.mask && this.mask._$P.maskParent)
                return;
            if (t) {
                this.cacheAs = "bitmap";
                this._set$P("_mask", t);
                t._set$P("maskParent", this)
            } else {
                this.mask && this.mask._set$P("maskParent", null);
                this._set$P("_mask", t);
                this.cacheAs = "none"
            }
            this.conchModel && this.conchModel.mask(t ? t.conchModel : null);
            this._renderType |= 64;
            this.parentRepaint()
        });
        p(0, t, "mouseEnabled", function() {
            return this._mouseEnableState > 1
        }, function(t) {
            this._mouseEnableState = t ? 2 : 1
        });
        p(0, t, "globalScaleX", function() {
            var t = 1;
            var e = this;
            while (e) {
                if (e === st.stage)
                    break;
                t *= e.scaleX;
                e = e.parent
            }
            return t
        });
        p(0, t, "mouseX", function() {
            return this.getMousePoint().x
        });
        p(0, t, "mouseY", function() {
            return this.getMousePoint().y
        });
        i.fromImage = function(t) {
            return (new i).loadImage(t)
        }
        ;
        i.CustomList = [];
        u(i, ["RUNTIMEVERION", function() {
            return this.RUNTIMEVERION = a.conch ? conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf("-") + 1) : ""
        }
        ]);
        return i
    }(tn);
    var Yn = function(t) {
        function b() {
            this._aniMap = {};
            this.unfixedLastAniIndex = -1;
            b.__super.call(this);
            this._anis = new Array
        }
        x(b, "laya.ani.AnimationTemplet", t);
        var e = b.prototype;
        e.parse = function(t) {
            var e = new Nt(t);
            this._aniVersion = e.readUTFString();
            A.parse(this, e)
        }
        ;
        e._calculateKeyFrame = function(t, e, i) {
            var n = t.keyFrame;
            n[e] = n[0];
            for (var s = 0; s < e; s++) {
                var r = n[s];
                r.nextData = r.duration === 0 ? r.data : n[s + 1].data
            }
            n.length--
        }
        ;
        e.onAsynLoaded = function(t, e, i) {
            var n = new Nt(e);
            this._aniVersion = n.readUTFString();
            switch (this._aniVersion) {
            case "LAYAANIMATION:02":
                W.parse(this, n);
                break;
            default:
                A.parse(this, n)
            }
            this._endLoaded()
        }
        ;
        e.disposeResource = function() {
            this._aniVersion = null;
            this._anis = null;
            this._aniMap = null;
            this._publicExtData = null;
            this.unfixedCurrentFrameIndexes = null;
            this.unfixedCurrentTimes = null;
            this.unfixedKeyframes = null;
            this._aniClassName = null;
            this._animationDatasCache = null
        }
        ;
        e.getAnimationCount = function() {
            return this._anis.length
        }
        ;
        e.getAnimation = function(t) {
            return this._anis[t]
        }
        ;
        e.getAniDuration = function(t) {
            return this._anis[t].playTime
        }
        ;
        e.getNodes = function(t) {
            return this._anis[t].nodes
        }
        ;
        e.getNodeIndexWithName = function(t, e) {
            return this._anis[t].bone3DMap[e]
        }
        ;
        e.getNodeCount = function(t) {
            return this._anis[t].nodes.length
        }
        ;
        e.getTotalkeyframesLength = function(t) {
            return this._anis[t].totalKeyframeDatasLength
        }
        ;
        e.getPublicExtData = function() {
            return this._publicExtData
        }
        ;
        e.getAnimationDataWithCache = function(t, e, i, n) {
            var s = e[i];
            if (!s) {
                return null
            } else {
                var r = s[t];
                if (!r)
                    return null;
                else {
                    return r[n]
                }
            }
        }
        ;
        e.setAnimationDataWithCache = function(t, e, i, n, s) {
            var r = e[i] || (e[i] = {});
            var a = r[t] || (r[t] = []);
            a[n] = s
        }
        ;
        e.getOriginalData = function(t, e, i, n, s) {
            var r = this._anis[t];
            var a = r.nodes;
            var o = 0;
            for (var l = 0, h = a.length, u = 0; l < h; l++) {
                var c = a[l];
                var f;
                f = c.keyFrame[i[l][n]];
                c.dataOffset = u;
                var d = s - f.startTime;
                var _ = c.lerpType;
                if (_) {
                    switch (_) {
                    case 0:
                    case 1:
                        for (o = 0; o < c.keyframeWidth; )
                            o += c.interpolationMethod[o](c, o, e, u + o, f.data, d, null, f.duration, f.nextData);
                        break;
                    case 2:
                        ;var p = f.interpolationData;
                        var m = p.length;
                        var g = 0;
                        for (o = 0; o < m; ) {
                            var v = p[o];
                            switch (v) {
                            case 6:
                                o += b.interpolation[v](c, g, e, u + g, f.data, d, null, f.duration, f.nextData, p, o + 1);
                                break;
                            case 7:
                                o += b.interpolation[v](c, g, e, u + g, f.data, d, null, f.duration, f.nextData, p, o + 1);
                                break;
                            default:
                                o += b.interpolation[v](c, g, e, u + g, f.data, d, null, f.duration, f.nextData)
                            }
                            g++
                        }
                        break
                    }
                } else {
                    for (o = 0; o < c.keyframeWidth; )
                        o += c.interpolationMethod[o](c, o, e, u + o, f.data, d, null, f.duration, f.nextData)
                }
                u += c.keyframeWidth
            }
        }
        ;
        e.getNodesCurrentFrameIndex = function(t, e) {
            var i = this._anis[t];
            var n = i.nodes;
            if (t !== this.unfixedLastAniIndex) {
                this.unfixedCurrentFrameIndexes = new Uint32Array(n.length);
                this.unfixedCurrentTimes = new Float32Array(n.length);
                this.unfixedLastAniIndex = t
            }
            for (var s = 0, r = n.length, a = 0; s < r; s++) {
                var o = n[s];
                if (e < this.unfixedCurrentTimes[s])
                    this.unfixedCurrentFrameIndexes[s] = 0;
                this.unfixedCurrentTimes[s] = e;
                while (this.unfixedCurrentFrameIndexes[s] < o.keyFrame.length) {
                    if (o.keyFrame[this.unfixedCurrentFrameIndexes[s]].startTime > this.unfixedCurrentTimes[s])
                        break;
                    this.unfixedCurrentFrameIndexes[s]++
                }
                this.unfixedCurrentFrameIndexes[s]--
            }
            return this.unfixedCurrentFrameIndexes
        }
        ;
        e.getOriginalDataUnfixedRate = function(t, e, i) {
            var n = this._anis[t];
            var s = n.nodes;
            if (t !== this.unfixedLastAniIndex) {
                this.unfixedCurrentFrameIndexes = new Uint32Array(s.length);
                this.unfixedCurrentTimes = new Float32Array(s.length);
                this.unfixedKeyframes = g(s.length);
                this.unfixedLastAniIndex = t
            }
            var r = 0;
            for (var a = 0, o = s.length, l = 0; a < o; a++) {
                var h = s[a];
                if (i < this.unfixedCurrentTimes[a])
                    this.unfixedCurrentFrameIndexes[a] = 0;
                this.unfixedCurrentTimes[a] = i;
                while (this.unfixedCurrentFrameIndexes[a] < h.keyFrame.length) {
                    if (h.keyFrame[this.unfixedCurrentFrameIndexes[a]].startTime > this.unfixedCurrentTimes[a])
                        break;
                    this.unfixedKeyframes[a] = h.keyFrame[this.unfixedCurrentFrameIndexes[a]];
                    this.unfixedCurrentFrameIndexes[a]++
                }
                var u = this.unfixedKeyframes[a];
                h.dataOffset = l;
                var c = i - u.startTime;
                var f = h.lerpType;
                if (f) {
                    switch (h.lerpType) {
                    case 0:
                    case 1:
                        for (r = 0; r < h.keyframeWidth; )
                            r += h.interpolationMethod[r](h, r, e, l + r, u.data, c, null, u.duration, u.nextData);
                        break;
                    case 2:
                        ;var d = u.interpolationData;
                        var _ = d.length;
                        var p = 0;
                        for (r = 0; r < _; ) {
                            var m = d[r];
                            switch (m) {
                            case 6:
                                r += b.interpolation[m](h, p, e, l + p, u.data, c, null, u.duration, u.nextData, d, r + 1);
                                break;
                            case 7:
                                r += b.interpolation[m](h, p, e, l + p, u.data, c, null, u.duration, u.nextData, d, r + 1);
                                break;
                            default:
                                r += b.interpolation[m](h, p, e, l + p, u.data, c, null, u.duration, u.nextData)
                            }
                            p++
                        }
                        break
                    }
                } else {
                    for (r = 0; r < h.keyframeWidth; )
                        r += h.interpolationMethod[r](h, r, e, l + r, u.data, c, null, u.duration, u.nextData)
                }
                l += h.keyframeWidth
            }
        }
        ;
        b._LinearInterpolation_0 = function(t, e, i, n, s, r, a, o, l, h) {
            var u = o === 0 ? 0 : r / o;
            i[n] = (1 - u) * s[e] + u * l[e];
            return 1
        }
        ;
        b._QuaternionInterpolation_1 = function(t, e, i, n, s, r, a, o, l, h) {
            var u = o === 0 ? 0 : r / o;
            we.slerpQuaternionArray(s, e, l, e, u, i, n);
            return 4
        }
        ;
        b._AngleInterpolation_2 = function(t, e, i, n, s, r, a, o, l, h) {
            return 0
        }
        ;
        b._RadiansInterpolation_3 = function(t, e, i, n, s, r, a, o, l, h) {
            return 0
        }
        ;
        b._Matrix4x4Interpolation_4 = function(t, e, i, n, s, r, a, o, l, h) {
            for (var u = 0; u < 16; u++,
            e++)
                i[n + u] = s[e] + r * a[e];
            return 16
        }
        ;
        b._NoInterpolation_5 = function(t, e, i, n, s, r, a, o, l, h) {
            i[n] = s[e];
            return 1
        }
        ;
        b._BezierInterpolation_6 = function(t, e, i, n, s, r, a, o, l, h, u) {
            u === void 0 && (u = 0);
            i[n] = s[e] + (l[e] - s[e]) * D.getBezierRate(r / o, h[u], h[u + 1], h[u + 2], h[u + 3]);
            return 5
        }
        ;
        b._BezierInterpolation_7 = function(t, e, i, n, s, r, a, o, l, h, u) {
            u === void 0 && (u = 0);
            i[n] = h[u + 4] + h[u + 5] * D.getBezierRate((r * .001 + h[u + 6]) / h[u + 7], h[u], h[u + 1], h[u + 2], h[u + 3]);
            return 9
        }
        ;
        b.load = function(t) {
            return st.loader.create(t, null, null, b)
        }
        ;
        b.interpolation = [b._LinearInterpolation_0, b._QuaternionInterpolation_1, b._AngleInterpolation_2, b._RadiansInterpolation_3, b._Matrix4x4Interpolation_4, b._NoInterpolation_5, b._BezierInterpolation_6, b._BezierInterpolation_7];
        return b
    }(sn);
    var On = function(t) {
        function e() {
            e.__super.call(this);
            this.lock = true
        }
        x(e, "laya.webgl.shader.BaseShader", t);
        e.activeShader = null;
        e.bindShader = null;
        return e
    }(sn);
    var Un = function(t) {
        function e() {
            e.__super.call(this);
            this._w = 0;
            this._h = 0
        }
        x(e, "laya.resource.Bitmap", t);
        var i = e.prototype;
        p(0, i, "width", function() {
            return this._w
        });
        p(0, i, "height", function() {
            return this._h
        });
        p(0, i, "source", function() {
            return this._source
        });
        return e
    }(sn);
    var Hn = function(t) {
        function e() {
            this._glBuffer = null;
            this._buffer = null;
            this._bufferType = 0;
            this._bufferUsage = 0;
            this._byteLength = 0;
            e.__super.call(this);
            e._gl = Hi.mainContext
        }
        x(e, "laya.webgl.utils.Buffer", t);
        var i = e.prototype;
        i._bind = function() {
            this.activeResource();
            if (e._bindActive[this._bufferType] !== this._glBuffer) {
                this._bufferType === 34962 && (e._bindVertexBuffer = this._glBuffer);
                e._gl.bindBuffer(this._bufferType, e._bindActive[this._bufferType] = this._glBuffer);
                On.activeShader = null
            }
        }
        ;
        i.recreateResource = function() {
            this._glBuffer || (this._glBuffer = e._gl.createBuffer());
            this.completeCreate()
        }
        ;
        i.disposeResource = function() {
            if (this._glBuffer) {
                Hi.mainContext.deleteBuffer(this._glBuffer);
                this._glBuffer = null
            }
            this.memorySize = 0
        }
        ;
        p(0, i, "bufferUsage", function() {
            return this._bufferUsage
        });
        e._gl = null;
        e._bindActive = {};
        e._bindVertexBuffer = null;
        e._enableAtributes = [];
        return e
    }(sn);
    var zn = function(l) {
        function i() {
            i.__super.call(this)
        }
        x(i, "laya.debug.tools.enginehook.LoaderHook", l);
        var t = i.prototype;
        t.checkUrls = function(t) {
            var e;
            if (typeof t == "string") {
                e = t
            } else {
                e = t.url
            }
            if (i.preFails[e]) {
                if (i.enableFailDebugger) {
                    debugger
                }
            }
        }
        ;
        t.chekUrlList = function(t) {
            var e = 0
              , i = 0;
            i = t.length;
            for (e = 0; e < i; e++) {
                this.checkUrls(t[e])
            }
        }
        ;
        t.load = function(t, e, i, n, s, r, a, o) {
            s === void 0 && (s = 1);
            r === void 0 && (r = true);
            o === void 0 && (o = false);
            if (t instanceof Array) {
                this.chekUrlList(t)
            } else {
                this.checkUrls(t)
            }
            return l.prototype.load.call(this, t, e, i, n, s, r, a, o)
        }
        ;
        i.init = function() {
            if (i.isInited)
                return;
            i.isInited = true;
            st.loader = new i;
            st.loader.on("error", null, i.onFail);
            i.preFails = Ie.getJSON("LoadFailItems");
            if (!i.preFails)
                i.preFails = {}
        }
        ;
        i.onFail = function(t) {
            Vr.I.dTrace("LoadFail:" + t);
            i.nowFails[t] = true;
            Ie.setJSON("LoadFailItems", i.nowFails)
        }
        ;
        i.resetFails = function() {
            i.nowFails = {};
            Ie.setJSON("LoadFailItems", i.nowFails)
        }
        ;
        i.preFails = {};
        i.nowFails = {};
        i.enableFailDebugger = true;
        i.FailSign = "LoadFailItems";
        i.isInited = false;
        return i
    }(an);
    var Jn = function(t) {
        function e(t) {
            this._audio = null;
            this._onEnd = null;
            this._resumePlay = null;
            e.__super.call(this);
            this._onEnd = ai.bind(this.__onEnd, this);
            this._resumePlay = ai.bind(this.__resumePlay, this);
            t.addEventListener("ended", this._onEnd);
            this._audio = t
        }
        x(e, "laya.media.h5audio.AudioSoundChannel", t);
        var i = e.prototype;
        i.__onEnd = function() {
            if (this.loops == 1) {
                if (this.completeHandler) {
                    st.timer.once(10, this, this.__runComplete, [this.completeHandler], false);
                    this.completeHandler = null
                }
                this.stop();
                this.event("complete");
                return
            }
            if (this.loops > 0) {
                this.loops--
            }
            this.startTime = 0;
            this.play()
        }
        ;
        i.__resumePlay = function() {
            if (this._audio)
                this._audio.removeEventListener("canplay", this._resumePlay);
            if (this.isStopped)
                return;
            try {
                this._audio.currentTime = this.startTime;
                He.container.appendChild(this._audio);
                this._audio.play()
            } catch (t) {
                this.event("error")
            }
        }
        ;
        i.play = function() {
            this.isStopped = false;
            if (!this._audio)
                return;
            try {
                this._audio.playbackRate = Re.playbackRate;
                this._audio.currentTime = this.startTime
            } catch (t) {
                this._audio.addEventListener("canplay", this._resumePlay);
                return
            }
            Re.addChannel(this);
            He.container.appendChild(this._audio);
            if ("play"in this._audio)
                this._audio.play()
        }
        ;
        i.stop = function() {
            this.isStopped = true;
            Re.removeChannel(this);
            this.completeHandler = null;
            if (!this._audio)
                return;
            if ("pause"in this._audio)
                if (Be.isConchApp) {
                    this._audio.stop()
                }
            this._audio.pause();
            this._audio.removeEventListener("ended", this._onEnd);
            this._audio.removeEventListener("canplay", this._resumePlay);
            if (!He.onIE) {
                if (this._audio != ln._musicAudio) {
                    ei.recover("audio:" + this.url, this._audio)
                }
            }
            He.removeElement(this._audio);
            this._audio = null
        }
        ;
        i.pause = function() {
            this.isStopped = true;
            Re.removeChannel(this);
            if ("pause"in this._audio)
                this._audio.pause()
        }
        ;
        i.resume = function() {
            if (!this._audio)
                return;
            this.isStopped = false;
            Re.addChannel(this);
            if ("play"in this._audio)
                this._audio.play()
        }
        ;
        p(0, i, "position", function() {
            if (!this._audio)
                return 0;
            return this._audio.currentTime
        });
        p(0, i, "duration", function() {
            if (!this._audio)
                return 0;
            return this._audio.duration
        });
        p(0, i, "volume", function() {
            if (!this._audio)
                return 1;
            return this._audio.volume
        }, function(t) {
            if (!this._audio)
                return;
            this._audio.volume = t
        });
        return e
    }(hn);
    var jn = function(t) {
        function e() {
            this.audioBuffer = null;
            this.gain = null;
            this.bufferSource = null;
            this._currentTime = 0;
            this._volume = 1;
            this._startTime = 0;
            this._pauseTime = 0;
            this._onPlayEnd = null;
            this.context = cn.ctx;
            e.__super.call(this);
            this._onPlayEnd = ai.bind(this.__onPlayEnd, this);
            if (this.context["createGain"]) {
                this.gain = this.context["createGain"]()
            } else {
                this.gain = this.context["createGainNode"]()
            }
        }
        x(e, "laya.media.webaudio.WebAudioSoundChannel", t);
        var i = e.prototype;
        i.play = function() {
            Re.addChannel(this);
            this.isStopped = false;
            this._clearBufferSource();
            if (!this.audioBuffer)
                return;
            if (this.startTime >= this.duration)
                return this.stop();
            var t = this.context;
            var e = this.gain;
            var i = t.createBufferSource();
            this.bufferSource = i;
            i.buffer = this.audioBuffer;
            i.connect(e);
            if (e)
                e.disconnect();
            e.connect(t.destination);
            i.onended = this._onPlayEnd;
            this._startTime = He.now();
            if (this.gain.gain.setTargetAtTime) {
                this.gain.gain.setTargetAtTime(this._volume, this.context.currentTime, .001)
            } else
                this.gain.gain.value = this._volume;
            if (this.loops == 0) {
                i.loop = true
            }
            if (i.playbackRate.setTargetAtTime) {
                i.playbackRate.setTargetAtTime(Re.playbackRate, this.context.currentTime, .001)
            } else
                i.playbackRate.value = Re.playbackRate;
            i.start(0, this.startTime);
            this._currentTime = 0
        }
        ;
        i.__onPlayEnd = function() {
            if (this.loops == 1) {
                if (this.completeHandler) {
                    st.timer.once(10, this, this.__runComplete, [this.completeHandler], false);
                    this.completeHandler = null
                }
                this.stop();
                this.event("complete");
                return
            }
            if (this.loops > 0) {
                this.loops--
            }
            this.startTime = 0;
            this.play()
        }
        ;
        i._clearBufferSource = function() {
            if (this.bufferSource) {
                var t = this.bufferSource;
                if (t.stop) {
                    t.stop(0)
                } else {
                    t.noteOff(0)
                }
                t.disconnect(0);
                t.onended = null;
                if (!e._tryCleanFailed)
                    this._tryClearBuffer(t);
                this.bufferSource = null
            }
        }
        ;
        i._tryClearBuffer = function(t) {
            if (!He.onMac) {
                try {
                    t.buffer = null
                } catch (t) {
                    e._tryCleanFailed = true
                }
                return
            }
            try {
                t.buffer = cn._miniBuffer
            } catch (t) {
                e._tryCleanFailed = true
            }
        }
        ;
        i.stop = function() {
            t.prototype.stop.call(this);
            this._clearBufferSource();
            this.audioBuffer = null;
            if (this.gain)
                this.gain.disconnect();
            this.isStopped = true;
            Re.removeChannel(this);
            this.completeHandler = null;
            if (Re.autoReleaseSound)
                st.timer.once(5e3, null, Re.disposeSoundIfNotUsed, [this.url], false)
        }
        ;
        i.pause = function() {
            if (!this.isStopped) {
                this._pauseTime = this.position
            }
            this._clearBufferSource();
            if (this.gain)
                this.gain.disconnect();
            this.isStopped = true;
            Re.removeChannel(this);
            if (Re.autoReleaseSound)
                st.timer.once(5e3, null, Re.disposeSoundIfNotUsed, [this.url], false)
        }
        ;
        i.resume = function() {
            this.startTime = this._pauseTime;
            this.play()
        }
        ;
        p(0, i, "position", function() {
            if (this.bufferSource) {
                return (He.now() - this._startTime) / 1e3 + this.startTime
            }
            return 0
        });
        p(0, i, "duration", function() {
            if (this.audioBuffer) {
                return this.audioBuffer.duration
            }
            return 0
        });
        p(0, i, "volume", function() {
            return this._volume
        }, function(t) {
            if (this.isStopped) {
                return
            }
            this._volume = t;
            if (this.gain.gain.setTargetAtTime) {
                this.gain.gain.setTargetAtTime(t, this.context.currentTime, .001)
            } else
                this.gain.gain.value = t
        });
        e._tryCleanFailed = false;
        e.SetTargetDelay = .001;
        return e
    }(hn);
    var Kn = function(e) {
        function u(t, e, i, n, s, r, a, o, l) {
            this._type = 0;
            this._svWidth = NaN;
            this._svHeight = NaN;
            this._preRenderTarget = null;
            this._alreadyResolved = false;
            this._looked = false;
            this._surfaceFormat = 0;
            this._surfaceType = 0;
            this._depthStencilFormat = 0;
            this._mipMap = false;
            this._repeat = false;
            this._minFifter = 0;
            this._magFifter = 0;
            this._destroy = false;
            i === void 0 && (i = 6408);
            n === void 0 && (n = 5121);
            s === void 0 && (s = 34041);
            r === void 0 && (r = false);
            a === void 0 && (a = false);
            o === void 0 && (o = -1);
            l === void 0 && (l = -1);
            this._type = 1;
            this._w = t;
            this._h = e;
            this._surfaceFormat = i;
            this._surfaceType = n;
            this._depthStencilFormat = s;
            if (Be.isConchWebGL && this._depthStencilFormat === 34041) {
                this._depthStencilFormat = 33189
            }
            this._mipMap = r;
            this._repeat = a;
            this._minFifter = o;
            this._magFifter = l;
            this._createWebGLRenderTarget();
            this.bitmap.lock = true;
            u.__super.call(this, this.bitmap, _n.INV_UV)
        }
        x(u, "laya.webgl.resource.RenderTarget2D", e);
        var t = u.prototype;
        st.imps(t, {
            "laya.resource.IDispose": true
        });
        t.getType = function() {
            return this._type
        }
        ;
        t.getTexture = function() {
            return this
        }
        ;
        t.size = function(t, e) {
            if (this._w == t && this._h == e)
                return;
            this._w = t;
            this._h = e;
            this.release();
            if (this._w != 0 && this._h != 0)
                this._createWebGLRenderTarget()
        }
        ;
        t.release = function() {
            this.destroy()
        }
        ;
        t.recycle = function() {
            u.POOL.push(this)
        }
        ;
        t.start = function() {
            var t = Hi.mainContext;
            this._preRenderTarget = Oi.curRenderTarget;
            Oi.curRenderTarget = this;
            t.bindFramebuffer(36160, this.bitmap.frameBuffer);
            this._alreadyResolved = false;
            if (this._type == 1) {
                t.viewport(0, 0, this._w, this._h);
                this._svWidth = Oi.width;
                this._svHeight = Oi.height;
                Oi.width = this._w;
                Oi.height = this._h;
                On.activeShader = null
            }
            return this
        }
        ;
        t.clear = function(t, e, i, n) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            n === void 0 && (n = 1);
            var s = Hi.mainContext;
            s.clearColor(t, e, i, n);
            var r = 16384;
            switch (this._depthStencilFormat) {
            case 33189:
                r |= 256;
                break;
            case 36168:
                r |= 1024;
                break;
            case 34041:
                r |= 256;
                r |= 1024;
                break
            }
            s.clear(r)
        }
        ;
        t.end = function() {
            var t = Hi.mainContext;
            t.bindFramebuffer(36160, this._preRenderTarget ? this._preRenderTarget.bitmap.frameBuffer : null);
            this._alreadyResolved = true;
            Oi.curRenderTarget = this._preRenderTarget;
            if (this._type == 1) {
                t.viewport(0, 0, this._svWidth, this._svHeight);
                Oi.width = this._svWidth;
                Oi.height = this._svHeight;
                On.activeShader = null
            } else
                t.viewport(0, 0, st.stage.width, st.stage.height)
        }
        ;
        t.getData = function(t, e, i, n) {
            var s = Hi.mainContext;
            s.bindFramebuffer(36160, this.bitmap.frameBuffer);
            var r = s.checkFramebufferStatus(36160) === 36053;
            if (!r) {
                s.bindFramebuffer(36160, null);
                return null
            }
            var a = new Uint8Array(this._w * this._h * 4);
            s.readPixels(t, e, i, n, this._surfaceFormat, this._surfaceType, a);
            s.bindFramebuffer(36160, null);
            return a
        }
        ;
        t.destroy = function(t) {
            t === void 0 && (t = false);
            if (!this._destroy) {
                this._loaded = false;
                this.bitmap.offAll();
                this.bitmap.disposeResource();
                this.bitmap.dispose();
                this.offAll();
                this.bitmap = null;
                this._alreadyResolved = false;
                this._destroy = true;
                e.prototype.destroy.call(this)
            }
        }
        ;
        t.dispose = function() {}
        ;
        t._createWebGLRenderTarget = function() {
            this.bitmap = new Gs(this.width,this.height,this._surfaceFormat,this._surfaceType,this._depthStencilFormat,this._mipMap,this._repeat,this._minFifter,this._magFifter);
            this.bitmap.activeResource();
            this._alreadyResolved = true;
            this._destroy = false;
            this._loaded = true;
            this.bitmap.on("recovered", this, function(t) {
                this.event("recovered")
            })
        }
        ;
        p(0, t, "surfaceFormat", function() {
            return this._surfaceFormat
        });
        p(0, t, "magFifter", function() {
            return this._magFifter
        });
        p(0, t, "surfaceType", function() {
            return this._surfaceType
        });
        p(0, t, "mipMap", function() {
            return this._mipMap
        });
        p(0, t, "depthStencilFormat", function() {
            return this._depthStencilFormat
        });
        p(0, t, "minFifter", function() {
            return this._minFifter
        });
        p(0, t, "source", function() {
            if (this._alreadyResolved)
                return st.superGet(_n, this, "source");
            return null
        });
        u.create = function(t, e, i, n, s, r, a, o, l) {
            i === void 0 && (i = 6408);
            n === void 0 && (n = 5121);
            s === void 0 && (s = 34041);
            r === void 0 && (r = false);
            a === void 0 && (a = false);
            o === void 0 && (o = -1);
            l === void 0 && (l = -1);
            var h = u.POOL.pop();
            h || (h = new u(t,e));
            if (!h.bitmap || h._w != t || h._h != e || h._surfaceFormat != i || h._surfaceType != n || h._depthStencilFormat != s || h._mipMap != r || h._repeat != a || h._minFifter != o || h._magFifter != l) {
                h._w = t;
                h._h = e;
                h._surfaceFormat = i;
                h._surfaceType = n;
                h._depthStencilFormat = s;
                if (Be.isConchWebGL && h._depthStencilFormat === 34041) {
                    h._depthStencilFormat = 33189
                }
                h._mipMap = r;
                h._repeat = a;
                h._minFifter = o;
                h._magFifter = l;
                h.release();
                h._createWebGLRenderTarget()
            }
            return h
        }
        ;
        u.TYPE2D = 1;
        u.TYPE3D = 2;
        u.POOL = [];
        return u
    }(_n);
    var Qn = function(t) {
        function e() {
            this.a_CornerTextureCoordinate = [4, 5126, false, 116, 0];
            this.a_Position = [3, 5126, false, 116, 16];
            this.a_Velocity = [3, 5126, false, 116, 28];
            this.a_StartColor = [4, 5126, false, 116, 40];
            this.a_EndColor = [4, 5126, false, 116, 56];
            this.a_SizeRotation = [3, 5126, false, 116, 72];
            this.a_Radius = [2, 5126, false, 116, 84];
            this.a_Radian = [4, 5126, false, 116, 92];
            this.a_AgeAddScale = [1, 5126, false, 116, 108];
            this.a_Time = [1, 5126, false, 116, 112];
            this.u_CurrentTime = NaN;
            this.u_Duration = NaN;
            this.u_Gravity = null;
            this.u_EndVelocity = NaN;
            this.u_texture = null;
            e.__super.call(this, 0, 0)
        }
        x(e, "laya.particle.shader.value.ParticleShaderValue", t);
        var i = e.prototype;
        i.upload = function() {
            this.refresh();
            e.pShader.upload(this)
        }
        ;
        u(e, ["pShader", function() {
            return this.pShader = new nr
        }
        ]);
        return e
    }(mn);
    var qn = function(t) {
        function i(t) {
            this.texcoord = null;
            this.offsetX = 300;
            this.offsetY = 0;
            i.__super.call(this, 512, 0);
            var e = 8 * Fi.BYTES_PE;
            this.position = [2, 5126, false, e, 0];
            this.texcoord = [2, 5126, false, e, 2 * Fi.BYTES_PE];
            this.color = [4, 5126, false, e, 4 * Fi.BYTES_PE]
        }
        x(i, "laya.webgl.shader.d2.skinAnishader.SkinSV", t);
        return i
    }(mn);
    var $n = function(t) {
        function e(t) {
            e.__super.call(this, 2, 0);
            this.color = []
        }
        x(e, "laya.webgl.shader.d2.value.Color2dSV", t);
        var i = e.prototype;
        i.setValue = function(t) {
            t.fillStyle && (this.color = t.fillStyle._color._color);
            t.strokeStyle && (this.color = t.strokeStyle._color._color)
        }
        ;
        return e
    }(mn);
    var ts = function(t) {
        function e(t) {
            this.u_colorMatrix = null;
            this.strength = 0;
            this.colorMat = null;
            this.colorAlpha = null;
            this.u_TexRange = [0, 1, 0, 1];
            this.u_offset = [0, 0];
            this.texcoord = mn._TEXCOORD;
            e.__super.call(this, 256, 0)
        }
        x(e, "laya.webgl.shader.d2.value.FillTextureSV", t);
        var i = e.prototype;
        i.setValue = function(t) {
            this.ALPHA = t.ALPHA;
            t.filters && this.setFilters(t.filters)
        }
        ;
        i.clear = function() {
            this.texture = null;
            this.shader = null;
            this.defines.setValue(0)
        }
        ;
        return e
    }(mn);
    var es = function(t) {
        function e(t) {
            this.u_colorMatrix = null;
            this.strength = 0;
            this.blurInfo = null;
            this.colorMat = null;
            this.colorAlpha = null;
            this.texcoord = mn._TEXCOORD;
            t === void 0 && (t = 0);
            e.__super.call(this, 1, t)
        }
        x(e, "laya.webgl.shader.d2.value.TextureSV", t);
        var i = e.prototype;
        i.setValue = function(t) {
            this.ALPHA = t.ALPHA;
            t.filters && this.setFilters(t.filters)
        }
        ;
        i.clear = function() {
            this.texture = null;
            this.shader = null;
            this.defines.setValue(0)
        }
        ;
        return e
    }(mn);
    var is = function(t) {
        function e(t) {
            this.a_color = null;
            this.u_pos = [0, 0];
            e.__super.call(this, 4, 0);
            this.position = [2, 5126, false, 5 * Fi.BYTES_PE, 0];
            this.a_color = [3, 5126, false, 5 * Fi.BYTES_PE, 2 * Fi.BYTES_PE]
        }
        x(e, "laya.webgl.shader.d2.value.PrimitiveSV", t);
        return e
    }(mn);
    var ns = function(r) {
        function t() {
            this.cacheOK = false;
            this.cacheCmdOK = false;
            this.transformCmds = [];
            this.drawCmds = [];
            t.__super.call(this);
            this.tempMesh = new V
        }
        x(t, "laya.ani.bone.canvasmesh.SimpleSkinMeshCanvas", r);
        var e = t.prototype;
        e.init2 = function(t, e, i, n, s) {
            r.prototype.init2.call(this, t, e, i, n, s);
            this.cacheOK = false;
            this.cacheCmdOK = false;
            this.transformCmds.length = 6;
            this.drawCmds.length = 9
        }
        ;
        e.renderToContext = function(t) {
            this.context = t.ctx || t;
            if (this.mesh) {
                if (this.mesh.uvs.length <= 8) {
                    if (this.mode == 0) {
                        this._renderWithIndexes(this.mesh)
                    } else {
                        this._renderNoIndexes(this.mesh)
                    }
                    return
                }
                if (!this.cacheOK) {
                    this.tempMesh.texture = this.mesh.texture;
                    this.tempMesh.uvs = this.mesh.texture.uv;
                    this.tempMesh.vertices = B.solveMesh(this.mesh, this.tempMesh.vertices);
                    this.cacheOK = true
                }
                if (this.mode == 0) {
                    this._renderWithIndexes(this.tempMesh)
                } else {
                    this._renderNoIndexes(this.tempMesh)
                }
            }
        }
        ;
        e._renderWithIndexes = function(t) {
            if (this.cacheCmdOK) {
                this.renderByCache(t);
                return
            }
            var e = t.indexes;
            var i = 0
              , n = e.length;
            if (n > 1)
                n = 1;
            for (i = 0; i < n; i += 3) {
                var s = e[i] * 2;
                var r = e[i + 1] * 2;
                var a = e[i + 2] * 2;
                this._renderDrawTriangle(t, s, r, a)
            }
            this.cacheCmdOK = true
        }
        ;
        e._renderDrawTriangle = function(t, e, i, n) {
            var s = this.context;
            var r = t.uvs;
            var a = t.vertices;
            var o = t.texture;
            var l = o.bitmap;
            var h = l.source;
            var u = o.width;
            var c = o.height;
            var f = l.width;
            var d = l.height;
            var _ = NaN;
            var p = NaN;
            var m = NaN;
            var g = NaN;
            var v = NaN;
            var b = NaN;
            if (t.useUvTransform) {
                var y = t.uvTransform;
                _ = (r[e] * y.a + r[e + 1] * y.c + y.tx) * f;
                p = (r[i] * y.a + r[i + 1] * y.c + y.tx) * f;
                m = (r[n] * y.a + r[n + 1] * y.c + y.tx) * f;
                g = (r[e] * y.b + r[e + 1] * y.d + y.ty) * d;
                v = (r[i] * y.b + r[i + 1] * y.d + y.ty) * d;
                b = (r[n] * y.b + r[n + 1] * y.d + y.ty) * d
            } else {
                _ = r[e] * f;
                p = r[i] * f;
                m = r[n] * f;
                g = r[e + 1] * d;
                v = r[i + 1] * d;
                b = r[n + 1] * d
            }
            var x = a[e];
            var w = a[i];
            var C = a[n];
            var S = a[e + 1];
            var T = a[i + 1];
            var R = a[n + 1];
            var I = _ * v + g * m + p * b - v * m - g * p - _ * b;
            var A = 1 / I;
            var G = x * v + g * C + w * b - v * C - g * w - x * b;
            var M = _ * w + x * m + p * C - w * m - x * p - _ * C;
            var L = _ * v * C + g * w * m + x * p * b - x * v * m - g * p * C - _ * w * b;
            var W = S * v + g * R + T * b - v * R - g * T - S * b;
            var E = _ * T + S * m + p * R - T * m - S * p - _ * R;
            var N = _ * v * R + g * T * m + S * p * b - S * v * m - g * p * R - _ * T * b;
            this.transformCmds[0] = G * A;
            this.transformCmds[1] = W * A;
            this.transformCmds[2] = M * A;
            this.transformCmds[3] = E * A;
            this.transformCmds[4] = L * A;
            this.transformCmds[5] = N * A;
            this.drawCmds[0] = h;
            this.drawCmds[1] = o.uv[0] * f;
            this.drawCmds[2] = o.uv[1] * d;
            this.drawCmds[3] = u;
            this.drawCmds[4] = c;
            this.drawCmds[5] = o.uv[0] * f;
            this.drawCmds[6] = o.uv[1] * d;
            this.drawCmds[7] = u;
            this.drawCmds[8] = c;
            s.save();
            if (this.transform) {
                var V = this.transform;
                s.transform(V.a, V.b, V.c, V.d, V.tx, V.ty)
            }
            s.transform.apply(s, this.transformCmds);
            s.drawImage.apply(s, this.drawCmds);
            s.restore()
        }
        ;
        e.renderByCache = function(t) {
            var e = this.context;
            e.save();
            if (this.transform) {
                var i = this.transform;
                e.transform(i.a, i.b, i.c, i.d, i.tx, i.ty)
            }
            e.transform.apply(e, this.transformCmds);
            e.drawImage.apply(e, this.drawCmds);
            e.restore()
        }
        ;
        return t
    }(xn);
    var ss = function(i) {
        function n(t) {
            this._vertexBuffer2D = null;
            this._indexBuffer2D = null;
            this.x = 0;
            this.y = 0;
            this._blendFn = null;
            this._startTime = 0;
            this.sv = new Qn;
            n.__super.call(this, t);
            var e = this;
            st.loader.load(this.settings.textureName, b.create(null, function(t) {
                t.bitmap.enableMerageInAtlas = false;
                e.texture = t
            }));
            this.sv.u_Duration = this.settings.duration;
            this.sv.u_Gravity = this.settings.gravity;
            this.sv.u_EndVelocity = this.settings.endVelocity;
            this._blendFn = di.fns[t.blendState];
            this.initialize();
            this._vertexBuffer = this._vertexBuffer2D = or.create(-1, 35048);
            this._indexBuffer = this._indexBuffer2D = ar.create(35044);
            this.loadContent()
        }
        x(n, "laya.particle.ParticleTemplate2D", i);
        var t = n.prototype;
        st.imps(t, {
            "laya.webgl.submit.ISubmit": true
        });
        t.getRenderType = function() {
            return -111
        }
        ;
        t.releaseRender = function() {}
        ;
        t.addParticleArray = function(t, e) {
            t[0] += this.x;
            t[1] += this.y;
            i.prototype.addParticleArray.call(this, t, e)
        }
        ;
        t.loadContent = function() {
            var t = new Uint16Array(this.settings.maxPartices * 6);
            for (var e = 0; e < this.settings.maxPartices; e++) {
                t[e * 6 + 0] = e * 4 + 0;
                t[e * 6 + 1] = e * 4 + 1;
                t[e * 6 + 2] = e * 4 + 2;
                t[e * 6 + 3] = e * 4 + 0;
                t[e * 6 + 4] = e * 4 + 2;
                t[e * 6 + 5] = e * 4 + 3
            }
            this._indexBuffer2D.clear();
            this._indexBuffer2D.append(t);
            this._indexBuffer2D.upload()
        }
        ;
        t.addNewParticlesToVertexBuffer = function() {
            this._vertexBuffer2D.clear();
            this._vertexBuffer2D.append(this._vertices);
            var t = 0;
            if (this._firstNewElement < this._firstFreeElement) {
                t = this._firstNewElement * 4 * this._floatCountPerVertex * 4;
                this._vertexBuffer2D.subUpload(t, t, t + (this._firstFreeElement - this._firstNewElement) * 4 * this._floatCountPerVertex * 4)
            } else {
                t = this._firstNewElement * 4 * this._floatCountPerVertex * 4;
                this._vertexBuffer2D.subUpload(t, t, t + (this.settings.maxPartices - this._firstNewElement) * 4 * this._floatCountPerVertex * 4);
                if (this._firstFreeElement > 0) {
                    this._vertexBuffer2D.setNeedUpload();
                    this._vertexBuffer2D.subUpload(0, 0, this._firstFreeElement * 4 * this._floatCountPerVertex * 4)
                }
            }
            this._firstNewElement = this._firstFreeElement
        }
        ;
        t.renderSubmit = function() {
            if (this.texture && this.texture.loaded) {
                this.update(st.timer.delta);
                this.sv.u_CurrentTime = this._currentTime;
                if (this._firstNewElement != this._firstFreeElement) {
                    this.addNewParticlesToVertexBuffer()
                }
                this.blend();
                if (this._firstActiveElement != this._firstFreeElement) {
                    var t = Hi.mainContext;
                    this._vertexBuffer2D.bind(this._indexBuffer2D);
                    this.sv.u_texture = this.texture.source;
                    this.sv.upload();
                    if (this._firstActiveElement < this._firstFreeElement) {
                        Hi.mainContext.drawElements(4, (this._firstFreeElement - this._firstActiveElement) * 6, 5123, this._firstActiveElement * 6 * 2)
                    } else {
                        Hi.mainContext.drawElements(4, (this.settings.maxPartices - this._firstActiveElement) * 6, 5123, this._firstActiveElement * 6 * 2);
                        if (this._firstFreeElement > 0)
                            Hi.mainContext.drawElements(4, this._firstFreeElement * 6, 5123, 0)
                    }
                    ii.drawCall++
                }
                this._drawCounter++
            }
            return 1
        }
        ;
        t.blend = function() {
            if (di.activeBlendFunction !== this._blendFn) {
                var t = Hi.mainContext;
                t.enable(3042);
                this._blendFn(t);
                di.activeBlendFunction = this._blendFn
            }
        }
        ;
        t.dispose = function() {
            this._vertexBuffer2D.dispose();
            this._indexBuffer2D.dispose()
        }
        ;
        n.activeBlendType = -1;
        return n
    }(Mn);
    var rs = function(e) {
        function i(t, e) {
            this._templet = null;
            this._player = null;
            this._curOriginalData = null;
            this._boneMatrixArray = [];
            this._lastTime = 0;
            this._currAniName = null;
            this._currAniIndex = -1;
            this._pause = true;
            this._aniClipIndex = -1;
            this._clipIndex = -1;
            this._skinIndex = 0;
            this._skinName = "default";
            this._aniMode = 0;
            this._graphicsCache = null;
            this._boneSlotDic = null;
            this._bindBoneBoneSlotDic = null;
            this._boneSlotArray = null;
            this._index = -1;
            this._total = -1;
            this._indexControl = false;
            this._aniPath = null;
            this._texturePath = null;
            this._complete = null;
            this._loadAniMode = 0;
            this._yReverseMatrix = null;
            this._ikArr = null;
            this._tfArr = null;
            this._pathDic = null;
            this._rootBone = null;
            this._boneList = null;
            this._aniSectionDic = null;
            this._eventIndex = 0;
            this._drawOrderIndex = 0;
            this._drawOrder = null;
            this._lastAniClipIndex = -1;
            this._lastUpdateAniClipIndex = -1;
            this._playAudio = true;
            this._soundChannelArr = [];
            i.__super.call(this);
            e === void 0 && (e = 0);
            if (t)
                this.init(t, e)
        }
        x(i, "laya.ani.bone.Skeleton", e);
        var t = i.prototype;
        t.init = function(t, e) {
            e === void 0 && (e = 0);
            var i = 0
              , n = 0;
            if (e == 1) {
                this._graphicsCache = [];
                for (i = 0,
                n = t.getAnimationCount(); i < n; i++) {
                    this._graphicsCache.push([])
                }
            }
            this._yReverseMatrix = t.yReverseMatrix;
            this._aniMode = e;
            this._templet = t;
            this._player = new rn;
            this._player.cacheFrameRate = t.rate;
            this._player.templet = t;
            this._player.play();
            this._parseSrcBoneMatrix();
            this._boneList = t.mBoneArr;
            this._rootBone = t.mRootBone;
            this._aniSectionDic = t.aniSectionDic;
            if (t.ikArr.length > 0) {
                this._ikArr = [];
                for (i = 0,
                n = t.ikArr.length; i < n; i++) {
                    this._ikArr.push(new Z(t.ikArr[i],this._boneList))
                }
            }
            if (t.pathArr.length > 0) {
                var s;
                var r;
                if (this._pathDic == null)
                    this._pathDic = {};
                var a;
                for (i = 0,
                n = t.pathArr.length; i < n; i++) {
                    s = t.pathArr[i];
                    r = new k(s,this._boneList);
                    a = this._boneSlotDic[s.name];
                    if (a) {
                        r = new k(s,this._boneList);
                        r.target = a
                    }
                    this._pathDic[s.name] = r
                }
            }
            if (t.tfArr.length > 0) {
                this._tfArr = [];
                for (i = 0,
                n = t.tfArr.length; i < n; i++) {
                    this._tfArr.push(new P(t.tfArr[i],this._boneList))
                }
            }
            if (t.skinDataArray.length > 0) {
                var o = this._templet.skinDataArray[this._skinIndex];
                this._skinName = o.name
            }
            this._player.on("played", this, this._onPlay);
            this._player.on("stopped", this, this._onStop);
            this._player.on("paused", this, this._onPause)
        }
        ;
        t.load = function(t, e, i) {
            i === void 0 && (i = 0);
            this._aniPath = t;
            this._complete = e;
            this._loadAniMode = i;
            st.loader.load([{
                url: t,
                type: "arraybuffer"
            }], b.create(this, this._onLoaded))
        }
        ;
        t._onLoaded = function() {
            var t = fn.getRes(this._aniPath);
            if (t == null)
                return;
            if (xs.TEMPLET_DICTIONARY == null) {
                xs.TEMPLET_DICTIONARY = {}
            }
            var e;
            e = xs.TEMPLET_DICTIONARY[this._aniPath];
            if (e) {
                if (e.isParseFail) {
                    this._parseFail()
                } else {
                    if (e.isParserComplete) {
                        this._parseComplete()
                    } else {
                        e.on("complete", this, this._parseComplete);
                        e.on("error", this, this._parseFail)
                    }
                }
            } else {
                e = new xs;
                e._setUrl(this._aniPath);
                xs.TEMPLET_DICTIONARY[this._aniPath] = e;
                e.on("complete", this, this._parseComplete);
                e.on("error", this, this._parseFail);
                e.isParserComplete = false;
                e.parseData(null, t)
            }
        }
        ;
        t._parseComplete = function() {
            var t = xs.TEMPLET_DICTIONARY[this._aniPath];
            if (t) {
                this.init(t, this._loadAniMode);
                this.play(0, true)
            }
            this._complete && this._complete.runWith(this)
        }
        ;
        t._parseFail = function() {
            console.log("[Error]:" + this._aniPath + "解析失败")
        }
        ;
        t._onPlay = function() {
            this.event("played")
        }
        ;
        t._onStop = function() {
            var t;
            var e = this._templet.eventAniArr;
            var i = e[this._aniClipIndex];
            if (i && this._eventIndex < i.length) {
                for (; this._eventIndex < i.length; this._eventIndex++) {
                    t = i[this._eventIndex];
                    if (t.time >= this._player.playStart && t.time <= this._player.playEnd) {
                        this.event("label", t)
                    }
                }
            }
            this._drawOrder = null;
            this.event("stopped")
        }
        ;
        t._onPause = function() {
            this.event("paused")
        }
        ;
        t._parseSrcBoneMatrix = function() {
            var t = 0
              , e = 0;
            e = this._templet.srcBoneMatrixArr.length;
            for (t = 0; t < e; t++) {
                this._boneMatrixArray.push(new Ce)
            }
            if (this._aniMode == 0) {
                this._boneSlotDic = this._templet.boneSlotDic;
                this._bindBoneBoneSlotDic = this._templet.bindBoneBoneSlotDic;
                this._boneSlotArray = this._templet.boneSlotArray
            } else {
                if (this._boneSlotDic == null)
                    this._boneSlotDic = {};
                if (this._bindBoneBoneSlotDic == null)
                    this._bindBoneBoneSlotDic = {};
                if (this._boneSlotArray == null)
                    this._boneSlotArray = [];
                var i = this._templet.boneSlotArray;
                var n;
                var s;
                for (t = 0,
                e = i.length; t < e; t++) {
                    n = i[t];
                    s = this._bindBoneBoneSlotDic[n.parent];
                    if (s == null) {
                        this._bindBoneBoneSlotDic[n.parent] = s = []
                    }
                    this._boneSlotDic[n.name] = n = n.copy();
                    s.push(n);
                    this._boneSlotArray.push(n)
                }
            }
        }
        ;
        t._emitMissedEvents = function(t, e, i) {
            i === void 0 && (i = 0);
            var n = this._templet.eventAniArr;
            var s = n[this._player.currentAnimationClipIndex];
            if (s) {
                var r = 0
                  , a = 0;
                var o;
                a = s.length;
                for (r = i; r < a; r++) {
                    o = s[r];
                    if (o.time >= this._player.playStart && o.time <= this._player.playEnd) {
                        this.event("label", o)
                    }
                }
            }
        }
        ;
        t._update = function(t) {
            t === void 0 && (t = true);
            if (this._pause)
                return;
            if (t && this._indexControl) {
                return
            }
            var e = this.timer.currTimer;
            var i = this._player.currentKeyframeIndex;
            var n = e - this._lastTime;
            if (t) {
                this._player._update(n)
            } else {
                i = -1
            }
            this._lastTime = e;
            if (!this._player)
                return;
            this._index = this._clipIndex = this._player.currentKeyframeIndex;
            if (this._index < 0)
                return;
            if (n > 0 && this._clipIndex == i && this._lastUpdateAniClipIndex == this._aniClipIndex) {
                return
            }
            this._lastUpdateAniClipIndex = this._aniClipIndex;
            if (i > this._clipIndex && this._eventIndex != 0) {
                this._emitMissedEvents(this._player.playStart, this._player.playEnd, this._eventIndex);
                this._eventIndex = 0
            }
            var s;
            var r = this._templet.eventAniArr;
            var a = r[this._aniClipIndex];
            var o;
            if (a && this._eventIndex < a.length) {
                s = a[this._eventIndex];
                if (s.time >= this._player.playStart && s.time <= this._player.playEnd) {
                    if (this._player.currentPlayTime >= s.time) {
                        this.event("label", s);
                        this._eventIndex++;
                        if (this._playAudio && s.audioValue && s.audioValue !== "null") {
                            o = Re.playSound(this._player.templet._path + s.audioValue, 1, b.create(this, this._onAniSoundStoped));
                            Re.playbackRate = this._player.playbackRate;
                            o && this._soundChannelArr.push(o)
                        }
                    }
                } else if (s.time < this._player.playStart && this._playAudio && s.audioValue && s.audioValue !== "null") {
                    this._eventIndex++;
                    o = Re.playSound(this._player.templet._path + s.audioValue, 1, b.create(this, this._onAniSoundStoped), null, (this._player.currentPlayTime - s.time) / 1e3);
                    Re.playbackRate = this._player.playbackRate;
                    o && this._soundChannelArr.push(o)
                } else {
                    this._eventIndex++
                }
            }
            var l;
            if (this._aniMode == 0) {
                l = this._templet.getGrahicsDataWithCache(this._aniClipIndex, this._clipIndex);
                if (l) {
                    if (this.graphics != l) {
                        this.graphics = l
                    }
                    return
                } else {
                    var h = 0
                      , u = 0;
                    u = this._clipIndex;
                    while (!this._templet.getGrahicsDataWithCache(this._aniClipIndex, u - 1) && u > 0) {
                        u--
                    }
                    if (u < this._clipIndex) {
                        for (h = u; h < this._clipIndex; h++) {
                            this._createGraphics(h)
                        }
                    }
                }
            } else if (this._aniMode == 1) {
                l = this._getGrahicsDataWithCache(this._aniClipIndex, this._clipIndex);
                if (l) {
                    if (this.graphics != l) {
                        this.graphics = l
                    }
                    return
                } else {
                    u = this._clipIndex;
                    while (!this._getGrahicsDataWithCache(this._aniClipIndex, u - 1) && u > 0) {
                        u--
                    }
                    if (u < this._clipIndex) {
                        for (h = u; h < this._clipIndex; h++) {
                            this._createGraphics(h)
                        }
                    }
                }
            }
            this._createGraphics()
        }
        ;
        t._onAniSoundStoped = function(t) {
            var e;
            for (var i = this._soundChannelArr.length, n = 0; n < i; n++) {
                e = this._soundChannelArr[n];
                if (e.isStopped || t) {
                    !e.isStopped && e.stop();
                    this._soundChannelArr.splice(n, 1);
                    i--;
                    n--
                }
            }
        }
        ;
        t._createGraphics = function(t) {
            t === void 0 && (t = -1);
            if (t == -1)
                t = this._clipIndex;
            var e = t * this._player.cacheFrameRateInterval;
            var i;
            var n = this._templet.drawOrderAniArr;
            var s = n[this._aniClipIndex];
            if (s && s.length > 0) {
                this._drawOrderIndex = 0;
                i = s[this._drawOrderIndex];
                while (e >= i.time) {
                    this._drawOrder = i.drawOrder;
                    this._drawOrderIndex++;
                    if (this._drawOrderIndex >= s.length) {
                        break
                    }
                    i = s[this._drawOrderIndex]
                }
            }
            var r;
            if (this._aniMode == 0 || this._aniMode == 1) {
                this.graphics = bn.create()
            } else {
                if (this.graphics instanceof laya.ani.GraphicsAni) {
                    this.graphics.clear()
                } else {
                    this.graphics = bn.create()
                }
            }
            r = this.graphics;
            var a = this._templet.getNodes(this._aniClipIndex);
            this._templet.getOriginalData(this._aniClipIndex, this._curOriginalData, this._player._fullFrames[this._aniClipIndex], t, e);
            var o = this._aniSectionDic[this._aniClipIndex];
            var l;
            var h = 0;
            var u = 0
              , c = 0
              , f = 0
              , d = 0;
            var _;
            var p;
            var m;
            var g;
            var v = this._templet.srcBoneMatrixArr.length;
            for (u = 0,
            d = o[0]; u < v; u++) {
                g = this._boneList[u];
                m = this._templet.srcBoneMatrixArr[u];
                g.resultTransform.scX = m.scX * this._curOriginalData[h++];
                g.resultTransform.skX = m.skX + this._curOriginalData[h++];
                g.resultTransform.skY = m.skY + this._curOriginalData[h++];
                g.resultTransform.scY = m.scY * this._curOriginalData[h++];
                g.resultTransform.x = m.x + this._curOriginalData[h++];
                g.resultTransform.y = m.y + this._curOriginalData[h++];
                if (this._templet.tMatrixDataLen === 8) {
                    g.resultTransform.skewX = m.skewX + this._curOriginalData[h++];
                    g.resultTransform.skewY = m.skewY + this._curOriginalData[h++]
                }
            }
            var b = {};
            var y = {};
            var x;
            for (d += o[1]; u < d; u++) {
                x = a[u];
                b[x.name] = this._curOriginalData[h++];
                y[x.name] = this._curOriginalData[h++];
                this._curOriginalData[h++];
                this._curOriginalData[h++];
                this._curOriginalData[h++];
                this._curOriginalData[h++]
            }
            var w = {};
            var C = {};
            for (d += o[2]; u < d; u++) {
                x = a[u];
                w[x.name] = this._curOriginalData[h++];
                C[x.name] = this._curOriginalData[h++];
                this._curOriginalData[h++];
                this._curOriginalData[h++];
                this._curOriginalData[h++];
                this._curOriginalData[h++]
            }
            if (this._pathDic) {
                var S;
                for (d += o[3]; u < d; u++) {
                    x = a[u];
                    S = this._pathDic[x.name];
                    if (S) {
                        var T = new Nt(x.extenData);
                        switch (T.getByte()) {
                        case 1:
                            S.position = this._curOriginalData[h++];
                            break;
                        case 2:
                            S.spacing = this._curOriginalData[h++];
                            break;
                        case 3:
                            S.rotateMix = this._curOriginalData[h++];
                            S.translateMix = this._curOriginalData[h++];
                            break
                        }
                    }
                }
            }
            if (this._yReverseMatrix) {
                this._rootBone.update(this._yReverseMatrix)
            } else {
                this._rootBone.update(Ce.TEMP.identity())
            }
            if (this._ikArr) {
                var R;
                for (u = 0,
                d = this._ikArr.length; u < d; u++) {
                    R = this._ikArr[u];
                    if (w.hasOwnProperty(R.name)) {
                        R.bendDirection = w[R.name]
                    }
                    if (C.hasOwnProperty(R.name)) {
                        R.mix = C[R.name]
                    }
                    R.apply()
                }
            }
            if (this._pathDic) {
                for (var I in this._pathDic) {
                    S = this._pathDic[I];
                    S.apply(this._boneList, r)
                }
            }
            if (this._tfArr) {
                var A;
                for (u = 0,
                f = this._tfArr.length; u < f; u++) {
                    A = this._tfArr[u];
                    A.apply()
                }
            }
            for (u = 0,
            f = this._boneList.length; u < f; u++) {
                g = this._boneList[u];
                p = this._bindBoneBoneSlotDic[g.name];
                g.resultMatrix.copyTo(this._boneMatrixArray[u]);
                if (p) {
                    for (c = 0,
                    d = p.length; c < d; c++) {
                        _ = p[c];
                        if (_) {
                            _.setParentMatrix(g.resultMatrix)
                        }
                    }
                }
            }
            var G = {};
            var M = this._templet.deformAniArr;
            var L;
            var W;
            var E;
            if (M && M.length > 0) {
                if (this._lastAniClipIndex != this._aniClipIndex) {
                    this._lastAniClipIndex = this._aniClipIndex;
                    for (u = 0,
                    d = this._boneSlotArray.length; u < d; u++) {
                        _ = this._boneSlotArray[u];
                        _.deformData = null
                    }
                }
                var N = M[this._aniClipIndex];
                L = N["default"];
                this._setDeform(L, G, this._boneSlotArray, e);
                var V;
                for (V in N) {
                    if (V != "default" && V != this._skinName) {
                        L = N[V];
                        this._setDeform(L, G, this._boneSlotArray, e)
                    }
                }
                L = N[this._skinName];
                this._setDeform(L, G, this._boneSlotArray, e)
            }
            var Z;
            var B;
            var k;
            if (this._drawOrder) {
                for (u = 0,
                d = this._drawOrder.length; u < d; u++) {
                    _ = this._boneSlotArray[this._drawOrder[u]];
                    Z = b[_.name];
                    B = y[_.name];
                    if (!isNaN(B)) {
                        r.save();
                        r.alpha(B)
                    }
                    if (!isNaN(Z) && Z != -2) {
                        if (this._templet.attachmentNames) {
                            _.showDisplayByName(this._templet.attachmentNames[Z])
                        } else {
                            _.showDisplayByIndex(Z)
                        }
                    }
                    if (G[this._drawOrder[u]]) {
                        k = G[this._drawOrder[u]];
                        if (_.currDisplayData && k[_.currDisplayData.attachmentName]) {
                            _.deformData = k[_.currDisplayData.attachmentName]
                        } else {
                            _.deformData = null
                        }
                    } else {
                        _.deformData = null
                    }
                    if (!isNaN(B)) {
                        _.draw(r, this._boneMatrixArray, this._aniMode == 2, B)
                    } else {
                        _.draw(r, this._boneMatrixArray, this._aniMode == 2)
                    }
                    if (!isNaN(B)) {
                        r.restore()
                    }
                }
            } else {
                for (u = 0,
                d = this._boneSlotArray.length; u < d; u++) {
                    _ = this._boneSlotArray[u];
                    Z = b[_.name];
                    B = y[_.name];
                    if (!isNaN(B)) {
                        r.save();
                        r.alpha(B)
                    }
                    if (!isNaN(Z) && Z != -2) {
                        if (this._templet.attachmentNames) {
                            _.showDisplayByName(this._templet.attachmentNames[Z])
                        } else {
                            _.showDisplayByIndex(Z)
                        }
                    }
                    if (G[u]) {
                        k = G[u];
                        if (_.currDisplayData && k[_.currDisplayData.attachmentName]) {
                            _.deformData = k[_.currDisplayData.attachmentName]
                        } else {
                            _.deformData = null
                        }
                    } else {
                        _.deformData = null
                    }
                    if (!isNaN(B)) {
                        _.draw(r, this._boneMatrixArray, this._aniMode == 2, B)
                    } else {
                        _.draw(r, this._boneMatrixArray, this._aniMode == 2)
                    }
                    if (!isNaN(B)) {
                        r.restore()
                    }
                }
            }
            if (this._aniMode == 0) {
                this._templet.setGrahicsDataWithCache(this._aniClipIndex, t, r)
            } else if (this._aniMode == 1) {
                this._setGrahicsDataWithCache(this._aniClipIndex, t, r)
            }
        }
        ;
        t._setDeform = function(t, e, i, n) {
            if (!t)
                return;
            var s;
            var r;
            var a;
            var o = 0
              , l = 0
              , h = 0;
            if (t) {
                for (o = 0,
                l = t.deformSlotDataList.length; o < l; o++) {
                    s = t.deformSlotDataList[o];
                    for (h = 0; h < s.deformSlotDisplayList.length; h++) {
                        r = s.deformSlotDisplayList[h];
                        a = i[r.slotIndex];
                        r.apply(n, a);
                        if (!e[r.slotIndex]) {
                            e[r.slotIndex] = {}
                        }
                        e[r.slotIndex][r.attachment] = r.deformData
                    }
                }
            }
        }
        ;
        t.getAnimNum = function() {
            return this._templet.getAnimationCount()
        }
        ;
        t.getAniNameByIndex = function(t) {
            return this._templet.getAniNameByIndex(t)
        }
        ;
        t.getSlotByName = function(t) {
            return this._boneSlotDic[t]
        }
        ;
        t.showSkinByName = function(t, e) {
            e === void 0 && (e = true);
            this.showSkinByIndex(this._templet.getSkinIndexByName(t), e)
        }
        ;
        t.showSkinByIndex = function(t, e) {
            e === void 0 && (e = true);
            for (var i = 0; i < this._boneSlotArray.length; i++) {
                this._boneSlotArray[i].showSlotData(null, e)
            }
            if (this._templet.showSkinByIndex(this._boneSlotDic, t, e)) {
                var n = this._templet.skinDataArray[t];
                this._skinIndex = t;
                this._skinName = n.name
            }
            this._clearCache()
        }
        ;
        t.showSlotSkinByIndex = function(t, e) {
            if (this._aniMode == 0)
                return;
            var i = this.getSlotByName(t);
            if (i) {
                i.showDisplayByIndex(e)
            }
            this._clearCache()
        }
        ;
        t.showSlotSkinByName = function(t, e) {
            if (this._aniMode == 0)
                return;
            var i = this.getSlotByName(t);
            if (i) {
                i.showDisplayByName(e)
            }
            this._clearCache()
        }
        ;
        t.replaceSlotSkinName = function(t, e, i) {
            if (this._aniMode == 0)
                return;
            var n = this.getSlotByName(t);
            if (n) {
                n.replaceDisplayByName(e, i)
            }
            this._clearCache()
        }
        ;
        t.replaceSlotSkinByIndex = function(t, e, i) {
            if (this._aniMode == 0)
                return;
            var n = this.getSlotByName(t);
            if (n) {
                n.replaceDisplayByIndex(e, i)
            }
            this._clearCache()
        }
        ;
        t.setSlotSkin = function(t, e) {
            if (this._aniMode == 0)
                return;
            var i = this.getSlotByName(t);
            if (i) {
                i.replaceSkin(e)
            }
            this._clearCache()
        }
        ;
        t._clearCache = function() {
            if (this._aniMode == 1) {
                for (var t = 0, e = this._graphicsCache.length; t < e; t++) {
                    for (var i = 0, n = this._graphicsCache[t].length; i < n; i++) {
                        var s = this._graphicsCache[t][i];
                        if (s != this.graphics) {
                            bn.recycle(s)
                        }
                    }
                    this._graphicsCache[t].length = 0
                }
            }
        }
        ;
        t.play = function(t, e, i, n, s, r, a) {
            i === void 0 && (i = true);
            n === void 0 && (n = 0);
            s === void 0 && (s = 0);
            r === void 0 && (r = true);
            a === void 0 && (a = true);
            this._playAudio = a;
            this._indexControl = false;
            var o = -1;
            var l = NaN;
            if (e) {
                l = 2147483647
            } else {
                l = 0
            }
            if (typeof t == "string") {
                for (var h = 0, u = this._templet.getAnimationCount(); h < u; h++) {
                    var c = this._templet.getAnimation(h);
                    if (c && t == c.name) {
                        o = h;
                        break
                    }
                }
            } else {
                o = t
            }
            if (o > -1 && o < this.getAnimNum()) {
                this._aniClipIndex = o;
                if (i || this._pause || this._currAniIndex != o) {
                    this._currAniIndex = o;
                    this._curOriginalData = new Float32Array(this._templet.getTotalkeyframesLength(o));
                    this._drawOrder = null;
                    this._eventIndex = 0;
                    this._player.play(o, this._player.playbackRate, l, n, s);
                    if (r)
                        this._templet.showSkinByIndex(this._boneSlotDic, this._skinIndex);
                    if (this._pause) {
                        this._pause = false;
                        this._lastTime = He.now();
                        this.timer.frameLoop(1, this, this._update, null, true)
                    }
                    this._update()
                }
            }
        }
        ;
        t.stop = function() {
            if (!this._pause) {
                this._pause = true;
                if (this._player) {
                    this._player.stop(true)
                }
                if (this._soundChannelArr.length > 0) {
                    this._onAniSoundStoped(true)
                }
                this.timer.clear(this, this._update)
            }
        }
        ;
        t.playbackRate = function(t) {
            if (this._player) {
                this._player.playbackRate = t
            }
        }
        ;
        t.paused = function() {
            if (!this._pause) {
                this._pause = true;
                if (this._player) {
                    this._player.paused = true
                }
                if (this._soundChannelArr.length > 0) {
                    var t;
                    for (var e = this._soundChannelArr.length, i = 0; i < e; i++) {
                        t = this._soundChannelArr[i];
                        if (!t.isStopped) {
                            t.pause()
                        }
                    }
                }
                this.timer.clear(this, this._update)
            }
        }
        ;
        t.resume = function() {
            this._indexControl = false;
            if (this._pause) {
                this._pause = false;
                if (this._player) {
                    this._player.paused = false
                }
                if (this._soundChannelArr.length > 0) {
                    var t;
                    for (var e = this._soundChannelArr.length, i = 0; i < e; i++) {
                        t = this._soundChannelArr[i];
                        if (t.audioBuffer) {
                            t.resume()
                        }
                    }
                }
                this._lastTime = He.now();
                this.timer.frameLoop(1, this, this._update, null, true)
            }
        }
        ;
        t._getGrahicsDataWithCache = function(t, e) {
            return this._graphicsCache[t][e]
        }
        ;
        t._setGrahicsDataWithCache = function(t, e, i) {
            this._graphicsCache[t][e] = i
        }
        ;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._templet = null;
            if (this._player)
                this._player.offAll();
            this._player = null;
            this._curOriginalData = null;
            this._boneMatrixArray.length = 0;
            this._lastTime = 0;
            this.timer.clear(this, this._update);
            if (this._soundChannelArr.length > 0) {
                this._onAniSoundStoped(true)
            }
        }
        ;
        p(0, t, "url", function() {
            return this._aniPath
        }, function(t) {
            this.load(t)
        });
        p(0, t, "index", function() {
            return this._index
        }, function(t) {
            if (this.player) {
                this._index = t;
                this._player.currentTime = this._index * 1e3 / this._player.cacheFrameRate;
                this._indexControl = true;
                this._update(false)
            }
        });
        p(0, t, "total", function() {
            if (this._templet && this._player) {
                this._total = Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex) / 1e3 * this._player.cacheFrameRate)
            } else {
                this._total = -1
            }
            return this._total
        });
        p(0, t, "templet", function() {
            return this._templet
        });
        p(0, t, "player", function() {
            return this._player
        });
        i.useSimpleMeshInCanvas = false;
        return i
    }(Dn);
    var as = function(e) {
        function i(t) {
            this._matrix4 = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
            this._particleTemplate = null;
            this._canvasTemplate = null;
            this._emitter = null;
            this.autoPlay = true;
            i.__super.call(this);
            if (t)
                this.setParticleSetting(t)
        }
        x(i, "laya.particle.Particle2D", e);
        var t = i.prototype;
        t.load = function(t) {
            st.loader.load(t, b.create(this, this.setParticleSetting), null, "json")
        }
        ;
        t.setParticleSetting = function(e) {
            var i = this;
            if (!e)
                return this.stop();
            We.checkSetting(e);
            if (!a.ConchParticleTemplate2D || Be.isWebGL)
                this.customRenderEnable = true;
            if (Be.isWebGL) {
                this._particleTemplate = new ss(e);
                this.graphics._saveToCmd(Be.context._drawParticle, [this._particleTemplate])
            } else if (Be.isConchApp && a.ConchParticleTemplate2D) {
                this._particleTemplate = new ConchParticleTemplate2D;
                var n = this;
                st.loader.load(e.textureName, b.create(null, function(t) {
                    n._particleTemplate.texture = t;
                    n._particleTemplate.settings = e;
                    if (Be.isConchNode) {
                        n.graphics.drawParticle(n._particleTemplate)
                    } else {
                        n.graphics._saveToCmd(Be.context._drawParticle, [i._particleTemplate])
                    }
                }));
                this._emitter = {
                    start: function() {}
                };
                this.play = this._particleTemplate.play.bind(this._particleTemplate);
                this.stop = this._particleTemplate.stop.bind(this._particleTemplate);
                if (this.autoPlay)
                    this.play();
                return
            } else {
                this._particleTemplate = this._canvasTemplate = new Ln(e)
            }
            if (!this._emitter) {
                this._emitter = new Gn(this._particleTemplate)
            } else {
                this._emitter.template = this._particleTemplate
            }
            if (this.autoPlay) {
                this.emitter.start();
                this.play()
            }
        }
        ;
        t.play = function() {
            this.timer.frameLoop(1, this, this._loop)
        }
        ;
        t.stop = function() {
            this.timer.clear(this, this._loop)
        }
        ;
        t._loop = function() {
            this.advanceTime(1 / 60)
        }
        ;
        t.advanceTime = function(t) {
            t === void 0 && (t = 1);
            if (this._canvasTemplate) {
                this._canvasTemplate.advanceTime(t)
            }
            if (this._emitter) {
                this._emitter.advanceTime(t)
            }
        }
        ;
        t.customRender = function(t, e, i) {
            if (Be.isWebGL) {
                this._matrix4[0] = t.ctx._curMat.a;
                this._matrix4[1] = t.ctx._curMat.b;
                this._matrix4[4] = t.ctx._curMat.c;
                this._matrix4[5] = t.ctx._curMat.d;
                this._matrix4[12] = t.ctx._curMat.tx;
                this._matrix4[13] = t.ctx._curMat.ty;
                var n = this._particleTemplate.sv;
                n.u_mmat = this._matrix4
            }
            if (this._canvasTemplate) {
                this._canvasTemplate.render(t, e, i)
            }
        }
        ;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            if (this._particleTemplate instanceof laya.particle.ParticleTemplate2D)
                this._particleTemplate.dispose();
            e.prototype.destroy.call(this, t)
        }
        ;
        p(0, t, "url", null, function(t) {
            this.load(t)
        });
        p(0, t, "emitter", function() {
            return this._emitter
        });
        return i
    }(Dn);
    var os = function(e) {
        function t() {
            this._comXml = null;
            this._dataSource = null;
            this._toolTip = null;
            this._tag = null;
            this._disabled = false;
            this._gray = false;
            this.layoutEnabled = true;
            t.__super.call(this);
            this._layout = Ye.EMPTY;
            this.preinitialize();
            this.createChildren();
            this.initialize()
        }
        x(t, "laya.ui.Component", e);
        var i = t.prototype;
        st.imps(i, {
            "laya.ui.IComponent": true
        });
        i.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._dataSource = this._layout = null;
            this._tag = null;
            this._toolTip = null
        }
        ;
        i.preinitialize = function() {}
        ;
        i.createChildren = function() {}
        ;
        i.initialize = function() {}
        ;
        i.callLater = function(t, e) {
            st.timer.callLater(this, t, e)
        }
        ;
        i.runCallLater = function(t) {
            st.timer.runCallLater(this, t)
        }
        ;
        i.commitMeasure = function() {}
        ;
        i.changeSize = function() {
            this.event("resize");
            if (this._layout.enable) {
                this.resetLayoutX();
                this.resetLayoutY()
            }
        }
        ;
        i.getLayout = function() {
            this._layout === Ye.EMPTY && (this._layout = new Ye);
            return this._layout
        }
        ;
        i._setLayoutEnabled = function(t) {
            if (this._layout && this._layout.enable != t) {
                this._layout.enable = t;
                this.on("added", this, this.onAdded);
                this.on("removed", this, this.onRemoved);
                if (this.parent) {
                    this.onAdded()
                }
            }
        }
        ;
        i.onRemoved = function() {
            this.parent.off("resize", this, this.onCompResize)
        }
        ;
        i.onAdded = function() {
            this.parent.on("resize", this, this.onCompResize);
            this.resetLayoutX();
            this.resetLayoutY()
        }
        ;
        i.onCompResize = function() {
            if (this._layout && this._layout.enable) {
                this.resetLayoutX();
                this.resetLayoutY()
            }
        }
        ;
        i.resetLayoutX = function() {
            var t = this._layout;
            if (!isNaN(t.anchorX))
                this.pivotX = t.anchorX * this.width;
            if (!this.layoutEnabled)
                return;
            var e = this.parent;
            if (e) {
                if (!isNaN(t.centerX)) {
                    this.x = Math.round((e.width - this.displayWidth) * .5 + t.centerX + this.pivotX * this.scaleX)
                } else if (!isNaN(t.left)) {
                    this.x = Math.round(t.left + this.pivotX * this.scaleX);
                    if (!isNaN(t.right)) {
                        this.width = (e._width - t.left - t.right) / (this.scaleX || .01)
                    }
                } else if (!isNaN(t.right)) {
                    this.x = Math.round(e.width - this.displayWidth - t.right + this.pivotX * this.scaleX)
                }
            }
        }
        ;
        i.resetLayoutY = function() {
            var t = this._layout;
            if (!isNaN(t.anchorY))
                this.pivotY = t.anchorY * this.height;
            if (!this.layoutEnabled)
                return;
            var e = this.parent;
            if (e) {
                if (!isNaN(t.centerY)) {
                    this.y = Math.round((e.height - this.displayHeight) * .5 + t.centerY + this.pivotY * this.scaleY)
                } else if (!isNaN(t.top)) {
                    this.y = Math.round(t.top + this.pivotY * this.scaleY);
                    if (!isNaN(t.bottom)) {
                        this.height = (e._height - t.top - t.bottom) / (this.scaleY || .01)
                    }
                } else if (!isNaN(t.bottom)) {
                    this.y = Math.round(e.height - this.displayHeight - t.bottom + this.pivotY * this.scaleY)
                }
            }
        }
        ;
        i.onMouseOver = function(t) {
            st.stage.event("showtip", this._toolTip)
        }
        ;
        i.onMouseOut = function(t) {
            st.stage.event("hidetip", this._toolTip)
        }
        ;
        i._childChanged = function(t) {
            this.callLater(this.changeSize);
            e.prototype._childChanged.call(this, t)
        }
        ;
        p(0, i, "displayWidth", function() {
            return this.width * this.scaleX
        });
        p(0, i, "width", function() {
            if (this._width)
                return this._width;
            return this.measureWidth
        }, function(t) {
            if (this._width != t) {
                this._width = t;
                this.conchModel && this.conchModel.size(this._width, this._height);
                this.callLater(this.changeSize);
                if (this._layout.enable && (!isNaN(this._layout.centerX) || !isNaN(this._layout.right) || !isNaN(this._layout.anchorX)))
                    this.resetLayoutX()
            }
        });
        p(0, i, "measureWidth", function() {
            var t = 0;
            this.commitMeasure();
            for (var e = this.numChildren - 1; e > -1; e--) {
                var i = this.getChildAt(e);
                if (i.visible) {
                    t = Math.max(i.x + i.width * i.scaleX, t)
                }
            }
            return t
        });
        p(0, i, "displayHeight", function() {
            return this.height * this.scaleY
        });
        p(0, i, "height", function() {
            if (this._height)
                return this._height;
            return this.measureHeight
        }, function(t) {
            if (this._height != t) {
                this._height = t;
                this.conchModel && this.conchModel.size(this._width, this._height);
                this.callLater(this.changeSize);
                if (this._layout.enable && (!isNaN(this._layout.centerY) || !isNaN(this._layout.bottom) || !isNaN(this._layout.anchorY)))
                    this.resetLayoutY()
            }
        });
        p(0, i, "dataSource", function() {
            return this._dataSource
        }, function(t) {
            this._dataSource = t;
            for (var e in this._dataSource) {
                if (this.hasOwnProperty(e) && !(typeof this[e] == "function")) {
                    this[e] = this._dataSource[e]
                }
            }
        });
        p(0, i, "scaleY", e.prototype._$get_scaleY, function(t) {
            if (st.superGet(Dn, this, "scaleY") != t) {
                st.superSet(Dn, this, "scaleY", t);
                this.callLater(this.changeSize);
                this._layout.enable && this.resetLayoutY()
            }
        });
        p(0, i, "measureHeight", function() {
            var t = 0;
            this.commitMeasure();
            for (var e = this.numChildren - 1; e > -1; e--) {
                var i = this.getChildAt(e);
                if (i.visible) {
                    t = Math.max(i.y + i.height * i.scaleY, t)
                }
            }
            return t
        });
        p(0, i, "scaleX", e.prototype._$get_scaleX, function(t) {
            if (st.superGet(Dn, this, "scaleX") != t) {
                st.superSet(Dn, this, "scaleX", t);
                this.callLater(this.changeSize);
                this._layout.enable && this.resetLayoutX()
            }
        });
        p(0, i, "top", function() {
            return this._layout.top
        }, function(t) {
            if (t != this._layout.top) {
                this.getLayout().top = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutY()
        });
        p(0, i, "bottom", function() {
            return this._layout.bottom
        }, function(t) {
            if (t != this._layout.bottom) {
                this.getLayout().bottom = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutY()
        });
        p(0, i, "left", function() {
            return this._layout.left
        }, function(t) {
            if (t != this._layout.left) {
                this.getLayout().left = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutX()
        });
        p(0, i, "right", function() {
            return this._layout.right
        }, function(t) {
            if (t != this._layout.right) {
                this.getLayout().right = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutX()
        });
        p(0, i, "centerX", function() {
            return this._layout.centerX
        }, function(t) {
            if (t != this._layout.centerX) {
                this.getLayout().centerX = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutX()
        });
        p(0, i, "centerY", function() {
            return this._layout.centerY
        }, function(t) {
            if (t != this._layout.centerY) {
                this.getLayout().centerY = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutY()
        });
        p(0, i, "anchorX", function() {
            return this._layout.anchorX
        }, function(t) {
            if (t != this._layout.anchorX) {
                this.getLayout().anchorX = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutX()
        });
        p(0, i, "anchorY", function() {
            return this._layout.anchorY
        }, function(t) {
            if (t != this._layout.anchorY) {
                this.getLayout().anchorY = t;
                this._setLayoutEnabled(true)
            }
            this.resetLayoutY()
        });
        p(0, i, "tag", function() {
            return this._tag
        }, function(t) {
            this._tag = t
        });
        p(0, i, "toolTip", function() {
            return this._toolTip
        }, function(t) {
            if (this._toolTip != t) {
                this._toolTip = t;
                if (t != null) {
                    this.on("mouseover", this, this.onMouseOver);
                    this.on("mouseout", this, this.onMouseOut)
                } else {
                    this.off("mouseover", this, this.onMouseOver);
                    this.off("mouseout", this, this.onMouseOut)
                }
            }
        });
        p(0, i, "comXml", function() {
            return this._comXml
        }, function(t) {
            this._comXml = t
        });
        p(0, i, "gray", function() {
            return this._gray
        }, function(t) {
            if (t !== this._gray) {
                this._gray = t;
                Ue.gray(this, t)
            }
        });
        p(0, i, "disabled", function() {
            return this._disabled
        }, function(t) {
            if (t !== this._disabled) {
                this.gray = this._disabled = t;
                this.mouseEnabled = !t
            }
        });
        return t
    }(Dn);
    var ls = function(i) {
        function e() {
            this.URI = null;
            this._href = null;
            e.__super.call(this);
            this._text = e._EMPTYTEXT;
            this.setStyle(new wn(this));
            this._getCSSStyle().valign = "middle";
            this.mouseEnabled = true
        }
        x(e, "laya.html.dom.HTMLElement", i);
        var t = e.prototype;
        t.layaoutCallNative = function() {
            var t = 0;
            if (this._childs && (t = this._childs.length) > 0) {
                for (var e = 0; e < t; e++) {
                    this._childs[e].layaoutCallNative && this._childs[e].layaoutCallNative()
                }
            }
            var i = this._getWords();
            i ? laya.html.dom.HTMLElement.fillWords(this, i, 0, 0, this.style.font, this.style.color, this.style.underLine, this.style.stroke, this.style.strokeColor) : this.graphics.clear()
        }
        ;
        t.appendChild = function(t) {
            return this.addChild(t)
        }
        ;
        t._getWords2 = function() {
            var t = this._text.text;
            if (!t || t.length === 0)
                return null;
            var e = 0
              , i = 0;
            var n;
            var s;
            if (!this._text.drawWords) {
                n = t.split(" ");
                i = n.length - 1;
                s = [];
                for (e = 0; e < i; e++) {
                    s.push(n[e], " ")
                }
                if (i >= 0)
                    s.push(n[i]);
                this._text.drawWords = s
            } else {
                s = this._text.drawWords
            }
            var r = this._text.words;
            if (r && r.length === s.length)
                return r;
            r === null && (this._text.words = r = []);
            r.length = s.length;
            var a;
            var o = this.style;
            var l = o.font;
            for (e = 0,
            i = s.length; e < i; e++) {
                a = ai.measureText(s[e], l);
                var h = r[e] = new $e(s[e],a.width,a.height || o.fontSize,o);
                if (h.char.length > 1) {
                    h.charNum = h.char
                }
                if (this.href) {
                    var u = new Dn;
                    this.addChild(u);
                    h.setSprite(u)
                }
            }
            return r
        }
        ;
        t._getWords = function() {
            if (!hs.CharacterCache)
                return this._getWords2();
            var t = this._text.text;
            if (!t || t.length === 0)
                return null;
            var e = this._text.words;
            if (e && e.length === t.length)
                return e;
            e === null && (this._text.words = e = []);
            e.length = t.length;
            var i;
            var n = this.style;
            var s = n.font;
            var r = 0;
            for (var a = 0, o = t.length; a < o; a++) {
                i = ai.measureText(t.charAt(a), s);
                var l = e[a] = new $e(t.charAt(a),i.width,i.height || n.fontSize,n);
                if (this.href) {
                    var h = new Dn;
                    this.addChild(h);
                    l.setSprite(h)
                }
            }
            return e
        }
        ;
        t.showLinkSprite = function() {
            var t = this._text.words;
            if (t) {
                var e = [];
                var i;
                var n;
                for (var s = 0; s < t.length; s++) {
                    n = t[s];
                    i = new Dn;
                    i.graphics.drawRect(0, 0, n.width, n.height, "#ff0000");
                    i.width = n.width;
                    i.height = n.height;
                    this.addChild(i);
                    e.push(i)
                }
            }
        }
        ;
        t._layoutLater = function() {
            var t = this.style;
            if (t._type & 512)
                return;
            if (t.widthed(this) && (this._childs.length > 0 || this._getWords() != null) && t.block) {
                ge.later(this);
                t._type |= 512
            } else {
                this.parent && this.parent._layoutLater()
            }
        }
        ;
        t._setAttributes = function(t, e) {
            switch (t) {
            case "style":
                this.style.cssText(e);
                return;
            case "class":
                this.className = e;
                return
            }
            i.prototype._setAttributes.call(this, t, e)
        }
        ;
        t.updateHref = function() {
            if (this._href != null) {
                var t = this._getWords();
                if (t) {
                    var e;
                    var i;
                    for (var n = 0; n < t.length; n++) {
                        e = t[n];
                        i = e.getSprite();
                        if (i) {
                            i.size(e.width, e.height);
                            i.on("click", this, this.onLinkHandler)
                        }
                    }
                }
            }
        }
        ;
        t.onLinkHandler = function(t) {
            switch (t.type) {
            case "click":
                ;var e = this;
                while (e) {
                    e.event("link", [this.href]);
                    e = e.parent
                }
                break
            }
        }
        ;
        t.formatURL = function(t) {
            if (!this.URI)
                return t;
            return Ge.formatURL(t, this.URI ? this.URI.path : null)
        }
        ;
        p(0, t, "href", function() {
            return this._href
        }, function(t) {
            this._href = t;
            if (t != null) {
                this._getCSSStyle().underLine = 1;
                this.updateHref()
            }
        });
        p(0, t, "color", null, function(t) {
            this.style.color = t
        });
        p(0, t, "onClick", null, function(t) {
            var e;
            st._runScript("fn=function(event){" + t + ";}");
            this.on("click", this, e)
        });
        p(0, t, "id", null, function(t) {
            Ks.document.setElementById(t, this)
        });
        p(0, t, "innerTEXT", function() {
            return this._text.text
        }, function(t) {
            this.text = t
        });
        p(0, t, "style", function() {
            return this._style
        });
        p(0, t, "text", function() {
            return this._text.text
        }, function(t) {
            if (this._text == e._EMPTYTEXT) {
                this._text = {
                    text: t,
                    words: null
                }
            } else {
                this._text.text = t;
                this._text.words && (this._text.words.length = 0)
            }
            Be.isConchApp && this.layaoutCallNative();
            this._renderType |= 2048;
            this.repaint();
            this.updateHref()
        });
        p(0, t, "parent", i.prototype._$get_parent, function(t) {
            if (t instanceof laya.html.dom.HTMLElement) {
                var e = t;
                this.URI || (this.URI = e.URI);
                this.style.inherit(e.style)
            }
            st.superSet(Dn, this, "parent", t)
        });
        p(0, t, "className", null, function(t) {
            this.style.attrs(Ks.document.styleSheets["." + t])
        });
        e.fillWords = function(t, e, i, n, s, r, a, o, l) {
            t.graphics.clear();
            for (var h = 0, u = e.length; h < u; h++) {
                var c = e[h];
                if (o > 0) {
                    t.graphics.fillBorderText(c.char, c.x + i, c.y + n, s, r, l, o, "left")
                } else {
                    t.graphics.fillText(c.char, c.x + i, c.y + n, s, r, "left", a)
                }
            }
        }
        ;
        e._EMPTYTEXT = {
            text: null,
            words: null
        };
        return e
    }(Dn);
    var hs = function(e) {
        function d() {
            this._clipPoint = null;
            this._currBitmapFont = null;
            this._text = null;
            this._isChanged = false;
            this._textWidth = 0;
            this._textHeight = 0;
            this._lines = [];
            this._lineWidths = [];
            this._startX = NaN;
            this._startY = NaN;
            this._lastVisibleLineIndex = -1;
            this._words = null;
            this._charSize = {};
            this.underline = false;
            this._underlineColor = null;
            d.__super.call(this);
            this.overflow = d.VISIBLE;
            this._style = new wn(this);
            this._style.wordWrap = false
        }
        x(d, "laya.display.Text", e);
        var t = d.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._lines = null;
            if (this._words) {
                this._words.length = 0;
                this._words = null
            }
        }
        ;
        t._getBoundPointsM = function(t) {
            t === void 0 && (t = false);
            var e = Te.TEMP;
            e.setTo(0, 0, this.width, this.height);
            return e._getBoundPoints()
        }
        ;
        t.getGraphicBounds = function(t) {
            t === void 0 && (t = false);
            var e = Te.TEMP;
            e.setTo(0, 0, this.width, this.height);
            return e
        }
        ;
        t._getCSSStyle = function() {
            return this._style
        }
        ;
        t.lang = function(t, e, i, n, s, r, a, o, l, h, u) {
            t = d.langPacks && d.langPacks[t] ? d.langPacks[t] : t;
            if (arguments.length < 2) {
                this._text = t
            } else {
                for (var c = 0, f = arguments.length; c < f; c++) {
                    t = t.replace("{" + c + "}", arguments[c + 1])
                }
                this._text = t
            }
        }
        ;
        t._isPassWordMode = function() {
            var t = this._style;
            var e = t.password;
            if ("prompt"in this && this["prompt"] == this._text)
                e = false;
            return e
        }
        ;
        t._getPassWordTxt = function(t) {
            var e = t.length;
            var i;
            i = "";
            for (var n = e; n > 0; n--) {
                i += "●"
            }
            return i
        }
        ;
        t.renderText = function(t, e) {
            var i = this.graphics;
            i.clear(true);
            var n = (this.italic ? "italic " : "") + (this.bold ? "bold " : "") + this.fontSize + "px " + (He.onIPhone ? laya.display.Text._fontFamilyMap[this.font] || this.font : this.font);
            He.context.font = n;
            if (Be.isConchNode) {
                He.context.direction = this.direction;
                i.setDirection && i.setDirection(this.direction)
            }
            var s = this.padding;
            var r = s[3];
            var a = "left";
            var o = this._lines;
            var l = this.leading + this._charSize.height;
            var h = this._currBitmapFont;
            if (h) {
                l = this.leading + h.getMaxHeight()
            }
            var u = s[0];
            if (!h && this._width > 0 && this._textWidth <= this._width) {
                if (this.align == "right") {
                    a = "right";
                    r = this._width - s[1]
                } else if (this.align == "center") {
                    a = "center";
                    r = this._width * .5 + s[3] - s[1]
                }
            }
            if (this._height > 0) {
                var c = this._textHeight > this._height ? "top" : this.valign;
                if (c === "middle")
                    u = (this._height - e * l) * .5 + s[0] - s[2];
                else if (c === "bottom")
                    u = this._height - e * l - s[2]
            }
            var f = this._style;
            if (h && h.autoScaleSize) {
                var d = h.fontSize / this.fontSize
            }
            if (this._clipPoint) {
                i.save();
                if (h && h.autoScaleSize) {
                    var _ = 0;
                    var p = 0;
                    this._width ? _ = this._width - s[3] - s[1] : _ = this._textWidth;
                    this._height ? p = this._height - s[0] - s[2] : p = this._textHeight;
                    _ *= d;
                    p *= d;
                    i.clipRect(s[3], s[0], _, p)
                } else {
                    i.clipRect(s[3], s[0], this._width ? this._width - s[3] - s[1] : this._textWidth, this._height ? this._height - s[0] - s[2] : this._textHeight)
                }
            }
            var m = f.password;
            if ("prompt"in this && this["prompt"] == this._text)
                m = false;
            var g = 0
              , v = 0;
            var b = Math.min(this._lines.length, e + t) || 1;
            for (var y = t; y < b; y++) {
                var x = o[y];
                var w;
                if (m) {
                    var C = x.length;
                    x = "";
                    for (var S = C; S > 0; S--) {
                        x += "●"
                    }
                }
                if (x === undefined)
                    x = "";
                g = r - (this._clipPoint ? this._clipPoint.x : 0);
                v = u + l * y - (this._clipPoint ? this._clipPoint.y : 0);
                this.underline && this.drawUnderline(a, g, v, y);
                if (h) {
                    var T = this.width;
                    if (h.autoScaleSize) {
                        T = this.width * d
                    }
                    h.drawText(x, this, g, v, this.align, T)
                } else {
                    if (Be.isWebGL) {
                        this._words || (this._words = []);
                        w = this._words.length > y - t ? this._words[y - t] : new hi;
                        w.setText(x)
                    } else {
                        w = x
                    }
                    f.stroke ? i.fillBorderText(w, g, v, n, this.color, f.strokeColor, f.stroke, a) : i.fillText(w, g, v, n, this.color, a)
                }
            }
            if (h && h.autoScaleSize) {
                var R = 1 / d;
                this.scale(R, R)
            }
            if (this._clipPoint)
                i.restore();
            this._startX = r;
            this._startY = u
        }
        ;
        t.drawUnderline = function(t, e, i, n) {
            var s = this._lineWidths[n];
            switch (t) {
            case "center":
                e -= s / 2;
                break;
            case "right":
                e -= s;
                break;
            case "left":
            default:
                break
            }
            i += this._charSize.height + 1;
            this._graphics.drawLine(e, i, e + s, i, this.underlineColor || this.color, 1)
        }
        ;
        t.typeset = function() {
            this._isChanged = false;
            if (!this._text) {
                this._clipPoint = null;
                this._textWidth = this._textHeight = 0;
                this.graphics.clear(true);
                return
            }
            if (Be.isConchApp) {
                var t = "" + this._getCSSStyle().font;
                var e = this._getCSSStyle();
                if (e.stroke) {
                    if (this._getCSSStyle().strokeColor) {
                        t += " " + 1 + " " + this._getCSSStyle().strokeColor
                    }
                }
                He.context.font = t;
                if (Be.isConchNode) {
                    He.context.direction = this.direction;
                    this.graphics.setDirection && this.graphics.setDirection(this.direction)
                }
            } else {
                He.context.font = this._getCSSStyle().font
            }
            this._lines.length = 0;
            this._lineWidths.length = 0;
            if (this._isPassWordMode()) {
                this.parseLines(this._getPassWordTxt(this._text))
            } else
                this.parseLines(this._text);
            this.evalTextSize();
            if (this.checkEnabledViewportOrNot())
                this._clipPoint || (this._clipPoint = new Se(0,0));
            else
                this._clipPoint = null;
            var i = this._lines.length;
            if (this.overflow != d.VISIBLE) {
                var n = this.overflow == d.HIDDEN ? Math.floor : Math.ceil;
                i = Math.min(i, n((this.height - this.padding[0] - this.padding[2]) / (this.leading + this._charSize.height)))
            }
            var s = this.scrollY / (this._charSize.height + this.leading) | 0;
            this.renderText(s, i);
            this.repaint()
        }
        ;
        t.evalTextSize = function() {
            var t = NaN
              , e = NaN;
            t = Math.max.apply(this, this._lineWidths);
            if (this._currBitmapFont)
                e = this._lines.length * (this._currBitmapFont.getMaxHeight() + this.leading) + this.padding[0] + this.padding[2];
            else
                e = this._lines.length * (this._charSize.height + this.leading) + this.padding[0] + this.padding[2];
            if (t != this._textWidth || e != this._textHeight) {
                this._textWidth = t;
                this._textHeight = e;
                if (!this._width || !this._height)
                    this.conchModel && this.conchModel.size(this._width || this._textWidth, this._height || this._textHeight)
            }
        }
        ;
        t.checkEnabledViewportOrNot = function() {
            return this.overflow == d.SCROLL && (this._width > 0 && this._textWidth > this._width || this._height > 0 && this._textHeight > this._height)
        }
        ;
        t.changeText = function(t) {
            if (this._text !== t) {
                this.lang(t + "");
                if (this._graphics && this._graphics.replaceText(this._text)) {} else {
                    this.typeset()
                }
            }
        }
        ;
        t.parseLines = function(t) {
            var e = this.wordWrap || this.overflow == d.HIDDEN;
            if (e) {
                var i = this.getWordWrapWidth()
            }
            if (this._currBitmapFont) {
                this._charSize.width = this._currBitmapFont.getMaxWidth();
                this._charSize.height = this._currBitmapFont.getMaxHeight()
            } else {
                var n = He.context.measureText(d._testWord);
                if (Be.isConchApp && n.width === 0 && n.height === 0) {
                    n = He.context.measureText("W")
                }
                this._charSize.width = n.width;
                this._charSize.height = n.height || this.fontSize
            }
            var s = t.replace(/\r\n/g, "\n").split("\n");
            for (var r = 0, a = s.length; r < a; r++) {
                var o = s[r];
                if (e)
                    this.parseLine(o, i);
                else {
                    this._lineWidths.push(this.getTextWidth(o));
                    this._lines.push(o)
                }
            }
        }
        ;
        t.parseLine = function(t, e) {
            var i = He.context;
            var n = this._lines;
            var s = 0;
            var r;
            var a = NaN;
            var o = NaN;
            var l = 0;
            a = this.getTextWidth(t);
            if (a <= e) {
                n.push(t);
                this._lineWidths.push(a);
                return
            }
            a = this._charSize.width;
            s = Math.floor(e / a);
            s == 0 && (s = 1);
            a = this.getTextWidth(t.substring(0, s));
            o = a;
            for (var h = s, u = t.length; h < u; h++) {
                a = this.getTextWidth(t.charAt(h));
                o += a;
                if (o > e) {
                    if (this.wordWrap) {
                        var c = t.substring(l, h);
                        if (d._isWordRegExp.test(t.charAt(h))) {
                            r = /(?:\w|\.)+$/.exec(c);
                            if (r) {
                                h = r.index + l;
                                if (r.index == 0)
                                    h += c.length;
                                else
                                    c = t.substring(l, h)
                            }
                        } else if (d.RightToLeft) {
                            r = /([\u0600-\u06FF])+$/.exec(c);
                            if (r) {
                                h = r.index + l;
                                if (r.index == 0)
                                    h += c.length;
                                else
                                    c = t.substring(l, h)
                            }
                        }
                        n.push(c);
                        this._lineWidths.push(o - a);
                        l = h;
                        if (h + s < u) {
                            h += s;
                            a = this.getTextWidth(t.substring(l, h));
                            o = a;
                            h--
                        } else {
                            n.push(t.substring(l, u));
                            this._lineWidths.push(this.getTextWidth(n[n.length - 1]));
                            l = -1;
                            break
                        }
                    } else if (this.overflow == d.HIDDEN) {
                        n.push(t.substring(0, h));
                        this._lineWidths.push(this.getTextWidth(n[n.length - 1]));
                        return
                    }
                }
            }
            if (this.wordWrap && l != -1) {
                n.push(t.substring(l, u));
                this._lineWidths.push(this.getTextWidth(n[n.length - 1]))
            }
        }
        ;
        t.getTextWidth = function(t) {
            if (this._currBitmapFont)
                return this._currBitmapFont.getTextWidth(t);
            else
                return He.context.measureText(t).width
        }
        ;
        t.getWordWrapWidth = function() {
            var t = this.padding;
            var e = NaN;
            if (this._currBitmapFont && this._currBitmapFont.autoScaleSize)
                e = this._width * (this._currBitmapFont.fontSize / this.fontSize);
            else
                e = this._width;
            if (e <= 0) {
                e = this.wordWrap ? 100 : He.width
            }
            e <= 0 && (e = 100);
            return e - t[3] - t[1]
        }
        ;
        t.getCharPoint = function(t, e) {
            this._isChanged && st.timer.runCallLater(this, this.typeset);
            var i = 0
              , n = this._lines
              , s = 0;
            for (var r = 0, a = n.length; r < a; r++) {
                i += n[r].length;
                if (t < i) {
                    var o = r;
                    break
                }
                s = i
            }
            var l = (this.italic ? "italic " : "") + (this.bold ? "bold " : "") + this.fontSize + "px " + this.font;
            He.context.font = l;
            if (Be.isConchNode) {
                He.context.direction = this.direction;
                this.graphics.setDirection && this.graphics.setDirection(this.direction)
            }
            var h = this.getTextWidth(this._text.substring(s, t));
            var u = e || new Se;
            return u.setTo(this._startX + h - (this._clipPoint ? this._clipPoint.x : 0), this._startY + o * (this._charSize.height + this.leading) - (this._clipPoint ? this._clipPoint.y : 0))
        }
        ;
        p(0, t, "width", function() {
            if (this._width)
                return this._width;
            return this.textWidth
        }, function(t) {
            if (t != this._width) {
                st.superSet(Dn, this, "width", t);
                this.isChanged = true
            }
        });
        p(0, t, "textWidth", function() {
            this._isChanged && st.timer.runCallLater(this, this.typeset);
            return this._textWidth
        });
        p(0, t, "height", function() {
            if (this._height)
                return this._height;
            return this.textHeight + this.padding[0] + this.padding[2]
        }, function(t) {
            if (t != this._height) {
                st.superSet(Dn, this, "height", t);
                this.isChanged = true
            }
        });
        p(0, t, "textHeight", function() {
            this._isChanged && st.timer.runCallLater(this, this.typeset);
            return this._textHeight
        });
        p(0, t, "padding", function() {
            return this._getCSSStyle().padding
        }, function(t) {
            this._getCSSStyle().padding = t;
            this.isChanged = true
        });
        p(0, t, "bold", function() {
            return this._getCSSStyle().bold
        }, function(t) {
            this._getCSSStyle().bold = t;
            this.isChanged = true
        });
        p(0, t, "text", function() {
            return this._text || ""
        }, function(t) {
            if (this._text !== t) {
                this.lang(t + "");
                this.isChanged = true;
                this.event("change")
            }
        });
        p(0, t, "color", function() {
            return this._getCSSStyle().color
        }, function(t) {
            if (this._getCSSStyle().color != t) {
                this._getCSSStyle().color = t;
                if (!this._isChanged && this._graphics) {
                    this._graphics.replaceTextColor(this.color)
                } else {
                    this.isChanged = true
                }
            }
        });
        p(0, t, "font", function() {
            return this._getCSSStyle().fontFamily
        }, function(t) {
            if (this._currBitmapFont) {
                this._currBitmapFont = null;
                this.scale(1, 1)
            }
            if (d._bitmapFonts && d._bitmapFonts[t]) {
                this._currBitmapFont = d._bitmapFonts[t]
            }
            this._getCSSStyle().fontFamily = t;
            this.isChanged = true
        });
        p(0, t, "fontSize", function() {
            return this._getCSSStyle().fontSize
        }, function(t) {
            this._getCSSStyle().fontSize = t;
            this.isChanged = true
        });
        p(0, t, "italic", function() {
            return this._getCSSStyle().italic
        }, function(t) {
            this._getCSSStyle().italic = t;
            this.isChanged = true
        });
        p(0, t, "align", function() {
            return this._getCSSStyle().align
        }, function(t) {
            this._getCSSStyle().align = t;
            this.isChanged = true
        });
        p(0, t, "valign", function() {
            return this._getCSSStyle().valign
        }, function(t) {
            this._getCSSStyle().valign = t;
            this.isChanged = true
        });
        p(0, t, "wordWrap", function() {
            return this._getCSSStyle().wordWrap
        }, function(t) {
            this._getCSSStyle().wordWrap = t;
            this.isChanged = true
        });
        p(0, t, "leading", function() {
            return this._getCSSStyle().leading
        }, function(t) {
            this._getCSSStyle().leading = t;
            this.isChanged = true
        });
        p(0, t, "bgColor", function() {
            return this._getCSSStyle().backgroundColor
        }, function(t) {
            this._getCSSStyle().backgroundColor = t;
            this.isChanged = true
        });
        p(0, t, "borderColor", function() {
            return this._getCSSStyle().borderColor
        }, function(t) {
            this._getCSSStyle().borderColor = t;
            this.isChanged = true
        });
        p(0, t, "stroke", function() {
            return this._getCSSStyle().stroke
        }, function(t) {
            this._getCSSStyle().stroke = t;
            this.isChanged = true
        });
        p(0, t, "strokeColor", function() {
            return this._getCSSStyle().strokeColor
        }, function(t) {
            this._getCSSStyle().strokeColor = t;
            this.isChanged = true
        });
        p(0, t, "direction", function() {
            return this._getCSSStyle().direction
        }, function(t) {
            this._getCSSStyle().direction = t;
            this.isChanged = true
        });
        p(0, t, "isChanged", null, function(t) {
            if (this._isChanged !== t) {
                this._isChanged = t;
                t && st.timer.callLater(this, this.typeset)
            }
        });
        p(0, t, "scrollX", function() {
            if (!this._clipPoint)
                return 0;
            return this._clipPoint.x
        }, function(t) {
            if (this.overflow != d.SCROLL || (this.textWidth < this._width || !this._clipPoint))
                return;
            t = t < this.padding[3] ? this.padding[3] : t;
            var e = this._textWidth - this._width;
            t = t > e ? e : t;
            var i = this._height / (this._charSize.height + this.leading) | 0 + 1;
            this._clipPoint.x = t;
            this.renderText(this._lastVisibleLineIndex, i)
        });
        p(0, t, "scrollY", function() {
            if (!this._clipPoint)
                return 0;
            return this._clipPoint.y
        }, function(t) {
            if (this.overflow != d.SCROLL || (this.textHeight < this._height || !this._clipPoint))
                return;
            t = t < this.padding[0] ? this.padding[0] : t;
            var e = this._textHeight - this._height;
            t = t > e ? e : t;
            var i = t / (this._charSize.height + this.leading) | 0;
            this._lastVisibleLineIndex = i;
            var n = (this._height / (this._charSize.height + this.leading) | 0) + 1;
            this._clipPoint.y = t;
            this.renderText(i, n)
        });
        p(0, t, "maxScrollX", function() {
            return this.textWidth < this._width ? 0 : this._textWidth - this._width
        });
        p(0, t, "maxScrollY", function() {
            return this.textHeight < this._height ? 0 : this._textHeight - this._height
        });
        p(0, t, "lines", function() {
            if (this._isChanged)
                this.typeset();
            return this._lines
        });
        p(0, t, "underlineColor", function() {
            return this._underlineColor
        }, function(t) {
            this._underlineColor = t;
            this._isChanged = true;
            this.typeset()
        });
        d.registerBitmapFont = function(t, e) {
            d._bitmapFonts || (d._bitmapFonts = {});
            d._bitmapFonts[t] = e
        }
        ;
        d.unregisterBitmapFont = function(t, e) {
            e === void 0 && (e = true);
            if (d._bitmapFonts && d._bitmapFonts[t]) {
                var i = d._bitmapFonts[t];
                if (e) {
                    i.destroy()
                }
                delete d._bitmapFonts[t]
            }
        }
        ;
        d.setTextRightToLeft = function() {
            var t;
            t = He.canvas.source.style;
            t.display = "none";
            t.position = "absolute";
            t.direction = "rtl";
            Be._mainCanvas.source.style.direction = "rtl";
            laya.display.Text.RightToLeft = true;
            He.document.body.appendChild(He.canvas.source)
        }
        ;
        d.supportFont = function(t) {
            He.context.font = "10px sans-serif";
            var e = He.context.measureText("abcji").width;
            He.context.font = "10px " + t;
            var i = He.context.measureText("abcji").width;
            console.log(e, i);
            if (e === i)
                return false;
            else
                return true
        }
        ;
        d._isWordRegExp = new RegExp("[\\w.]","");
        d._testWord = "游";
        d.langPacks = null;
        d.VISIBLE = "visible";
        d.SCROLL = "scroll";
        d.HIDDEN = "hidden";
        d.CharacterCache = true;
        d.RightToLeft = false;
        d._bitmapFonts = null;
        u(d, ["_fontFamilyMap", function() {
            return this._fontFamilyMap = {
                "报隶": "报隶-简",
                "黑体": "黑体-简",
                "楷体": "楷体-简",
                "兰亭黑": "兰亭黑-简",
                "隶变": "隶变-简",
                "凌慧体": "凌慧体-简",
                "翩翩体": "翩翩体-简",
                "苹方": "苹方-简",
                "手札体": "手札体-简",
                "宋体": "宋体-简",
                "娃娃体": "娃娃体-简",
                "魏碑": "魏碑-简",
                "行楷": "行楷-简",
                "雅痞": "雅痞-简",
                "圆体": "圆体-简"
            }
        }
        ]);
        return d
    }(Dn);
    var us = function(e) {
        function g(t) {
            this._start = 0;
            this._Pos = 0;
            this._data = null;
            this._curIndex = 0;
            this._preIndex = 0;
            this._playIndex = 0;
            this._playing = false;
            this._ended = true;
            this._count = 0;
            this._ids = null;
            this._loadedImage = {};
            this._idOfSprite = null;
            this._parentMovieClip = null;
            this._movieClipList = null;
            this._labels = null;
            this.basePath = null;
            this._atlasPath = null;
            this._url = null;
            this._isRoot = false;
            this._completeHandler = null;
            this._endFrame = -1;
            this.interval = 30;
            this.loop = false;
            g.__super.call(this);
            this._ids = {};
            this._idOfSprite = [];
            this._reset();
            this._playing = false;
            this._parentMovieClip = t;
            if (!t) {
                this._movieClipList = [this];
                this._isRoot = true;
                this._setUpNoticeType(1)
            } else {
                this._isRoot = false;
                this._movieClipList = t._movieClipList;
                this._movieClipList.push(this)
            }
        }
        x(g, "laya.ani.swf.MovieClip", e);
        var t = g.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            this._clear();
            e.prototype.destroy.call(this, t)
        }
        ;
        t._setDisplay = function(t) {
            e.prototype._setDisplay.call(this, t);
            if (this._isRoot) {
                this._$3__onDisplay(t)
            }
        }
        ;
        t._$3__onDisplay = function(t) {
            if (t)
                this.timer.loop(this.interval, this, this.updates, null, true);
            else
                this.timer.clear(this, this.updates)
        }
        ;
        t.updates = function() {
            if (this._parentMovieClip)
                return;
            var t = 0
              , e = 0;
            e = this._movieClipList.length;
            for (t = 0; t < e; t++) {
                this._movieClipList[t] && this._movieClipList[t]._update()
            }
        }
        ;
        t.addLabel = function(t, e) {
            if (!this._labels)
                this._labels = {};
            this._labels[e] = t
        }
        ;
        t.removeLabel = function(t) {
            if (!t)
                this._labels = null;
            else if (!this._labels) {
                for (var e in this._labels) {
                    if (this._labels[e] === t) {
                        delete this._labels[e];
                        break
                    }
                }
            }
        }
        ;
        t._update = function() {
            if (!this._data)
                return;
            if (!this._playing)
                return;
            this._playIndex++;
            if (this._playIndex >= this._count) {
                if (!this.loop) {
                    this._playIndex--;
                    this.stop();
                    return
                }
                this._playIndex = 0
            }
            this._parse(this._playIndex);
            if (this._labels && this._labels[this._playIndex])
                this.event("label", this._labels[this._playIndex]);
            if (this._endFrame != -1 && this._endFrame == this._playIndex) {
                this._endFrame = -1;
                if (this._completeHandler != null) {
                    var t = this._completeHandler;
                    this._completeHandler = null;
                    t.run()
                }
                this.stop()
            }
        }
        ;
        t.stop = function() {
            this._playing = false
        }
        ;
        t.gotoAndStop = function(t) {
            this.index = t;
            this.stop()
        }
        ;
        t._clear = function() {
            this.stop();
            this._idOfSprite.length = 0;
            if (!this._parentMovieClip) {
                this.timer.clear(this, this.updates);
                var t = 0
                  , e = 0;
                e = this._movieClipList.length;
                for (t = 0; t < e; t++) {
                    if (this._movieClipList[t] != this)
                        this._movieClipList[t]._clear()
                }
                this._movieClipList.length = 0
            }
            if (this._atlasPath) {
                fn.clearRes(this._atlasPath)
            }
            var i;
            for (i in this._loadedImage) {
                if (this._loadedImage[i]) {
                    fn.clearRes(i);
                    this._loadedImage[i] = false
                }
            }
            this.removeChildren();
            this.graphics = null;
            this._parentMovieClip = null
        }
        ;
        t.play = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = true);
            this.loop = e;
            this._playing = true;
            if (this._data)
                this._displayFrame(t)
        }
        ;
        t._displayFrame = function(t) {
            t === void 0 && (t = -1);
            if (t != -1) {
                if (this._curIndex > t)
                    this._reset();
                this._parse(t)
            }
        }
        ;
        t._reset = function(t) {
            t === void 0 && (t = true);
            if (t && this._curIndex != 1)
                this.removeChildren();
            this._preIndex = this._curIndex = -1;
            this._Pos = this._start
        }
        ;
        t._parse = function(t) {
            var e = this;
            var i, n, s = 0, r = 0, a = 0, o = 0, l = false;
            var h = this._idOfSprite, u = this._data, c;
            if (this._ended)
                this._reset();
            u.pos = this._Pos;
            this._ended = false;
            this._playIndex = t;
            if (this._curIndex > t && t < this._preIndex) {
                this._reset(true);
                u.pos = this._Pos
            }
            while (this._curIndex <= t && !this._ended) {
                r = u.getUint16();
                switch (r) {
                case 12:
                    s = u.getUint16();
                    a = this._ids[u.getUint16()];
                    this._Pos = u.pos;
                    u.pos = a;
                    if ((o = u.getUint8()) == 0) {
                        var f = u.getUint16();
                        n = h[s];
                        if (!n) {
                            n = h[s] = new Dn;
                            var d = new Dn;
                            d.loadImage(this.basePath + f + ".png");
                            this._loadedImage[this.basePath + f + ".png"] = true;
                            n.addChild(d);
                            d.size(u.getFloat32(), u.getFloat32());
                            var _ = u._getMatrix();
                            d.transform = _
                        }
                        n.alpha = 1
                    } else if (o == 1) {
                        i = h[s];
                        if (!i) {
                            h[s] = i = new g(this);
                            i.interval = this.interval;
                            i._ids = this._ids;
                            i.basePath = this.basePath;
                            i._setData(u, a);
                            i._initState();
                            i.play(0)
                        }
                        i.alpha = 1
                    }
                    u.pos = this._Pos;
                    break;
                case 3:
                    ;var p = h[u.getUint16()];
                    if (p) {
                        this.addChild(p);
                        p.zOrder = u.getUint16();
                        l = true
                    }
                    break;
                case 4:
                    p = h[u.getUint16()];
                    p && p.removeSelf();
                    break;
                case 5:
                    h[u.getUint16()][g._ValueList[u.getUint16()]] = u.getFloat32();
                    break;
                case 6:
                    h[u.getUint16()].visible = u.getUint8() > 0;
                    break;
                case 7:
                    n = h[u.getUint16()];
                    var m = n.transform || Ce.create();
                    m.setTo(u.getFloat32(), u.getFloat32(), u.getFloat32(), u.getFloat32(), u.getFloat32(), u.getFloat32());
                    n.transform = m;
                    break;
                case 8:
                    h[u.getUint16()].setPos(u.getFloat32(), u.getFloat32());
                    break;
                case 9:
                    h[u.getUint16()].setSize(u.getFloat32(), u.getFloat32());
                    break;
                case 10:
                    h[u.getUint16()].alpha = u.getFloat32();
                    break;
                case 11:
                    h[u.getUint16()].setScale(u.getFloat32(), u.getFloat32());
                    break;
                case 98:
                    c = u.getString();
                    this.event(c);
                    if (c == "stop")
                        this.stop();
                    break;
                case 99:
                    this._curIndex = u.getUint16();
                    l && this.updateZOrder();
                    break;
                case 100:
                    this._count = this._curIndex + 1;
                    this._ended = true;
                    if (this._playing) {
                        this.event("enterframe");
                        this.event("end");
                        this.event("complete")
                    }
                    this._reset(false);
                    break
                }
            }
            if (this._playing && !this._ended)
                this.event("enterframe");
            this._Pos = u.pos
        }
        ;
        t._setData = function(t, e) {
            this._data = t;
            this._start = e + 3
        }
        ;
        t.load = function(t, e, i) {
            e === void 0 && (e = false);
            this._url = t;
            if (e)
                this._atlasPath = i ? i : t.split(".swf")[0] + ".json";
            this.stop();
            this._clear();
            this._movieClipList = [this];
            var n;
            n = [{
                url: t,
                type: "arraybuffer"
            }];
            if (this._atlasPath) {
                n.push({
                    url: this._atlasPath,
                    type: "atlas"
                })
            }
            st.loader.load(n, b.create(this, this._onLoaded))
        }
        ;
        t._onLoaded = function() {
            var t;
            t = fn.getRes(this._url);
            if (!t) {
                this.event("error", "file not find");
                return
            }
            if (this._atlasPath && !fn.getAtlas(this._atlasPath)) {
                this.event("error", "Atlas not find");
                return
            }
            this.basePath = this._atlasPath ? fn.getAtlas(this._atlasPath).dir : this._url.split(".swf")[0] + "/image/";
            this._initData(t)
        }
        ;
        t._initState = function() {
            this._reset();
            this._ended = false;
            var t = this._playing;
            this._playing = false;
            this._curIndex = 0;
            while (!this._ended)
                this._parse(++this._curIndex);
            this._playing = t
        }
        ;
        t._initData = function(t) {
            this._data = new Nt(t);
            var e = 0
              , i = this._data.getUint16();
            for (e = 0; e < i; e++)
                this._ids[this._data.getInt16()] = this._data.getInt32();
            this.interval = 1e3 / this._data.getUint16();
            this._setData(this._data, this._ids[32767]);
            this._initState();
            this.play(0);
            this.event("loaded");
            if (!this._parentMovieClip)
                this.timer.loop(this.interval, this, this.updates, null, true)
        }
        ;
        t.playTo = function(t, e, i) {
            this._completeHandler = i;
            this._endFrame = e;
            this.play(t, false)
        }
        ;
        p(0, t, "index", function() {
            return this._playIndex
        }, function(t) {
            this._playIndex = t;
            if (this._data)
                this._displayFrame(this._playIndex);
            if (this._labels && this._labels[t])
                this.event("label", this._labels[t])
        });
        p(0, t, "count", function() {
            return this._count
        });
        p(0, t, "playing", function() {
            return this._playing
        });
        p(0, t, "url", null, function(t) {
            this.load(t)
        });
        g._ValueList = ["x", "y", "width", "height", "scaleX", "scaleY", "rotation", "alpha"];
        return g
    }(Dn);
    var cs = function(t) {
        function e(t) {
            this.lineLen = 160;
            this.arrowLen = 10;
            this.sign = "Y";
            this._targetChanger = null;
            this._isMoving = false;
            this.lenControl = new ds;
            this.rotationControl = new ds;
            this.lenChanger = Wt.create(this, "lineLen");
            this.lenControlXChanger = Wt.create(this.lenControl, "x");
            t === void 0 && (t = "X");
            e.__super.call(this);
            this.sign = t;
            this.addChild(this.lenControl);
            this.addChild(this.rotationControl);
            this.lenControl.on("mousedown", this, this.controlMouseDown);
            this.drawMe()
        }
        x(e, "laya.debug.tools.comps.ArrowLine", t);
        var i = e.prototype;
        i.drawMe = function() {
            var t;
            t = this.graphics;
            t.clear();
            t.drawLine(0, 0, this.lineLen, 0, "#ffff00");
            t.drawLine(this.lineLen, 0, this.lineLen - this.arrowLen, -this.arrowLen, "#ff0000");
            t.drawLine(this.lineLen, 0, this.lineLen - this.arrowLen, this.arrowLen, "#ff0000");
            t.fillText(this.sign, 50, -5, "", "#ff0000", "left");
            if (this._isMoving && this._targetChanger) {
                t.fillText(this._targetChanger.key + ":" + this._targetChanger.value.toFixed(2), this.lineLen - 15, -25, "", "#ffff00", "center")
            }
            this.lenControl.posTo(this.lineLen - 15, 0);
            this.rotationControl.posTo(this.lineLen + 10, 0);
            this.size(this.arrowLen, this.lineLen)
        }
        ;
        i.clearMoveEvents = function() {
            st.stage.off("mousemove", this, this.stageMouseMove);
            st.stage.off("mouseup", this, this.stageMouseUp)
        }
        ;
        i.controlMouseDown = function(t) {
            this.clearMoveEvents();
            this.lenControlXChanger.record();
            this.lenChanger.record();
            if (this.targetChanger) {
                this.targetChanger.record()
            }
            this._isMoving = true;
            st.stage.on("mousemove", this, this.stageMouseMove);
            st.stage.on("mouseup", this, this.stageMouseUp)
        }
        ;
        i.stageMouseMove = function(t) {
            this.lenControlXChanger.value = this.mouseX;
            this.lenChanger.showValueByScale(this.lenControlXChanger.scaleValue);
            if (this.targetChanger) {
                this.targetChanger.showValueByScale(this.lenControlXChanger.scaleValue)
            }
            this.drawMe()
        }
        ;
        i.stageMouseUp = function(t) {
            this._isMoving = false;
            this.noticeChange();
            this.clearMoveEvents();
            this.lenControlXChanger.recover();
            this.lenChanger.recover();
            this.drawMe()
        }
        ;
        i.noticeChange = function() {
            var t = NaN;
            t = this.lenChanger.dValue;
            console.log("lenChange:", t)
        }
        ;
        p(0, i, "targetChanger", function() {
            return this._targetChanger
        }, function(t) {
            if (this._targetChanger) {
                this._targetChanger.dispose()
            }
            this._targetChanger = t
        });
        return e
    }(Dn);
    var fs = function(t) {
        function e() {
            this._target = null;
            this._lenType = [["width", "height"], ["scaleX", "scaleY"]];
            this._type = 1;
            this.xAxis = new cs("X");
            this.yAxis = new cs("Y");
            this.controlBox = new ds;
            this._point = new Se;
            this.oPoint = new Se;
            this.myRotationChanger = Wt.create(this, "rotation");
            this.targetRotationChanger = Wt.create(null, "rotation");
            this.stageMouseRotationChanger = new Wt;
            e.__super.call(this);
            this.mouseEnabled = true;
            this.size(1, 1);
            this.initMe();
            this.xAxis.rotationControl.on("mousedown", this, this.controlMouseDown);
            this.yAxis.rotationControl.on("mousedown", this, this.controlMouseDown);
            this.controlBox.on("mousedown", this, this.controlBoxMouseDown);
            this.on("dragmove", this, this.dragging)
        }
        x(e, "laya.debug.tools.comps.Axis", t);
        var i = e.prototype;
        i.updateChanges = function() {
            if (this._target) {
                var t;
                t = this._lenType[this._type];
                this.xAxis.targetChanger = Wt.create(this._target, t[0]);
                this.yAxis.targetChanger = Wt.create(this._target, t[1])
            }
        }
        ;
        i.switchType = function() {
            this._type++;
            this._type = this._type % this._lenType.length;
            this.type = this._type
        }
        ;
        i.controlBoxMouseDown = function(t) {
            this.startDrag()
        }
        ;
        i.dragging = function() {
            if (this._target) {
                this._point.setTo(this.x, this.y);
                lt.transPoint(this.parent, this._target.parent, this._point);
                this._target.pos(this._point.x, this._point.y)
            }
        }
        ;
        i.initMe = function() {
            this.addChild(this.xAxis);
            this.addChild(this.yAxis);
            this.yAxis.rotation = 90;
            this.addChild(this.controlBox);
            this.controlBox.posTo(0, 0)
        }
        ;
        i.clearMoveEvents = function() {
            st.stage.off("mousemove", this, this.stageMouseMove);
            st.stage.off("mouseup", this, this.stageMouseUp)
        }
        ;
        i.controlMouseDown = function(t) {
            this.targetRotationChanger.target = this.target;
            this.clearMoveEvents();
            this.oPoint.setTo(0, 0);
            this.myRotationChanger.record();
            this.oPoint = this.localToGlobal(this.oPoint);
            this.stageMouseRotationChanger.value = this.getStageMouseRatation();
            this.stageMouseRotationChanger.record();
            this.targetRotationChanger.record();
            st.stage.on("mousemove", this, this.stageMouseMove);
            st.stage.on("mouseup", this, this.stageMouseUp)
        }
        ;
        i.getStageMouseRatation = function() {
            return we.getRotation(this.oPoint.x, this.oPoint.y, st.stage.mouseX, st.stage.mouseY)
        }
        ;
        i.stageMouseMove = function(t) {
            this.stageMouseRotationChanger.value = this.getStageMouseRatation();
            var e = NaN;
            e = -this.stageMouseRotationChanger.dValue;
            if (this.target) {
                this.targetRotationChanger.showValueByAdd(e)
            } else {
                this.myRotationChanger.showValueByAdd(e)
            }
        }
        ;
        i.stageMouseUp = function(t) {
            this.noticeChange();
            this.clearMoveEvents()
        }
        ;
        i.noticeChange = function() {
            console.log("rotate:", -this.stageMouseRotationChanger.dValue)
        }
        ;
        p(0, i, "target", function() {
            return this._target
        }, function(t) {
            this._target = t;
            this.updateChanges()
        });
        p(0, i, "type", function() {
            return this._type
        }, function(t) {
            this._type = t;
            this.updateChanges()
        });
        return e
    }(Dn);
    var ds = function(t) {
        function e() {
            this.recWidth = 10;
            e.__super.call(this);
            this.drawMe()
        }
        x(e, "laya.debug.tools.comps.Rect", t);
        var i = e.prototype;
        i.drawMe = function() {
            var t;
            t = this.graphics;
            t.clear();
            t.drawRect(0, 0, this.recWidth, this.recWidth, "#22ff22");
            this.size(this.recWidth, this.recWidth)
        }
        ;
        i.posTo = function(t, e) {
            this.x = t - this.recWidth * .5;
            this.y = e - this.recWidth * .5
        }
        ;
        return e
    }(Dn);
    var _s = function(t) {
        function e() {
            this.nodeRecInfoLayer = null;
            this.lineLayer = null;
            this.txtLayer = null;
            this.popLayer = null;
            this.graphicLayer = null;
            this.cacheViewLayer = null;
            e.__super.call(this);
            this.nodeRecInfoLayer = new Dn;
            this.lineLayer = new Dn;
            this.txtLayer = new Dn;
            this.popLayer = new Dn;
            this.graphicLayer = new Dn;
            this.cacheViewLayer = new Dn;
            this.nodeRecInfoLayer.name = "nodeRecInfoLayer";
            this.lineLayer.name = "lineLayer";
            this.txtLayer.name = "txtLayer";
            this.popLayer.name = "popLayer";
            this.graphicLayer.name = "graphicLayer";
            this.cacheViewLayer.name = "cacheViewLayer";
            this.addChild(this.lineLayer);
            this.addChild(this.cacheViewLayer);
            this.addChild(this.nodeRecInfoLayer);
            this.addChild(this.txtLayer);
            this.addChild(this.popLayer);
            this.addChild(this.graphicLayer);
            e.I = this;
            this.zOrder = 999;
            st.stage.on("doubleclick", this, this.setTop)
        }
        x(e, "laya.debug.view.nodeInfo.DebugInfoLayer", t);
        var i = e.prototype;
        i.setTop = function() {
            lt.setTop(this)
        }
        ;
        i.isDebugItem = function(t) {
            return lt.isInTree(this, t)
        }
        ;
        e.init = function() {
            if (!e.I) {
                new e;
                st.stage.addChild(e.I)
            }
        }
        ;
        e.I = null;
        return e
    }(Dn);
    var ps = function(t) {
        function e() {
            this._stateDic = {};
            this.isWorkState = false;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.NodeInfoPanel", t);
        var i = e.prototype;
        i.showDisInfo = function(t) {
            this.recoverNodes();
            ms.showDisInfos(t);
            this.showOnly(t);
            this.isWorkState = true
        }
        ;
        i.showOnly = function(t) {
            if (!t)
                return;
            this.hideBrothers(t);
            this.showOnly(t.parent)
        }
        ;
        i.recoverNodes = function() {
            ms.hideAllInfos();
            var t;
            var e;
            var i;
            for (t in this._stateDic) {
                e = this._stateDic[t];
                i = e["target"];
                if (i) {
                    try {
                        i.visible = e.visible
                    } catch (t) {}
                }
            }
            this.isWorkState = false
        }
        ;
        i.hideOtherChain = function(t) {
            if (!t)
                return;
            while (t) {
                this.hideBrothers(t);
                t = t.parent
            }
        }
        ;
        i.hideChilds = function(t) {
            if (!t)
                return;
            var e = 0
              , i = 0;
            var n;
            n = t._childs;
            i = n.length;
            var s;
            for (e = 0; e < i; e++) {
                s = n[e];
                if (s == ms.NodeInfoContainer)
                    continue;
                this.saveNodeInfo(s);
                s.visible = false
            }
        }
        ;
        i.hideBrothers = function(t) {
            if (!t)
                return;
            var e;
            e = t.parent;
            if (!e)
                return;
            var i = 0
              , n = 0;
            var s;
            s = e._childs;
            n = s.length;
            var r;
            for (i = 0; i < n; i++) {
                r = s[i];
                if (r == ms.NodeInfoContainer)
                    continue;
                if (r != t) {
                    this.saveNodeInfo(r);
                    r.visible = false
                }
            }
        }
        ;
        i.saveNodeInfo = function(t) {
            gt.idObj(t);
            if (this._stateDic.hasOwnProperty(gt.getObjID(t)))
                return;
            var e;
            e = {};
            e.target = t;
            e.visible = t.visible;
            this._stateDic[gt.getObjID(t)] = e
        }
        ;
        i.recoverNodeInfo = function(t) {
            gt.idObj(t);
            if (this._stateDic.hasOwnProperty(gt.getObjID(t))) {
                var e;
                e = this._stateDic[gt.getObjID(t)];
                t["visible"] = e.visible
            }
        }
        ;
        e.init = function() {
            if (!e.I) {
                e.I = new e;
                ms.init();
                vs.init()
            }
        }
        ;
        e.I = null;
        return e
    }(Dn);
    var ms = function(t) {
        function l() {
            this._infoTxt = null;
            this._tar = null;
            l.__super.call(this);
            this._infoTxt = new hs;
            this._infoTxt.color = "#ff0000";
            this._infoTxt.bgColor = "#00ff00";
            this._infoTxt.fontSize = 12
        }
        x(l, "laya.debug.view.nodeInfo.NodeInfosItem", t);
        var e = l.prototype;
        e.removeSelf = function() {
            this._infoTxt.removeSelf();
            return laya.display.Node.prototype.removeSelf.call(this)
        }
        ;
        e.showToUI = function() {
            l.NodeInfoContainer.nodeRecInfoLayer.addChild(this);
            this._infoTxt.removeSelf();
            l.NodeInfoContainer.txtLayer.addChild(this._infoTxt);
            this.findOkPos()
        }
        ;
        e.randomAPos = function(t) {
            this._infoTxt.x = this.x + st.stage.width * Math.random();
            this._infoTxt.y = this.y + t * Math.random()
        }
        ;
        e.findOkPos = function() {
            var t = 0;
            t = 20;
            this.randomAPos(t);
            return;
            var e = 0;
            e = 1;
            while (!this.isPosOk()) {
                e++;
                if (e >= 500) {
                    t += 10;
                    e = 0
                }
                this.randomAPos(t)
            }
        }
        ;
        e.isPosOk = function() {
            var t;
            t = l.NodeInfoContainer.nodeRecInfoLayer;
            var e = 0
              , i = 0;
            var n;
            n = t._childs;
            i = n.length;
            var s;
            var r;
            r = this._infoTxt.getBounds();
            if (r.x < 0)
                return false;
            if (r.y < 0)
                return false;
            if (r.right > st.stage.width)
                return false;
            for (e = 0; e < i; e++) {
                s = n[e];
                if (s == this._infoTxt)
                    continue;
                if (r.intersects(s.getBounds()))
                    return false
            }
            return true
        }
        ;
        e.showInfo = function(t) {
            this._tar = t;
            if (!t)
                return;
            l._txts.length = 0;
            var e = 0
              , i = 0;
            var n;
            i = l.showValues.length;
            if (t.name) {
                l._txts.push($.getClassName(t) + "(" + t.name + ")")
            } else {
                l._txts.push($.getClassName(t))
            }
            for (e = 0; e < i; e++) {
                n = l.showValues[e];
                l._txts.push(n + ":" + l.getNodeValue(t, n))
            }
            this._infoTxt.text = l._txts.join("\n");
            this.graphics.clear();
            var s;
            s = t._getBoundPointsM(true);
            if (!s || s.length < 1)
                return;
            s = xe.pListToPointList(s, true);
            jt.walkArr(s, t.localToGlobal, t);
            s = xe.pointListToPlist(s);
            l._disBoundRec = Te._getWrapRec(s, l._disBoundRec);
            this.graphics.drawRect(0, 0, l._disBoundRec.width, l._disBoundRec.height, null, "#00ffff");
            this.pos(l._disBoundRec.x, l._disBoundRec.y)
        }
        ;
        e.fresh = function() {
            this.showInfo(this._tar)
        }
        ;
        e.clearMe = function() {
            this._tar = null
        }
        ;
        e.recover = function() {
            ei.recover("NodeInfosItem", this)
        }
        ;
        l.init = function() {
            if (!l.NodeInfoContainer) {
                _s.init();
                l.NodeInfoContainer = _s.I;
                st.stage.addChild(l.NodeInfoContainer)
            }
        }
        ;
        l.getNodeInfoByNode = function(t) {
            gt.idObj(t);
            var e = 0;
            e = gt.getObjID(t);
            if (!l._nodeInfoDic[e]) {
                l._nodeInfoDic[e] = new l
            }
            return l._nodeInfoDic[e]
        }
        ;
        l.hideAllInfos = function() {
            var t;
            var e;
            for (t in l._nodeInfoDic) {
                e = l._nodeInfoDic[t];
                e.removeSelf()
            }
            l.clearRelations()
        }
        ;
        l.showNodeInfo = function(t) {
            var e;
            e = l.getNodeInfoByNode(t);
            e.showInfo(t);
            e.showToUI()
        }
        ;
        l.showDisInfos = function(t) {
            var e;
            e = t;
            if (!t)
                return;
            while (t) {
                l.showNodeInfo(t);
                t = t.parent
            }
            lt.setTop(l.NodeInfoContainer);
            l.apdtTxtInfoPoss(e);
            l.updateRelations()
        }
        ;
        l.apdtTxtInfoPoss = function(t) {
            var e;
            e = [];
            while (t) {
                e.push(t);
                t = t.parent
            }
            var i = 0
              , n = 0;
            var s;
            var r;
            n = e.length;
            var a = NaN;
            a = st.stage.width - 150;
            var o = 0;
            o = 100;
            t = e[0];
            if (t) {
                s = l.getNodeInfoByNode(t);
                if (s) {
                    r = s._infoTxt;
                    a = st.stage.width - r.width - 10;
                    o = r.height + 10
                }
            }
            e = e.reverse();
            for (i = 0; i < n; i++) {
                t = e[i];
                s = l.getNodeInfoByNode(t);
                if (s) {
                    r = s._infoTxt;
                    r.pos(a, o * i)
                }
            }
        }
        ;
        l.clearRelations = function() {
            var t;
            t = l.NodeInfoContainer.lineLayer.graphics;
            t.clear()
        }
        ;
        l.updateRelations = function() {
            var t;
            t = l.NodeInfoContainer.lineLayer.graphics;
            t.clear();
            var e;
            var i;
            for (e in l._nodeInfoDic) {
                i = l._nodeInfoDic[e];
                if (i.parent) {
                    t.drawLine(i.x, i.y, i._infoTxt.x, i._infoTxt.y, "#0000ff")
                }
            }
        }
        ;
        l.getNodeValue = function(t, e) {
            var i;
            l._nodePoint.setTo(0, 0);
            switch (e) {
            case "x":
                i = t["x"] + " (g:" + t.localToGlobal(l._nodePoint).x + ")";
                break;
            case "y":
                i = t["y"] + " (g:" + t.localToGlobal(l._nodePoint).y + ")";
                break;
            default:
                i = t[e]
            }
            return i
        }
        ;
        l.NodeInfoContainer = null;
        l._nodeInfoDic = {};
        l._txts = [];
        u(l, ["showValues", function() {
            return this.showValues = ["x", "y", "scaleX", "scaleY", "width", "height", "visible", "mouseEnabled"]
        }
        , "_disBoundRec", function() {
            return this._disBoundRec = new Te
        }
        , "_nodePoint", function() {
            return this._nodePoint = new Se
        }
        ]);
        return l
    }(Dn);
    var gs = function(t) {
        function i() {
            this.txt = null;
            this._tar = null;
            this.recColor = "#00ff00";
            i.__super.call(this);
            this.txt = new hs;
            this.txt.color = "#ff0000";
            this.txt.bgColor = "#00ff00";
            this.txt.fontSize = 12;
            this.addChild(this.txt)
        }
        x(i, "laya.debug.view.nodeInfo.recinfos.NodeRecInfo", t);
        var e = i.prototype;
        e.setInfo = function(t) {
            this.txt.text = t
        }
        ;
        e.setTarget = function(t) {
            this._tar = t
        }
        ;
        e.showInfo = function(t) {
            this._tar = t;
            if (!t)
                return;
            if (!t._$P)
                return;
            this.graphics.clear();
            var e;
            e = t._getBoundPointsM(true);
            if (!e || e.length < 1)
                return;
            e = xe.pListToPointList(e, true);
            jt.walkArr(e, t.localToGlobal, t);
            e = xe.pointListToPlist(e);
            i._disBoundRec = Te._getWrapRec(e, i._disBoundRec);
            this.graphics.drawRect(0, 0, i._disBoundRec.width, i._disBoundRec.height, null, nt.RECACHE_REC_COLOR, 2);
            this.pos(i._disBoundRec.x, i._disBoundRec.y)
        }
        ;
        e.fresh = function() {
            this.showInfo(this._tar)
        }
        ;
        e.clearMe = function() {
            this._tar = null
        }
        ;
        u(i, ["_disBoundRec", function() {
            return this._disBoundRec = new Te
        }
        ]);
        return i
    }(Dn);
    var vs = function(t) {
        function i() {
            i.__super.call(this);
            Y.base64.preLoad(b.create(this, this.showToolBar));
            cr.init();
            Rt.init();
            var t;
            t = new Ds
        }
        x(i, "laya.debug.view.nodeInfo.ToolPanel", t);
        var e = i.prototype;
        e.showToolBar = function() {
            Tr.I.show()
        }
        ;
        e.createViews = function() {
            i.typeClassDic["Find"] = Ar;
            i.typeClassDic["Filter"] = Rr;
            i.typeClassDic["TxtInfo"] = Fr;
            i.typeClassDic["Tree"] = Wr
        }
        ;
        e.switchShow = function(t) {
            var e;
            e = this.getView(t);
            if (e) {
                e.switchShow()
            }
        }
        ;
        e.getView = function(t) {
            var e;
            e = i.viewDic[t];
            if (!e && i.typeClassDic[t]) {
                e = i.viewDic[t] = new i.typeClassDic[t]
            }
            return e
        }
        ;
        e.showTxtInfo = function(t) {
            Vr.I.showTxt(t)
        }
        ;
        e.showNodeTree = function(t) {
            Sa.I.setDis(t);
            Tr.I.switchToTree()
        }
        ;
        e.showSelectInStage = function(t) {
            Sa.I.showSelectInStage(t);
            Tr.I.switchToTree()
        }
        ;
        e.showSelectItems = function(t) {
            Tr.I.swichToSelect();
            kr.I.setSelectList(t)
        }
        ;
        i.init = function() {
            if (!i.I)
                i.I = new i
        }
        ;
        i.I = null;
        i.viewDic = {};
        i.Find = "Find";
        i.Filter = "Filter";
        i.TxtInfo = "TxtInfo";
        i.Tree = "Tree";
        u(i, ["typeClassDic", function() {
            return this.typeClassDic = {}
        }
        ]);
        return i
    }(Dn);
    var bs = function(e) {
        function t() {
            this.loop = false;
            this.wrapMode = 0;
            this._index = 0;
            this._count = 0;
            this._isPlaying = false;
            this._labels = null;
            this._isReverse = false;
            this._frameRateChanged = false;
            this._controlNode = null;
            this._actionName = null;
            t.__super.call(this);
            this._interval = I.animationInterval;
            this._setUpNoticeType(1)
        }
        x(t, "laya.display.AnimationPlayerBase", e);
        var i = t.prototype;
        i.play = function(t, e, i, n) {
            t === void 0 && (t = 0);
            e === void 0 && (e = true);
            i === void 0 && (i = "");
            n === void 0 && (n = true);
            this._isPlaying = true;
            this.index = typeof t == "string" ? this._getFrameByLabel(t) : t;
            this.loop = e;
            this._actionName = i;
            this._isReverse = this.wrapMode == 1;
            if (this.interval > 0) {
                this.timerLoop(this.interval, this, this._frameLoop, null, true, true)
            }
        }
        ;
        i._getFrameByLabel = function(t) {
            var e = 0;
            for (e = 0; e < this._count; e++) {
                if (this._labels[e] && this._labels[e].indexOf(t) >= 0)
                    return e
            }
            return 0
        }
        ;
        i._frameLoop = function() {
            if (this._isReverse) {
                this._index--;
                if (this._index < 0) {
                    if (this.loop) {
                        if (this.wrapMode == 2) {
                            this._index = this._count > 0 ? 1 : 0;
                            this._isReverse = false
                        } else {
                            this._index = this._count - 1
                        }
                        this.event("complete")
                    } else {
                        this._index = 0;
                        this.stop();
                        this.event("complete");
                        return
                    }
                }
            } else {
                this._index++;
                if (this._index >= this._count) {
                    if (this.loop) {
                        if (this.wrapMode == 2) {
                            this._index = this._count - 2 >= 0 ? this._count - 2 : 0;
                            this._isReverse = true
                        } else {
                            this._index = 0
                        }
                        this.event("complete")
                    } else {
                        this._index--;
                        this.stop();
                        this.event("complete");
                        return
                    }
                }
            }
            this.index = this._index
        }
        ;
        i._setControlNode = function(t) {
            if (this._controlNode) {
                this._controlNode.off("display", this, this._checkResumePlaying);
                this._controlNode.off("undisplay", this, this._checkResumePlaying)
            }
            this._controlNode = t;
            if (t && t != this) {
                t.on("display", this, this._checkResumePlaying);
                t.on("undisplay", this, this._checkResumePlaying)
            }
        }
        ;
        i._setDisplay = function(t) {
            e.prototype._setDisplay.call(this, t);
            this._checkResumePlaying()
        }
        ;
        i._checkResumePlaying = function() {
            if (this._isPlaying) {
                if (this._controlNode.displayedInStage)
                    this.play(this._index, this.loop, this._actionName);
                else
                    this.clearTimer(this, this._frameLoop)
            }
        }
        ;
        i.stop = function() {
            this._isPlaying = false;
            this.clearTimer(this, this._frameLoop)
        }
        ;
        i.addLabel = function(t, e) {
            if (!this._labels)
                this._labels = {};
            if (!this._labels[e])
                this._labels[e] = [];
            this._labels[e].push(t)
        }
        ;
        i.removeLabel = function(t) {
            if (!t)
                this._labels = null;
            else if (this._labels) {
                for (var e in this._labels) {
                    this._removeLabelFromLabelList(this._labels[e], t)
                }
            }
        }
        ;
        i._removeLabelFromLabelList = function(t, e) {
            if (!t)
                return;
            for (var i = t.length - 1; i >= 0; i--) {
                if (t[i] == e) {
                    t.splice(i, 1)
                }
            }
        }
        ;
        i.gotoAndStop = function(t) {
            this.index = typeof t == "string" ? this._getFrameByLabel(t) : t;
            this.stop()
        }
        ;
        i._displayToIndex = function(t) {}
        ;
        i.clear = function() {
            this.stop();
            this._labels = null
        }
        ;
        p(0, i, "interval", function() {
            return this._interval
        }, function(t) {
            if (this._interval != t) {
                this._frameRateChanged = true;
                this._interval = t;
                if (this._isPlaying && t > 0) {
                    this.timerLoop(t, this, this._frameLoop, null, true, true)
                }
            }
        });
        p(0, i, "isPlaying", function() {
            return this._isPlaying
        });
        p(0, i, "index", function() {
            return this._index
        }, function(t) {
            this._index = t;
            this._displayToIndex(t);
            if (this._labels && this._labels[t]) {
                var e = this._labels[t];
                for (var i = 0, n = e.length; i < n; i++) {
                    this.event("label", e[i])
                }
            }
        });
        p(0, i, "count", function() {
            return this._count
        });
        t.WRAP_POSITIVE = 0;
        t.WRAP_REVERSE = 1;
        t.WRAP_PINGPONG = 2;
        return t
    }(Dn);
    var ys = function(f) {
        function h() {
            this.focus = null;
            this.designWidth = 0;
            this.designHeight = 0;
            this.canvasRotation = false;
            this.canvasDegree = 0;
            this.renderingEnabled = true;
            this.screenAdaptationEnabled = true;
            this._screenMode = "none";
            this._scaleMode = "noscale";
            this._alignV = "top";
            this._alignH = "left";
            this._bgColor = "black";
            this._mouseMoveTime = 0;
            this._renderCount = 0;
            this._frameStartTime = NaN;
            this._isFocused = false;
            this._isVisibility = false;
            this._scenes = null;
            this._frameRate = "fast";
            this.useRetinalCanvas = false;
            h.__super.call(this);
            this.offset = new Se;
            this._canvasTransform = new Ce;
            this._previousOrientation = He.window.orientation;
            var e = this;
            this.transform = Ce.create();
            this._scenes = [];
            this.mouseEnabled = true;
            this.hitTestPrior = true;
            this.autoSize = false;
            this._displayedInStage = true;
            this._isFocused = true;
            this._isVisibility = true;
            this.useRetinalCanvas = I.useRetinalCanvas;
            var t = He.window;
            var i = this;
            t.addEventListener("focus", function() {
                e._isFocused = true;
                i.event("focus");
                i.event("focuschange")
            });
            t.addEventListener("blur", function() {
                e._isFocused = false;
                i.event("blur");
                i.event("focuschange");
                if (i._isInputting())
                    $s["inputElement"].target.focus = false
            });
            var n = "hidden"
              , s = "visibilityState"
              , r = "visibilitychange";
            var a = t.document;
            if (typeof a.hidden !== "undefined") {
                r = "visibilitychange";
                s = "visibilityState"
            } else if (typeof a.mozHidden !== "undefined") {
                r = "mozvisibilitychange";
                s = "mozVisibilityState"
            } else if (typeof a.msHidden !== "undefined") {
                r = "msvisibilitychange";
                s = "msVisibilityState"
            } else if (typeof a.webkitHidden !== "undefined") {
                r = "webkitvisibilitychange";
                s = "webkitVisibilityState"
            }
            t.document.addEventListener(r, o);
            function o() {
                if (He.document[s] == "hidden") {
                    i._setStageVisible(false)
                } else {
                    i._setStageVisible(true)
                }
            }
            t.document.addEventListener("qbrowserVisibilityChange", l);
            function l(t) {
                i._setStageVisible(!t.hidden)
            }
            t.addEventListener("resize", function() {
                var t = He.window.orientation;
                if (t != null && t != e._previousOrientation && i._isInputting()) {
                    $s["inputElement"].target.focus = false
                }
                e._previousOrientation = t;
                if (i._isInputting())
                    return;
                i._resetCanvas()
            });
            t.addEventListener("orientationchange", function(t) {
                i._resetCanvas()
            });
            this.on("mousemove", this, this._onmouseMove);
            if (He.onMobile)
                this.on("mousedown", this, this._onmouseMove)
        }
        x(h, "laya.display.Stage", f);
        var t = h.prototype;
        t._setStageVisible = function(t) {
            if (this._isVisibility == t)
                return;
            this._isVisibility = t;
            if (!this._isVisibility)
                if (this._isInputting())
                    $s["inputElement"].target.focus = false;
            this.event("visibilitychange")
        }
        ;
        t._isInputting = function() {
            return He.onMobile && $s.isInputting
        }
        ;
        t._changeCanvasSize = function() {
            this.setScreenSize(He.clientWidth * He.pixelRatio, (He.clientHeight - h.bottomHeight) * He.pixelRatio)
        }
        ;
        t._resetCanvas = function() {
            if (!this.screenAdaptationEnabled)
                return;
            var t = Be._mainCanvas;
            var e = t.source.style;
            t.size(1, 1);
            st.timer.once(100, this, this._changeCanvasSize)
        }
        ;
        t.setScreenSize = function(t, e) {
            var i = false;
            if (this._screenMode !== "none") {
                var n = t / e < 1 ? "vertical" : "horizontal";
                i = n !== this._screenMode;
                if (i) {
                    var s = e;
                    e = t;
                    t = s
                }
            }
            this.canvasRotation = i;
            var r = Be._mainCanvas;
            var a = r.source.style;
            var o = this._canvasTransform.identity();
            var l = this._scaleMode;
            var h = t / this.designWidth;
            var u = e / this.designHeight;
            var c = I.useRetinalCanvas ? t : this.designWidth;
            var f = I.useRetinalCanvas ? e : this.designHeight;
            var d = t;
            var _ = e;
            var p = He.pixelRatio;
            this._width = this.designWidth;
            this._height = this.designHeight;
            switch (l) {
            case "noscale":
                h = u = 1;
                d = this.designWidth;
                _ = this.designHeight;
                break;
            case "showall":
                h = u = Math.min(h, u);
                c = d = Math.round(this.designWidth * h);
                f = _ = Math.round(this.designHeight * u);
                break;
            case "noborder":
                h = u = Math.max(h, u);
                d = Math.round(this.designWidth * h);
                _ = Math.round(this.designHeight * u);
                break;
            case "full":
                h = u = 1;
                this._width = c = t;
                this._height = f = e;
                break;
            case "fixedwidth":
                u = h;
                this._height = f = Math.round(e / h);
                break;
            case "fixedheight":
                h = u;
                this._width = c = Math.round(t / u);
                break;
            case "fixedauto":
                if (t / e < this.designWidth / this.designHeight) {
                    u = h;
                    this._height = f = Math.round(e / h)
                } else {
                    h = u;
                    this._width = c = Math.round(t / u)
                }
                break
            }
            if (this.conchModel)
                this.conchModel.size(this._width, this._height);
            if (I.useRetinalCanvas) {
                c = t;
                f = e
            }
            h *= this.scaleX;
            u *= this.scaleY;
            if (h === 1 && u === 1) {
                this.transform.identity()
            } else {
                this.transform.a = this._formatData(h / (d / c));
                this.transform.d = this._formatData(u / (_ / f));
                this.conchModel && this.conchModel.scale(this.transform.a, this.transform.d)
            }
            r.size(c, f);
            G.changeWebGLSize(c, f);
            o.scale(d / c / p, _ / f / p);
            if (this._alignH === "left")
                this.offset.x = 0;
            else if (this._alignH === "right")
                this.offset.x = (t - d) / p;
            else
                this.offset.x = (t - d) * .5 / p;
            if (this._alignV === "top")
                this.offset.y = 0;
            else if (this._alignV === "bottom")
                this.offset.y = (e - _) / p;
            else
                this.offset.y = (e - _) * .5 / p;
            this.offset.x = Math.round(this.offset.x);
            this.offset.y = Math.round(this.offset.y);
            o.translate(this.offset.x, this.offset.y);
            this.canvasDegree = 0;
            if (i) {
                if (this._screenMode === "horizontal") {
                    o.rotate(Math.PI / 2);
                    o.translate(e / p, 0);
                    this.canvasDegree = 90
                } else {
                    o.rotate(-Math.PI / 2);
                    o.translate(0, t / p);
                    this.canvasDegree = -90
                }
            }
            o.a = this._formatData(o.a);
            o.d = this._formatData(o.d);
            o.tx = this._formatData(o.tx);
            o.ty = this._formatData(o.ty);
            a.transformOrigin = a.webkitTransformOrigin = a.msTransformOrigin = a.mozTransformOrigin = a.oTransformOrigin = "0px 0px 0px";
            a.transform = a.webkitTransform = a.msTransform = a.mozTransform = a.oTransform = "matrix(" + o.toString() + ")";
            o.translate(parseInt(a.left) || 0, parseInt(a.top) || 0);
            this.visible = true;
            this._repaint = 1;
            this.event("resize")
        }
        ;
        t._formatData = function(t) {
            if (Math.abs(t) < 1e-6)
                return 0;
            if (Math.abs(1 - t) < .001)
                return t > 0 ? 1 : -1;
            return t
        }
        ;
        t.getMousePoint = function() {
            return Se.TEMP.setTo(this.mouseX, this.mouseY)
        }
        ;
        t.repaint = function() {
            this._repaint = 1
        }
        ;
        t.parentRepaint = function() {}
        ;
        t._loop = function() {
            this.render(Be.context, 0, 0);
            return true
        }
        ;
        t._onmouseMove = function(t) {
            this._mouseMoveTime = He.now()
        }
        ;
        t.getTimeFromFrameStart = function() {
            return He.now() - this._frameStartTime
        }
        ;
        t.render = function(t, e, i) {
            if (this._frameRate === "sleep" && !Be.isConchApp) {
                var n = He.now();
                if (n - this._frameStartTime >= 1e3)
                    this._frameStartTime = n;
                else
                    return
            }
            this._renderCount++;
            Be.isFlash && this.repaint();
            if (!this._style.visible) {
                if (this._renderCount % 5 === 0) {
                    ii.loopCount++;
                    he.instance.runEvent();
                    st.timer._update()
                }
                return
            }
            this._frameStartTime = He.now();
            var s = this._frameRate === "mouse" ? this._frameStartTime - this._mouseMoveTime < 2e3 ? "fast" : "slow" : this._frameRate;
            var r = s !== "slow";
            var a = this._renderCount % 2 === 0;
            ii.renderSlow = !r;
            if (r || a || Be.isConchApp) {
                ii.loopCount++;
                he.instance.runEvent();
                st.timer._update();
                G.update3DLoop();
                var o;
                var l = 0
                  , h = 0;
                if (Be.isConchNode) {
                    for (l = 0,
                    h = this._scenes.length; l < h; l++) {
                        o = this._scenes[l];
                        o && o._updateSceneConch()
                    }
                } else {
                    for (l = 0,
                    h = this._scenes.length; l < h; l++) {
                        o = this._scenes[l];
                        o && o._updateScene()
                    }
                }
                if (Be.isConchNode) {
                    var u = Dn["CustomList"];
                    for (l = 0,
                    h = u.length; l < h; l++) {
                        var c = u[l];
                        c.customRender(c.customContext, 0, 0)
                    }
                    return
                }
            }
            if (Be.isConchNode)
                return;
            if (this.renderingEnabled && (r || !a || Be.isConchWebGL)) {
                if (Be.isWebGL) {
                    t.clear();
                    f.prototype.render.call(this, t, e, i);
                    ii._show && ii._sp && ii._sp.render(t, e, i);
                    G.clear(this._bgColor);
                    G.beginFlush();
                    t.flush();
                    G.endFinish();
                    oi.instance && oi.getInstance().endDispose()
                } else {
                    G.clear(this._bgColor);
                    f.prototype.render.call(this, t, e, i);
                    ii._show && ii._sp && ii._sp.render(t, e, i)
                }
            }
        }
        ;
        t._requestFullscreen = function() {
            var t = He.document.documentElement;
            if (t.requestFullscreen) {
                t.requestFullscreen()
            } else if (t.mozRequestFullScreen) {
                t.mozRequestFullScreen()
            } else if (t.webkitRequestFullscreen) {
                t.webkitRequestFullscreen()
            } else if (t.msRequestFullscreen) {
                t.msRequestFullscreen()
            }
        }
        ;
        t._fullScreenChanged = function() {
            st.stage.event("fullscreenchange")
        }
        ;
        t.exitFullscreen = function() {
            var t = He.document;
            if (t.exitFullscreen) {
                t.exitFullscreen()
            } else if (t.mozCancelFullScreen) {
                t.mozCancelFullScreen()
            } else if (t.webkitExitFullscreen) {
                t.webkitExitFullscreen()
            }
        }
        ;
        p(0, t, "clientScaleX", function() {
            return this._transform ? this._transform.getScaleX() : 1
        });
        p(0, t, "desginHeight", function() {
            console.debug("desginHeight已经弃用，请使用designHeight代替");
            return this.designHeight
        });
        p(0, t, "frameRate", function() {
            return this._frameRate
        }, function(t) {
            this._frameRate = t;
            if (Be.isConchApp) {
                switch (this._frameRate) {
                case "slow":
                    He.window.conch && He.window.conchConfig.setSlowFrame && He.window.conchConfig.setSlowFrame(true);
                    break;
                case "fast":
                    He.window.conch && He.window.conchConfig.setSlowFrame && He.window.conchConfig.setSlowFrame(false);
                    break;
                case "mouse":
                    He.window.conch && He.window.conchConfig.setMouseFrame && He.window.conchConfig.setMouseFrame(2e3);
                    break;
                case "sleep":
                    He.window.conch && He.window.conchConfig.setLimitFPS && He.window.conchConfig.setLimitFPS(1);
                    break;
                default:
                    throw new Error("Stage:frameRate invalid.");
                    break
                }
            }
        });
        p(0, t, "clientScaleY", function() {
            return this._transform ? this._transform.getScaleY() : 1
        });
        p(0, t, "width", f.prototype._$get_width, function(t) {
            this.designWidth = t;
            st.superSet(Dn, this, "width", t);
            st.timer.callLater(this, this._changeCanvasSize)
        });
        p(0, t, "alignH", function() {
            return this._alignH
        }, function(t) {
            this._alignH = t;
            st.timer.callLater(this, this._changeCanvasSize)
        });
        p(0, t, "isFocused", function() {
            return this._isFocused
        });
        p(0, t, "height", f.prototype._$get_height, function(t) {
            this.designHeight = t;
            st.superSet(Dn, this, "height", t);
            st.timer.callLater(this, this._changeCanvasSize)
        });
        p(0, t, "transform", function() {
            if (this._tfChanged)
                this._adjustTransform();
            return this._transform = this._transform || Ce.create()
        }, f.prototype._$set_transform);
        p(0, t, "isVisibility", function() {
            return this._isVisibility
        });
        p(0, t, "desginWidth", function() {
            console.debug("desginWidth已经弃用，请使用designWidth代替");
            return this.designWidth
        });
        p(0, t, "scaleMode", function() {
            return this._scaleMode
        }, function(t) {
            this._scaleMode = t;
            st.timer.callLater(this, this._changeCanvasSize)
        });
        p(0, t, "alignV", function() {
            return this._alignV
        }, function(t) {
            this._alignV = t;
            st.timer.callLater(this, this._changeCanvasSize)
        });
        p(0, t, "bgColor", function() {
            return this._bgColor
        }, function(t) {
            this._bgColor = t;
            this.conchModel && this.conchModel.bgColor(t);
            if (Be.isWebGL) {
                if (t) {
                    h._wgColor = je.create(t)._color
                } else {
                    h._wgColor = null
                }
            }
            if (He.onLimixiu) {
                h._wgColor = je.create(t)._color
            } else if (t) {
                Be.canvas.style.background = t
            } else {
                Be.canvas.style.background = "none"
            }
        });
        p(0, t, "mouseX", function() {
            return Math.round(he.instance.mouseX / this.clientScaleX)
        });
        p(0, t, "mouseY", function() {
            return Math.round(he.instance.mouseY / this.clientScaleY)
        });
        p(0, t, "screenMode", function() {
            return this._screenMode
        }, function(t) {
            this._screenMode = t
        });
        p(0, t, "visible", f.prototype._$get_visible, function(t) {
            if (this.visible !== t) {
                st.superSet(Dn, this, "visible", t);
                var e = Be._mainCanvas.source.style;
                e.visibility = t ? "visible" : "hidden"
            }
        });
        p(0, t, "fullScreenEnabled", null, function(t) {
            var e = He.document;
            var i = Be.canvas;
            if (t) {
                i.addEventListener("mousedown", this._requestFullscreen);
                i.addEventListener("touchstart", this._requestFullscreen);
                e.addEventListener("fullscreenchange", this._fullScreenChanged);
                e.addEventListener("mozfullscreenchange", this._fullScreenChanged);
                e.addEventListener("webkitfullscreenchange", this._fullScreenChanged);
                e.addEventListener("msfullscreenchange", this._fullScreenChanged)
            } else {
                i.removeEventListener("mousedown", this._requestFullscreen);
                i.removeEventListener("touchstart", this._requestFullscreen);
                e.removeEventListener("fullscreenchange", this._fullScreenChanged);
                e.removeEventListener("mozfullscreenchange", this._fullScreenChanged);
                e.removeEventListener("webkitfullscreenchange", this._fullScreenChanged);
                e.removeEventListener("msfullscreenchange", this._fullScreenChanged)
            }
        });
        h.SCALE_NOSCALE = "noscale";
        h.SCALE_EXACTFIT = "exactfit";
        h.SCALE_SHOWALL = "showall";
        h.SCALE_NOBORDER = "noborder";
        h.SCALE_FULL = "full";
        h.SCALE_FIXED_WIDTH = "fixedwidth";
        h.SCALE_FIXED_HEIGHT = "fixedheight";
        h.SCALE_FIXED_AUTO = "fixedauto";
        h.ALIGN_LEFT = "left";
        h.ALIGN_RIGHT = "right";
        h.ALIGN_CENTER = "center";
        h.ALIGN_TOP = "top";
        h.ALIGN_MIDDLE = "middle";
        h.ALIGN_BOTTOM = "bottom";
        h.SCREEN_NONE = "none";
        h.SCREEN_HORIZONTAL = "horizontal";
        h.SCREEN_VERTICAL = "vertical";
        h.FRAME_FAST = "fast";
        h.FRAME_SLOW = "slow";
        h.FRAME_MOUSE = "mouse";
        h.FRAME_SLEEP = "sleep";
        h.FRAME_MOUSE_THREDHOLD = 2e3;
        h.bottomHeight = 0;
        u(h, ["_wgColor", function() {
            return this._wgColor = [0, 0, 0, 1]
        }
        ]);
        return h
    }(Dn);
    var xs = function(e) {
        function r() {
            this._mainTexture = null;
            this._textureJson = null;
            this._graphicsCache = [];
            this.srcBoneMatrixArr = [];
            this.ikArr = [];
            this.tfArr = [];
            this.pathArr = [];
            this.boneSlotDic = {};
            this.bindBoneBoneSlotDic = {};
            this.boneSlotArray = [];
            this.skinDataArray = [];
            this.skinDic = {};
            this.subTextureDic = {};
            this.isParseFail = false;
            this.yReverseMatrix = null;
            this.drawOrderAniArr = [];
            this.eventAniArr = [];
            this.attachmentNames = null;
            this.deformAniArr = [];
            this._isParseAudio = false;
            this._isDestroyed = false;
            this._rate = 30;
            this.isParserComplete = false;
            this.aniSectionDic = {};
            this._skBufferUrl = null;
            this._textureDic = {};
            this._loadList = null;
            this._path = null;
            this.tMatrixDataLen = 0;
            this.mRootBone = null;
            r.__super.call(this);
            this.skinSlotDisplayDataArr = [];
            this.mBoneArr = []
        }
        x(r, "laya.ani.bone.Templet", e);
        var t = r.prototype;
        t.loadAni = function(t) {
            this._skBufferUrl = t;
            st.loader.load(t, b.create(this, this.onComplete), null, "arraybuffer")
        }
        ;
        t.onComplete = function(t) {
            if (this._isDestroyed) {
                this.destroy();
                return
            }
            var e = fn.getRes(this._skBufferUrl);
            if (!e) {
                this.event("error", "load failed:" + this._skBufferUrl);
                return
            }
            this._path = this._skBufferUrl.slice(0, this._skBufferUrl.lastIndexOf("/")) + "/";
            this.parseData(null, e)
        }
        ;
        t.parseData = function(t, e, i) {
            i === void 0 && (i = 30);
            if (!this._path && this.url)
                this._path = this.url.slice(0, this.url.lastIndexOf("/")) + "/";
            this._mainTexture = t;
            if (this._mainTexture) {
                if (Be.isWebGL && t.bitmap) {
                    t.bitmap.enableMerageInAtlas = false
                }
            }
            this._rate = i;
            this.parse(e)
        }
        ;
        t.buildArmature = function(t) {
            t === void 0 && (t = 0);
            return new rs(this,t)
        }
        ;
        t.parse = function(t) {
            e.prototype.parse.call(this, t);
            this._endLoaded();
            if (this._aniVersion === r.LAYA_ANIMATION_VISION) {
                this._isParseAudio = true
            } else if (this._aniVersion != r.LAYA_ANIMATION_160_VISION) {
                console.log("[Error] 版本不一致，请使用IDE版本配套的重新导出" + this._aniVersion + "->" + r.LAYA_ANIMATION_VISION);
                this._loaded = false
            }
            if (this.loaded) {
                if (this._mainTexture) {
                    this._parsePublicExtData()
                } else {
                    this._parseTexturePath()
                }
            } else {
                this.event("error", this);
                this.isParseFail = true
            }
        }
        ;
        t._parseTexturePath = function() {
            if (this._isDestroyed) {
                this.destroy();
                return
            }
            var t = 0;
            this._loadList = [];
            var e = new Nt(this.getPublicExtData());
            var i = 0
              , n = 0
              , s = 0
              , r = 0;
            var a = 0
              , o = 0
              , l = 0
              , h = 0;
            var u = 0;
            var c = e.getInt32();
            var f = e.readUTFString();
            var d = f.split("\n");
            var _;
            var p;
            for (t = 0; t < c; t++) {
                p = this._path + d[t * 2];
                f = d[t * 2 + 1];
                i = e.getFloat32();
                n = e.getFloat32();
                s = e.getFloat32();
                r = e.getFloat32();
                u = e.getFloat32();
                a = isNaN(u) ? 0 : u;
                u = e.getFloat32();
                o = isNaN(u) ? 0 : u;
                u = e.getFloat32();
                l = isNaN(u) ? s : u;
                u = e.getFloat32();
                h = isNaN(u) ? r : u;
                if (this._loadList.indexOf(p) == -1) {
                    this._loadList.push(p)
                }
            }
            st.loader.load(this._loadList, b.create(this, this._textureComplete))
        }
        ;
        t._textureComplete = function() {
            var t;
            var e;
            for (var i = 0, n = this._loadList.length; i < n; i++) {
                e = this._loadList[i];
                t = this._textureDic[e] = fn.getRes(e);
                if (Be.isWebGL && t && t.bitmap) {
                    t.bitmap.enableMerageInAtlas = false
                }
            }
            this._parsePublicExtData()
        }
        ;
        t._parsePublicExtData = function() {
            var t = 0
              , e = 0
              , i = 0
              , n = 0
              , s = 0;
            for (t = 0,
            s = this.getAnimationCount(); t < s; t++) {
                this._graphicsCache.push([])
            }
            var r = false;
            r = this._aniClassName != "Dragon";
            var a = new Nt(this.getPublicExtData());
            var o = 0
              , l = 0
              , h = 0
              , u = 0;
            var c = 0
              , f = 0
              , d = 0
              , _ = 0;
            var p = 0;
            var m = a.getInt32();
            var g = a.readUTFString();
            var v = g.split("\n");
            var b;
            var y;
            for (t = 0; t < m; t++) {
                b = this._mainTexture;
                y = this._path + v[t * 2];
                g = v[t * 2 + 1];
                if (this._mainTexture == null) {
                    b = this._textureDic[y]
                }
                if (!b) {
                    this.event("error", this);
                    this.isParseFail = true;
                    return
                }
                o = a.getFloat32();
                l = a.getFloat32();
                h = a.getFloat32();
                u = a.getFloat32();
                p = a.getFloat32();
                c = isNaN(p) ? 0 : p;
                p = a.getFloat32();
                f = isNaN(p) ? 0 : p;
                p = a.getFloat32();
                d = isNaN(p) ? h : p;
                p = a.getFloat32();
                _ = isNaN(p) ? u : p;
                this.subTextureDic[g] = _n.create(b, o, l, h, u, -c, -f, d, _)
            }
            this._mainTexture = b;
            var x = a.getUint16();
            var w;
            for (t = 0; t < x; t++) {
                w = [];
                w.push(a.getUint16());
                w.push(a.getUint16());
                w.push(a.getUint16());
                w.push(a.getUint16());
                this.aniSectionDic[t] = w
            }
            var C;
            var S;
            var T;
            var R;
            var I = a.getInt16();
            var A = {};
            var G;
            for (t = 0; t < I; t++) {
                C = new Vt;
                if (t == 0) {
                    G = C
                } else {
                    C.root = G
                }
                C.d = r ? -1 : 1;
                T = a.readUTFString();
                R = a.readUTFString();
                C.length = a.getFloat32();
                if (a.getByte() == 1) {
                    C.inheritRotation = false
                }
                if (a.getByte() == 1) {
                    C.inheritScale = false
                }
                C.name = T;
                if (R) {
                    S = A[R];
                    if (S) {
                        S.addChild(C)
                    } else {
                        this.mRootBone = C
                    }
                }
                A[T] = C;
                this.mBoneArr.push(C)
            }
            this.tMatrixDataLen = a.getUint16();
            var M = a.getUint16();
            var L = 0;
            var W = Math.floor(M / this.tMatrixDataLen);
            var E;
            var N = this.srcBoneMatrixArr;
            for (t = 0; t < W; t++) {
                E = new Jt;
                E.scX = a.getFloat32();
                E.skX = a.getFloat32();
                E.skY = a.getFloat32();
                E.scY = a.getFloat32();
                E.x = a.getFloat32();
                E.y = a.getFloat32();
                if (this.tMatrixDataLen === 8) {
                    E.skewX = a.getFloat32();
                    E.skewY = a.getFloat32()
                }
                N.push(E);
                C = this.mBoneArr[t];
                C.transform = E
            }
            var V;
            var Z = a.getUint16();
            var B = 0;
            for (t = 0; t < Z; t++) {
                V = new Dt;
                B = a.getUint16();
                for (e = 0; e < B; e++) {
                    V.boneNames.push(a.readUTFString());
                    V.boneIndexs.push(a.getInt16())
                }
                V.name = a.readUTFString();
                V.targetBoneName = a.readUTFString();
                V.targetBoneIndex = a.getInt16();
                V.bendDirection = a.getFloat32();
                V.mix = a.getFloat32();
                V.isSpine = r;
                this.ikArr.push(V)
            }
            var k;
            var P = a.getUint16();
            var F = 0;
            for (t = 0; t < P; t++) {
                k = new zt;
                F = a.getUint16();
                for (e = 0; e < F; e++) {
                    k.boneIndexs.push(a.getInt16())
                }
                k.name = a.getUTFString();
                k.targetIndex = a.getInt16();
                k.rotateMix = a.getFloat32();
                k.translateMix = a.getFloat32();
                k.scaleMix = a.getFloat32();
                k.shearMix = a.getFloat32();
                k.offsetRotation = a.getFloat32();
                k.offsetX = a.getFloat32();
                k.offsetY = a.getFloat32();
                k.offsetScaleX = a.getFloat32();
                k.offsetScaleY = a.getFloat32();
                k.offsetShearY = a.getFloat32();
                this.tfArr.push(k)
            }
            var X;
            var D = a.getUint16();
            var Y = 0;
            for (t = 0; t < D; t++) {
                X = new Yt;
                X.name = a.readUTFString();
                Y = a.getUint16();
                for (e = 0; e < Y; e++) {
                    X.bones.push(a.getInt16())
                }
                X.target = a.readUTFString();
                X.positionMode = a.readUTFString();
                X.spacingMode = a.readUTFString();
                X.rotateMode = a.readUTFString();
                X.offsetRotation = a.getFloat32();
                X.position = a.getFloat32();
                X.spacing = a.getFloat32();
                X.rotateMix = a.getFloat32();
                X.translateMix = a.getFloat32();
                this.pathArr.push(X)
            }
            var O = 0;
            var U = 0;
            var H = 0;
            var z;
            var J = 0;
            var j = NaN;
            var K = 0;
            var Q;
            var q;
            var $;
            var tt;
            var et = a.getInt16();
            for (t = 0; t < et; t++) {
                var it = a.getUint8();
                var nt = {};
                this.deformAniArr.push(nt);
                for (var st = 0; st < it; st++) {
                    Q = new Bt;
                    Q.skinName = a.getUTFString();
                    nt[Q.skinName] = Q;
                    O = a.getInt16();
                    for (e = 0; e < O; e++) {
                        q = new kt;
                        Q.deformSlotDataList.push(q);
                        U = a.getInt16();
                        for (i = 0; i < U; i++) {
                            $ = new Pt;
                            q.deformSlotDisplayList.push($);
                            $.slotIndex = H = a.getInt16();
                            $.attachment = z = a.getUTFString();
                            J = a.getInt16();
                            for (n = 0; n < J; n++) {
                                if (a.getByte() == 1) {
                                    $.tweenKeyList.push(true)
                                } else {
                                    $.tweenKeyList.push(false)
                                }
                                j = a.getFloat32();
                                $.timeList.push(j);
                                tt = [];
                                $.vectices.push(tt);
                                K = a.getInt16();
                                for (s = 0; s < K; s++) {
                                    tt.push(a.getFloat32())
                                }
                            }
                        }
                    }
                }
            }
            var rt;
            var at = a.getInt16();
            var ot = 0;
            var lt;
            var ht = 0;
            for (t = 0; t < at; t++) {
                ot = a.getInt16();
                rt = [];
                for (e = 0; e < ot; e++) {
                    lt = new Ft;
                    lt.time = a.getFloat32();
                    ht = a.getInt16();
                    for (i = 0; i < ht; i++) {
                        lt.drawOrder.push(a.getInt16())
                    }
                    rt.push(lt)
                }
                this.drawOrderAniArr.push(rt)
            }
            var ut;
            var ct = a.getInt16();
            var ft = 0;
            var dt;
            for (t = 0; t < ct; t++) {
                ft = a.getInt16();
                ut = [];
                for (e = 0; e < ft; e++) {
                    dt = new Xt;
                    dt.name = a.getUTFString();
                    if (this._isParseAudio)
                        dt.audioValue = a.getUTFString();
                    dt.intValue = a.getInt32();
                    dt.floatValue = a.getFloat32();
                    dt.stringValue = a.getUTFString();
                    dt.time = a.getFloat32();
                    ut.push(dt)
                }
                this.eventAniArr.push(ut)
            }
            var _t = a.getInt16();
            if (_t > 0) {
                this.attachmentNames = [];
                for (t = 0; t < _t; t++) {
                    this.attachmentNames.push(a.getUTFString())
                }
            }
            var pt = a.getInt16();
            var mt;
            var gt;
            for (t = 0; t < pt; t++) {
                mt = new Zt;
                mt.name = a.readUTFString();
                mt.parent = a.readUTFString();
                mt.attachmentName = a.readUTFString();
                mt.srcDisplayIndex = mt.displayIndex = a.getInt16();
                mt.templet = this;
                this.boneSlotDic[mt.name] = mt;
                gt = this.bindBoneBoneSlotDic[mt.parent];
                if (gt == null) {
                    this.bindBoneBoneSlotDic[mt.parent] = gt = []
                }
                gt.push(mt);
                this.boneSlotArray.push(mt)
            }
            var vt = a.readUTFString();
            var bt = vt.split("\n");
            var yt = 0;
            var xt = a.getUint8();
            var wt, Ct, St;
            var Tt = 0
              , Rt = 0;
            var It = 0
              , At = 0
              , Gt = 0
              , Mt = 0
              , Lt = 0;
            for (t = 0; t < xt; t++) {
                wt = new Ot;
                wt.name = bt[yt++];
                Tt = a.getUint8();
                for (e = 0; e < Tt; e++) {
                    Ct = new Ht;
                    Ct.name = bt[yt++];
                    mt = this.boneSlotDic[Ct.name];
                    Rt = a.getUint8();
                    for (i = 0; i < Rt; i++) {
                        St = new Ut;
                        this.skinSlotDisplayDataArr.push(St);
                        St.name = bt[yt++];
                        St.attachmentName = bt[yt++];
                        St.transform = new Jt;
                        St.transform.scX = a.getFloat32();
                        St.transform.skX = a.getFloat32();
                        St.transform.skY = a.getFloat32();
                        St.transform.scY = a.getFloat32();
                        St.transform.x = a.getFloat32();
                        St.transform.y = a.getFloat32();
                        Ct.displayArr.push(St);
                        St.width = a.getFloat32();
                        St.height = a.getFloat32();
                        St.type = a.getUint8();
                        St.verLen = a.getUint16();
                        I = a.getUint16();
                        if (I > 0) {
                            St.bones = [];
                            for (n = 0; n < I; n++) {
                                var Wt = a.getUint16();
                                St.bones.push(Wt)
                            }
                        }
                        It = a.getUint16();
                        if (It > 0) {
                            St.uvs = [];
                            for (n = 0; n < It; n++) {
                                St.uvs.push(a.getFloat32())
                            }
                        }
                        At = a.getUint16();
                        if (At > 0) {
                            St.weights = [];
                            for (n = 0; n < At; n++) {
                                St.weights.push(a.getFloat32())
                            }
                        }
                        Gt = a.getUint16();
                        if (Gt > 0) {
                            St.triangles = [];
                            for (n = 0; n < Gt; n++) {
                                St.triangles.push(a.getUint16())
                            }
                        }
                        Mt = a.getUint16();
                        if (Mt > 0) {
                            St.vertices = [];
                            for (n = 0; n < Mt; n++) {
                                St.vertices.push(a.getFloat32())
                            }
                        }
                        Lt = a.getUint16();
                        if (Lt > 0) {
                            St.lengths = [];
                            for (n = 0; n < Lt; n++) {
                                St.lengths.push(a.getFloat32())
                            }
                        }
                    }
                    wt.slotArr.push(Ct)
                }
                this.skinDic[wt.name] = wt;
                this.skinDataArray.push(wt)
            }
            var Et = a.getUint8();
            if (Et == 1) {
                this.yReverseMatrix = new Ce(1,0,0,-1,0,0);
                if (G) {
                    G.setTempMatrix(this.yReverseMatrix)
                }
            } else {
                if (G) {
                    G.setTempMatrix(new Ce)
                }
            }
            this.showSkinByIndex(this.boneSlotDic, 0);
            this.isParserComplete = true;
            this.event("complete", this)
        }
        ;
        t.getTexture = function(t) {
            var e = this.subTextureDic[t];
            if (!e) {
                e = this.subTextureDic[t.substr(0, t.length - 1)]
            }
            if (e == null) {
                return this._mainTexture
            }
            return e
        }
        ;
        t.showSkinByIndex = function(t, e, i) {
            i === void 0 && (i = true);
            if (e < 0 && e >= this.skinDataArray.length)
                return false;
            var n = 0
              , s = 0;
            var r;
            var a;
            var o = this.skinDataArray[e];
            if (o) {
                for (n = 0,
                s = o.slotArr.length; n < s; n++) {
                    a = o.slotArr[n];
                    if (a) {
                        r = t[a.name];
                        if (r) {
                            r.showSlotData(a, i);
                            if (i && r.attachmentName != "undefined" && r.attachmentName != "null") {
                                r.showDisplayByName(r.attachmentName)
                            } else {
                                r.showDisplayByIndex(r.displayIndex)
                            }
                        }
                    }
                }
                return true
            }
            return false
        }
        ;
        t.getSkinIndexByName = function(t) {
            var e;
            for (var i = 0, n = this.skinDataArray.length; i < n; i++) {
                e = this.skinDataArray[i];
                if (e.name == t) {
                    return i
                }
            }
            return -1
        }
        ;
        t.getGrahicsDataWithCache = function(t, e) {
            if (this._graphicsCache[t] && this._graphicsCache[t][e]) {
                return this._graphicsCache[t][e]
            }
            return null
        }
        ;
        t.setGrahicsDataWithCache = function(t, e, i) {
            this._graphicsCache[t][e] = i
        }
        ;
        t.destroy = function() {
            this._isDestroyed = true;
            var t;
            for (var e in this.subTextureDic) {
                t = this.subTextureDic[e];
                if (t)
                    t.destroy()
            }
            var e;
            for (e in this._textureDic) {
                t = this._textureDic[e];
                if (t)
                    t.destroy()
            }
            var i;
            for (var n = 0, s = this.skinSlotDisplayDataArr.length; n < s; n++) {
                i = this.skinSlotDisplayDataArr[n];
                i.destory()
            }
            this.skinSlotDisplayDataArr.length = 0;
            if (this.url) {
                delete r.TEMPLET_DICTIONARY[this.url]
            }
            laya.resource.Resource.prototype.destroy.call(this)
        }
        ;
        t.getAniNameByIndex = function(t) {
            var e = this.getAnimation(t);
            if (e)
                return e.name;
            return null
        }
        ;
        p(0, t, "rate", function() {
            return this._rate
        }, function(t) {
            this._rate = t
        });
        r.LAYA_ANIMATION_160_VISION = "LAYAANIMATION:1.6.0";
        r.LAYA_ANIMATION_VISION = "LAYAANIMATION:1.7.0";
        r.TEMPLET_DICTIONARY = null;
        return r
    }(Yn);
    var ws = function(t) {
        function f(t, e, i, n) {
            this._curActTexIndex = 0;
            this.tag = {};
            this._program = null;
            this._params = null;
            this._paramsMap = {};
            this._offset = 0;
            f.__super.call(this);
            if (!t || !e)
                throw "Shader Error";
            this._id = ++f._count;
            this._vs = t;
            this._ps = e;
            this._nameMap = n ? n : {};
            i != null && (f.sharders[i] = this)
        }
        x(f, "laya.webgl.shader.Shader", t);
        var e = f.prototype;
        e.recreateResource = function() {
            this._compile();
            this.completeCreate();
            this.memorySize = 0
        }
        ;
        e.disposeResource = function() {
            Hi.mainContext.deleteShader(this._vshader);
            Hi.mainContext.deleteShader(this._pshader);
            Hi.mainContext.deleteProgram(this._program);
            this._vshader = this._pshader = this._program = null;
            this._params = null;
            this._paramsMap = {};
            this.memorySize = 0;
            this._curActTexIndex = 0
        }
        ;
        e._compile = function() {
            if (!this._vs || !this._ps || this._params)
                return;
            this._reCompile = true;
            this._params = [];
            var t = [this._vs, this._ps];
            var e;
            var i = Hi.mainContext;
            this._program = i.createProgram();
            this._vshader = f._createShader(i, t[0], 35633);
            this._pshader = f._createShader(i, t[1], 35632);
            i.attachShader(this._program, this._vshader);
            i.attachShader(this._program, this._pshader);
            i.linkProgram(this._program);
            if (!Be.isConchApp && !i.getProgramParameter(this._program, 35714)) {
                throw i.getProgramInfoLog(this._program)
            }
            var n, s = 0, r = 0, a = 0, o;
            var l = 0;
            if (Be.isConchApp) {
                l = i.getProgramParameterEx(this._vs, this._ps, "", 35721)
            } else {
                l = i.getProgramParameter(this._program, 35721)
            }
            for (s = 0; s < l; s++) {
                var h = null;
                if (Be.isConchApp) {
                    h = i.getActiveAttribEx(this._vs, this._ps, "", s)
                } else {
                    h = i.getActiveAttrib(this._program, s)
                }
                o = i.getAttribLocation(this._program, h.name);
                n = {
                    vartype: "attribute",
                    glfun: null,
                    ivartype: 0,
                    attrib: h,
                    location: o,
                    name: h.name,
                    type: h.type,
                    isArray: false,
                    isSame: false,
                    preValue: null,
                    indexOfParams: 0
                };
                this._params.push(n)
            }
            var u = 0;
            if (Be.isConchApp) {
                u = i.getProgramParameterEx(this._vs, this._ps, "", 35718)
            } else {
                u = i.getProgramParameter(this._program, 35718)
            }
            for (s = 0; s < u; s++) {
                var c = null;
                if (Be.isConchApp) {
                    c = i.getActiveUniformEx(this._vs, this._ps, "", s)
                } else {
                    c = i.getActiveUniform(this._program, s)
                }
                o = i.getUniformLocation(this._program, c.name);
                n = {
                    vartype: "uniform",
                    glfun: null,
                    ivartype: 1,
                    attrib: h,
                    location: o,
                    name: c.name,
                    type: c.type,
                    isArray: false,
                    isSame: false,
                    preValue: null,
                    indexOfParams: 0
                };
                if (n.name.indexOf("[0]") > 0) {
                    n.name = n.name.substr(0, n.name.length - 3);
                    n.isArray = true;
                    n.location = i.getUniformLocation(this._program, n.name)
                }
                this._params.push(n)
            }
            for (s = 0,
            a = this._params.length; s < a; s++) {
                n = this._params[s];
                n.indexOfParams = s;
                n.index = 1;
                n.value = [n.location, null];
                n.codename = n.name;
                n.name = this._nameMap[n.codename] ? this._nameMap[n.codename] : n.codename;
                this._paramsMap[n.name] = n;
                n._this = this;
                n.uploadedValue = [];
                if (n.vartype === "attribute") {
                    n.fun = this._attribute;
                    continue
                }
                switch (n.type) {
                case 5124:
                    n.fun = n.isArray ? this._uniform1iv : this._uniform1i;
                    break;
                case 5126:
                    n.fun = n.isArray ? this._uniform1fv : this._uniform1f;
                    break;
                case 35664:
                    n.fun = n.isArray ? this._uniform_vec2v : this._uniform_vec2;
                    break;
                case 35665:
                    n.fun = n.isArray ? this._uniform_vec3v : this._uniform_vec3;
                    break;
                case 35666:
                    n.fun = n.isArray ? this._uniform_vec4v : this._uniform_vec4;
                    break;
                case 35678:
                    n.fun = this._uniform_sampler2D;
                    break;
                case 35680:
                    n.fun = this._uniform_samplerCube;
                    break;
                case 35676:
                    n.glfun = i.uniformMatrix4fv;
                    n.fun = this._uniformMatrix4fv;
                    break;
                case 35670:
                    n.fun = this._uniform1i;
                    break;
                case 35674:
                case 35675:
                    throw new Error("compile shader err!");
                    break;
                default:
                    throw new Error("compile shader err!");
                    break
                }
            }
        }
        ;
        e.getUniform = function(t) {
            return this._paramsMap[t]
        }
        ;
        e._attribute = function(t, e) {
            var i = Hi.mainContext;
            var n = Hn._enableAtributes;
            var s = t.location;
            n[s] || i.enableVertexAttribArray(s);
            i.vertexAttribPointer(s, e[0], e[1], e[2], e[3], e[4] + this._offset);
            n[s] = Hn._bindVertexBuffer;
            return 1
        }
        ;
        e._uniform1f = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e) {
                Hi.mainContext.uniform1f(t.location, i[0] = e);
                return 1
            }
            return 0
        }
        ;
        e._uniform1fv = function(t, e) {
            if (e.length < 4) {
                var i = t.uploadedValue;
                if (i[0] !== e[0] || i[1] !== e[1] || i[2] !== e[2] || i[3] !== e[3]) {
                    Hi.mainContext.uniform1fv(t.location, e);
                    i[0] = e[0];
                    i[1] = e[1];
                    i[2] = e[2];
                    i[3] = e[3];
                    return 1
                }
                return 0
            } else {
                Hi.mainContext.uniform1fv(t.location, e);
                return 1
            }
        }
        ;
        e._uniform_vec2 = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e[0] || i[1] !== e[1]) {
                Hi.mainContext.uniform2f(t.location, i[0] = e[0], i[1] = e[1]);
                return 1
            }
            return 0
        }
        ;
        e._uniform_vec2v = function(t, e) {
            if (e.length < 2) {
                var i = t.uploadedValue;
                if (i[0] !== e[0] || i[1] !== e[1] || i[2] !== e[2] || i[3] !== e[3]) {
                    Hi.mainContext.uniform2fv(t.location, e);
                    i[0] = e[0];
                    i[1] = e[1];
                    i[2] = e[2];
                    i[3] = e[3];
                    return 1
                }
                return 0
            } else {
                Hi.mainContext.uniform2fv(t.location, e);
                return 1
            }
        }
        ;
        e._uniform_vec3 = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e[0] || i[1] !== e[1] || i[2] !== e[2]) {
                Hi.mainContext.uniform3f(t.location, i[0] = e[0], i[1] = e[1], i[2] = e[2]);
                return 1
            }
            return 0
        }
        ;
        e._uniform_vec3v = function(t, e) {
            Hi.mainContext.uniform3fv(t.location, e);
            return 1
        }
        ;
        e._uniform_vec4 = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e[0] || i[1] !== e[1] || i[2] !== e[2] || i[3] !== e[3]) {
                Hi.mainContext.uniform4f(t.location, i[0] = e[0], i[1] = e[1], i[2] = e[2], i[3] = e[3]);
                return 1
            }
            return 0
        }
        ;
        e._uniform_vec4v = function(t, e) {
            Hi.mainContext.uniform4fv(t.location, e);
            return 1
        }
        ;
        e._uniformMatrix2fv = function(t, e) {
            Hi.mainContext.uniformMatrix2fv(t.location, false, e);
            return 1
        }
        ;
        e._uniformMatrix3fv = function(t, e) {
            Hi.mainContext.uniformMatrix3fv(t.location, false, e);
            return 1
        }
        ;
        e._uniformMatrix4fv = function(t, e) {
            Hi.mainContext.uniformMatrix4fv(t.location, false, e);
            return 1
        }
        ;
        e._uniform1i = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e) {
                Hi.mainContext.uniform1i(t.location, i[0] = e);
                return 1
            }
            return 0
        }
        ;
        e._uniform1iv = function(t, e) {
            Hi.mainContext.uniform1iv(t.location, e);
            return 1
        }
        ;
        e._uniform_ivec2 = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e[0] || i[1] !== e[1]) {
                Hi.mainContext.uniform2i(t.location, i[0] = e[0], i[1] = e[1]);
                return 1
            }
            return 0
        }
        ;
        e._uniform_ivec2v = function(t, e) {
            Hi.mainContext.uniform2iv(t.location, e);
            return 1
        }
        ;
        e._uniform_vec3i = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e[0] || i[1] !== e[1] || i[2] !== e[2]) {
                Hi.mainContext.uniform3i(t.location, i[0] = e[0], i[1] = e[1], i[2] = e[2]);
                return 1
            }
            return 0
        }
        ;
        e._uniform_vec3vi = function(t, e) {
            Hi.mainContext.uniform3iv(t.location, e);
            return 1
        }
        ;
        e._uniform_vec4i = function(t, e) {
            var i = t.uploadedValue;
            if (i[0] !== e[0] || i[1] !== e[1] || i[2] !== e[2] || i[3] !== e[3]) {
                Hi.mainContext.uniform4i(t.location, i[0] = e[0], i[1] = e[1], i[2] = e[2], i[3] = e[3]);
                return 1
            }
            return 0
        }
        ;
        e._uniform_vec4vi = function(t, e) {
            Hi.mainContext.uniform4iv(t.location, e);
            return 1
        }
        ;
        e._uniform_sampler2D = function(t, e) {
            var i = Hi.mainContext;
            var n = t.uploadedValue;
            if (n[0] == null) {
                n[0] = this._curActTexIndex;
                i.uniform1i(t.location, this._curActTexIndex);
                i.activeTexture(f._TEXTURES[this._curActTexIndex]);
                zi.bindTexture(i, 3553, e);
                this._curActTexIndex++;
                return 1
            } else {
                i.activeTexture(f._TEXTURES[n[0]]);
                zi.bindTexture(i, 3553, e);
                return 0
            }
        }
        ;
        e._uniform_samplerCube = function(t, e) {
            var i = Hi.mainContext;
            var n = t.uploadedValue;
            if (n[0] == null) {
                n[0] = this._curActTexIndex;
                i.uniform1i(t.location, this._curActTexIndex);
                i.activeTexture(f._TEXTURES[this._curActTexIndex]);
                zi.bindTexture(i, 34067, e);
                this._curActTexIndex++;
                return 1
            } else {
                i.activeTexture(f._TEXTURES[n[0]]);
                zi.bindTexture(i, 34067, e);
                return 0
            }
        }
        ;
        e._noSetValue = function(t) {
            console.log("no....:" + t.name)
        }
        ;
        e.uploadOne = function(t, e) {
            this.activeResource();
            zi.UseProgram(this._program);
            var i = this._paramsMap[t];
            i.fun.call(this, i, e)
        }
        ;
        e.uploadTexture2D = function(t) {
            ii.shaderCall++;
            var e = Hi.mainContext;
            e.activeTexture(33984);
            zi.bindTexture(e, 3553, t)
        }
        ;
        e.upload = function(t, e) {
            On.activeShader = On.bindShader = this;
            this._lastUseFrameCount === ii.loopCount || this.activeResource();
            zi.UseProgram(this._program);
            if (this._reCompile) {
                e = this._params;
                this._reCompile = false
            } else {
                e = e || this._params
            }
            var i = Hi.mainContext;
            var n, s, r = e.length, a = 0;
            for (var o = 0; o < r; o++) {
                n = e[o];
                if ((s = t[n.name]) !== null)
                    a += n.fun.call(this, n, s)
            }
            ii.shaderCall += a
        }
        ;
        e.uploadArray = function(t, e, i) {
            On.activeShader = this;
            On.bindShader = this;
            this.activeResource();
            zi.UseProgram(this._program);
            var n = this._params, s;
            var r, a = 0;
            for (var o = e - 2; o >= 0; o -= 2) {
                r = this._paramsMap[t[o]];
                if (!r)
                    continue;
                s = t[o + 1];
                if (s != null) {
                    i && i[r.name] && i[r.name].bind();
                    a += r.fun.call(this, r, s)
                }
            }
            ii.shaderCall += a
        }
        ;
        e.getParams = function() {
            return this._params
        }
        ;
        f.getShader = function(t) {
            return f.sharders[t]
        }
        ;
        f.create = function(t, e, i, n) {
            return new f(t,e,i,n)
        }
        ;
        f.withCompile = function(t, e, i, n) {
            if (i && f.sharders[i])
                return f.sharders[i];
            var s = f._preCompileShader[2e-4 * t];
            if (!s)
                throw new Error("withCompile shader err!" + t);
            return s.createShader(e, i, n)
        }
        ;
        f.withCompile2D = function(t, e, i, n, s) {
            if (n && f.sharders[n])
                return f.sharders[n];
            var r = f._preCompileShader[2e-4 * t + e];
            if (!r)
                throw new Error("withCompile shader err!" + t + " " + e);
            return r.createShader(i, n, s)
        }
        ;
        f.addInclude = function(t, e) {
            Ui.addInclude(t, e)
        }
        ;
        f.preCompile = function(t, e, i, n) {
            var s = 2e-4 * t;
            f._preCompileShader[s] = new Ui(s,e,i,n)
        }
        ;
        f.preCompile2D = function(t, e, i, n, s) {
            var r = 2e-4 * t + e;
            f._preCompileShader[r] = new Ui(r,i,n,s)
        }
        ;
        f._createShader = function(t, e, i) {
            var n = t.createShader(i);
            t.shaderSource(n, e);
            t.compileShader(n);
            return n
        }
        ;
        f._TEXTURES = [33984, 33985, 33986, 33987, 33988, 33989, 33990, , 33991, 33992];
        f._count = 0;
        f._preCompileShader = {};
        f.SHADERNAME2ID = 2e-4;
        f.sharders = (f.sharders = [],
        f.sharders.length = 32,
        f.sharders);
        u(f, ["nameKey", function() {
            return this.nameKey = new ni
        }
        ]);
        return f
    }(On);
    var Cs = function(t) {
        function e() {
            this._src = null;
            this._onload = null;
            this._onerror = null;
            e.__super.call(this)
        }
        x(e, "laya.resource.FileBitmap", t);
        var i = e.prototype;
        p(0, i, "src", function() {
            return this._src
        }, function(t) {
            this._src = t
        });
        p(0, i, "onload", null, function(t) {});
        p(0, i, "onerror", null, function(t) {});
        return e
    }(Un);
    var Ss = function(t) {
        function i(t, e) {
            this._is2D = false;
            i.__super.call(this);
            var n = this;
            this._source = this;
            if (t === "2D" || t === "AUTO" && !Be.isWebGL) {
                this._is2D = true;
                this._source = e || He.createElement("canvas");
                this._w = this._source.width;
                this._h = this._source.height;
                var s = this;
                s.getContext = function(t, e) {
                    if (n._ctx)
                        return n._ctx;
                    var i = n._ctx = n._source.getContext(t, e);
                    if (i) {
                        i._canvas = s;
                        if (!Be.isFlash && !He.onLimixiu)
                            i.size = function(t, e) {}
                    }
                    return i
                }
            }
            this.lock = true
        }
        x(i, "laya.resource.HTMLCanvas", t);
        var e = i.prototype;
        e.clear = function() {
            this._ctx && this._ctx.clear()
        }
        ;
        e.destroy = function() {
            this._ctx && this._ctx.destroy();
            this._ctx = null;
            laya.resource.Resource.prototype.destroy.call(this)
        }
        ;
        e.release = function() {}
        ;
        e._setContext = function(t) {
            this._ctx = t
        }
        ;
        e.getContext = function(t, e) {
            return this._ctx ? this._ctx : this._ctx = i._createContext(this)
        }
        ;
        e.getMemSize = function() {
            return 0
        }
        ;
        e.size = function(t, e) {
            if (this._w != t || this._h != e || this._source && (this._source.width != t || this._source.height != e)) {
                this._w = t;
                this._h = e;
                this.memorySize = this._w * this._h * 4;
                this._ctx && this._ctx.size(t, e);
                this._source && (this._source.height = e,
                this._source.width = t)
            }
        }
        ;
        e.getCanvas = function() {
            return this._source
        }
        ;
        e.toBase64 = function(t, e, i) {
            if (this._source) {
                if (Be.isConchApp && this._source.toBase64) {
                    this._source.toBase64(t, e, i)
                } else {
                    var n = this._source.toDataURL(t, e);
                    i.call(this, n)
                }
            }
        }
        ;
        p(0, e, "context", function() {
            return this._ctx
        });
        p(0, e, "asBitmap", null, function(t) {});
        i.create = function(t, e) {
            return new i(t,e)
        }
        ;
        i.TYPE2D = "2D";
        i.TYPE3D = "3D";
        i.TYPEAUTO = "AUTO";
        i._createContext = null;
        return i
    }(Un);
    var Ts = function(t) {
        function l(t, e, i, n, s, r, a, o) {
            l.__super.call(this);
            throw new Error("不允许new！")
        }
        x(l, "laya.resource.HTMLSubImage", t);
        l.create = function(t, e, i, n, s, r, a, o) {
            o === void 0 && (o = false);
            return new l(t,e,i,n,s,r,a,o)
        }
        ;
        return l
    }(Un);
    var Rs = function(t) {
        function e() {
            this._atlaser = null;
            this._flashCacheImage = null;
            this._flashCacheImageNeedFlush = false;
            e.__super.call(this)
        }
        x(e, "laya.webgl.atlas.AtlasWebGLCanvas", t);
        var i = e.prototype;
        i.recreateResource = function() {
            var t = Hi.mainContext;
            var e = this._source = t.createTexture();
            var i = zi.curBindTexTarget;
            var n = zi.curBindTexValue;
            zi.bindTexture(t, 3553, e);
            t.texImage2D(3553, 0, 6408, this._w, this._h, 0, 6408, 5121, null);
            t.texParameteri(3553, 10241, 9729);
            t.texParameteri(3553, 10240, 9729);
            t.texParameteri(3553, 10242, 33071);
            t.texParameteri(3553, 10243, 33071);
            i && n && zi.bindTexture(t, i, n);
            this.memorySize = this._w * this._h * 4;
            this.completeCreate()
        }
        ;
        i.disposeResource = function() {
            if (this._source) {
                Hi.mainContext.deleteTexture(this._source);
                this._source = null;
                this.memorySize = 0
            }
        }
        ;
        i.texSubImage2D = function(t, e, i) {
            if (!Be.isFlash) {
                var n = Hi.mainContext;
                var s = zi.curBindTexTarget;
                var r = zi.curBindTexValue;
                zi.bindTexture(n, 3553, this._source);
                if (Be.isConchWebGL) {
                    if (i !== ConchTextCanvas) {
                        t - 1 >= 0 && n.texSubImage2DEx(true, 3553, 0, t - 1, e, 6408, 5121, i);
                        t + 1 <= this._w && n.texSubImage2DEx(true, 3553, 0, t + 1, e, 6408, 5121, i);
                        e - 1 >= 0 && n.texSubImage2DEx(true, 3553, 0, t, e - 1, 6408, 5121, i);
                        e + 1 <= this._h && n.texSubImage2DEx(true, 3553, 0, t, e + 1, 6408, 5121, i)
                    }
                    n.texSubImage2DEx(true, 3553, 0, t, e, 6408, 5121, i)
                } else {
                    n.pixelStorei(37441, true);
                    t - 1 >= 0 && n.texSubImage2D(3553, 0, t - 1, e, 6408, 5121, i);
                    t + 1 <= this._w && n.texSubImage2D(3553, 0, t + 1, e, 6408, 5121, i);
                    e - 1 >= 0 && n.texSubImage2D(3553, 0, t, e - 1, 6408, 5121, i);
                    e + 1 <= this._h && n.texSubImage2D(3553, 0, t, e + 1, 6408, 5121, i);
                    n.texSubImage2D(3553, 0, t, e, 6408, 5121, i);
                    n.pixelStorei(37441, false)
                }
                s && r && zi.bindTexture(n, s, r)
            } else {
                if (!this._flashCacheImage) {
                    this._flashCacheImage = rr.create("");
                    this._flashCacheImage._image.createCanvas(this._w, this._h)
                }
                var a = i.bitmapdata;
                this._flashCacheImage._image.copyPixels(a, 0, 0, a.width, a.height, t, e);
                this._flashCacheImageNeedFlush || (this._flashCacheImageNeedFlush = true)
            }
        }
        ;
        i.texSubImage2DPixel = function(t, e, i, n, s) {
            var r = Hi.mainContext;
            var a = zi.curBindTexTarget;
            var o = zi.curBindTexValue;
            zi.bindTexture(r, 3553, this._source);
            var l = new Uint8Array(s.data);
            if (Be.isConchWebGL) {
                r.texSubImage2DEx(true, 3553, 0, t, e, i, n, 6408, 5121, l)
            } else {
                r.pixelStorei(37441, true);
                r.texSubImage2D(3553, 0, t, e, i, n, 6408, 5121, l);
                r.pixelStorei(37441, false)
            }
            a && o && zi.bindTexture(r, a, o)
        }
        ;
        p(0, i, "width", t.prototype._$get_width, function(t) {
            this._w = t
        });
        p(0, i, "height", t.prototype._$get_height, function(t) {
            this._h = t
        });
        return e
    }(Un);
    var Is = function(t) {
        function s() {
            this.flipY = true;
            this.alwaysChange = false;
            s.__super.call(this)
        }
        x(s, "laya.webgl.resource.WebGLCanvas", t);
        var e = s.prototype;
        e.getCanvas = function() {
            return this._canvas
        }
        ;
        e.clear = function() {
            this._ctx && this._ctx.clear()
        }
        ;
        e.destroy = function() {
            this._ctx && this._ctx.destroy();
            this._ctx = null;
            laya.resource.Resource.prototype.destroy.call(this)
        }
        ;
        e._setContext = function(t) {
            this._ctx = t
        }
        ;
        e.getContext = function(t, e) {
            return this._ctx ? this._ctx : this._ctx = s._createContext(this)
        }
        ;
        e.size = function(t, e) {
            if (this._w != t || this._h != e) {
                this._w = t;
                this._h = e;
                this._ctx && this._ctx.size(t, e);
                this._canvas && (this._canvas.height = e,
                this._canvas.width = t)
            }
        }
        ;
        e.activeResource = function(t) {
            t === void 0 && (t = false);
            if (!this._source) {
                this.recreateResource()
            }
        }
        ;
        e.recreateResource = function() {
            this.createWebGlTexture();
            this.completeCreate()
        }
        ;
        e.disposeResource = function() {
            if (this._source && !this.iscpuSource) {
                Hi.mainContext.deleteTexture(this._source);
                this._source = null;
                this.memorySize = 0
            }
        }
        ;
        e.createWebGlTexture = function() {
            var t = Hi.mainContext;
            if (!this._canvas) {}
            var e = this._source = t.createTexture();
            this.iscpuSource = false;
            var i = zi.curBindTexTarget;
            var n = zi.curBindTexValue;
            zi.bindTexture(t, 3553, e);
            t.pixelStorei(37440, this.flipY ? 1 : 0);
            if (Be.isConchWebGL) {
                t.texImage2DEx(s.premulAlpha, 3553, 0, 6408, 6408, 5121, this._imgData)
            } else {
                s.premulAlpha && t.pixelStorei(37441, true);
                t.texImage2D(3553, 0, 6408, 6408, 5121, this._imgData);
                s.premulAlpha && t.pixelStorei(37441, false)
            }
            t.texParameteri(3553, 10240, 9729);
            t.texParameteri(3553, 10241, 9729);
            t.texParameteri(3553, 10242, 33071);
            t.texParameteri(3553, 10243, 33071);
            t.pixelStorei(37440, 0);
            this.memorySize = this._w * this._h * 4;
            i && n && zi.bindTexture(t, i, n)
        }
        ;
        e.reloadCanvasData = function() {
            var t = Hi.mainContext;
            if (!this._source) {
                throw "reloadCanvasData error, gl texture not created!"
            }
            var e = zi.curBindTexTarget;
            var i = zi.curBindTexValue;
            zi.bindTexture(t, 3553, this._source);
            if (Be.isConchWebGL) {
                t.texImage2DEx(s.premulAlpha, 3553, 0, 6408, 6408, 5121, this._imgData)
            } else {
                s.premulAlpha && t.pixelStorei(37441, true);
                t.texImage2D(3553, 0, 6408, 6408, 5121, this._imgData);
                s.premulAlpha && t.pixelStorei(37441, false)
            }
            t.pixelStorei(37440, 0);
            e && i && zi.bindTexture(t, e, i)
        }
        ;
        e.texSubImage2D = function(t, e, i) {
            var n = Hi.mainContext;
            var s = zi.curBindTexTarget;
            var r = zi.curBindTexValue;
            zi.bindTexture(n, 3553, this._source);
            if (Be.isConchWebGL) {
                n.texSubImage2DEx(true, 3553, 0, e, i, 6408, 5121, t._source)
            } else {
                n.pixelStorei(37441, true);
                n.texSubImage2D(3553, 0, e, i, 6408, 5121, t._source);
                n.pixelStorei(37441, false)
            }
            s && r && zi.bindTexture(n, s, r)
        }
        ;
        e.toBase64 = function(t, e, i) {
            var n = null;
            if (this._canvas) {
                n = this._canvas.toDataURL(t, e)
            }
            i.call(this, n)
        }
        ;
        p(0, e, "context", function() {
            return this._ctx
        });
        p(0, e, "source", function() {
            if (this.alwaysChange)
                this.reloadCanvasData();
            return this._source
        });
        p(0, e, "asBitmap", null, function(t) {
            this._ctx && (this._ctx.asBitmap = t)
        });
        s._createContext = null;
        s.premulAlpha = false;
        return s
    }(Un);
    var As = function(t) {
        function r(t, e) {
            r.__super.call(this);
            this.char = t;
            this.isSpace = t === " ";
            this.xs = e.scaleX;
            this.ys = e.scaleY;
            this.font = e.font.toString();
            this.fontSize = e.font.size;
            this.fillColor = e.fillColor;
            this.borderColor = e.borderColor;
            this.lineWidth = e.lineWidth;
            this.underLine = e.underLine;
            var i = Be.isConchApp;
            var n;
            if (i) {
                n = ConchTextCanvas;
                n._source = ConchTextCanvas;
                n._source.canvas = ConchTextCanvas
            } else {
                n = He.canvas.source
            }
            this.canvas = n;
            this._enableMerageInAtlas = true;
            if (i) {
                this._ctx = n
            } else {
                this._ctx = this.canvas.getContext("2d", undefined)
            }
            var s = ai.measureText(this.char, this.font);
            this.cw = s.width * this.xs;
            this.ch = (s.height || this.fontSize) * this.ys;
            this.onresize(this.cw + I.CborderSize * 2, this.ch + I.CborderSize * 2);
            this.texture = new _n(this)
        }
        x(r, "laya.webgl.resource.WebGLCharImage", t);
        var e = r.prototype;
        st.imps(e, {
            "laya.webgl.resource.IMergeAtlasBitmap": true
        });
        e.active = function() {
            this.texture.active()
        }
        ;
        e.recreateResource = function() {
            var t = Be.isConchApp;
            this.onresize(this.cw + I.CborderSize * 2, this.ch + I.CborderSize * 2);
            this.canvas && (this.canvas.height = this._h,
            this.canvas.width = this._w);
            if (t) {
                var e = this.fontSize;
                if (this.xs != 1 || this.ys != 1) {
                    e = parseInt(e * (this.xs > this.ys ? this.xs : this.ys) + "")
                }
                var i = "normal 100 " + this.font;
                i = i.replace(r._fontSizeReg, e);
                if (this.borderColor) {
                    i += " 1 " + this.borderColor
                }
                this._ctx.font = i;
                this._ctx.textBaseline = "top";
                this._ctx.fillStyle = this.fillColor;
                this._ctx.fillText(this.char, I.CborderSize, I.CborderSize, null, null, null)
            } else {
                this._ctx.save();
                this._ctx.lineJoin = "round";
                this._ctx.clearRect(0, 0, this.cw + I.CborderSize * 2, this.ch + I.CborderSize * 2);
                this._ctx.font = this.font;
                if (hs.RightToLeft) {
                    this._ctx.textAlign = "end"
                }
                this._ctx.textBaseline = "top";
                if (this.xs != 1 || this.ys != 1) {
                    this._ctx.setTransform(this.xs, 0, 0, this.ys, I.CborderSize, I.CborderSize)
                } else {
                    this._ctx.setTransform(1, 0, 0, 1, I.CborderSize, I.CborderSize)
                }
                if (this.fillColor && this.borderColor) {
                    this._ctx.strokeStyle = this.borderColor;
                    this._ctx.lineWidth = this.lineWidth;
                    this._ctx.strokeText(this.char, 0, 0, null, null, 0, null);
                    this._ctx.fillStyle = this.fillColor;
                    this._ctx.fillText(this.char, 0, 0, null, null, null)
                } else {
                    if (this.lineWidth === -1) {
                        this._ctx.fillStyle = this.fillColor ? this.fillColor : "white";
                        this._ctx.fillText(this.char, 0, 0, null, null, null)
                    } else {
                        this._ctx.strokeStyle = this.borderColor ? this.borderColor : "white";
                        this._ctx.lineWidth = this.lineWidth;
                        this._ctx.strokeText(this.char, 0, 0, null, null, 0, null)
                    }
                }
                if (this.underLine) {
                    this._ctx.lineWidth = 1;
                    this._ctx.strokeStyle = this.fillColor;
                    this._ctx.beginPath();
                    this._ctx.moveTo(0, this.fontSize + 1.5);
                    var n = this._ctx.measureText(this.char).width;
                    this._ctx.lineTo(n, this.fontSize + 1.5);
                    this._ctx.stroke()
                }
                this._ctx.restore()
            }
            this.borderSize = I.CborderSize;
            this.completeCreate()
        }
        ;
        e.onresize = function(t, e) {
            this._w = t;
            this._h = e;
            this._allowMerageInAtlas = true
        }
        ;
        e.clearAtlasSource = function() {}
        ;
        p(0, e, "allowMerageInAtlas", function() {
            return this._allowMerageInAtlas
        });
        p(0, e, "atlasSource", function() {
            return this.canvas
        });
        p(0, e, "atlasImgData", function() {
            if (!r.canUseCanvas) {
                if (this._ctx.getImageData)
                    return this._ctx.getImageData(0, 0, this._w, this._h)
            }
            return null
        });
        p(0, e, "enableMerageInAtlas", function() {
            return this._enableMerageInAtlas
        }, function(t) {
            this._enableMerageInAtlas = t
        });
        r.createOneChar = function(t, e) {
            var i = new r(t,e);
            return i
        }
        ;
        r.canUseCanvas = true;
        r._fontSizeReg = new RegExp("\\d+(?=px)","g");
        return r
    }(Un);
    var Gs = function(t) {
        function h(t, e, i, n, s, r, a, o, l) {
            i === void 0 && (i = 6408);
            n === void 0 && (n = 5121);
            s === void 0 && (s = 34041);
            r === void 0 && (r = false);
            a === void 0 && (a = false);
            o === void 0 && (o = -1);
            l === void 0 && (l = 1);
            h.__super.call(this);
            this._w = t;
            this._h = e;
            this._surfaceFormat = i;
            this._surfaceType = n;
            this._depthStencilFormat = s;
            if (Be.isConchWebGL && this._depthStencilFormat === 34041) {
                this._depthStencilFormat = 33189
            }
            this._mipMap = r;
            this._repeat = a;
            this._minFifter = o;
            this._magFifter = l
        }
        x(h, "laya.webgl.resource.WebGLRenderTarget", t);
        var e = h.prototype;
        e.recreateResource = function() {
            var t = Hi.mainContext;
            this._frameBuffer || (this._frameBuffer = t.createFramebuffer());
            this._source || (this._source = t.createTexture());
            var e = zi.curBindTexTarget;
            var i = zi.curBindTexValue;
            zi.bindTexture(t, 3553, this._source);
            t.texImage2D(3553, 0, 6408, this._w, this._h, 0, this._surfaceFormat, this._surfaceType, null);
            var n = this._minFifter;
            var s = this._magFifter;
            var r = this._repeat ? 10497 : 33071;
            var a = be.isPOT(this._w, this._h);
            if (a) {
                if (this._mipMap)
                    n !== -1 || (n = 9987);
                else
                    n !== -1 || (n = 9729);
                s !== -1 || (s = 9729);
                t.texParameteri(3553, 10241, n);
                t.texParameteri(3553, 10240, s);
                t.texParameteri(3553, 10242, r);
                t.texParameteri(3553, 10243, r);
                this._mipMap && t.generateMipmap(3553)
            } else {
                n !== -1 || (n = 9729);
                s !== -1 || (s = 9729);
                t.texParameteri(3553, 10241, n);
                t.texParameteri(3553, 10240, s);
                t.texParameteri(3553, 10242, 33071);
                t.texParameteri(3553, 10243, 33071)
            }
            t.bindFramebuffer(36160, this._frameBuffer);
            t.framebufferTexture2D(36160, 36064, 3553, this._source, 0);
            if (this._depthStencilFormat) {
                this._depthStencilBuffer || (this._depthStencilBuffer = t.createRenderbuffer());
                t.bindRenderbuffer(36161, this._depthStencilBuffer);
                t.renderbufferStorage(36161, this._depthStencilFormat, this._w, this._h);
                switch (this._depthStencilFormat) {
                case 33189:
                    t.framebufferRenderbuffer(36160, 36096, 36161, this._depthStencilBuffer);
                    break;
                case 36168:
                    t.framebufferRenderbuffer(36160, 36128, 36161, this._depthStencilBuffer);
                    break;
                case 34041:
                    t.framebufferRenderbuffer(36160, 33306, 36161, this._depthStencilBuffer);
                    break
                }
            }
            t.bindFramebuffer(36160, null);
            e && i && zi.bindTexture(t, e, i);
            t.bindRenderbuffer(36161, null);
            if (a && this._mipMap)
                this.memorySize = this._w * this._h * 4 * (1 + 1 / 3);
            else
                this.memorySize = this._w * this._h * 4;
            this.completeCreate()
        }
        ;
        e.disposeResource = function() {
            if (this._frameBuffer) {
                Hi.mainContext.deleteTexture(this._source);
                Hi.mainContext.deleteFramebuffer(this._frameBuffer);
                Hi.mainContext.deleteRenderbuffer(this._depthStencilBuffer);
                this._source = null;
                this._frameBuffer = null;
                this._depthStencilBuffer = null;
                this.memorySize = 0
            }
        }
        ;
        p(0, e, "depthStencilBuffer", function() {
            return this._depthStencilBuffer
        });
        p(0, e, "frameBuffer", function() {
            return this._frameBuffer
        });
        return h
    }(Un);
    var Ms = function(t) {
        function o(t, e, i, n, s, r, a) {
            this.offsetX = 0;
            this.offsetY = 0;
            o.__super.call(this);
            this.repeat = true;
            this.mipmap = false;
            this.minFifter = -1;
            this.magFifter = -1;
            this.atlasImage = r;
            this.canvas = t;
            this._ctx = t.getContext("2d", undefined);
            this._w = n;
            this._h = s;
            this.offsetX = e;
            this.offsetY = i;
            this.src = a;
            this._enableMerageInAtlas = true;
            ci.enabled && (this._w < ci.atlasLimitWidth && this._h < ci.atlasLimitHeight) ? this._allowMerageInAtlas = true : this._allowMerageInAtlas = false
        }
        x(o, "laya.webgl.resource.WebGLSubImage", t);
        var e = o.prototype;
        st.imps(e, {
            "laya.webgl.resource.IMergeAtlasBitmap": true
        });
        e.size = function(t, e) {
            this._w = t;
            this._h = e;
            this._ctx && this._ctx.size(t, e);
            this.canvas && (this.canvas.height = e,
            this.canvas.width = t)
        }
        ;
        e.recreateResource = function() {
            this.size(this._w, this._h);
            this._ctx.drawImage(this.atlasImage, this.offsetX, this.offsetY, this._w, this._h, 0, 0, this._w, this._h);
            !(this._allowMerageInAtlas && this._enableMerageInAtlas) ? this.createWebGlTexture() : this.memorySize = 0;
            this.completeCreate()
        }
        ;
        e.createWebGlTexture = function() {
            var t = Hi.mainContext;
            if (!this.canvas) {
                throw "create GLTextur err:no data:" + this.canvas
            }
            var e = this._source = t.createTexture();
            var i = zi.curBindTexTarget;
            var n = zi.curBindTexValue;
            zi.bindTexture(t, 3553, e);
            if (Be.isConchWebGL) {
                t.texImage2DEx(true, 3553, 0, 6408, 6408, 5121, this.canvas)
            } else {
                t.pixelStorei(37441, true);
                t.texImage2D(3553, 0, 6408, 6408, 5121, this.canvas);
                t.pixelStorei(37441, false)
            }
            var s = this.minFifter;
            var r = this.magFifter;
            var a = this.repeat ? 10497 : 33071;
            var o = be.isPOT(this.width, this.height);
            if (o) {
                if (this.mipmap)
                    s !== -1 || (s = 9987);
                else
                    s !== -1 || (s = 9729);
                r !== -1 || (r = 9729);
                t.texParameteri(3553, 10240, r);
                t.texParameteri(3553, 10241, s);
                t.texParameteri(3553, 10242, a);
                t.texParameteri(3553, 10243, a);
                this.mipmap && t.generateMipmap(3553)
            } else {
                s !== -1 || (s = 9729);
                r !== -1 || (r = 9729);
                t.texParameteri(3553, 10241, s);
                t.texParameteri(3553, 10240, r);
                t.texParameteri(3553, 10242, 33071);
                t.texParameteri(3553, 10243, 33071)
            }
            i && n && zi.bindTexture(t, i, n);
            this.canvas = null;
            if (o && this.mipmap)
                this.memorySize = this._w * this._h * 4 * (1 + 1 / 3);
            else
                this.memorySize = this._w * this._h * 4
        }
        ;
        e.disposeResource = function() {
            if (!(ci.enabled && this._allowMerageInAtlas) && this._source) {
                Hi.mainContext.deleteTexture(this._source);
                this._source = null;
                this.memorySize = 0
            }
        }
        ;
        e.clearAtlasSource = function() {}
        ;
        p(0, e, "allowMerageInAtlas", function() {
            return this._allowMerageInAtlas
        });
        p(0, e, "atlasSource", function() {
            return this.canvas
        });
        p(0, e, "enableMerageInAtlas", function() {
            return this._allowMerageInAtlas
        }, function(t) {
            this._allowMerageInAtlas = t
        });
        return o
    }(Un);
    var Ls = function(t) {
        function e() {
            this._maxsize = 0;
            this._upload = true;
            this._uploadSize = 0;
            e.__super.call(this);
            this.lock = true
        }
        x(e, "laya.webgl.utils.Buffer2D", t);
        var i = e.prototype;
        i.needSize = function(t) {
            var e = this._byteLength;
            if (t) {
                var i = this._byteLength + t;
                i <= this._buffer.byteLength || this._resizeBuffer(i << 1, true);
                this._byteLength = i
            }
            return e
        }
        ;
        i._bufferData = function() {
            this._maxsize = Math.max(this._maxsize, this._byteLength);
            if (ii.loopCount % 30 == 0) {
                if (this._buffer.byteLength > this._maxsize + 64) {
                    this.memorySize = this._buffer.byteLength;
                    this._buffer = this._buffer.slice(0, this._maxsize + 64);
                    this._checkArrayUse()
                }
                this._maxsize = this._byteLength
            }
            if (this._uploadSize < this._buffer.byteLength) {
                this._uploadSize = this._buffer.byteLength;
                Hn._gl.bufferData(this._bufferType, this._uploadSize, this._bufferUsage);
                this.memorySize = this._uploadSize
            }
            Hn._gl.bufferSubData(this._bufferType, 0, this._buffer)
        }
        ;
        i._bufferSubData = function(t, e, i) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            this._maxsize = Math.max(this._maxsize, this._byteLength);
            if (ii.loopCount % 30 == 0) {
                if (this._buffer.byteLength > this._maxsize + 64) {
                    this.memorySize = this._buffer.byteLength;
                    this._buffer = this._buffer.slice(0, this._maxsize + 64);
                    this._checkArrayUse()
                }
                this._maxsize = this._byteLength
            }
            if (this._uploadSize < this._buffer.byteLength) {
                this._uploadSize = this._buffer.byteLength;
                Hn._gl.bufferData(this._bufferType, this._uploadSize, this._bufferUsage);
                this.memorySize = this._uploadSize
            }
            if (e || i) {
                var n = this._buffer.slice(e, i);
                Hn._gl.bufferSubData(this._bufferType, t, n)
            } else {
                Hn._gl.bufferSubData(this._bufferType, t, this._buffer)
            }
        }
        ;
        i._checkArrayUse = function() {}
        ;
        i._bind_upload = function() {
            if (!this._upload)
                return false;
            this._upload = false;
            this._bind();
            this._bufferData();
            return true
        }
        ;
        i._bind_subUpload = function(t, e, i) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            if (!this._upload)
                return false;
            this._upload = false;
            this._bind();
            this._bufferSubData(t, e, i);
            return true
        }
        ;
        i._resizeBuffer = function(t, e) {
            if (t < this._buffer.byteLength)
                return this;
            this.memorySize = t;
            if (e && this._buffer && this._buffer.byteLength > 0) {
                var i = new ArrayBuffer(t);
                var n = new Uint8Array(i);
                n.set(new Uint8Array(this._buffer), 0);
                this._buffer = i
            } else
                this._buffer = new ArrayBuffer(t);
            this._checkArrayUse();
            this._upload = true;
            return this
        }
        ;
        i.append = function(t) {
            this._upload = true;
            var e = 0, i;
            e = t.byteLength;
            if (t instanceof Uint8Array) {
                this._resizeBuffer(this._byteLength + e, true);
                i = new Uint8Array(this._buffer,this._byteLength)
            } else if (t instanceof Uint16Array) {
                this._resizeBuffer(this._byteLength + e, true);
                i = new Uint16Array(this._buffer,this._byteLength)
            } else if (t instanceof Float32Array) {
                this._resizeBuffer(this._byteLength + e, true);
                i = new Float32Array(this._buffer,this._byteLength)
            }
            i.set(t, 0);
            this._byteLength += e;
            this._checkArrayUse()
        }
        ;
        i.appendU16Array = function(t, e) {
            this._resizeBuffer(this._byteLength + e * 2, true);
            var i = new Uint16Array(this._buffer,this._byteLength,e);
            for (var n = 0; n < e; n++) {
                i[n] = t[n]
            }
            this._byteLength += e * 2;
            this._checkArrayUse()
        }
        ;
        i.appendEx = function(t, e) {
            this._upload = true;
            var i = 0, n;
            i = t.byteLength;
            this._resizeBuffer(this._byteLength + i, true);
            n = new e(this._buffer,this._byteLength);
            n.set(t, 0);
            this._byteLength += i;
            this._checkArrayUse()
        }
        ;
        i.appendEx2 = function(t, e, i, n) {
            n === void 0 && (n = 1);
            this._upload = true;
            var s = 0, r;
            s = i * n;
            this._resizeBuffer(this._byteLength + s, true);
            r = new e(this._buffer,this._byteLength);
            var a = 0;
            for (a = 0; a < i; a++) {
                r[a] = t[a]
            }
            this._byteLength += s;
            this._checkArrayUse()
        }
        ;
        i.getBuffer = function() {
            return this._buffer
        }
        ;
        i.setNeedUpload = function() {
            this._upload = true
        }
        ;
        i.getNeedUpload = function() {
            return this._upload
        }
        ;
        i.upload = function() {
            var t = this._bind_upload();
            Hn._gl.bindBuffer(this._bufferType, null);
            Hn._bindActive[this._bufferType] = null;
            On.activeShader = null;
            return t
        }
        ;
        i.subUpload = function(t, e, i) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            var n = this._bind_subUpload();
            Hn._gl.bindBuffer(this._bufferType, null);
            Hn._bindActive[this._bufferType] = null;
            On.activeShader = null;
            return n
        }
        ;
        i.disposeResource = function() {
            t.prototype.disposeResource.call(this);
            this._upload = true;
            this._uploadSize = 0
        }
        ;
        i.clear = function() {
            this._byteLength = 0;
            this._upload = true
        }
        ;
        p(0, i, "bufferLength", function() {
            return this._buffer.byteLength
        });
        p(0, i, "byteLength", null, function(t) {
            if (this._byteLength === t)
                return;
            t <= this._buffer.byteLength || this._resizeBuffer(t * 2 + 256, true);
            this._byteLength = t
        });
        e.__int__ = function(t) {
            ar.QuadrangleIB = ar.create(35044);
            Xi.fillIBQuadrangle(ar.QuadrangleIB, 16)
        }
        ;
        e.FLOAT32 = 4;
        e.SHORT = 2;
        return e
    }(Hn);
    var Ws = function(t) {
        function e(t) {
            e.__super.call(this, 64);
            this.defines.add(64)
        }
        x(e, "laya.webgl.shader.d2.value.TextSV", t);
        var i = e.prototype;
        i.release = function() {
            e.pool[e._length++] = this;
            this.clear()
        }
        ;
        i.clear = function() {
            t.prototype.clear.call(this)
        }
        ;
        e.create = function() {
            if (e._length)
                return e.pool[--e._length];
            else
                return new e(null)
        }
        ;
        e.pool = [];
        e._length = 0;
        return e
    }(es);
    var Es = function(e) {
        function i(t) {
            this._bitmap = null;
            this._skin = null;
            this._group = null;
            i.__super.call(this);
            this.skin = t
        }
        x(i, "laya.ui.Image", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, true);
            this._bitmap && this._bitmap.destroy();
            this._bitmap = null
        }
        ;
        t.dispose = function() {
            this.destroy(true);
            st.loader.clearRes(this._skin)
        }
        ;
        t.createChildren = function() {
            this.graphics = this._bitmap = new gn;
            this._bitmap.autoCacheCmd = false
        }
        ;
        t.setSource = function(t, e) {
            if (t === this._skin && e) {
                this.source = e;
                this.onCompResize()
            }
        }
        ;
        p(0, t, "source", function() {
            return this._bitmap.source
        }, function(t) {
            if (!this._bitmap)
                return;
            this._bitmap.source = t;
            this.event("loaded");
            this.repaint()
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "string")
                this.skin = t;
            else
                st.superSet(os, this, "dataSource", t)
        });
        p(0, t, "measureHeight", function() {
            return this._bitmap.height
        });
        p(0, t, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                if (t) {
                    var e = fn.getRes(t);
                    if (e) {
                        this.source = e;
                        this.onCompResize()
                    } else
                        st.loader.load(this._skin, b.create(this, this.setSource, [this._skin]), null, "image", 1, true, this._group)
                } else {
                    this.source = null
                }
            }
        });
        p(0, t, "group", function() {
            return this._group
        }, function(t) {
            if (t && this._skin)
                fn.setGroup(this._skin, t);
            this._group = t
        });
        p(0, t, "sizeGrid", function() {
            if (this._bitmap.sizeGrid)
                return this._bitmap.sizeGrid.join(",");
            return null
        }, function(t) {
            this._bitmap.sizeGrid = Ue.fillArray(Oe.defaultSizeGrid, t, Number)
        });
        p(0, t, "measureWidth", function() {
            return this._bitmap.width
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(os, this, "width", t);
            this._bitmap.width = t == 0 ? 1e-7 : t
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(os, this, "height", t);
            this._bitmap.height = t == 0 ? 1e-7 : t
        });
        return i
    }(os);
    var Ns = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.Box", t);
        var i = e.prototype;
        st.imps(i, {
            "laya.ui.IBox": true
        });
        p(0, i, "dataSource", t.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            for (var e in t) {
                var i = this.getChildByName(e);
                if (i)
                    i.dataSource = t[e];
                else if (this.hasOwnProperty(e) && !(typeof this[e] == "function"))
                    this[e] = t[e]
            }
        });
        return e
    }(os);
    var Vs = function(e) {
        function i(t, e) {
            this.toggle = false;
            this._bitmap = null;
            this._text = null;
            this._strokeColors = null;
            this._state = 0;
            this._selected = false;
            this._skin = null;
            this._autoSize = true;
            this._sources = null;
            this._clickHandler = null;
            this._stateChanged = false;
            i.__super.call(this);
            this._labelColors = Oe.buttonLabelColors;
            this._stateNum = Oe.buttonStateNum;
            e === void 0 && (e = "");
            this.skin = t;
            this.label = e
        }
        x(i, "laya.ui.Button", e);
        var t = i.prototype;
        st.imps(t, {
            "laya.ui.ISelect": true
        });
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._bitmap && this._bitmap.destroy();
            this._text && this._text.destroy(t);
            this._bitmap = null;
            this._text = null;
            this._clickHandler = null;
            this._labelColors = this._sources = this._strokeColors = null
        }
        ;
        t.createChildren = function() {
            this.graphics = this._bitmap = new gn
        }
        ;
        t.createText = function() {
            if (!this._text) {
                this._text = new hs;
                this._text.overflow = hs.HIDDEN;
                this._text.align = "center";
                this._text.valign = "middle";
                this._text.width = this._width;
                this._text.height = this._height
            }
        }
        ;
        t.initialize = function() {
            if (this._mouseEnableState !== 1) {
                this.mouseEnabled = true;
                this._setBit(2, true)
            }
            this._createListener("mouseover", this, this.onMouse, null, false, false);
            this._createListener("mouseout", this, this.onMouse, null, false, false);
            this._createListener("mousedown", this, this.onMouse, null, false, false);
            this._createListener("mouseup", this, this.onMouse, null, false, false);
            this._createListener("click", this, this.onMouse, null, false, false)
        }
        ;
        t.onMouse = function(t) {
            if (this.toggle === false && this._selected)
                return;
            if (t.type === "click") {
                this.toggle && (this.selected = !this._selected);
                this._clickHandler && this._clickHandler.run();
                return
            }
            !this._selected && (this.state = i.stateMap[t.type])
        }
        ;
        t.changeClips = function() {
            var t = fn.getRes(this._skin);
            if (!t) {
                console.log("lose skin", this._skin);
                return
            }
            var e = t.sourceWidth;
            var i = t.sourceHeight / this._stateNum;
            t.$_GID || (t.$_GID = ai.getGID());
            var n = t.$_GID + "-" + this._stateNum;
            var s = li.I.get(n);
            if (!ai.isOkTextureList(s)) {
                s = null
            }
            if (s)
                this._sources = s;
            else {
                this._sources = [];
                if (this._stateNum === 1) {
                    this._sources.push(t)
                } else {
                    for (var r = 0; r < this._stateNum; r++) {
                        this._sources.push(_n.createFromTexture(t, 0, i * r, e, i))
                    }
                    t.bitmap.lock = true
                }
                li.I.set(n, this._sources)
            }
            if (this._autoSize) {
                this._bitmap.width = this._width || e;
                this._bitmap.height = this._height || i;
                if (this._text) {
                    this._text.width = this._bitmap.width;
                    this._text.height = this._bitmap.height
                }
            } else {
                this._text && (this._text.x = e)
            }
        }
        ;
        t.changeState = function() {
            this._stateChanged = false;
            this.runCallLater(this.changeClips);
            var t = this._state < this._stateNum ? this._state : this._stateNum - 1;
            this._sources && (this._bitmap.source = this._sources[t]);
            if (this.label) {
                this._text.color = this._labelColors[t];
                if (this._strokeColors)
                    this._text.strokeColor = this._strokeColors[t]
            }
        }
        ;
        t._setStateChanged = function() {
            if (!this._stateChanged) {
                this._stateChanged = true;
                this.callLater(this.changeState)
            }
        }
        ;
        p(0, t, "labelStrokeColor", function() {
            this.createText();
            return this._text.strokeColor
        }, function(t) {
            this.createText();
            this._text.strokeColor = t
        });
        p(0, t, "measureHeight", function() {
            this.runCallLater(this.changeClips);
            return this._text ? Math.max(this._bitmap.height, this._text.height) : this._bitmap.height
        });
        p(0, t, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                this.callLater(this.changeClips);
                this._setStateChanged()
            }
        });
        p(0, t, "state", function() {
            return this._state
        }, function(t) {
            if (this._state != t) {
                this._state = t;
                this._setStateChanged()
            }
        });
        p(0, t, "text", function() {
            this.createText();
            return this._text
        });
        p(0, t, "stateNum", function() {
            return this._stateNum
        }, function(t) {
            if (typeof t == "string") {
                t = parseInt(t)
            }
            if (this._stateNum != t) {
                this._stateNum = t < 1 ? 1 : t > 3 ? 3 : t;
                this.callLater(this.changeClips)
            }
        });
        p(0, t, "strokeColors", function() {
            return this._strokeColors ? this._strokeColors.join(",") : ""
        }, function(t) {
            this._strokeColors = Ue.fillArray(Oe.buttonLabelColors, t, String);
            this._setStateChanged()
        });
        p(0, t, "labelColors", function() {
            return this._labelColors.join(",")
        }, function(t) {
            this._labelColors = Ue.fillArray(Oe.buttonLabelColors, t, String);
            this._setStateChanged()
        });
        p(0, t, "measureWidth", function() {
            this.runCallLater(this.changeClips);
            if (this._autoSize)
                return this._bitmap.width;
            this.runCallLater(this.changeState);
            return this._bitmap.width + (this._text ? this._text.width : 0)
        });
        p(0, t, "label", function() {
            return this._text ? this._text.text : null
        }, function(t) {
            if (!this._text && !t)
                return;
            this.createText();
            if (this._text.text != t) {
                t && !this._text.parent && this.addChild(this._text);
                this._text.text = (t + "").replace(/\\n/g, "\n");
                this._setStateChanged()
            }
        });
        p(0, t, "selected", function() {
            return this._selected
        }, function(t) {
            if (this._selected != t) {
                this._selected = t;
                this.state = this._selected ? 2 : 0;
                this.event("change")
            }
        });
        p(0, t, "labelPadding", function() {
            this.createText();
            return this._text.padding.join(",")
        }, function(t) {
            this.createText();
            this._text.padding = Ue.fillArray(Oe.labelPadding, t, Number)
        });
        p(0, t, "labelSize", function() {
            this.createText();
            return this._text.fontSize
        }, function(t) {
            this.createText();
            this._text.fontSize = t
        });
        p(0, t, "labelStroke", function() {
            this.createText();
            return this._text.stroke
        }, function(t) {
            this.createText();
            this._text.stroke = t
        });
        p(0, t, "labelBold", function() {
            this.createText();
            return this._text.bold
        }, function(t) {
            this.createText();
            this._text.bold = t
        });
        p(0, t, "labelFont", function() {
            this.createText();
            return this._text.font
        }, function(t) {
            this.createText();
            this._text.font = t
        });
        p(0, t, "labelAlign", function() {
            this.createText();
            return this._text.align
        }, function(t) {
            this.createText();
            this._text.align = t
        });
        p(0, t, "clickHandler", function() {
            return this._clickHandler
        }, function(t) {
            this._clickHandler = t
        });
        p(0, t, "sizeGrid", function() {
            if (this._bitmap.sizeGrid)
                return this._bitmap.sizeGrid.join(",");
            return null
        }, function(t) {
            this._bitmap.sizeGrid = Ue.fillArray(Oe.defaultSizeGrid, t, Number)
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(os, this, "width", t);
            if (this._autoSize) {
                this._bitmap.width = t;
                this._text && (this._text.width = t)
            }
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(os, this, "height", t);
            if (this._autoSize) {
                this._bitmap.height = t;
                this._text && (this._text.height = t)
            }
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" || typeof t == "string")
                this.label = t + "";
            else
                st.superSet(os, this, "dataSource", t)
        });
        p(0, t, "iconOffset", function() {
            return this._bitmap._offset ? this._bitmap._offset.join(",") : null
        }, function(t) {
            if (t)
                this._bitmap._offset = Ue.fillArray([1, 1], t, Number);
            else
                this._bitmap._offset = []
        });
        u(i, ["stateMap", function() {
            return this.stateMap = {
                mouseup: 0,
                mouseover: 1,
                mousedown: 2,
                mouseout: 0
            }
        }
        ]);
        return i
    }(os);
    var Zs = function(e) {
        function i(t) {
            this._tf = null;
            i.__super.call(this);
            t === void 0 && (t = "");
            se.defaultColor = Oe.labelColor;
            this.text = t
        }
        x(i, "laya.ui.Label", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._tf = null
        }
        ;
        t.createChildren = function() {
            this.addChild(this._tf = new hs)
        }
        ;
        t.changeText = function(t) {
            this._tf.changeText(t)
        }
        ;
        p(0, t, "padding", function() {
            return this._tf.padding.join(",")
        }, function(t) {
            this._tf.padding = Ue.fillArray(Oe.labelPadding, t, Number)
        });
        p(0, t, "bold", function() {
            return this._tf.bold
        }, function(t) {
            this._tf.bold = t
        });
        p(0, t, "align", function() {
            return this._tf.align
        }, function(t) {
            this._tf.align = t
        });
        p(0, t, "text", function() {
            return this._tf.text
        }, function(t) {
            if (this._tf.text != t) {
                if (t)
                    t = Ue.adptString(t + "");
                this._tf.text = t;
                this.event("change");
                if (!this._width || !this._height)
                    this.onCompResize()
            }
        });
        p(0, t, "italic", function() {
            return this._tf.italic
        }, function(t) {
            this._tf.italic = t
        });
        p(0, t, "wordWrap", function() {
            return this._tf.wordWrap
        }, function(t) {
            this._tf.wordWrap = t
        });
        p(0, t, "font", function() {
            return this._tf.font
        }, function(t) {
            this._tf.font = t
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" || typeof t == "string")
                this.text = t + "";
            else
                st.superSet(os, this, "dataSource", t)
        });
        p(0, t, "color", function() {
            return this._tf.color
        }, function(t) {
            this._tf.color = t
        });
        p(0, t, "valign", function() {
            return this._tf.valign
        }, function(t) {
            this._tf.valign = t
        });
        p(0, t, "leading", function() {
            return this._tf.leading
        }, function(t) {
            this._tf.leading = t
        });
        p(0, t, "fontSize", function() {
            return this._tf.fontSize
        }, function(t) {
            this._tf.fontSize = t
        });
        p(0, t, "bgColor", function() {
            return this._tf.bgColor
        }, function(t) {
            this._tf.bgColor = t
        });
        p(0, t, "borderColor", function() {
            return this._tf.borderColor
        }, function(t) {
            this._tf.borderColor = t
        });
        p(0, t, "stroke", function() {
            return this._tf.stroke
        }, function(t) {
            this._tf.stroke = t
        });
        p(0, t, "strokeColor", function() {
            return this._tf.strokeColor
        }, function(t) {
            this._tf.strokeColor = t
        });
        p(0, t, "textField", function() {
            return this._tf
        });
        p(0, t, "measureWidth", function() {
            return this._tf.width
        });
        p(0, t, "measureHeight", function() {
            return this._tf.height
        });
        p(0, t, "width", function() {
            if (this._width || this._tf.text)
                return st.superGet(os, this, "width");
            return 0
        }, function(t) {
            st.superSet(os, this, "width", t);
            this._tf.width = t
        });
        p(0, t, "height", function() {
            if (this._height || this._tf.text)
                return st.superGet(os, this, "height");
            return 0
        }, function(t) {
            st.superSet(os, this, "height", t);
            this._tf.height = t
        });
        p(0, t, "overflow", function() {
            return this._tf.overflow
        }, function(t) {
            this._tf.overflow = t
        });
        p(0, t, "underline", function() {
            return this._tf.underline
        }, function(t) {
            this._tf.underline = t
        });
        p(0, t, "underlineColor", function() {
            return this._tf.underlineColor
        }, function(t) {
            this._tf.underlineColor = t
        });
        return i
    }(os);
    var Bs = function(t) {
        function a() {
            this._tex = null;
            this._url = null;
            this._renderArgs = [];
            this._textureArr = null;
            this._count = 0;
            this._index = 0;
            a.__super.call(this);
            this.style.block = true
        }
        x(a, "laya.html.dom.HTMLAniElement", t);
        var e = a.prototype;
        e._addToLayout = function(t) {
            !this._style.absolute && t.push(this)
        }
        ;
        e.render = function(t, e, i) {
            if (!this._tex || !this._tex.loaded || !this._tex.loaded || this._width < 1 || this._height < 1)
                return;
            ii.spriteCount++;
            this._renderArgs[0] = this._tex;
            this._renderArgs[1] = this.x;
            this._renderArgs[2] = this.y;
            this._renderArgs[3] = this.width || this._tex.width;
            this._renderArgs[4] = this.height || this._tex.height;
            t.ctx.drawTexture2(e + (this.width - this._tex.width) / 2, i, this.style.translateX, this.style.translateY, this.transform, this.style.alpha, this.style.blendMode, this._renderArgs)
        }
        ;
        e.loadAtlas = function(i, n) {
            var s = this;
            n === void 0 && (n = "");
            var r = this;
            function t(t) {
                if (i === t) {
                    r.textureArr = a.createFrames(i, !a.framesMap[n] ? n : "");
                    if (!r._textureArr)
                        return;
                    var e = s._style;
                    s._tex = r._textureArr[0];
                    if (!e.widthed(s) && s._width != s._tex.width) {
                        s.width = s._tex.width;
                        s.parent && s.parent._layoutLater()
                    }
                    if (!e.heighted(s) && s._height != s._tex.height) {
                        s.height = s._tex.height;
                        s.parent && s.parent._layoutLater()
                    }
                }
            }
            if (fn.getAtlas(i))
                t(i);
            else
                st.loader.load(i, b.create(null, t, [i]), null, "atlas");
            return this
        }
        ;
        e._frameLoop = function() {
            this._index++;
            if (this._index >= this._count) {
                this._index = 0
            }
            if (this._textureArr && this._textureArr[this._index]) {
                this._tex = this._textureArr[this._index]
            }
        }
        ;
        p(0, e, "src", null, function(t) {
            if (t.lastIndexOf(".json") != -1) {
                this.loadAtlas(t, t);
                return
            }
            this.skin = t
        });
        p(0, e, "skin", null, function(t) {
            var n = this;
            t = this.formatURL(t);
            if (this._url == t)
                return;
            this._url = t;
            this._tex = fn.getRes(t);
            if (!this._tex) {
                this._tex = new _n;
                this._tex.load(t);
                fn.cacheRes(t, this._tex)
            }
            var e = this._tex = fn.getRes(t);
            if (!e) {
                this._tex = e = new _n;
                e.load(t);
                fn.cacheRes(t, e)
            }
            function i() {
                var t = n._style;
                var e = t.widthed(n) ? -1 : n._tex.width;
                var i = t.heighted(n) ? -1 : n._tex.height;
                if (!t.widthed(n) && n._width != n._tex.width) {
                    n.width = n._tex.width;
                    n.parent && n.parent._layoutLater()
                }
                if (!t.heighted(n) && n._height != n._tex.height) {
                    n.height = n._tex.height;
                    n.parent && n.parent._layoutLater()
                }
                if (Be.isConchApp) {
                    n._renderArgs[0] = n._tex;
                    n._renderArgs[1] = n.x;
                    n._renderArgs[2] = n.y;
                    n._renderArgs[3] = n.width || n._tex.width;
                    n._renderArgs[4] = n.height || n._tex.height;
                    n.graphics.drawTexture(n._tex, 0, 0, n._renderArgs[3], n._renderArgs[4])
                }
            }
            e.loaded ? i() : e.on("loaded", null, i)
        });
        p(0, e, "textureArr", null, function(t) {
            this._textureArr = t;
            if (t) {
                this._count = t.length;
                if (this._count > 1) {
                    this.timerLoop(150, this, this._frameLoop, null, true)
                }
            }
        });
        a.createFrames = function(t, e) {
            var i;
            if (typeof t == "string") {
                var n = fn.getAtlas(t);
                if (n && n.length) {
                    i = [];
                    for (var s = 0, r = n.length; s < r; s++) {
                        i.push(fn.getRes(n[s]))
                    }
                }
            }
            return i
        }
        ;
        a.framesMap = {};
        a.interval_luo = 150;
        return a
    }(ls);
    var ks = function(e) {
        function i(t) {
            this.rollRatio = .95;
            this.changeHandler = null;
            this.scaleBar = true;
            this.autoHide = false;
            this.elasticDistance = 0;
            this.elasticBackTime = 500;
            this.upButton = null;
            this.downButton = null;
            this.slider = null;
            this._scrollSize = 1;
            this._skin = null;
            this._thumbPercent = 1;
            this._target = null;
            this._lastPoint = null;
            this._lastOffset = 0;
            this._checkElastic = false;
            this._isElastic = false;
            this._value = NaN;
            this._hide = false;
            this._clickOnly = true;
            this._offsets = null;
            i.__super.call(this);
            this._showButtons = $i.showButtons;
            this._touchScrollEnable = $i.touchScrollEnable;
            this._mouseWheelEnable = $i.mouseWheelEnable;
            this.skin = t;
            this.max = 1
        }
        x(i, "laya.ui.ScrollBar", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            this.stopScroll();
            this.target = null;
            e.prototype.destroy.call(this, t);
            this.upButton && this.upButton.destroy(t);
            this.downButton && this.downButton.destroy(t);
            this.slider && this.slider.destroy(t);
            this.upButton = this.downButton = null;
            this.slider = null;
            this.changeHandler = null;
            this._offsets = null
        }
        ;
        t.createChildren = function() {
            this.addChild(this.slider = new Fs);
            this.addChild(this.upButton = new Vs);
            this.addChild(this.downButton = new Vs)
        }
        ;
        t.initialize = function() {
            this.slider.showLabel = false;
            this.slider.on("change", this, this.onSliderChange);
            this.slider.setSlider(0, 0, 0);
            this.upButton.on("mousedown", this, this.onButtonMouseDown);
            this.downButton.on("mousedown", this, this.onButtonMouseDown)
        }
        ;
        t.onSliderChange = function() {
            if (this._value != this.slider.value)
                this.value = this.slider.value
        }
        ;
        t.onButtonMouseDown = function(t) {
            var e = t.currentTarget === this.upButton;
            this.slide(e);
            st.timer.once(Oe.scrollBarDelayTime, this, this.startLoop, [e]);
            st.stage.once("mouseup", this, this.onStageMouseUp)
        }
        ;
        t.startLoop = function(t) {
            st.timer.frameLoop(1, this, this.slide, [t])
        }
        ;
        t.slide = function(t) {
            if (t)
                this.value -= this._scrollSize;
            else
                this.value += this._scrollSize
        }
        ;
        t.onStageMouseUp = function(t) {
            st.timer.clear(this, this.startLoop);
            st.timer.clear(this, this.slide)
        }
        ;
        t.changeScrollBar = function() {
            this.upButton.visible = this._showButtons;
            this.downButton.visible = this._showButtons;
            if (this._showButtons) {
                this.upButton.skin = this._skin.replace(".png", "$up.png");
                this.downButton.skin = this._skin.replace(".png", "$down.png")
            }
            if (this.slider.isVertical)
                this.slider.y = this._showButtons ? this.upButton.height : 0;
            else
                this.slider.x = this._showButtons ? this.upButton.width : 0;
            this.resetPositions();
            this.repaint()
        }
        ;
        t.changeSize = function() {
            e.prototype.changeSize.call(this);
            this.repaint();
            this.resetPositions();
            this.event("change");
            this.changeHandler && this.changeHandler.runWith(this.value)
        }
        ;
        t.resetPositions = function() {
            if (this.slider.isVertical)
                this.slider.height = this.height - (this._showButtons ? this.upButton.height + this.downButton.height : 0);
            else
                this.slider.width = this.width - (this._showButtons ? this.upButton.width + this.downButton.width : 0);
            this.resetButtonPosition()
        }
        ;
        t.resetButtonPosition = function() {
            if (this.slider.isVertical)
                this.downButton.y = this.slider.y + this.slider.height;
            else
                this.downButton.x = this.slider.x + this.slider.width
        }
        ;
        t.setScroll = function(t, e, i) {
            this.runCallLater(this.changeSize);
            this.slider.setSlider(t, e, i);
            this.slider.bar.visible = e > 0;
            if (!this._hide && this.autoHide)
                this.visible = e > 0
        }
        ;
        t.onTargetMouseWheel = function(t) {
            this.value -= t.delta * this._scrollSize;
            this.target = this._target
        }
        ;
        t.onTargetMouseDown = function(t) {
            this._clickOnly = true;
            this._lastOffset = 0;
            this._checkElastic = false;
            this._lastPoint || (this._lastPoint = new Se);
            this._lastPoint.setTo(st.stage.mouseX, st.stage.mouseY);
            st.timer.clear(this, this.tweenMove);
            ri.clearTween(this);
            st.stage.once("mouseup", this, this.onStageMouseUp2);
            st.stage.once("mouseout", this, this.onStageMouseUp2);
            st.timer.frameLoop(1, this, this.loop)
        }
        ;
        t.loop = function() {
            var t = st.stage.mouseY;
            var e = st.stage.mouseX;
            this._lastOffset = this.isVertical ? t - this._lastPoint.y : e - this._lastPoint.x;
            if (this._clickOnly) {
                if (Math.abs(this._lastOffset * (this.isVertical ? st.stage._canvasTransform.getScaleY() : st.stage._canvasTransform.getScaleX())) > 1) {
                    this._clickOnly = false;
                    this._offsets || (this._offsets = []);
                    this._offsets.length = 0;
                    this._target.mouseEnabled = false;
                    if (!this.hide && this.autoHide) {
                        this.alpha = 1;
                        this.visible = true
                    }
                    this.event("start")
                } else
                    return
            }
            this._offsets.push(this._lastOffset);
            this._lastPoint.x = e;
            this._lastPoint.y = t;
            if (this._lastOffset === 0)
                return;
            if (!this._checkElastic) {
                if (this.elasticDistance > 0) {
                    if (!this._checkElastic && this._lastOffset != 0) {
                        if (this._lastOffset > 0 && this._value <= this.min || this._lastOffset < 0 && this._value >= this.max) {
                            this._isElastic = true;
                            this._checkElastic = true
                        } else {
                            this._isElastic = false
                        }
                    }
                } else {
                    this._checkElastic = true
                }
            }
            if (this._isElastic) {
                if (this._value <= this.min) {
                    this.value -= this._lastOffset * Math.max(0, 1 - (this.min - this._value) / this.elasticDistance)
                } else if (this._value >= this.max) {
                    this.value -= this._lastOffset * Math.max(0, 1 - (this._value - this.max) / this.elasticDistance)
                }
            } else {
                this.value -= this._lastOffset
            }
        }
        ;
        t.onStageMouseUp2 = function(t) {
            st.stage.off("mouseup", this, this.onStageMouseUp2);
            st.stage.off("mouseout", this, this.onStageMouseUp2);
            st.timer.clear(this, this.loop);
            if (this._clickOnly) {
                if (this._value >= this.min && this._value <= this.max)
                    return
            }
            this._target.mouseEnabled = true;
            if (this._isElastic) {
                if (this._value < this.min) {
                    ri.to(this, {
                        value: this.min
                    }, this.elasticBackTime, qe.sineOut, b.create(this, this.elasticOver))
                } else if (this._value > this.max) {
                    ri.to(this, {
                        value: this.max
                    }, this.elasticBackTime, qe.sineOut, b.create(this, this.elasticOver))
                }
            } else {
                if (!this._offsets)
                    return;
                if (this._offsets.length < 1) {
                    this._offsets[0] = this.isVertical ? st.stage.mouseY - this._lastPoint.y : st.stage.mouseX - this._lastPoint.x
                }
                var e = 0;
                var i = Math.min(this._offsets.length, 3);
                for (var n = 0; n < i; n++) {
                    e += this._offsets[this._offsets.length - 1 - n]
                }
                this._lastOffset = e / i;
                e = Math.abs(this._lastOffset);
                if (e < 2) {
                    this.event("end");
                    return
                }
                if (e > 60)
                    this._lastOffset = this._lastOffset > 0 ? 60 : -60;
                var s = Math.round(Math.abs(this.elasticDistance * (this._lastOffset / 240)));
                st.timer.frameLoop(1, this, this.tweenMove, [s])
            }
        }
        ;
        t.elasticOver = function() {
            this._isElastic = false;
            if (!this.hide && this.autoHide) {
                ri.to(this, {
                    alpha: 0
                }, 500)
            }
            this.event("end")
        }
        ;
        t.tweenMove = function(t) {
            this._lastOffset *= this.rollRatio;
            var e = NaN;
            if (t > 0) {
                if (this._lastOffset > 0 && this.value <= this.min) {
                    this._isElastic = true;
                    e = -(this.min - t - this.value) * .5;
                    if (this._lastOffset > e)
                        this._lastOffset = e
                } else if (this._lastOffset < 0 && this.value >= this.max) {
                    this._isElastic = true;
                    e = -(this.max + t - this.value) * .5;
                    if (this._lastOffset < e)
                        this._lastOffset = e
                }
            }
            this.value -= this._lastOffset;
            if (Math.abs(this._lastOffset) < 1) {
                st.timer.clear(this, this.tweenMove);
                if (this._isElastic) {
                    if (this._value < this.min) {
                        ri.to(this, {
                            value: this.min
                        }, this.elasticBackTime, qe.sineOut, b.create(this, this.elasticOver))
                    } else if (this._value > this.max) {
                        ri.to(this, {
                            value: this.max
                        }, this.elasticBackTime, qe.sineOut, b.create(this, this.elasticOver))
                    } else {
                        this.elasticOver()
                    }
                    return
                }
                this.event("end");
                if (!this.hide && this.autoHide) {
                    ri.to(this, {
                        alpha: 0
                    }, 500)
                }
            }
        }
        ;
        t.stopScroll = function() {
            this.onStageMouseUp2(null);
            st.timer.clear(this, this.tweenMove);
            ri.clearTween(this)
        }
        ;
        p(0, t, "measureHeight", function() {
            if (this.slider.isVertical)
                return 100;
            return this.slider.height
        });
        p(0, t, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                this.slider.skin = this._skin;
                this.callLater(this.changeScrollBar)
            }
        });
        p(0, t, "max", function() {
            return this.slider.max
        }, function(t) {
            this.slider.max = t
        });
        p(0, t, "showButtons", function() {
            return this._showButtons
        }, function(t) {
            this._showButtons = t;
            this.callLater(this.changeScrollBar)
        });
        p(0, t, "measureWidth", function() {
            if (this.slider.isVertical)
                return this.slider.width;
            return 100
        });
        p(0, t, "min", function() {
            return this.slider.min
        }, function(t) {
            this.slider.min = t
        });
        p(0, t, "value", function() {
            return this._value
        }, function(t) {
            if (t !== this._value) {
                this._value = t;
                if (!this._isElastic) {
                    if (this.slider._value != t) {
                        this.slider._value = t;
                        this.slider.changeValue()
                    }
                    this._value = this.slider._value
                }
                this.event("change");
                this.changeHandler && this.changeHandler.runWith(this._value)
            }
        });
        p(0, t, "isVertical", function() {
            return this.slider.isVertical
        }, function(t) {
            this.slider.isVertical = t
        });
        p(0, t, "sizeGrid", function() {
            return this.slider.sizeGrid
        }, function(t) {
            this.slider.sizeGrid = t
        });
        p(0, t, "scrollSize", function() {
            return this._scrollSize
        }, function(t) {
            this._scrollSize = t
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" || typeof t == "string")
                this.value = Number(t);
            else
                st.superSet(os, this, "dataSource", t)
        });
        p(0, t, "thumbPercent", function() {
            return this._thumbPercent
        }, function(t) {
            this.runCallLater(this.changeScrollBar);
            this.runCallLater(this.changeSize);
            t = t >= 1 ? .99 : t;
            this._thumbPercent = t;
            if (this.scaleBar) {
                if (this.slider.isVertical)
                    this.slider.bar.height = Math.max(this.slider.height * t, Oe.scrollBarMinNum);
                else
                    this.slider.bar.width = Math.max(this.slider.width * t, Oe.scrollBarMinNum)
            }
        });
        p(0, t, "target", function() {
            return this._target
        }, function(t) {
            if (this._target) {
                this._target.off("mousewheel", this, this.onTargetMouseWheel);
                this._target.off("mousedown", this, this.onTargetMouseDown)
            }
            this._target = t;
            if (t) {
                this._mouseWheelEnable && this._target.on("mousewheel", this, this.onTargetMouseWheel);
                this._touchScrollEnable && this._target.on("mousedown", this, this.onTargetMouseDown)
            }
        });
        p(0, t, "hide", function() {
            return this._hide
        }, function(t) {
            this._hide = t;
            this.visible = !t
        });
        p(0, t, "touchScrollEnable", function() {
            return this._touchScrollEnable
        }, function(t) {
            this._touchScrollEnable = t;
            this.target = this._target
        });
        p(0, t, "mouseWheelEnable", function() {
            return this._mouseWheelEnable
        }, function(t) {
            this._mouseWheelEnable = t;
            this.target = this._target
        });
        p(0, t, "tick", function() {
            return this.slider.tick
        }, function(t) {
            this.slider.tick = t
        });
        return i
    }(os);
    var Ps = function(e) {
        function i(t) {
            this.changeHandler = null;
            this._bg = null;
            this._bar = null;
            this._skin = null;
            this._value = .5;
            i.__super.call(this);
            this.skin = t
        }
        x(i, "laya.ui.ProgressBar", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._bg && this._bg.destroy(t);
            this._bar && this._bar.destroy(t);
            this._bg = this._bar = null;
            this.changeHandler = null
        }
        ;
        t.createChildren = function() {
            this.addChild(this._bg = new Es);
            this.addChild(this._bar = new Es);
            this._bar._bitmap.autoCacheCmd = false
        }
        ;
        t.changeValue = function() {
            if (this.sizeGrid) {
                var t = this.sizeGrid.split(",");
                var e = Number(t[3]);
                var i = Number(t[1]);
                var n = this.width - e - i;
                var s = n * this._value;
                this._bar.width = e + i + s;
                this._bar.visible = this._bar.width > e + i
            } else {
                this._bar.width = this.width * this._value
            }
        }
        ;
        p(0, t, "measureHeight", function() {
            return this._bg.height
        });
        p(0, t, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                this._bg.skin = this._skin;
                this._bar.skin = this._skin.replace(".png", "$bar.png");
                this.callLater(this.changeValue)
            }
        });
        p(0, t, "measureWidth", function() {
            return this._bg.width
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(os, this, "height", t);
            this._bg.height = this._height;
            this._bar.height = this._height
        });
        p(0, t, "bar", function() {
            return this._bar
        });
        p(0, t, "value", function() {
            return this._value
        }, function(t) {
            if (this._value != t) {
                t = t > 1 ? 1 : t < 0 ? 0 : t;
                this._value = t;
                this.callLater(this.changeValue);
                this.event("change");
                this.changeHandler && this.changeHandler.runWith(t)
            }
        });
        p(0, t, "bg", function() {
            return this._bg
        });
        p(0, t, "sizeGrid", function() {
            return this._bg.sizeGrid
        }, function(t) {
            this._bg.sizeGrid = this._bar.sizeGrid = t
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(os, this, "width", t);
            this._bg.width = this._width;
            this.callLater(this.changeValue)
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" || typeof t == "string")
                this.value = Number(t);
            else
                st.superSet(os, this, "dataSource", t)
        });
        return i
    }(os);
    var Fs = function(e) {
        function i(t) {
            this.changeHandler = null;
            this.isVertical = true;
            this.showLabel = true;
            this._allowClickBack = false;
            this._max = 100;
            this._min = 0;
            this._tick = 1;
            this._value = 0;
            this._skin = null;
            this._bg = null;
            this._progress = null;
            this._bar = null;
            this._tx = NaN;
            this._ty = NaN;
            this._maxMove = NaN;
            this._globalSacle = null;
            i.__super.call(this);
            this.skin = t
        }
        x(i, "laya.ui.Slider", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._bg && this._bg.destroy(t);
            this._bar && this._bar.destroy(t);
            this._progress && this._progress.destroy(t);
            this._bg = null;
            this._bar = null;
            this._progress = null;
            this.changeHandler = null
        }
        ;
        t.createChildren = function() {
            this.addChild(this._bg = new Es);
            this.addChild(this._bar = new Vs)
        }
        ;
        t.initialize = function() {
            this._bar.on("mousedown", this, this.onBarMouseDown);
            this._bg.sizeGrid = this._bar.sizeGrid = "4,4,4,4,0";
            if (this._progress)
                this._progress.sizeGrid = this._bar.sizeGrid;
            this.allowClickBack = true
        }
        ;
        t.onBarMouseDown = function(t) {
            this._globalSacle || (this._globalSacle = new Se);
            this._globalSacle.setTo(this.globalScaleX || .01, this.globalScaleY || .01);
            this._maxMove = this.isVertical ? this.height - this._bar.height : this.width - this._bar.width;
            this._tx = st.stage.mouseX;
            this._ty = st.stage.mouseY;
            st.stage.on("mousemove", this, this.mouseMove);
            st.stage.once("mouseup", this, this.mouseUp);
            st.stage.once("mouseout", this, this.mouseUp);
            this.showValueText()
        }
        ;
        t.showValueText = function() {
            if (this.showLabel) {
                var t = laya.ui.Slider.label;
                this.addChild(t);
                t.textField.changeText(this._value + "");
                if (this.isVertical) {
                    t.x = this._bar.x + 20;
                    t.y = (this._bar.height - t.height) * .5 + this._bar.y
                } else {
                    t.y = this._bar.y - 20;
                    t.x = (this._bar.width - t.width) * .5 + this._bar.x
                }
            }
        }
        ;
        t.hideValueText = function() {
            laya.ui.Slider.label && laya.ui.Slider.label.removeSelf()
        }
        ;
        t.mouseUp = function(t) {
            st.stage.off("mousemove", this, this.mouseMove);
            st.stage.off("mouseup", this, this.mouseUp);
            st.stage.off("mouseout", this, this.mouseUp);
            this.sendChangeEvent("changed");
            this.hideValueText()
        }
        ;
        t.mouseMove = function(t) {
            var e = this._value;
            if (this.isVertical) {
                this._bar.y += (st.stage.mouseY - this._ty) / this._globalSacle.y;
                if (this._bar.y > this._maxMove)
                    this._bar.y = this._maxMove;
                else if (this._bar.y < 0)
                    this._bar.y = 0;
                this._value = this._bar.y / this._maxMove * (this._max - this._min) + this._min;
                if (this._progress)
                    this._progress.height = this._bar.y + .5 * this._bar.height
            } else {
                this._bar.x += (st.stage.mouseX - this._tx) / this._globalSacle.x;
                if (this._bar.x > this._maxMove)
                    this._bar.x = this._maxMove;
                else if (this._bar.x < 0)
                    this._bar.x = 0;
                this._value = this._bar.x / this._maxMove * (this._max - this._min) + this._min;
                if (this._progress)
                    this._progress.width = this._bar.x + .5 * this._bar.width
            }
            this._tx = st.stage.mouseX;
            this._ty = st.stage.mouseY;
            var i = Math.pow(10, (this._tick + "").length - 1);
            this._value = Math.round(Math.round(this._value / this._tick) * this._tick * i) / i;
            if (this._value != e) {
                this.sendChangeEvent()
            }
            this.showValueText()
        }
        ;
        t.sendChangeEvent = function(t) {
            t === void 0 && (t = "change");
            this.event(t);
            this.changeHandler && this.changeHandler.runWith(this._value)
        }
        ;
        t.setBarPoint = function() {
            if (this.isVertical)
                this._bar.x = Math.round((this._bg.width - this._bar.width) * .5);
            else
                this._bar.y = Math.round((this._bg.height - this._bar.height) * .5)
        }
        ;
        t.changeSize = function() {
            e.prototype.changeSize.call(this);
            if (this.isVertical)
                this._bg.height = this.height;
            else
                this._bg.width = this.width;
            this.setBarPoint();
            this.changeValue()
        }
        ;
        t.setSlider = function(t, e, i) {
            this._value = -1;
            this._min = t;
            this._max = e > t ? e : t;
            this.value = i < t ? t : i > e ? e : i
        }
        ;
        t.changeValue = function() {
            var t = Math.pow(10, (this._tick + "").length - 1);
            this._value = Math.round(Math.round(this._value / this._tick) * this._tick * t) / t;
            this._value = this._value > this._max ? this._max : this._value < this._min ? this._min : this._value;
            var e = this._max - this._min;
            if (e === 0)
                e = 1;
            if (this.isVertical) {
                this._bar.y = (this._value - this._min) / e * (this.height - this._bar.height);
                if (this._progress)
                    this._progress.height = this._bar.y + .5 * this._bar.height
            } else {
                this._bar.x = (this._value - this._min) / e * (this.width - this._bar.width);
                if (this._progress)
                    this._progress.width = this._bar.x + .5 * this._bar.width
            }
        }
        ;
        t.onBgMouseDown = function(t) {
            var e = this._bg.getMousePoint();
            if (this.isVertical)
                this.value = e.y / (this.height - this._bar.height) * (this._max - this._min) + this._min;
            else
                this.value = e.x / (this.width - this._bar.width) * (this._max - this._min) + this._min
        }
        ;
        p(0, t, "measureHeight", function() {
            return Math.max(this._bg.height, this._bar.height)
        });
        p(0, t, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                this._bg.skin = this._skin;
                this._bar.skin = this._skin.replace(".png", "$bar.png");
                var e = this._skin.replace(".png", "$progress.png");
                if (fn.getRes(e)) {
                    if (!this._progress) {
                        this.addChild(this._progress = new Es);
                        this._progress.sizeGrid = this._bar.sizeGrid;
                        this.setChildIndex(this._progress, 1)
                    }
                    this._progress.skin = e
                }
                this.setBarPoint();
                this.callLater(this.changeValue)
            }
        });
        p(0, t, "allowClickBack", function() {
            return this._allowClickBack
        }, function(t) {
            if (this._allowClickBack != t) {
                this._allowClickBack = t;
                if (t)
                    this._bg.on("mousedown", this, this.onBgMouseDown);
                else
                    this._bg.off("mousedown", this, this.onBgMouseDown)
            }
        });
        p(0, t, "max", function() {
            return this._max
        }, function(t) {
            if (this._max != t) {
                this._max = t;
                this.callLater(this.changeValue)
            }
        });
        p(0, t, "measureWidth", function() {
            return Math.max(this._bg.width, this._bar.width)
        });
        p(0, t, "tick", function() {
            return this._tick
        }, function(t) {
            if (this._tick != t) {
                this._tick = t;
                this.callLater(this.changeValue)
            }
        });
        p(0, t, "sizeGrid", function() {
            return this._bg.sizeGrid
        }, function(t) {
            this._bg.sizeGrid = t;
            this._bar.sizeGrid = t;
            if (this._progress)
                this._progress.sizeGrid = this._bar.sizeGrid
        });
        p(0, t, "min", function() {
            return this._min
        }, function(t) {
            if (this._min != t) {
                this._min = t;
                this.callLater(this.changeValue)
            }
        });
        p(0, t, "value", function() {
            return this._value
        }, function(t) {
            if (this._value != t) {
                var e = this._value;
                this._value = t;
                this.changeValue();
                if (this._value != e) {
                    this.sendChangeEvent()
                }
            }
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" || typeof t == "string")
                this.value = Number(t);
            else
                st.superSet(os, this, "dataSource", t)
        });
        p(0, t, "bar", function() {
            return this._bar
        });
        u(i, ["label", function() {
            return this.label = new Zs
        }
        ]);
        return i
    }(os);
    var Xs = function(e) {
        function i(t) {
            this.type = 0;
            this.preX = NaN;
            this.preY = NaN;
            i.__super.call(this)
        }
        x(i, "laya.debug.tools.resizer.AutoFillRec", e);
        var t = i.prototype;
        t.changeSize = function() {
            e.prototype.changeSize.call(this);
            var t = this.graphics;
            t.clear();
            t.drawRect(0, 0, this.width, this.height, "#33c5f5")
        }
        ;
        t.record = function() {
            this.preX = this.x;
            this.preY = this.y
        }
        ;
        t.getDx = function() {
            return this.x - this.preX
        }
        ;
        t.getDy = function() {
            return this.y - this.preY
        }
        ;
        return i
    }(os);
    var Ds = function(t) {
        function i() {
            this._tipBox = null;
            this._tipText = null;
            this._defaultTipHandler = null;
            i.__super.call(this);
            this._tipBox = new os;
            this._tipBox.addChild(this._tipText = new hs);
            this._tipText.x = this._tipText.y = 5;
            this._tipText.color = i.tipTextColor;
            this._defaultTipHandler = this.showDefaultTip;
            st.stage.on("showtip", this, this.onStageShowTip);
            st.stage.on("hidetip", this, this.onStageHideTip)
        }
        x(i, "laya.debug.tools.TipManagerForDebug", t);
        var e = i.prototype;
        e.onStageHideTip = function(t) {
            st.timer.clear(this, this.showTip);
            this.closeAll();
            this.removeSelf()
        }
        ;
        e.onStageShowTip = function(t) {
            st.timer.once(i.tipDelay, this, this.showTip, [t], true)
        }
        ;
        e.showTip = function(t) {
            if (typeof t == "string") {
                var e = String(t);
                if (Boolean(e)) {
                    this._defaultTipHandler(e)
                }
            } else if (t instanceof laya.utils.Handler) {
                t.run()
            } else if (typeof t == "function") {
                t.apply()
            }
            if (true) {
                st.stage.on("mousemove", this, this.onStageMouseMove);
                st.stage.on("mousedown", this, this.onStageMouseDown)
            }
            this.onStageMouseMove(null)
        }
        ;
        e.onStageMouseDown = function(t) {
            this.closeAll()
        }
        ;
        e.onStageMouseMove = function(t) {
            this.showToStage(this, i.offsetX, i.offsetY)
        }
        ;
        e.showToStage = function(t, e, i) {
            e === void 0 && (e = 0);
            i === void 0 && (i = 0);
            var n = t.getBounds();
            t.x = st.stage.mouseX + e;
            t.y = st.stage.mouseY + i;
            if (t.x + n.width > st.stage.width) {
                t.x -= n.width + e
            }
            if (t.y + n.height > st.stage.height) {
                t.y -= n.height + i
            }
        }
        ;
        e.closeAll = function() {
            st.timer.clear(this, this.showTip);
            st.stage.off("mousemove", this, this.onStageMouseMove);
            st.stage.off("mousedown", this, this.onStageMouseDown);
            this.removeChildren()
        }
        ;
        e.showDisTip = function(t) {
            this.addChild(t);
            this.showToStage(this);
            st.stage.addChild(this)
        }
        ;
        e.showDefaultTip = function(t) {
            this._tipText.text = t;
            var e = this._tipBox.graphics;
            e.clear();
            e.drawRect(0, 0, this._tipText.width + 10, this._tipText.height + 10, i.tipBackColor);
            this.addChild(this._tipBox);
            this.showToStage(this);
            st.stage.addChild(this)
        }
        ;
        p(0, e, "defaultTipHandler", function() {
            return this._defaultTipHandler
        }, function(t) {
            this._defaultTipHandler = t
        });
        i.offsetX = 10;
        i.offsetY = 15;
        i.tipTextColor = "#ffffff";
        i.tipBackColor = "#111111";
        i.tipDelay = 200;
        return i
    }(os);
    var Ys = function(t) {
        function e() {
            this.minHandler = null;
            this.maxHandler = null;
            this.isFirstShow = true;
            this.dis = null;
            e.__super.call(this);
            this.dis = this;
            this.minHandler = new b(this,this.close);
            this.maxHandler = new b(this,this.show);
            this.createPanel();
            if (this.dis) {
                this.dis.on("mousedown", this, this.bringToTop);
                this.dis.cacheAsBitmap = true
            }
        }
        x(e, "laya.debug.view.nodeInfo.views.UIViewBase", t);
        var i = e.prototype;
        i.show = function() {
            _s.I.setTop();
            _s.I.popLayer.addChild(this.dis);
            if (this.isFirstShow) {
                this.firstShowFun();
                this.isFirstShow = false
            }
        }
        ;
        i.firstShowFun = function() {
            this.dis.x = (st.stage.width - this.dis.width) * .5;
            this.dis.y = (st.stage.height - this.dis.height) * .5;
            lt.intFyDisPos(this.dis)
        }
        ;
        i.bringToTop = function() {
            lt.setTop(this.dis)
        }
        ;
        i.switchShow = function() {
            if (this.dis.parent) {
                this.close()
            } else {
                this.show()
            }
        }
        ;
        i.close = function() {
            this.dis.removeSelf()
        }
        ;
        i.createPanel = function() {}
        ;
        i.getInput = function() {
            var t;
            t = new Dr;
            t.size(200, 30);
            t.fontSize = 30;
            return t
        }
        ;
        i.getButton = function() {
            var t;
            t = new qs;
            t.size(40, 30);
            t.fontSize = 30;
            return t
        }
        ;
        return e
    }(os);
    var Os = function(e) {
        function n(t, e, i) {
            this._sources = null;
            this._bitmap = null;
            this._skin = null;
            this._clipX = 1;
            this._clipY = 1;
            this._clipWidth = 0;
            this._clipHeight = 0;
            this._autoPlay = false;
            this._interval = 50;
            this._complete = null;
            this._isPlaying = false;
            this._index = 0;
            this._clipChanged = false;
            this._group = null;
            this._toIndex = -1;
            n.__super.call(this);
            e === void 0 && (e = 1);
            i === void 0 && (i = 1);
            this._clipX = e;
            this._clipY = i;
            this.skin = t
        }
        x(n, "laya.ui.Clip", e);
        var t = n.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, true);
            this._bitmap && this._bitmap.destroy();
            this._bitmap = null;
            this._sources = null
        }
        ;
        t.dispose = function() {
            this.destroy(true);
            st.loader.clearRes(this._skin)
        }
        ;
        t.createChildren = function() {
            this.graphics = this._bitmap = new gn
        }
        ;
        t._onDisplay = function(t) {
            if (this._isPlaying) {
                if (this._displayedInStage)
                    this.play();
                else
                    this.stop()
            } else if (this._autoPlay) {
                this.play()
            }
        }
        ;
        t.changeClip = function() {
            this._clipChanged = false;
            if (!this._skin)
                return;
            var t = fn.getRes(this._skin);
            if (t) {
                this.loadComplete(this._skin, t)
            } else {
                st.loader.load(this._skin, b.create(this, this.loadComplete, [this._skin]))
            }
        }
        ;
        t.loadComplete = function(t, e) {
            if (t === this._skin && e) {
                var i = this._clipWidth || Math.ceil(e.sourceWidth / this._clipX);
                var n = this._clipHeight || Math.ceil(e.sourceHeight / this._clipY);
                var s = this._skin + i + n;
                var r = li.I.get(s);
                if (!ai.isOkTextureList(r)) {
                    r = null
                }
                if (r)
                    this._sources = r;
                else {
                    this._sources = [];
                    for (var a = 0; a < this._clipY; a++) {
                        for (var o = 0; o < this._clipX; o++) {
                            this._sources.push(_n.createFromTexture(e, i * o, n * a, i, n))
                        }
                    }
                    li.I.set(s, this._sources)
                }
                this.index = this._index;
                this.event("loaded");
                this.onCompResize()
            }
        }
        ;
        t.play = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = -1);
            this._isPlaying = true;
            this.index = t;
            this._toIndex = e;
            this._index++;
            st.timer.loop(this.interval, this, this._loop);
            this.on("display", this, this._onDisplay);
            this.on("undisplay", this, this._onDisplay)
        }
        ;
        t._loop = function() {
            if (this._style.visible && this._sources) {
                this._index++;
                if (this._toIndex > -1 && this._index >= this._toIndex)
                    this.stop();
                else if (this._index >= this._sources.length)
                    this._index = 0;
                this.index = this._index
            }
        }
        ;
        t.stop = function() {
            this._isPlaying = false;
            st.timer.clear(this, this._loop);
            this.event("complete")
        }
        ;
        t._setClipChanged = function() {
            if (!this._clipChanged) {
                this._clipChanged = true;
                this.callLater(this.changeClip)
            }
        }
        ;
        p(0, t, "interval", function() {
            return this._interval
        }, function(t) {
            if (this._interval != t) {
                this._interval = t;
                if (this._isPlaying)
                    this.play()
            }
        });
        p(0, t, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                if (t) {
                    this._setClipChanged()
                } else {
                    this._bitmap.source = null
                }
            }
        });
        p(0, t, "sources", function() {
            return this._sources
        }, function(t) {
            this._sources = t;
            this.index = this._index;
            this.event("loaded")
        });
        p(0, t, "clipX", function() {
            return this._clipX
        }, function(t) {
            this._clipX = t || 1;
            this._setClipChanged()
        });
        p(0, t, "clipY", function() {
            return this._clipY
        }, function(t) {
            this._clipY = t || 1;
            this._setClipChanged()
        });
        p(0, t, "total", function() {
            this.runCallLater(this.changeClip);
            return this._sources ? this._sources.length : 0
        });
        p(0, t, "clipWidth", function() {
            return this._clipWidth
        }, function(t) {
            this._clipWidth = t;
            this._setClipChanged()
        });
        p(0, t, "sizeGrid", function() {
            if (this._bitmap.sizeGrid)
                return this._bitmap.sizeGrid.join(",");
            return null
        }, function(t) {
            this._bitmap.sizeGrid = Ue.fillArray(Oe.defaultSizeGrid, t, Number)
        });
        p(0, t, "group", function() {
            return this._group
        }, function(t) {
            if (t && this._skin)
                fn.setGroup(this._skin, t);
            this._group = t
        });
        p(0, t, "clipHeight", function() {
            return this._clipHeight
        }, function(t) {
            this._clipHeight = t;
            this._setClipChanged()
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(os, this, "width", t);
            this._bitmap.width = t
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(os, this, "height", t);
            this._bitmap.height = t
        });
        p(0, t, "measureWidth", function() {
            this.runCallLater(this.changeClip);
            return this._bitmap.width
        });
        p(0, t, "measureHeight", function() {
            this.runCallLater(this.changeClip);
            return this._bitmap.height
        });
        p(0, t, "index", function() {
            return this._index
        }, function(t) {
            this._index = t;
            this._bitmap && this._sources && (this._bitmap.source = this._sources[t]);
            this.event("change")
        });
        p(0, t, "autoPlay", function() {
            return this._autoPlay
        }, function(t) {
            if (this._autoPlay != t) {
                this._autoPlay = t;
                t ? this.play() : this.stop()
            }
        });
        p(0, t, "isPlaying", function() {
            return this._isPlaying
        }, function(t) {
            this._isPlaying = t
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" && Math.floor(t) == t || typeof t == "string")
                this.index = parseInt(t);
            else
                st.superSet(os, this, "dataSource", t)
        });
        p(0, t, "bitmap", function() {
            return this._bitmap
        });
        return n
    }(os);
    var Us = function(e) {
        function t() {
            this.changeHandler = null;
            this._gridSize = 11;
            this._bgColor = "#ffffff";
            this._borderColor = "#000000";
            this._inputColor = "#000000";
            this._inputBgColor = "#efefef";
            this._colorPanel = null;
            this._colorTiles = null;
            this._colorBlock = null;
            this._colorInput = null;
            this._colorButton = null;
            this._colors = [];
            this._selectedColor = "#000000";
            this._panelChanged = false;
            t.__super.call(this)
        }
        x(t, "laya.ui.ColorPicker", e);
        var i = t.prototype;
        i.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._colorPanel && this._colorPanel.destroy(t);
            this._colorButton && this._colorButton.destroy(t);
            this._colorPanel = null;
            this._colorTiles = null;
            this._colorBlock = null;
            this._colorInput = null;
            this._colorButton = null;
            this._colors = null;
            this.changeHandler = null
        }
        ;
        i.createChildren = function() {
            this.addChild(this._colorButton = new Vs);
            this._colorPanel = new Ns;
            this._colorPanel.size(230, 166);
            this._colorPanel.addChild(this._colorTiles = new Dn);
            this._colorPanel.addChild(this._colorBlock = new Dn);
            this._colorPanel.addChild(this._colorInput = new $s)
        }
        ;
        i.initialize = function() {
            this._colorButton.on("click", this, this.onColorButtonClick);
            this._colorBlock.pos(5, 5);
            this._colorInput.pos(60, 5);
            this._colorInput.size(60, 20);
            this._colorInput.on("change", this, this.onColorInputChange);
            this._colorInput.on("keydown", this, this.onColorFieldKeyDown);
            this._colorTiles.pos(5, 30);
            this._colorTiles.on("mousemove", this, this.onColorTilesMouseMove);
            this._colorTiles.on("click", this, this.onColorTilesClick);
            this._colorTiles.size(20 * this._gridSize, 12 * this._gridSize);
            this._colorPanel.on("mousedown", this, this.onPanelMouseDown);
            this.bgColor = this._bgColor
        }
        ;
        i.onPanelMouseDown = function(t) {
            t.stopPropagation()
        }
        ;
        i.changePanel = function() {
            this._panelChanged = false;
            var t = this._colorPanel.graphics;
            t.clear();
            t.drawRect(0, 0, 230, 166, this._bgColor, this._borderColor);
            this.drawBlock(this._selectedColor);
            this._colorInput.borderColor = this._borderColor;
            this._colorInput.bgColor = this._inputBgColor;
            this._colorInput.color = this._inputColor;
            t = this._colorTiles.graphics;
            t.clear();
            var e = [0, 3355443, 6710886, 10066329, 13421772, 16777215, 16711680, 65280, 255, 16776960, 65535, 16711935];
            for (var i = 0; i < 12; i++) {
                for (var n = 0; n < 20; n++) {
                    var s = 0;
                    if (n === 0)
                        s = e[i];
                    else if (n === 1)
                        s = 0;
                    else
                        s = (((i * 3 + n / 6) % 3 << 0) + (i / 6 << 0) * 3) * 51 << 16 | n % 6 * 51 << 8 | (i << 0) % 6 * 51;
                    var r = Ue.toColor(s);
                    this._colors.push(r);
                    var a = n * this._gridSize;
                    var o = i * this._gridSize;
                    t.drawRect(a, o, this._gridSize, this._gridSize, r, "#000000")
                }
            }
        }
        ;
        i.onColorButtonClick = function(t) {
            if (this._colorPanel.parent)
                this.close();
            else
                this.open()
        }
        ;
        i.open = function() {
            var t = this.localToGlobal(new Se);
            var e = t.x + this._colorPanel.width <= st.stage.width ? t.x : st.stage.width - this._colorPanel.width;
            var i = t.y + this._colorButton.height;
            i = i + this._colorPanel.height <= st.stage.height ? i : t.y - this._colorPanel.height;
            this._colorPanel.pos(e, i);
            this._colorPanel.zOrder = 1001;
            st._currentStage.addChild(this._colorPanel);
            st.stage.on("mousedown", this, this.removeColorBox)
        }
        ;
        i.close = function() {
            st.stage.off("mousedown", this, this.removeColorBox);
            this._colorPanel.removeSelf()
        }
        ;
        i.removeColorBox = function(t) {
            this.close()
        }
        ;
        i.onColorFieldKeyDown = function(t) {
            if (t.keyCode == 13) {
                if (this._colorInput.text)
                    this.selectedColor = this._colorInput.text;
                else
                    this.selectedColor = null;
                this.close();
                t.stopPropagation()
            }
        }
        ;
        i.onColorInputChange = function(t) {
            if (this._colorInput.text)
                this.drawBlock(this._colorInput.text);
            else
                this.drawBlock("#FFFFFF")
        }
        ;
        i.onColorTilesClick = function(t) {
            this.selectedColor = this.getColorByMouse();
            this.close()
        }
        ;
        i.onColorTilesMouseMove = function(t) {
            this._colorInput.focus = false;
            var e = this.getColorByMouse();
            this._colorInput.text = e;
            this.drawBlock(e)
        }
        ;
        i.getColorByMouse = function() {
            var t = this._colorTiles.getMousePoint();
            var e = Math.floor(t.x / this._gridSize);
            var i = Math.floor(t.y / this._gridSize);
            return this._colors[i * 20 + e]
        }
        ;
        i.drawBlock = function(t) {
            var e = this._colorBlock.graphics;
            e.clear();
            var i = t ? t : "#ffffff";
            e.drawRect(0, 0, 50, 20, i, this._borderColor);
            t || e.drawLine(0, 0, 50, 20, "#ff0000")
        }
        ;
        i.changeColor = function() {
            var t = this.graphics;
            t.clear();
            var e = this._selectedColor || "#000000";
            t.drawRect(0, 0, this._colorButton.width, this._colorButton.height, e)
        }
        ;
        i._setPanelChanged = function() {
            if (!this._panelChanged) {
                this._panelChanged = true;
                this.callLater(this.changePanel)
            }
        }
        ;
        p(0, i, "inputBgColor", function() {
            return this._inputBgColor
        }, function(t) {
            this._inputBgColor = t;
            this._setPanelChanged()
        });
        p(0, i, "selectedColor", function() {
            return this._selectedColor
        }, function(t) {
            if (this._selectedColor != t) {
                this._selectedColor = this._colorInput.text = t;
                this.drawBlock(t);
                this.changeColor();
                this.changeHandler && this.changeHandler.runWith(this._selectedColor);
                this.event("change", y.EMPTY.setTo("change", this, this))
            }
        });
        p(0, i, "skin", function() {
            return this._colorButton.skin
        }, function(t) {
            this._colorButton.skin = t;
            this.changeColor()
        });
        p(0, i, "bgColor", function() {
            return this._bgColor
        }, function(t) {
            this._bgColor = t;
            this._setPanelChanged()
        });
        p(0, i, "borderColor", function() {
            return this._borderColor
        }, function(t) {
            this._borderColor = t;
            this._setPanelChanged()
        });
        p(0, i, "inputColor", function() {
            return this._inputColor
        }, function(t) {
            this._inputColor = t;
            this._setPanelChanged()
        });
        return t
    }(os);
    var Hs = function(e) {
        function i(t, e) {
            this._visibleNum = 6;
            this._button = null;
            this._list = null;
            this._isOpen = false;
            this._itemSize = 12;
            this._labels = [];
            this._selectedIndex = -1;
            this._selectHandler = null;
            this._itemHeight = NaN;
            this._listHeight = NaN;
            this._listChanged = false;
            this._itemChanged = false;
            this._scrollBarSkin = null;
            this._isCustomList = false;
            this.itemRender = null;
            i.__super.call(this);
            this._itemColors = Oe.comboBoxItemColors;
            this.skin = t;
            this.labels = e
        }
        x(i, "laya.ui.ComboBox", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._button && this._button.destroy(t);
            this._list && this._list.destroy(t);
            this._button = null;
            this._list = null;
            this._itemColors = null;
            this._labels = null;
            this._selectHandler = null
        }
        ;
        t.createChildren = function() {
            this.addChild(this._button = new Vs);
            this._button.text.align = "left";
            this._button.labelPadding = "0,0,0,5";
            this._button.on("mousedown", this, this.onButtonMouseDown)
        }
        ;
        t._createList = function() {
            this._list = new fr;
            if (this._scrollBarSkin)
                this._list.vScrollBarSkin = this._scrollBarSkin;
            this._setListEvent(this._list)
        }
        ;
        t._setListEvent = function(t) {
            this._list.selectEnable = true;
            this._list.on("mousedown", this, this.onListDown);
            this._list.mouseHandler = b.create(this, this.onlistItemMouse, null, false);
            if (this._list.scrollBar)
                this._list.scrollBar.on("mousedown", this, this.onScrollBarDown)
        }
        ;
        t.onListDown = function(t) {
            t.stopPropagation()
        }
        ;
        t.onScrollBarDown = function(t) {
            t.stopPropagation()
        }
        ;
        t.onButtonMouseDown = function(t) {
            this.callLater(this.switchTo, [!this._isOpen])
        }
        ;
        t.changeList = function() {
            this._listChanged = false;
            var t = this.width - 2;
            var e = this._itemColors[2];
            this._itemHeight = this._itemSize + 6;
            this._list.itemRender = this.itemRender || {
                type: "Box",
                child: [{
                    type: "Label",
                    props: {
                        name: "label",
                        x: 1,
                        padding: "3,3,3,3",
                        width: t,
                        height: this._itemHeight,
                        fontSize: this._itemSize,
                        color: e
                    }
                }]
            };
            this._list.repeatY = this._visibleNum;
            this._list.refresh()
        }
        ;
        t.onlistItemMouse = function(t, e) {
            var i = t.type;
            if (i === "mouseover" || i === "mouseout") {
                if (this._isCustomList)
                    return;
                var n = this._list.getCell(e);
                if (!n)
                    return;
                var s = n.getChildByName("label");
                if (s) {
                    if (i === "mouseover") {
                        s.bgColor = this._itemColors[0];
                        s.color = this._itemColors[1]
                    } else {
                        s.bgColor = null;
                        s.color = this._itemColors[2]
                    }
                }
            } else if (i === "click") {
                this.selectedIndex = e;
                this.isOpen = false
            }
        }
        ;
        t.switchTo = function(t) {
            this.isOpen = t
        }
        ;
        t.changeOpen = function() {
            this.isOpen = !this._isOpen
        }
        ;
        t.changeItem = function() {
            this._itemChanged = false;
            this._listHeight = this._labels.length > 0 ? Math.min(this._visibleNum, this._labels.length) * this._itemHeight : this._itemHeight;
            if (!this._isCustomList) {
                var t = this._list.graphics;
                t.clear();
                t.drawRect(0, 0, this.width - 1, this._listHeight, this._itemColors[4], this._itemColors[3])
            }
            var e = this._list.array || [];
            e.length = 0;
            for (var i = 0, n = this._labels.length; i < n; i++) {
                e.push({
                    label: this._labels[i]
                })
            }
            this._list.height = this._listHeight;
            this._list.array = e
        }
        ;
        t.changeSelected = function() {
            this._button.label = this.selectedLabel
        }
        ;
        t._onStageMouseWheel = function(t) {
            if (!this._list || this._list.contains(t.target))
                return;
            this.removeList(null)
        }
        ;
        t.removeList = function(t) {
            st.stage.off("mousedown", this, this.removeList);
            st.stage.off("mousewheel", this, this._onStageMouseWheel);
            this.isOpen = false
        }
        ;
        p(0, t, "selectedIndex", function() {
            return this._selectedIndex
        }, function(t) {
            if (this._selectedIndex != t) {
                this._selectedIndex = t;
                if (this._labels.length > 0)
                    this.changeSelected();
                else
                    this.callLater(this.changeSelected);
                this.event("change", [y.EMPTY.setTo("change", this, this)]);
                this._selectHandler && this._selectHandler.runWith(this._selectedIndex)
            }
        });
        p(0, t, "measureHeight", function() {
            return this._button.height
        });
        p(0, t, "skin", function() {
            return this._button.skin
        }, function(t) {
            if (this._button.skin != t) {
                this._button.skin = t;
                this._listChanged = true
            }
        });
        p(0, t, "measureWidth", function() {
            return this._button.width
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(os, this, "width", t);
            this._button.width = this._width;
            this._itemChanged = true;
            this._listChanged = true
        });
        p(0, t, "selectedLabel", function() {
            return this._selectedIndex > -1 && this._selectedIndex < this._labels.length ? this._labels[this._selectedIndex] : null
        }, function(t) {
            this.selectedIndex = this._labels.indexOf(t)
        });
        p(0, t, "labels", function() {
            return this._labels.join(",")
        }, function(t) {
            if (this._labels.length > 0)
                this.selectedIndex = -1;
            if (t)
                this._labels = t.split(",");
            else
                this._labels.length = 0;
            this._itemChanged = true
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(os, this, "height", t);
            this._button.height = this._height
        });
        p(0, t, "selectHandler", function() {
            return this._selectHandler
        }, function(t) {
            this._selectHandler = t
        });
        p(0, t, "visibleNum", function() {
            return this._visibleNum
        }, function(t) {
            this._visibleNum = t;
            this._listChanged = true
        });
        p(0, t, "labelBold", function() {
            return this._button.text.bold
        }, function(t) {
            this._button.text.bold = t
        });
        p(0, t, "itemColors", function() {
            return String(this._itemColors)
        }, function(t) {
            this._itemColors = Ue.fillArray(this._itemColors, t, String);
            this._listChanged = true
        });
        p(0, t, "itemSize", function() {
            return this._itemSize
        }, function(t) {
            this._itemSize = t;
            this._listChanged = true
        });
        p(0, t, "scrollBar", function() {
            return this.list.scrollBar
        });
        p(0, t, "isOpen", function() {
            return this._isOpen
        }, function(t) {
            if (this._isOpen != t) {
                this._isOpen = t;
                this._button.selected = this._isOpen;
                if (this._isOpen) {
                    this._list || this._createList();
                    this._listChanged && !this._isCustomList && this.changeList();
                    this._itemChanged && this.changeItem();
                    var e = this.localToGlobal(Se.TEMP.setTo(0, 0));
                    var i = e.y + this._button.height;
                    i = i + this._listHeight <= st.stage.height ? i : e.y - this._listHeight;
                    this._list.pos(e.x, i);
                    this._list.zOrder = 1001;
                    st._currentStage.addChild(this._list);
                    st.stage.once("mousedown", this, this.removeList);
                    st.stage.on("mousewheel", this, this._onStageMouseWheel);
                    this._list.selectedIndex = this._selectedIndex
                } else {
                    this._list && this._list.removeSelf()
                }
            }
        });
        p(0, t, "scrollBarSkin", function() {
            return this._scrollBarSkin
        }, function(t) {
            this._scrollBarSkin = t
        });
        p(0, t, "sizeGrid", function() {
            return this._button.sizeGrid
        }, function(t) {
            this._button.sizeGrid = t
        });
        p(0, t, "button", function() {
            return this._button
        });
        p(0, t, "list", function() {
            this._list || this._createList();
            return this._list
        }, function(t) {
            if (t) {
                t.removeSelf();
                this._isCustomList = true;
                this._list = t;
                this._setListEvent(t);
                this._itemHeight = t.getCell(0).height + t.spaceY
            }
        });
        p(0, t, "dataSource", e.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" && Math.floor(t) == t || typeof t == "string")
                this.selectedIndex = parseInt(t);
            else if (t instanceof Array)
                this.labels = t.join(",");
            else
                st.superSet(os, this, "dataSource", t)
        });
        p(0, t, "labelColors", function() {
            return this._button.labelColors
        }, function(t) {
            if (this._button.labelColors != t) {
                this._button.labelColors = t
            }
        });
        p(0, t, "labelPadding", function() {
            return this._button.text.padding.join(",")
        }, function(t) {
            this._button.text.padding = Ue.fillArray(Oe.labelPadding, t, Number)
        });
        p(0, t, "labelSize", function() {
            return this._button.text.fontSize
        }, function(t) {
            this._button.text.fontSize = t
        });
        p(0, t, "labelFont", function() {
            return this._button.text.font
        }, function(t) {
            this._button.text.font = t
        });
        p(0, t, "stateNum", function() {
            return this._button.stateNum
        }, function(t) {
            this._button.stateNum = t
        });
        return i
    }(os);
    var zs = function(t) {
        function e() {
            this._tex = null;
            this._url = null;
            this._renderArgs = [];
            e.__super.call(this);
            this.style.block = true
        }
        x(e, "laya.html.dom.HTMLImageElement", t);
        var i = e.prototype;
        i._addToLayout = function(t) {
            !this._style.absolute && t.push(this)
        }
        ;
        i.render = function(t, e, i) {
            if (!this._tex || !this._tex.loaded || !this._tex.loaded || this._width < 1 || this._height < 1)
                return;
            ii.spriteCount++;
            this._renderArgs[0] = this._tex;
            this._renderArgs[1] = this.x;
            this._renderArgs[2] = this.y;
            this._renderArgs[3] = this.width || this._tex.width;
            this._renderArgs[4] = this.height || this._tex.height;
            t.ctx.drawTexture2(e, i, this.style.translateX, this.style.translateY, this.transform, this.style.alpha, this.style.blendMode, this._renderArgs)
        }
        ;
        i.layaoutCallNative = function() {
            var t = 0;
            if (this._childs && (t = this._childs.length) > 0) {
                for (var e = 0; e < t; e++) {
                    this._childs[e].layaoutCallNative && this._childs[e].layaoutCallNative()
                }
            }
        }
        ;
        p(0, i, "src", null, function(t) {
            var n = this;
            t = this.formatURL(t);
            if (this._url == t)
                return;
            this._url = t;
            var e = this._tex = fn.getRes(t);
            if (!e) {
                this._tex = e = new _n;
                e.load(t);
                fn.cacheRes(t, e)
            }
            function i() {
                if (!n._style)
                    return;
                var t = n._style;
                var e = t.widthed(n) ? -1 : n._tex.width;
                var i = t.heighted(n) ? -1 : n._tex.height;
                if (!t.widthed(n) && n._width != n._tex.width) {
                    n.width = n._tex.width;
                    n.parent && n.parent._layoutLater()
                }
                if (!t.heighted(n) && n._height != n._tex.height) {
                    n.height = n._tex.height;
                    n.parent && n.parent._layoutLater()
                }
                if (Be.isConchApp) {
                    n._renderArgs[0] = n._tex;
                    n._renderArgs[1] = n.x;
                    n._renderArgs[2] = n.y;
                    n._renderArgs[3] = n.width || n._tex.width;
                    n._renderArgs[4] = n.height || n._tex.height;
                    n.graphics.drawTexture(n._tex, 0, 0, n._renderArgs[3], n._renderArgs[4])
                }
                n.repaint();
                n.parentRepaint()
            }
            e.loaded ? i() : e.on("loaded", null, i)
        });
        return e
    }(ls);
    var Js = function(t) {
        function e() {
            e.__super.call(this);
            this.style.lineElement = true;
            this.style.block = true
        }
        x(e, "laya.html.dom.HTMLBrElement", t);
        return e
    }(ls);
    var js = function(t) {
        function e() {
            this.contextHeight = NaN;
            this.contextWidth = NaN;
            e.__super.call(this);
            this.style.block = true;
            this.style.lineElement = true;
            this.style.width = 200;
            this.style.height = 200;
            Qs
        }
        x(e, "laya.html.dom.HTMLDivElement", t);
        var i = e.prototype;
        i.appendHTML = function(t) {
            me.parse(this, t, this.URI);
            this.layout()
        }
        ;
        i._addChildsToLayout = function(e) {
            var t = this._getWords();
            if (t == null && this._childs.length == 0)
                return false;
            t && t.forEach(function(t) {
                e.push(t)
            });
            var i = true;
            for (var n = 0, s = this._childs.length; n < s; n++) {
                var r = this._childs[n];
                if (i) {
                    i = false
                } else {
                    e.push(null)
                }
                r._addToLayout(e)
            }
            return true
        }
        ;
        i._addToLayout = function(t) {
            this.layout()
        }
        ;
        i.layout = function() {
            if (!this.style)
                return;
            this.style._type |= 512;
            var t = ge.layout(this);
            if (t) {
                if (!this._$P.mHtmlBounds)
                    this._set$P("mHtmlBounds", new Te);
                var e = this._$P.mHtmlBounds;
                e.x = e.y = 0;
                e.width = this.contextWidth = t[0];
                e.height = this.contextHeight = t[1];
                this.setBounds(e)
            }
        }
        ;
        p(0, i, "height", function() {
            if (this._height)
                return this._height;
            return this.contextHeight
        }, t.prototype._$set_height);
        p(0, i, "innerHTML", null, function(t) {
            this.destroyChildren();
            this.appendHTML(t)
        });
        p(0, i, "width", function() {
            if (this._width)
                return this._width;
            return this.contextWidth
        }, function(t) {
            var e = false;
            if (t === 0) {
                e = t != this._width
            } else {
                e = t != this.width
            }
            st.superSet(ls, this, "width", t);
            if (e)
                this.layout()
        });
        return e
    }(ls);
    var Ks = function(t) {
        function e() {
            this.all = new Array;
            this.styleSheets = wn.styleSheets;
            e.__super.call(this)
        }
        x(e, "laya.html.dom.HTMLDocument", t);
        var i = e.prototype;
        i.getElementById = function(t) {
            return this.all[t]
        }
        ;
        i.setElementById = function(t, e) {
            this.all[t] = e
        }
        ;
        u(e, ["document", function() {
            return this.document = new e
        }
        ]);
        return e
    }(ls);
    var Qs = function(t) {
        function e() {
            e.__super.call(this);
            this.visible = false
        }
        x(e, "laya.html.dom.HTMLStyleElement", t);
        var i = e.prototype;
        p(0, i, "text", t.prototype._$get_text, function(t) {
            wn.parseCSS(t, null)
        });
        return e
    }(ls);
    var qs = function(t) {
        function e() {
            e.__super.call(this);
            this.bgColor = "#ffff00";
            this.wordWrap = false;
            this.mouseEnabled = true
        }
        x(e, "laya.debug.tools.debugUI.DButton", t);
        return e
    }(hs);
    var $s = function(e) {
        function s() {
            this._focus = false;
            this._multiline = false;
            this._editable = true;
            this._restrictPattern = null;
            this._type = "text";
            this._prompt = "";
            this._promptColor = "#A9A9A9";
            this._originColor = "#000000";
            this._content = "";
            s.__super.call(this);
            this._maxChars = 1e5;
            this._width = 100;
            this._height = 20;
            this.multiline = false;
            this.overflow = hs.SCROLL;
            this.on("mousedown", this, this._onMouseDown);
            this.on("undisplay", this, this._onUnDisplay)
        }
        x(s, "laya.display.Input", e);
        var t = s.prototype;
        t.setSelection = function(t, e) {
            this.focus = true;
            laya.display.Input.inputElement.selectionStart = t;
            laya.display.Input.inputElement.selectionEnd = e
        }
        ;
        t._onUnDisplay = function(t) {
            this.focus = false
        }
        ;
        t._onMouseDown = function(t) {
            this.focus = true
        }
        ;
        t._syncInputTransform = function() {
            var t = this.nativeInput;
            var e = ai.getTransformRelativeToWindow(this, this.padding[3], this.padding[0]);
            var i = this._width - this.padding[1] - this.padding[3];
            var n = this._height - this.padding[0] - this.padding[2];
            if (Be.isConchApp) {
                t.setScale(e.scaleX, e.scaleY);
                t.setSize(i, n);
                t.setPos(e.x, e.y)
            } else {
                s.inputContainer.style.transform = s.inputContainer.style.webkitTransform = "scale(" + e.scaleX + "," + e.scaleY + ") rotate(" + st.stage.canvasDegree + "deg)";
                t.style.width = i + "px";
                t.style.height = n + "px";
                s.inputContainer.style.left = e.x + "px";
                s.inputContainer.style.top = e.y + "px"
            }
        }
        ;
        t.select = function() {
            this.nativeInput.select()
        }
        ;
        t._setInputMethod = function() {
            s.input.parentElement && s.inputContainer.removeChild(s.input);
            s.area.parentElement && s.inputContainer.removeChild(s.area);
            s.inputElement = this._multiline ? s.area : s.input;
            s.inputContainer.appendChild(s.inputElement);
            if (hs.RightToLeft) {
                s.inputElement.style.direction = "rtl"
            }
        }
        ;
        t._focusIn = function() {
            laya.display.Input.isInputting = true;
            var t = this.nativeInput;
            this._focus = true;
            var e = t.style;
            e.whiteSpace = this.wordWrap ? "pre-wrap" : "nowrap";
            this._setPromptColor();
            t.readOnly = !this._editable;
            if (Be.isConchApp) {
                t.setType(this._type);
                t.setForbidEdit(!this._editable)
            }
            t.maxLength = this._maxChars;
            var i = this.padding;
            t.type = this._type;
            t.value = this._content;
            t.placeholder = this._prompt;
            st.stage.off("keydown", this, this._onKeyDown);
            st.stage.on("keydown", this, this._onKeyDown);
            st.stage.focus = this;
            this.event("focus");
            if (He.onPC)
                t.focus();
            if (!He.onMiniGame && !He.onBDMiniGame && !He.onQGMiniGame && !He.onVVMiniGame && !He.onBLMiniGame && !He.onAlipayMiniGame && !He.onTTMiniGame && !He.onHWMiniGame) {
                var n = this._text;
                this._text = null
            }
            this.typeset();
            t.setColor(this._originColor);
            if (t.setBgColor)
                t.setBgColor(this.bgColor);
            t.setFontSize(this.fontSize);
            t.setFontFace(He.onIPhone ? hs._fontFamilyMap[this.font] || this.font : this.font);
            if (Be.isConchApp) {
                t.setMultiAble && t.setMultiAble(this._multiline)
            }
            e.lineHeight = this.leading + this.fontSize + "px";
            e.fontStyle = this.italic ? "italic" : "normal";
            e.fontWeight = this.bold ? "bold" : "normal";
            e.textAlign = this.align;
            e.padding = "0 0";
            this._syncInputTransform();
            if (!Be.isConchApp && He.onPC)
                st.timer.frameLoop(1, this, this._syncInputTransform)
        }
        ;
        t._setPromptColor = function() {
            s.promptStyleDOM = He.getElementById("promptStyle");
            if (!s.promptStyleDOM) {
                s.promptStyleDOM = He.createElement("style");
                s.promptStyleDOM.setAttribute("id", "promptStyle");
                He.document.head.appendChild(s.promptStyleDOM)
            }
            s.promptStyleDOM.innerText = "input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {" + "color:" + this._promptColor + "}" + "input:-moz-placeholder, textarea:-moz-placeholder {" + "color:" + this._promptColor + "}" + "input::-moz-placeholder, textarea::-moz-placeholder {" + "color:" + this._promptColor + "}" + "input:-ms-input-placeholder, textarea:-ms-input-placeholder {" + "color:" + this._promptColor + "}"
        }
        ;
        t._focusOut = function() {
            laya.display.Input.isInputting = false;
            this._focus = false;
            this._text = null;
            this._content = this.nativeInput.value;
            if (!this._content) {
                st.superSet(hs, this, "text", this._prompt);
                st.superSet(hs, this, "color", this._promptColor)
            } else {
                st.superSet(hs, this, "text", this._content);
                st.superSet(hs, this, "color", this._originColor)
            }
            st.stage.off("keydown", this, this._onKeyDown);
            st.stage.focus = null;
            this.event("blur");
            if (Be.isConchApp)
                this.nativeInput.blur();
            He.onPC && st.timer.clear(this, this._syncInputTransform)
        }
        ;
        t._onKeyDown = function(t) {
            if (t.keyCode === 13) {
                if (He.onMobile && !this._multiline)
                    this.focus = false;
                this.event("enter")
            }
        }
        ;
        t.changeText = function(t) {
            this._content = t;
            if (this._focus) {
                this.nativeInput.value = t || "";
                this.event("change")
            } else
                e.prototype.changeText.call(this, t)
        }
        ;
        p(0, t, "color", e.prototype._$get_color, function(t) {
            if (this._focus)
                this.nativeInput.setColor(t);
            st.superSet(hs, this, "color", this._content ? t : this._promptColor);
            this._originColor = t
        });
        p(0, t, "inputElementYAdjuster", function() {
            console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。");
            return 0
        }, function(t) {
            console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。")
        });
        p(0, t, "multiline", function() {
            return this._multiline
        }, function(t) {
            this._multiline = t;
            this.valign = t ? "top" : "middle"
        });
        p(0, t, "maxChars", function() {
            return this._maxChars
        }, function(t) {
            if (t <= 0)
                t = 1e5;
            this._maxChars = t
        });
        p(0, t, "text", function() {
            if (this._focus)
                return this.nativeInput.value;
            else
                return this._content || ""
        }, function(t) {
            st.superSet(hs, this, "color", this._originColor);
            t += "";
            if (this._focus) {
                this.nativeInput.value = t || "";
                this.event("change")
            } else {
                if (!this._multiline)
                    t = t.replace(/\r?\n/g, "");
                this._content = t;
                if (t)
                    st.superSet(hs, this, "text", t);
                else {
                    st.superSet(hs, this, "text", this._prompt);
                    st.superSet(hs, this, "color", this.promptColor)
                }
            }
        });
        p(0, t, "nativeInput", function() {
            return this._multiline ? s.area : s.input
        });
        p(0, t, "prompt", function() {
            return this._prompt
        }, function(t) {
            if (!this._text && t)
                st.superSet(hs, this, "color", this._promptColor);
            this.promptColor = this._promptColor;
            if (this._text)
                st.superSet(hs, this, "text", this._text == this._prompt ? t : this._text);
            else
                st.superSet(hs, this, "text", t);
            this._prompt = hs.langPacks && hs.langPacks[t] ? hs.langPacks[t] : t
        });
        p(0, t, "focus", function() {
            return this._focus
        }, function(t) {
            var e = this.nativeInput;
            if (this._focus !== t) {
                if (t) {
                    if (e.target) {
                        e.target._focusOut()
                    } else {
                        this._setInputMethod()
                    }
                    e.target = this;
                    this._focusIn()
                } else {
                    e.target = null;
                    this._focusOut();
                    He.document.body.scrollTop = 0;
                    e.blur();
                    if (Be.isConchApp) {
                        e.setPos(-1e4, -1e4)
                    } else if (s.inputContainer.contains(e))
                        s.inputContainer.removeChild(e)
                }
            }
        });
        p(0, t, "restrict", function() {
            if (this._restrictPattern) {
                return this._restrictPattern.source
            }
            return ""
        }, function(t) {
            if (t) {
                t = "[^" + t + "]";
                if (t.indexOf("^^") > -1)
                    t = t.replace("^^", "");
                this._restrictPattern = new RegExp(t,"g")
            } else
                this._restrictPattern = null
        });
        p(0, t, "editable", function() {
            return this._editable
        }, function(t) {
            this._editable = t;
            if (Be.isConchApp) {
                s.input.setForbidEdit(!t)
            }
        });
        p(0, t, "promptColor", function() {
            return this._promptColor
        }, function(t) {
            this._promptColor = t;
            if (!this._content)
                st.superSet(hs, this, "color", t)
        });
        p(0, t, "type", function() {
            return this._type
        }, function(t) {
            if (t == "password")
                this._getCSSStyle().password = true;
            else
                this._getCSSStyle().password = false;
            this._type = t;
            if (Be.isConchApp) {
                this.nativeInput.setType(t)
            }
        });
        p(0, t, "inputElementXAdjuster", function() {
            console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。");
            return 0
        }, function(t) {
            console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。")
        });
        p(0, t, "asPassword", function() {
            return this._getCSSStyle().password
        }, function(t) {
            this._getCSSStyle().password = t;
            this._type = "password";
            console.warn('deprecated: 使用type="password"替代设置asPassword, asPassword将在下次重大更新时删去');
            this.isChanged = true
        });
        s.__init__ = function() {
            s._createInputElement();
            if (He.onMobile) {
                var t = false;
                if (He.onMiniGame || He.onBDMiniGame || He.onKGMiniGame || He.onQGMiniGame || He.onVVMiniGame || He.onBLMiniGame || He.onAlipayMiniGame || He.onQQMiniGame || He.onTTMiniGame || He.onHWMiniGame) {
                    t = true
                }
                Be.canvas.addEventListener(s.IOS_IFRAME ? t ? "touchend" : "click" : "touchend", s._popupInputMethod)
            }
        }
        ;
        s._popupInputMethod = function(t) {
            if (!laya.display.Input.isInputting)
                return;
            var e = laya.display.Input.inputElement;
            e.focus()
        }
        ;
        s._createInputElement = function() {
            s._initInput(s.area = He.createElement("textarea"));
            s._initInput(s.input = He.createElement("input"));
            s.inputContainer = He.createElement("div");
            s.inputContainer.style.position = "absolute";
            s.inputContainer.style.zIndex = 1e5;
            He.container.appendChild(s.inputContainer);
            s.inputContainer.setPos = function(t, e) {
                s.inputContainer.style.left = t + "px";
                s.inputContainer.style.top = e + "px"
            }
        }
        ;
        s._initInput = function(e) {
            var t = e.style;
            t.cssText = "position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;";
            t.resize = "none";
            t.backgroundColor = "transparent";
            t.border = "none";
            t.outline = "none";
            t.zIndex = 1;
            e.addEventListener("input", s._processInputting);
            e.addEventListener("mousemove", s._stopEvent);
            e.addEventListener("mousedown", s._stopEvent);
            e.addEventListener("touchmove", s._stopEvent);
            e.setFontFace = function(t) {
                e.style.fontFamily = t
            }
            ;
            if (!Be.isConchApp) {
                e.setColor = function(t) {
                    e.style.color = t
                }
                ;
                e.setFontSize = function(t) {
                    e.style.fontSize = t + "px"
                }
            }
        }
        ;
        s._processInputting = function(t) {
            var e = laya.display.Input.inputElement.target;
            if (!e)
                return;
            var i = laya.display.Input.inputElement.value;
            if (e._restrictPattern) {
                i = i.replace(/\u2006|\x27/g, "");
                if (e._restrictPattern.test(i)) {
                    i = i.replace(e._restrictPattern, "");
                    laya.display.Input.inputElement.value = i
                }
            }
            e._text = i;
            e.event("input")
        }
        ;
        s._stopEvent = function(t) {
            if (t.type == "touchmove")
                t.preventDefault();
            t.stopPropagation && t.stopPropagation()
        }
        ;
        s.TYPE_TEXT = "text";
        s.TYPE_PASSWORD = "password";
        s.TYPE_EMAIL = "email";
        s.TYPE_URL = "url";
        s.TYPE_NUMBER = "number";
        s.TYPE_RANGE = "range";
        s.TYPE_DATE = "date";
        s.TYPE_MONTH = "month";
        s.TYPE_WEEK = "week";
        s.TYPE_TIME = "time";
        s.TYPE_DATE_TIME = "datetime";
        s.TYPE_DATE_TIME_LOCAL = "datetime-local";
        s.TYPE_SEARCH = "search";
        s.input = null;
        s.area = null;
        s.inputElement = null;
        s.inputContainer = null;
        s.confirmButton = null;
        s.promptStyleDOM = null;
        s.inputHeight = 45;
        s.isInputting = false;
        s.stageMatrix = null;
        u(s, ["IOS_IFRAME", function() {
            return this.IOS_IFRAME = He.onIOS && He.window.top != He.window.self
        }
        ]);
        return s
    }(hs);
    var tr = function(t) {
        function e() {
            this.isWorking = false;
            this.count = 0;
            this.mTime = 0;
            e.__super.call(this);
            this.txt.fontSize = 12
        }
        x(e, "laya.debug.view.nodeInfo.recinfos.ReCacheRecInfo", t);
        var i = e.prototype;
        i.addCount = function(t) {
            t === void 0 && (t = 0);
            this.count++;
            this.mTime += t;
            if (!this.isWorking) {
                this.working = true
            }
        }
        ;
        i.updates = function() {
            if (!this._tar["displayedInStage"]) {
                this.working = false;
                this.removeSelf()
            }
            this.txt.text = $.getNodeClassAndName(this._tar) + "\n" + "reCache:" + this.count + "\ntime:" + this.mTime;
            if (this.count > 0) {
                this.fresh();
                st.timer.clear(this, this.removeSelfLater)
            } else {
                this.working = false;
                st.timer.once(3e3, this, this.removeSelfLater)
            }
            this.count = 0;
            this.mTime = 0
        }
        ;
        i.removeSelfLater = function() {
            this.working = false;
            this.removeSelf()
        }
        ;
        p(0, i, "working", null, function(t) {
            this.isWorking = t;
            if (t) {
                st.timer.loop(1e3, this, this.updates)
            } else {
                st.timer.clear(this, this.updates)
            }
        });
        e.showTime = 3e3;
        return e
    }(gs);
    var er = function(t) {
        function c() {
            this._frames = null;
            this._url = null;
            c.__super.call(this);
            this._setControlNode(this)
        }
        x(c, "laya.display.Animation", t);
        var e = c.prototype;
        e.destroy = function(t) {
            t === void 0 && (t = true);
            this.stop();
            laya.display.Sprite.prototype.destroy.call(this, t);
            this._frames = null;
            this._labels = null
        }
        ;
        e.play = function(t, e, i, n) {
            t === void 0 && (t = 0);
            e === void 0 && (e = true);
            i === void 0 && (i = "");
            n === void 0 && (n = true);
            if (i)
                this._setFramesFromCache(i, n);
            this._isPlaying = true;
            this.index = typeof t == "string" ? this._getFrameByLabel(t) : t;
            this.loop = e;
            this._actionName = i;
            this._isReverse = this.wrapMode == 1;
            if (this._frames && this.interval > 0) {
                this.timerLoop(this.interval, this, this._frameLoop, null, true, true)
            }
        }
        ;
        e._setFramesFromCache = function(t, e) {
            e === void 0 && (e = false);
            if (this._url)
                t = this._url + "#" + t;
            if (t && c.framesMap[t]) {
                var i;
                i = c.framesMap[t];
                if (i instanceof Array) {
                    this._frames = c.framesMap[t];
                    this._count = this._frames.length
                } else {
                    if (i.nodeRoot) {
                        c.framesMap[t] = this._parseGraphicAnimationByData(i);
                        i = c.framesMap[t]
                    }
                    this._frames = i.frames;
                    this._count = this._frames.length;
                    if (!this._frameRateChanged)
                        this._interval = i.interval;
                    this._labels = this._copyLabels(i.labels)
                }
                return true
            } else {
                if (e)
                    console.log("ani not found:", t)
            }
            return false
        }
        ;
        e._copyLabels = function(t) {
            if (!t)
                return null;
            var e;
            e = {};
            var i;
            for (i in t) {
                e[i] = ai.copyArray([], t[i])
            }
            return e
        }
        ;
        e._frameLoop = function() {
            if (this._style.visible && this._style.alpha > .01) {
                t.prototype._frameLoop.call(this)
            }
        }
        ;
        e._displayToIndex = function(t) {
            if (this._frames)
                this.graphics = this._frames[t]
        }
        ;
        e.clear = function() {
            this.stop();
            this.graphics = null;
            this._frames = null;
            this._labels = null
        }
        ;
        e.loadImages = function(t, e) {
            e === void 0 && (e = "");
            this._url = "";
            if (!this._setFramesFromCache(e)) {
                this.frames = c.framesMap[e] ? c.framesMap[e] : c.createFrames(t, e)
            }
            return this
        }
        ;
        e.loadAtlas = function(e, i, n) {
            n === void 0 && (n = "");
            this._url = "";
            var s = this;
            function t(t) {
                if (e === t) {
                    s.frames = c.framesMap[n] ? c.framesMap[n] : c.createFrames(e, n);
                    if (i)
                        i.run()
                }
            }
            if (!s._setFramesFromCache(n)) {
                if (fn.getAtlas(e))
                    t(e);
                else
                    st.loader.load(e, b.create(null, t, [e]), null, "atlas")
            }
            return this
        }
        ;
        e.loadAnimation = function(t, e, i) {
            this._url = t;
            var n = this;
            if (!this._actionName)
                this._actionName = "";
            if (!n._setFramesFromCache(this._actionName)) {
                if (!i || fn.getAtlas(i)) {
                    this._loadAnimationData(t, e, i)
                } else {
                    st.loader.load(i, b.create(this, this._loadAnimationData, [t, e, i]), null, "atlas")
                }
            } else {
                n._setFramesFromCache(this._actionName, true);
                this.index = 0;
                if (e)
                    e.run()
            }
            return this
        }
        ;
        e._loadAnimationData = function(o, l, t) {
            var h = this;
            if (t && !fn.getAtlas(t)) {
                console.warn("atlas load fail:" + t);
                return
            }
            var u = this;
            function e(t) {
                if (!fn.getRes(t))
                    return;
                if (o === t) {
                    var e;
                    if (!c.framesMap[o + "#"]) {
                        var i = u._parseGraphicAnimation(fn.getRes(o));
                        if (!i)
                            return;
                        var n = i.animationList;
                        var s = 0
                          , r = n.length;
                        var a;
                        for (s = 0; s < r; s++) {
                            e = n[s];
                            c.framesMap[o + "#" + e.name] = e;
                            if (!a)
                                a = e
                        }
                        if (a) {
                            c.framesMap[o + "#"] = a;
                            u._setFramesFromCache(h._actionName, true);
                            h.index = 0
                        }
                        h._checkResumePlaying()
                    } else {
                        u._setFramesFromCache(h._actionName, true);
                        h.index = 0;
                        h._checkResumePlaying()
                    }
                    if (l)
                        l.run()
                }
            }
            if (fn.getRes(o))
                e(o);
            else
                st.loader.load(o, b.create(null, e, [o]), null, "json");
            fn.clearRes(o)
        }
        ;
        e._parseGraphicAnimation = function(t) {
            return Yr.parseAnimationData(t)
        }
        ;
        e._parseGraphicAnimationByData = function(t) {
            return Yr.parseAnimationByData(t)
        }
        ;
        p(0, e, "frames", function() {
            return this._frames
        }, function(t) {
            this._frames = t;
            if (t) {
                this._count = t.length;
                if (this._isPlaying)
                    this.play(this._index, this.loop, this._actionName);
                else
                    this.index = this._index
            }
        });
        p(0, e, "autoPlay", null, function(t) {
            if (t)
                this.play();
            else
                this.stop()
        });
        p(0, e, "source", null, function(t) {
            if (t.indexOf(".ani") > -1)
                this.loadAnimation(t);
            else if (t.indexOf(".json") > -1 || t.indexOf("als") > -1 || t.indexOf("atlas") > -1)
                this.loadAtlas(t);
            else
                this.loadImages(t.split(","))
        });
        p(0, e, "autoAnimation", null, function(t) {
            this.play(0, true, t, false)
        });
        c.createFrames = function(t, e) {
            var i, n = 0, s = 0, r;
            if (typeof t == "string") {
                var a = fn.getAtlas(t);
                if (a && a.length) {
                    i = [];
                    for (n = 0,
                    s = a.length; n < s; n++) {
                        r = new G.createGraphics;
                        r.drawTexture(fn.getRes(a[n]), 0, 0);
                        i.push(r)
                    }
                }
            } else if (t instanceof Array) {
                i = [];
                for (n = 0,
                s = t.length; n < s; n++) {
                    r = new G.createGraphics;
                    r.loadImage(t[n], 0, 0);
                    i.push(r)
                }
            }
            if (e)
                c.framesMap[e] = i;
            return i
        }
        ;
        c.clearCache = function(t) {
            var e = c.framesMap;
            var i;
            var n = t + "#";
            for (i in e) {
                if (i === t || i.indexOf(n) == 0) {
                    delete c.framesMap[i]
                }
            }
        }
        ;
        c.framesMap = {};
        return c
    }(bs);
    var ir = function(t) {
        function r() {
            this._targetDic = null;
            this._animationData = null;
            this._animationNewFrames = null;
            r.__super.call(this);
            if (r._sortIndexFun == null) {
                r._sortIndexFun = we.sortByKey("index", false, true)
            }
        }
        x(r, "laya.display.FrameAnimation", t);
        var e = r.prototype;
        e._setUp = function(t, e) {
            this._labels = null;
            this._animationNewFrames = null;
            this._targetDic = t;
            this._animationData = e;
            this.interval = 1e3 / e.frameRate;
            if (e.parsed) {
                this._count = e.count;
                this._labels = e.labels;
                this._animationNewFrames = e.animationNewFrames
            } else {
                this._animationNewFrames = [];
                this._calculateDatas()
            }
            e.parsed = true;
            e.labels = this._labels;
            e.count = this._count;
            e.animationNewFrames = this._animationNewFrames
        }
        ;
        e.clear = function() {
            t.prototype.clear.call(this);
            this._targetDic = null;
            this._animationData = null
        }
        ;
        e._displayToIndex = function(t) {
            if (!this._animationData)
                return;
            if (t < 0)
                t = 0;
            if (t > this._count)
                t = this._count;
            var e = this._animationData.nodes
              , i = 0
              , n = e.length;
            for (i = 0; i < n; i++) {
                this._displayNodeToFrame(e[i], t)
            }
        }
        ;
        e._displayNodeToFrame = function(t, e, i) {
            if (!i)
                i = this._targetDic;
            var n = i[t.target];
            if (!n) {
                return
            }
            var s = t.frames, r, a, o;
            var l = t.keys
              , h = 0
              , u = l.length;
            for (h = 0; h < u; h++) {
                r = l[h];
                a = s[r];
                if (a.length > e) {
                    o = a[e]
                } else {
                    o = a[a.length - 1]
                }
                n[r] = o
            }
        }
        ;
        e._calculateDatas = function() {
            if (!this._animationData)
                return;
            var t = this._animationData.nodes, e = 0, i = t.length, n;
            this._count = 0;
            for (e = 0; e < i; e++) {
                n = t[e];
                this._calculateNodeKeyFrames(n)
            }
            this._count += 1
        }
        ;
        e._calculateNodeKeyFrames = function(t) {
            var e = t.keyframes, i, n, s = t.target;
            if (!t.frames) {
                t.frames = {}
            }
            if (!t.keys) {
                t.keys = []
            } else {
                t.keys.length = 0
            }
            if (!t.initValues) {
                t.initValues = {}
            }
            for (i in e) {
                n = e[i];
                if (!t.frames[i]) {
                    t.frames[i] = []
                }
                if (this._targetDic && this._targetDic[s]) {
                    t.initValues[i] = this._targetDic[s][i]
                }
                n.sort(r._sortIndexFun);
                t.keys.push(i);
                this._calculateNodePropFrames(n, t.frames[i], i, s)
            }
        }
        ;
        e.resetToInitState = function() {
            if (!this._targetDic)
                return;
            if (!this._animationData)
                return;
            var t = this._animationData.nodes
              , e = 0
              , i = t.length;
            var n;
            var s;
            for (e = 0; e < i; e++) {
                n = t[e];
                s = n.initValues;
                if (!s)
                    continue;
                var r = this._targetDic[n.target];
                if (!r)
                    continue;
                var a;
                for (a in s) {
                    r[a] = s[a]
                }
            }
        }
        ;
        e._calculateNodePropFrames = function(t, e, i, n) {
            var s = 0
              , r = t.length - 1;
            e.length = t[r].index + 1;
            for (s = 0; s < r; s++) {
                this._dealKeyFrame(t[s]);
                this._calculateFrameValues(t[s], t[s + 1], e)
            }
            if (r == 0) {
                e[t[0].index] = t[0].value;
                if (this._animationNewFrames)
                    this._animationNewFrames[t[0].index] = true
            }
            this._dealKeyFrame(t[s])
        }
        ;
        e._dealKeyFrame = function(t) {
            if (t.label && t.label != "")
                this.addLabel(t.label, t.index)
        }
        ;
        e._calculateFrameValues = function(t, e, i) {
            var n = 0, s;
            var r = t.index
              , a = e.index;
            var o = t.value;
            var l = e.value - t.value;
            var h = a - r;
            if (a > this._count)
                this._count = a;
            if (t.tween) {
                s = qe[t.tweenMethod];
                if (s == null) {
                    s = qe.linearNone
                }
                for (n = r; n < a; n++) {
                    i[n] = s(n - r, o, l, h);
                    if (this._animationNewFrames) {
                        this._animationNewFrames[n] = true
                    }
                }
            } else {
                for (n = r; n < a; n++) {
                    i[n] = o
                }
            }
            if (this._animationNewFrames) {
                this._animationNewFrames[t.index] = true;
                this._animationNewFrames[e.index] = true
            }
            i[e.index] = e.value
        }
        ;
        r._sortIndexFun = null;
        return r
    }(bs);
    var nr = function(t) {
        function e() {
            e.__super.call(this, e.vs, e.ps, "ParticleShader")
        }
        x(e, "laya.particle.shader.ParticleShader", t);
        u(e, ["vs", function() {
            return this.vs = "attribute vec4 a_CornerTextureCoordinate;\nattribute vec3 a_Position;\nattribute vec3 a_Velocity;\nattribute vec4 a_StartColor;\nattribute vec4 a_EndColor;\nattribute vec3 a_SizeRotation;\nattribute vec2 a_Radius;\nattribute vec4 a_Radian;\nattribute float a_AgeAddScale;\nattribute float a_Time;\n\nvarying vec4 v_Color;\nvarying vec2 v_TextureCoordinate;\n\nuniform float u_CurrentTime;\nuniform float u_Duration;\nuniform float u_EndVelocity;\nuniform vec3 u_Gravity;\n\n#ifdef PARTICLE3D\n uniform mat4 u_WorldMat;\n uniform mat4 u_View;\n uniform mat4 u_Projection;\n uniform vec2 u_ViewportScale;\n#else\n uniform vec2 size;\n uniform mat4 mmat;\n uniform mat4 u_mmat;\n#endif\n\nvec4 ComputeParticlePosition(in vec3 position, in vec3 velocity,in float age,in float normalizedAge)\n{\n\n   float startVelocity = length(velocity);//起始标量速度\n   float endVelocity = startVelocity * u_EndVelocity;//结束标量速度\n\n   float velocityIntegral = startVelocity * normalizedAge +(endVelocity - startVelocity) * normalizedAge *normalizedAge/2.0;//计算当前速度的标量（单位空间），vt=v0*t+(1/2)*a*(t^2)\n   \n   vec3 addPosition = normalize(velocity) * velocityIntegral * u_Duration;//计算受自身速度影响的位置，转换标量到矢量    \n   addPosition += u_Gravity * age * normalizedAge;//计算受重力影响的位置\n   \n   float radius=mix(a_Radius.x, a_Radius.y, normalizedAge); //计算粒子受半径和角度影响（无需计算角度和半径时，可用宏定义优化屏蔽此计算）\n   float radianHorizontal =mix(a_Radian.x,a_Radian.z,normalizedAge);\n   float radianVertical =mix(a_Radian.y,a_Radian.w,normalizedAge);\n   \n   float r =cos(radianVertical)* radius;\n   addPosition.y += sin(radianVertical) * radius;\n\t\n   addPosition.x += cos(radianHorizontal) *r;\n   addPosition.z += sin(radianHorizontal) *r;\n  \n   #ifdef PARTICLE3D\n   position+=addPosition;\n    return  u_Projection*u_View*u_WorldMat*(vec4(position, 1.0));\n   #else\n   addPosition.y=-addPosition.y;//2D粒子位置更新需要取负，2D粒子坐标系Y轴正向朝上\n   position+=addPosition;\n    return  vec4(position,1.0);\n   #endif\n}\n\nfloat ComputeParticleSize(in float startSize,in float endSize, in float normalizedAge)\n{    \n    float size = mix(startSize, endSize, normalizedAge);\n    \n\t#ifdef PARTICLE3D\n    //Project the size into screen coordinates.\n     return size * u_Projection[1][1];\n\t#else\n\t return size;\n\t#endif\n}\n\nmat2 ComputeParticleRotation(in float rot,in float age)\n{    \n    float rotation =rot * age;\n    //计算2x2旋转矩阵.\n    float c = cos(rotation);\n    float s = sin(rotation);\n    return mat2(c, -s, s, c);\n}\n\nvec4 ComputeParticleColor(in vec4 startColor,in vec4 endColor,in float normalizedAge)\n{\n\tvec4 color=mix(startColor,endColor,normalizedAge);\n    //硬编码设置，使粒子淡入很快，淡出很慢,6.7的缩放因子把置归一在0到1之间，可以谷歌x*(1-x)*(1-x)*6.7的制图表\n    color.a *= normalizedAge * (1.0-normalizedAge) * (1.0-normalizedAge) * 6.7;\n   \n    return color;\n}\n\nvoid main()\n{\n   float age = u_CurrentTime - a_Time;\n   age *= 1.0 + a_AgeAddScale;\n   float normalizedAge = clamp(age / u_Duration,0.0,1.0);\n   gl_Position = ComputeParticlePosition(a_Position, a_Velocity, age, normalizedAge);//计算粒子位置\n   float pSize = ComputeParticleSize(a_SizeRotation.x,a_SizeRotation.y, normalizedAge);\n   mat2 rotation = ComputeParticleRotation(a_SizeRotation.z, age);\n\t\n   #ifdef PARTICLE3D\n\tgl_Position.xy += (rotation*a_CornerTextureCoordinate.xy) * pSize * u_ViewportScale;\n   #else\n    mat4 mat=u_mmat*mmat;\n    gl_Position=vec4((mat*gl_Position).xy,0.0,1.0);\n\tgl_Position.xy += (rotation*a_CornerTextureCoordinate.xy) * pSize*vec2(mat[0][0],mat[1][1]);\n    gl_Position=vec4((gl_Position.x/size.x-0.5)*2.0,(0.5-gl_Position.y/size.y)*2.0,0.0,1.0);\n   #endif\n   \n   v_Color = ComputeParticleColor(a_StartColor,a_EndColor, normalizedAge);\n   v_TextureCoordinate =a_CornerTextureCoordinate.zw;\n}\n\n"
        }
        , "ps", function() {
            return this.ps = "#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\nvarying vec4 v_Color;\nvarying vec2 v_TextureCoordinate;\nuniform sampler2D u_texture;\n\nvoid main()\n{\t\n\tgl_FragColor=texture2D(u_texture,v_TextureCoordinate)*v_Color;\n\tgl_FragColor.xyz *= v_Color.w;\n}"
        }
        ]);
        return e
    }(ws);
    var sr = function(t) {
        function s(t, e, i, n) {
            this._params2dQuick1 = null;
            this._params2dQuick2 = null;
            this._shaderValueWidth = NaN;
            this._shaderValueHeight = NaN;
            s.__super.call(this, t, e, i, n)
        }
        x(s, "laya.webgl.shader.d2.Shader2X", t);
        var e = s.prototype;
        e.upload2dQuick1 = function(t) {
            this.upload(t, this._params2dQuick1 || this._make2dQuick1())
        }
        ;
        e._make2dQuick1 = function() {
            if (!this._params2dQuick1) {
                this.activeResource();
                this._params2dQuick1 = [];
                var t = this._params, e;
                for (var i = 0, n = t.length; i < n; i++) {
                    e = t[i];
                    if (!Be.isFlash && (e.name === "size" || e.name === "position" || e.name === "texcoord"))
                        continue;
                    this._params2dQuick1.push(e)
                }
            }
            return this._params2dQuick1
        }
        ;
        e.disposeResource = function() {
            t.prototype.disposeResource.call(this);
            this._params2dQuick1 = null;
            this._params2dQuick2 = null
        }
        ;
        e.upload2dQuick2 = function(t) {
            this.upload(t, this._params2dQuick2 || this._make2dQuick2())
        }
        ;
        e._make2dQuick2 = function() {
            if (!this._params2dQuick2) {
                this.activeResource();
                this._params2dQuick2 = [];
                var t = this._params, e;
                for (var i = 0, n = t.length; i < n; i++) {
                    e = t[i];
                    if (!Be.isFlash && e.name === "size")
                        continue;
                    this._params2dQuick2.push(e)
                }
            }
            return this._params2dQuick2
        }
        ;
        s.create = function(t, e, i, n) {
            return new s(t,e,i,n)
        }
        ;
        return s
    }(ws);
    var rr = function(t) {
        function i(t, e) {
            this._recreateLock = false;
            this._needReleaseAgain = false;
            this._enableMerageInAtlas = true;
            i.__super.call(this);
            this._init_(t, e)
        }
        x(i, "laya.resource.HTMLImage", t);
        var e = i.prototype;
        e._init_ = function(t, e) {
            this._src = t;
            this._source = new He.window.Image;
            if (e) {
                e.onload && (this.onload = e.onload);
                e.onerror && (this.onerror = e.onerror);
                e.onCreate && e.onCreate(this)
            }
            if (t.indexOf("data:image") != 0)
                this._source.crossOrigin = "";
            t && (this._source.src = t)
        }
        ;
        e.recreateResource = function() {
            var t = this;
            if (this._src === "")
                throw new Error("src no null！");
            this._needReleaseAgain = false;
            if (!this._source) {
                this._recreateLock = true;
                var e = this;
                this._source = new He.window.Image;
                this._source.crossOrigin = "";
                this._source.onload = function() {
                    if (e._needReleaseAgain) {
                        e._needReleaseAgain = false;
                        e._source.onload = null;
                        e._source = null;
                        return
                    }
                    e._source.onload = null;
                    e.memorySize = t._w * t._h * 4;
                    e._recreateLock = false;
                    e.completeCreate()
                }
                ;
                this._source.src = this._src
            } else {
                if (this._recreateLock)
                    return;
                this.memorySize = this._w * this._h * 4;
                this._recreateLock = false;
                this.completeCreate()
            }
        }
        ;
        e.disposeResource = function() {
            if (this._recreateLock)
                this._needReleaseAgain = true;
            this._source && (this._source = null,
            this.memorySize = 0)
        }
        ;
        e.onresize = function() {
            this._w = this._source.width;
            this._h = this._source.height
        }
        ;
        p(0, e, "onload", null, function(t) {
            var e = this;
            this._onload = t;
            this._source && (this._source.onload = this._onload != null ? function() {
                e.onresize();
                e._onload()
            }
            : null)
        });
        p(0, e, "onerror", null, function(t) {
            var e = this;
            this._onerror = t;
            this._source && (this._source.onerror = this._onerror != null ? function() {
                e._onerror()
            }
            : null)
        });
        p(0, e, "enableMerageInAtlas", function() {
            return this._enableMerageInAtlas
        }, function(t) {
            this._enableMerageInAtlas = t;
            if (Be.isConchApp) {
                if (this._source)
                    this._source.enableMerageInAtlas = t
            }
        });
        i.create = function(t, e) {
            return new i(t,e)
        }
        ;
        return i
    }(Cs);
    var ar = function(t) {
        function e(t) {
            this._uint8Array = null;
            this._uint16Array = null;
            t === void 0 && (t = 35044);
            e.__super.call(this);
            this._bufferUsage = t;
            this._bufferType = 34963;
            Be.isFlash || (this._buffer = new ArrayBuffer(8))
        }
        x(e, "laya.webgl.utils.IndexBuffer2D", t);
        var i = e.prototype;
        i._checkArrayUse = function() {
            this._uint8Array && (this._uint8Array = new Uint8Array(this._buffer));
            this._uint16Array && (this._uint16Array = new Uint16Array(this._buffer))
        }
        ;
        i.getUint8Array = function() {
            return this._uint8Array || (this._uint8Array = new Uint8Array(this._buffer))
        }
        ;
        i.getUint16Array = function() {
            return this._uint16Array || (this._uint16Array = new Uint16Array(this._buffer))
        }
        ;
        i.destory = function() {
            this._uint16Array = null;
            this._uint8Array = null;
            this._buffer = null
        }
        ;
        e.QuadrangleIB = null;
        e.create = function(t) {
            t === void 0 && (t = 35044);
            return new e(t)
        }
        ;
        return e
    }(Ls);
    var or = function(i) {
        function n(t, e) {
            this._floatArray32 = null;
            this._vertexStride = 0;
            n.__super.call(this);
            this._vertexStride = t;
            this._bufferUsage = e;
            this._bufferType = 34962;
            Be.isFlash || (this._buffer = new ArrayBuffer(8));
            this.getFloat32Array()
        }
        x(n, "laya.webgl.utils.VertexBuffer2D", i);
        var t = n.prototype;
        t.getFloat32Array = function() {
            return this._floatArray32 || (this._floatArray32 = new Float32Array(this._buffer))
        }
        ;
        t.bind = function(t) {
            t && t._bind();
            this._bind()
        }
        ;
        t.insertData = function(t, e) {
            var i = this.getFloat32Array();
            i.set(t, e);
            this._upload = true
        }
        ;
        t.bind_upload = function(t) {
            t._bind_upload() || t._bind();
            this._bind_upload() || this._bind()
        }
        ;
        t._checkArrayUse = function() {
            this._floatArray32 && (this._floatArray32 = new Float32Array(this._buffer))
        }
        ;
        t.disposeResource = function() {
            i.prototype.disposeResource.call(this);
            return;
            var t = Hn._enableAtributes;
            if (!Be.isConchWebGL) {
                for (var e = 0; e < 10; e++) {
                    Hi.mainContext.disableVertexAttribArray(e);
                    t[e] = null
                }
            }
        }
        ;
        t.destory = function() {
            this._byteLength = 0;
            this._upload = true;
            this._buffer = null;
            this._floatArray32 = null
        }
        ;
        p(0, t, "vertexStride", function() {
            return this._vertexStride
        });
        n.create = function(t, e) {
            e === void 0 && (e = 35048);
            return new n(t,e)
        }
        ;
        return n
    }(Ls);
    var lr = function(t) {
        function e() {
            this._content = null;
            this._vScrollBar = null;
            this._hScrollBar = null;
            this._scrollChanged = false;
            this._isHScrollBalLeft = false;
            e.__super.call(this);
            this.width = this.height = 100
        }
        x(e, "laya.ui.Panel", t);
        var i = e.prototype;
        i.destroy = function(t) {
            t === void 0 && (t = true);
            laya.ui.Component.prototype.destroy.call(this, t);
            this._content && this._content.destroy(t);
            this._vScrollBar && this._vScrollBar.destroy(t);
            this._hScrollBar && this._hScrollBar.destroy(t);
            this._vScrollBar = null;
            this._hScrollBar = null;
            this._content = null
        }
        ;
        i.destroyChildren = function() {
            this._content.destroyChildren()
        }
        ;
        i.createChildren = function() {
            laya.display.Node.prototype.addChild.call(this, this._content = new Ns)
        }
        ;
        i.addChild = function(t) {
            t.on("resize", this, this.onResize);
            this._setScrollChanged();
            return this._content.addChild(t)
        }
        ;
        i.rawAddChild = function(t) {
            return laya.display.Node.prototype.addChild.call(this, t)
        }
        ;
        i.onResize = function() {
            this._setScrollChanged()
        }
        ;
        i.addChildAt = function(t, e) {
            t.on("resize", this, this.onResize);
            this._setScrollChanged();
            return this._content.addChildAt(t, e)
        }
        ;
        i.removeChild = function(t) {
            t.off("resize", this, this.onResize);
            this._setScrollChanged();
            return this._content.removeChild(t)
        }
        ;
        i.removeChildAt = function(t) {
            this.getChildAt(t).off("resize", this, this.onResize);
            this._setScrollChanged();
            return this._content.removeChildAt(t)
        }
        ;
        i.removeChildren = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 2147483647);
            this._content.removeChildren(t, e);
            this._setScrollChanged();
            return this
        }
        ;
        i.getChildAt = function(t) {
            return this._content.getChildAt(t)
        }
        ;
        i.getChildByName = function(t) {
            return this._content.getChildByName(t)
        }
        ;
        i.getChildIndex = function(t) {
            return this._content.getChildIndex(t)
        }
        ;
        i.changeScroll = function() {
            this._scrollChanged = false;
            var t = this.contentWidth || 1;
            var e = this.contentHeight || 1;
            var i = this._vScrollBar;
            var n = this._hScrollBar;
            var s = i && e > this._height;
            var r = n && t > this._width;
            var a = s ? this._width - i.width : this._width;
            var o = r ? this._height - n.height : this._height;
            if (i) {
                if (!this._isHScrollBalLeft)
                    i.x = this._width - i.width;
                else
                    i.x = -i.width;
                i.y = 0;
                i.height = this._height - (r ? n.height : 0);
                i.scrollSize = Math.max(this._height * .033, 1);
                i.thumbPercent = o / e;
                i.setScroll(0, e - o, i.value)
            }
            if (n) {
                n.x = 0;
                n.y = this._height - n.height;
                n.width = this._width - (s ? i.width : 0);
                n.scrollSize = Math.max(this._width * .033, 1);
                n.thumbPercent = a / t;
                n.setScroll(0, t - a, n.value)
            }
        }
        ;
        i.changeSize = function() {
            laya.ui.Component.prototype.changeSize.call(this);
            this.setContentSize(this._width, this._height)
        }
        ;
        i.setContentSize = function(t, e) {
            var i = this._content;
            i.width = t;
            i.height = e;
            i.scrollRect || (i.scrollRect = new Te);
            i.scrollRect.setTo(i.scrollRect.x, i.scrollRect.y, t, e);
            i.scrollRect = i.scrollRect
        }
        ;
        i.onScrollBarChange = function(t) {
            var e = this._content.scrollRect;
            if (e) {
                var i = Math.round(t.value);
                t.isVertical ? e.y = i : e.x = i;
                this._content.scrollRect = e
            }
        }
        ;
        i.scrollTo = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            if (this.vScrollBar)
                this.vScrollBar.value = e;
            if (this.hScrollBar)
                this.hScrollBar.value = t
        }
        ;
        i.refresh = function() {
            this.changeScroll()
        }
        ;
        i.onScrollStart = function() {
            this._$P.cacheAs || (this._$P.cacheAs = st.superGet(Ns, this, "cacheAs"));
            st.superSet(Ns, this, "cacheAs", "none");
            this._hScrollBar && this._hScrollBar.once("end", this, this.onScrollEnd);
            this._vScrollBar && this._vScrollBar.once("end", this, this.onScrollEnd)
        }
        ;
        i.onScrollEnd = function() {
            st.superSet(Ns, this, "cacheAs", this._$P.cacheAs)
        }
        ;
        i._setScrollChanged = function() {
            if (!this._scrollChanged) {
                this._scrollChanged = true;
                this.callLater(this.changeScroll)
            }
        }
        ;
        p(0, i, "numChildren", function() {
            return this._content.numChildren
        });
        p(0, i, "isHScrollBalLeft", function() {
            return this._isHScrollBalLeft
        }, function(t) {
            this._isHScrollBalLeft = t
        });
        p(0, i, "hScrollBarSkin", function() {
            return this._hScrollBar ? this._hScrollBar.skin : null
        }, function(t) {
            if (this._hScrollBar == null) {
                laya.display.Node.prototype.addChild.call(this, this._hScrollBar = new yr);
                this._hScrollBar.on("change", this, this.onScrollBarChange, [this._hScrollBar]);
                this._hScrollBar.target = this._content;
                this._setScrollChanged()
            }
            this._hScrollBar.skin = t
        });
        p(0, i, "contentWidth", function() {
            var t = 0;
            for (var e = this._content.numChildren - 1; e > -1; e--) {
                var i = this._content.getChildAt(e);
                t = Math.max(i.x + i.width * i.scaleX, t)
            }
            return t
        });
        p(0, i, "contentHeight", function() {
            var t = 0;
            for (var e = this._content.numChildren - 1; e > -1; e--) {
                var i = this._content.getChildAt(e);
                t = Math.max(i.y + i.height * i.scaleY, t)
            }
            return t
        });
        p(0, i, "hScrollBar", function() {
            return this._hScrollBar
        });
        p(0, i, "width", t.prototype._$get_width, function(t) {
            st.superSet(Ns, this, "width", t);
            this._setScrollChanged()
        });
        p(0, i, "content", function() {
            return this._content
        });
        p(0, i, "height", t.prototype._$get_height, function(t) {
            st.superSet(Ns, this, "height", t);
            this._setScrollChanged()
        });
        p(0, i, "vScrollBarSkin", function() {
            return this._vScrollBar ? this._vScrollBar.skin : null
        }, function(t) {
            if (this._vScrollBar == null) {
                laya.display.Node.prototype.addChild.call(this, this._vScrollBar = new wr);
                this._vScrollBar.on("change", this, this.onScrollBarChange, [this._vScrollBar]);
                this._vScrollBar.target = this._content;
                this._setScrollChanged()
            }
            this._vScrollBar.skin = t
        });
        p(0, i, "vScrollBar", function() {
            return this._vScrollBar
        });
        p(0, i, "cacheAs", t.prototype._$get_cacheAs, function(t) {
            st.superSet(Ns, this, "cacheAs", t);
            this._$P.cacheAs = null;
            if (t !== "none") {
                this._hScrollBar && this._hScrollBar.on("start", this, this.onScrollStart);
                this._vScrollBar && this._vScrollBar.on("start", this, this.onScrollStart)
            } else {
                this._hScrollBar && this._hScrollBar.off("start", this, this.onScrollStart);
                this._vScrollBar && this._vScrollBar.off("start", this, this.onScrollStart)
            }
        });
        return e
    }(Ns);
    var hr = function(e) {
        function i(t) {
            this._bg = null;
            this._skin = null;
            i.__super.call(this);
            t === void 0 && (t = "");
            this.text = t;
            this.skin = this.skin
        }
        x(i, "laya.ui.TextInput", e);
        var t = i.prototype;
        t.preinitialize = function() {
            this.mouseEnabled = true
        }
        ;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._bg && this._bg.destroy();
            this._bg = null
        }
        ;
        t.createChildren = function() {
            this.addChild(this._tf = new $s);
            this._tf.padding = Oe.inputLabelPadding;
            this._tf.on("input", this, this._onInput);
            this._tf.on("enter", this, this._onEnter);
            this._tf.on("blur", this, this._onBlur);
            this._tf.on("focus", this, this._onFocus)
        }
        ;
        t._onFocus = function() {
            this.event("focus", this)
        }
        ;
        t._onBlur = function() {
            this.event("blur", this)
        }
        ;
        t._onInput = function() {
            this.event("input", this)
        }
        ;
        t._onEnter = function() {
            this.event("enter", this)
        }
        ;
        t.initialize = function() {
            this.width = 128;
            this.height = 22
        }
        ;
        t.select = function() {
            this._tf.select()
        }
        ;
        t.setSelection = function(t, e) {
            this._tf.setSelection(t, e)
        }
        ;
        p(0, t, "text", e.prototype._$get_text, function(t) {
            if (this._tf.text != t) {
                t = t + "";
                this._tf.text = t;
                this.event("change")
            }
        });
        p(0, t, "bg", function() {
            return this._bg
        }, function(t) {
            this.graphics = this._bg = t
        });
        p(0, t, "inputElementYAdjuster", function() {
            return this._tf.inputElementYAdjuster
        }, function(t) {
            this._tf.inputElementYAdjuster = t
        });
        p(0, t, "multiline", function() {
            return this._tf.multiline
        }, function(t) {
            this._tf.multiline = t
        });
        p(0, t, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                this._bg || (this.graphics = this._bg = new gn);
                this._bg.source = fn.getRes(this._skin);
                this._width && (this._bg.width = this._width);
                this._height && (this._bg.height = this._height)
            }
        });
        p(0, t, "sizeGrid", function() {
            return this._bg && this._bg.sizeGrid ? this._bg.sizeGrid.join(",") : null
        }, function(t) {
            this._bg || (this.graphics = this._bg = new gn);
            this._bg.sizeGrid = Ue.fillArray(Oe.defaultSizeGrid, t, Number)
        });
        p(0, t, "inputElementXAdjuster", function() {
            return this._tf.inputElementXAdjuster
        }, function(t) {
            this._tf.inputElementXAdjuster = t
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(Zs, this, "width", t);
            this._bg && (this._bg.width = t)
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(Zs, this, "height", t);
            this._bg && (this._bg.height = t)
        });
        p(0, t, "editable", function() {
            return this._tf.editable
        }, function(t) {
            this._tf.editable = t
        });
        p(0, t, "restrict", function() {
            return this._tf.restrict
        }, function(t) {
            this._tf.restrict = t
        });
        p(0, t, "prompt", function() {
            return this._tf.prompt
        }, function(t) {
            this._tf.prompt = t
        });
        p(0, t, "promptColor", function() {
            return this._tf.promptColor
        }, function(t) {
            this._tf.promptColor = t
        });
        p(0, t, "maxChars", function() {
            return this._tf.maxChars
        }, function(t) {
            this._tf.maxChars = t
        });
        p(0, t, "focus", function() {
            return this._tf.focus
        }, function(t) {
            this._tf.focus = t
        });
        p(0, t, "type", function() {
            return this._tf.type
        }, function(t) {
            this._tf.type = t
        });
        p(0, t, "asPassword", function() {
            return this._tf.asPassword
        }, function(t) {
            this._tf.asPassword = t
        });
        return i
    }(Zs);
    var ur = function(t) {
        var d;
        function _() {
            this._idMap = null;
            this._aniList = null;
            this._watchMap = {};
            _.__super.call(this)
        }
        x(_, "laya.ui.View", t);
        var e = _.prototype;
        e.createView = function(t) {
            if (t.animations && !this._idMap)
                this._idMap = {};
            _.createComp(t, this, this);
            if (t.animations) {
                var e = [];
                var i = t.animations;
                var n = 0
                  , s = i.length;
                var r;
                var a;
                for (n = 0; n < s; n++) {
                    r = new ir;
                    a = i[n];
                    r._setUp(this._idMap, a);
                    this[a.name] = r;
                    r._setControlNode(this);
                    switch (a.action) {
                    case 1:
                        r.play(0, false);
                        break;
                    case 2:
                        r.play(0, true);
                        break
                    }
                    e.push(r)
                }
                this._aniList = e
            }
            if (this._width > 0 && t.props.hitTestPrior == null && !this.mouseThrough)
                this.hitTestPrior = true
        }
        ;
        e.onEvent = function(t, e) {}
        ;
        e.loadUI = function(t) {
            var e = _.uiMap[t];
            e && this.createView(e)
        }
        ;
        e.destroy = function(t) {
            t === void 0 && (t = true);
            if (this._aniList)
                this._aniList.length = 0;
            this._idMap = null;
            this._aniList = null;
            this._watchMap = null;
            laya.ui.Component.prototype.destroy.call(this, t)
        }
        ;
        e.changeData = function(t) {
            var e = this._watchMap[t];
            if (!e)
                return;
            console.log("change", t);
            for (var i = 0, n = e.length; i < n; i++) {
                var s = e[i];
                s.exe(this)
            }
        }
        ;
        _._regs = function() {
            for (var t in _.uiClassMap) {
                Je.regClass(t, _.uiClassMap[t])
            }
        }
        ;
        _.createComp = function(t, e, i, n) {
            e = e || _.getCompInstance(t);
            if (!e) {
                console.warn("can not create:" + t.type);
                return null
            }
            var s = t.child;
            if (s) {
                var r = e instanceof laya.ui.List;
                for (var a = 0, o = s.length; a < o; a++) {
                    var l = s[a];
                    if (e.hasOwnProperty("itemRender") && (l.props.name == "render" || l.props.renderType === "render")) {
                        e.itemRender = l
                    } else if (l.type == "Graphic") {
                        Je.addGraphicsToSprite(l, e)
                    } else if (Je.isDrawType(l.type)) {
                        Je.addGraphicToSprite(l, e, true)
                    } else {
                        if (r) {
                            var h = [];
                            var u = _.createComp(l, null, i, h);
                            if (h.length)
                                u["_$bindData"] = h
                        } else {
                            u = _.createComp(l, null, i, n)
                        }
                        if (l.type == "Script") {
                            if ("owner"in u) {
                                u["owner"] = e
                            } else if ("target"in u) {
                                u["target"] = e
                            }
                        } else if (l.props.renderType == "mask" || l.props.name == "mask") {
                            e.mask = u
                        } else {
                            u instanceof laya.display.Sprite && e.addChild(u)
                        }
                    }
                }
            }
            var c = t.props;
            for (var f in c) {
                var d = c[f];
                if (_.eventDic[f]) {
                    if (d && i) {
                        e.on(f, i, i.onEvent, [d])
                    }
                } else
                    _.setCompValue(e, f, d, i, n)
            }
            if (st.__typeof(e, "laya.ui.IItem"))
                e.initItems();
            if (t.compId && i && i._idMap) {
                i._idMap[t.compId] = e
            }
            return e
        }
        ;
        _.setCompValue = function(t, e, i, n, s) {
            if (typeof i == "string" && i.indexOf("${") > -1) {
                _._sheet || (_._sheet = Je.getClass("laya.data.Table"));
                if (!_._sheet) {
                    console.warn("Can not find class Sheet");
                    return
                }
                if (s) {
                    s.push(t, e, i)
                } else if (n) {
                    if (i.indexOf("].") == -1) {
                        i = i.replace(".", "[0].")
                    }
                    var r = new d(t,e,i);
                    r.exe(n);
                    var a, o;
                    var l = i.replace(/\[.*?\]\./g, ".");
                    while ((a = _._parseWatchData.exec(l)) != null) {
                        var h = a[1];
                        while ((o = _._parseKeyWord.exec(h)) != null) {
                            var u = o[0];
                            var c = n._watchMap[u] || (n._watchMap[u] = []);
                            c.push(r);
                            _._sheet.I.notifer.on(u, n, n.changeData, [u])
                        }
                        c = n._watchMap[h] || (n._watchMap[h] = []);
                        c.push(r);
                        _._sheet.I.notifer.on(h, n, n.changeData, [h])
                    }
                }
                return
            }
            if (e === "var" && n) {
                n[i] = t
            } else if (e == "onClick") {
                var f = st._runScript("(function(){" + i + "})");
                t.on("click", n, f)
            } else {
                t[e] = i === "true" ? true : i === "false" ? false : i
            }
        }
        ;
        _.getCompInstance = function(t) {
            var e = t.props ? t.props.runtime : null;
            var i;
            i = e ? _.viewClassMap[e] || _.uiClassMap[e] || st["__classmap"][e] : _.uiClassMap[t.type];
            if (t.props && t.props.hasOwnProperty("renderType") && t.props["renderType"] == "instance")
                return i["instance"];
            return i ? new i : null
        }
        ;
        _.regComponent = function(t, e) {
            _.uiClassMap[t] = e;
            Je.regClass(t, e)
        }
        ;
        _.regViewRuntime = function(t, e) {
            _.viewClassMap[t] = e
        }
        ;
        _.uiMap = {};
        _.viewClassMap = {};
        _._sheet = null;
        u(_, ["uiClassMap", function() {
            return this.uiClassMap = {
                ViewStack: gr,
                LinkButton: Vs,
                TextArea: Ur,
                ColorPicker: Us,
                Box: Ns,
                Button: Vs,
                CheckBox: vr,
                Clip: Os,
                ComboBox: Hs,
                Component: os,
                HScrollBar: yr,
                HSlider: xr,
                Image: Es,
                Label: Zs,
                List: fr,
                Panel: lr,
                ProgressBar: Ps,
                Radio: br,
                RadioGroup: da,
                ScrollBar: ks,
                Slider: Fs,
                Tab: _a,
                TextInput: hr,
                View: _,
                VScrollBar: wr,
                VSlider: Cr,
                Tree: dr,
                HBox: ca,
                VBox: fa,
                Sprite: Dn,
                Animation: er,
                Text: hs,
                FontClip: Xr
            }
        }
        , "eventDic", function() {
            return this.eventDic = {
                mousedown: true,
                mouseup: true,
                mousemove: true,
                mouseover: true,
                mouseout: true,
                click: true,
                doubleclick: true,
                rightmousedown: true,
                rightmouseup: true,
                rightclick: true
            }
        }
        , "_parseWatchData", function() {
            return this._parseWatchData = /\${(.*?)}/g
        }
        , "_parseKeyWord", function() {
            return this._parseKeyWord = /[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g
        }
        ]);
        _.__init$ = function() {
            _._regs();
            d = function() {
                function t(t, e, i) {
                    this.comp = null;
                    this.prop = null;
                    this.value = null;
                    this.comp = t;
                    this.prop = e;
                    this.value = i
                }
                x(t, "");
                var e = t.prototype;
                e.exe = function(t) {
                    var e = Ue.getBindFun(this.value);
                    this.comp[this.prop] = e.call(this, t)
                }
                ;
                return t
            }()
        }
        ;
        return _
    }(Ns);
    var cr = function(t) {
        function l() {
            this._tY = 0;
            l.__super.call(this);
            te.setViewScale(this)
        }
        x(l, "laya.debug.uicomps.ContextMenu", t);
        var e = l.prototype;
        e.addItem = function(t) {
            this.addChild(t);
            t.y = this._tY;
            this._tY += t.height;
            t.on("mousedown", this, this.onClick)
        }
        ;
        e.onClick = function(t) {
            this.event("select", t);
            this.removeSelf()
        }
        ;
        e.show = function(t, e) {
            t === void 0 && (t = -999);
            e === void 0 && (e = -999);
            st.timer.once(100, this, l.showMenu, [this, t, e])
        }
        ;
        l.init = function() {
            st.stage.on("click", null, l.cleanMenu)
        }
        ;
        l.cleanMenu = function(t) {
            var e = 0;
            var i = 0;
            i = l._menuList.length;
            for (e = 0; e < i; e++) {
                if (l._menuList[e]) {
                    l._menuList[e].removeSelf()
                }
            }
            l._menuList.length = 0
        }
        ;
        l.showMenu = function(t, e, i) {
            e === void 0 && (e = -999);
            i === void 0 && (i = -999);
            l.cleanMenu();
            l.adptMenu(t);
            st.stage.addChild(t);
            lt.showToStage(t);
            if (e != -999 && i != -999) {
                t.pos(e, i)
            }
            l._menuList.push(t)
        }
        ;
        l.createMenu = function(t) {
            var e = arguments;
            return l.createMenuByArray(e)
        }
        ;
        l.createMenuByArray = function(t) {
            var e = new l;
            var i = false;
            var n;
            for (var s = 0, r = t.length; s < r; s++) {
                var a = t[s];
                var o = {};
                if (typeof a == "string") {
                    o.label = a
                } else {
                    o = a
                }
                if (o.label != "") {
                    n = new _r(o.label,i);
                    n.data = a;
                    e.addItem(n);
                    i = false
                } else {
                    n = new _r("",i);
                    n.data = a;
                    e.addItem(n);
                    i = true
                }
            }
            e.zOrder = 9999;
            return e
        }
        ;
        l.adptMenu = function(t) {
            var e = 80;
            var i = 80;
            var n = 0
              , s = t.numChildren;
            for (n = 0; n < s; n++) {
                e = t.getChildAt(n).width;
                if (i < e) {
                    i = e
                }
            }
            for (n = 0; n < s; n++) {
                t.getChildAt(n).width = i
            }
        }
        ;
        l._menuList = [];
        return l
    }(Ns);
    var fr = function(t) {
        function e() {
            this.selectHandler = null;
            this.renderHandler = null;
            this.mouseHandler = null;
            this.selectEnable = false;
            this.totalPage = 0;
            this._content = null;
            this._scrollBar = null;
            this._itemRender = null;
            this._repeatX = 0;
            this._repeatY = 0;
            this._repeatX2 = 0;
            this._repeatY2 = 0;
            this._spaceX = 0;
            this._spaceY = 0;
            this._array = null;
            this._startIndex = 0;
            this._selectedIndex = -1;
            this._page = 0;
            this._isVertical = true;
            this._cellSize = 20;
            this._cellOffset = 0;
            this._isMoved = false;
            this.cacheContent = false;
            this._createdLine = 0;
            this._cellChanged = false;
            this._cells = [];
            this._offset = new Se;
            e.__super.call(this)
        }
        x(e, "laya.ui.List", t);
        var i = e.prototype;
        st.imps(i, {
            "laya.ui.IRender": true,
            "laya.ui.IItem": true
        });
        i.destroy = function(t) {
            t === void 0 && (t = true);
            this._content && this._content.destroy(t);
            this._scrollBar && this._scrollBar.destroy(t);
            laya.ui.Component.prototype.destroy.call(this, t);
            this._content = null;
            this._scrollBar = null;
            this._itemRender = null;
            this._cells = null;
            this._array = null;
            this.selectHandler = this.renderHandler = this.mouseHandler = null
        }
        ;
        i.createChildren = function() {
            this.addChild(this._content = new Ns)
        }
        ;
        i.onScrollStart = function() {
            this._$P.cacheAs || (this._$P.cacheAs = st.superGet(Ns, this, "cacheAs"));
            st.superSet(Ns, this, "cacheAs", "none");
            this._scrollBar.once("end", this, this.onScrollEnd)
        }
        ;
        i.onScrollEnd = function() {
            st.superSet(Ns, this, "cacheAs", this._$P.cacheAs)
        }
        ;
        i._removePreScrollBar = function() {
            var t = this.removeChildByName("scrollBar");
            if (t)
                t.destroy(true)
        }
        ;
        i.changeCells = function() {
            this._cellChanged = false;
            if (this._itemRender) {
                this.scrollBar = this.getChildByName("scrollBar");
                var t = this._getOneCell();
                var e = t.width + this._spaceX || 1;
                var i = t.height + this._spaceY || 1;
                if (this._width > 0)
                    this._repeatX2 = this._isVertical ? Math.round(this._width / e) : Math.ceil(this._width / e);
                if (this._height > 0)
                    this._repeatY2 = this._isVertical ? Math.ceil(this._height / i) : Math.round(this._height / i);
                var n = this._width ? this._width : e * this.repeatX - this._spaceX;
                var s = this._height ? this._height : i * this.repeatY - this._spaceY;
                this._cellSize = this._isVertical ? i : e;
                this._cellOffset = this._isVertical ? i * Math.max(this._repeatY2, this._repeatY) - s - this._spaceY : e * Math.max(this._repeatX2, this._repeatX) - n - this._spaceX;
                if (this._isVertical && this._scrollBar)
                    this._scrollBar.height = s;
                else if (!this._isVertical && this._scrollBar)
                    this._scrollBar.width = n;
                this.setContentSize(n, s);
                var r = this._isVertical ? this.repeatX : this.repeatY;
                var a = (this._isVertical ? this.repeatY : this.repeatX) + (this._scrollBar ? 1 : 0);
                this._createItems(0, r, a);
                this._createdLine = a;
                if (this._array) {
                    this.array = this._array;
                    this.runCallLater(this.renderItems)
                }
            }
        }
        ;
        i._getOneCell = function() {
            if (this._cells.length === 0) {
                var t = this.createItem();
                this._offset.setTo(t.x, t.y);
                if (this.cacheContent)
                    return t;
                this._cells.push(t)
            }
            return this._cells[0]
        }
        ;
        i._createItems = function(t, e, i) {
            var n = this._content;
            var s = this._getOneCell();
            var r = s.width + this._spaceX;
            var a = s.height + this._spaceY;
            if (this.cacheContent) {
                var o = new Ns;
                o.cacheAsBitmap = true;
                o.pos((this._isVertical ? 0 : t) * r, (this._isVertical ? t : 0) * a);
                this._content.addChild(o);
                this._content.optimizeScrollRect = true;
                n = o
            } else {
                var l = [];
                for (var h = this._cells.length - 1; h > -1; h--) {
                    var u = this._cells[h];
                    u.removeSelf();
                    l.push(u)
                }
                this._cells.length = 0
            }
            for (var c = t; c < i; c++) {
                for (var f = 0; f < e; f++) {
                    if (l && l.length) {
                        s = l.pop()
                    } else {
                        s = this.createItem()
                    }
                    s.x = (this._isVertical ? f : c) * r - n.x;
                    s.y = (this._isVertical ? c : f) * a - n.y;
                    s.name = "item" + (c * e + f);
                    n.addChild(s);
                    this.addCell(s)
                }
            }
        }
        ;
        i.createItem = function() {
            var t = [];
            if (typeof this._itemRender == "function") {
                var e = new this._itemRender
            } else {
                e = ur.createComp(this._itemRender, null, null, t)
            }
            if (t.length == 0 && e._watchMap) {
                var i = e._watchMap;
                for (var n in i) {
                    var s = i[n];
                    for (var r = 0; r < s.length; r++) {
                        var a = s[r];
                        t.push(a.comp, a.prop, a.value)
                    }
                }
            }
            if (t.length)
                e["_$bindData"] = t;
            return e
        }
        ;
        i.addCell = function(t) {
            t.on("click", this, this.onCellMouse);
            t.on("rightclick", this, this.onCellMouse);
            t.on("mouseover", this, this.onCellMouse);
            t.on("mouseout", this, this.onCellMouse);
            t.on("mousedown", this, this.onCellMouse);
            t.on("mouseup", this, this.onCellMouse);
            this._cells.push(t)
        }
        ;
        i.initItems = function() {
            if (!this._itemRender && this.getChildByName("item0") != null) {
                this.repeatX = 1;
                var t = 0;
                t = 0;
                for (var e = 0; e < 1e4; e++) {
                    var i = this.getChildByName("item" + e);
                    if (i) {
                        this.addCell(i);
                        t++;
                        continue
                    }
                    break
                }
                this.repeatY = t
            }
        }
        ;
        i.setContentSize = function(t, e) {
            this._content.width = t;
            this._content.height = e;
            if (this._scrollBar || this._offset.x != 0 || this._offset.y != 0) {
                this._content.scrollRect || (this._content.scrollRect = new Te);
                this._content.scrollRect.setTo(-this._offset.x, -this._offset.y, t, e);
                this._content.scrollRect = this._content.scrollRect
            }
            this.event("resize")
        }
        ;
        i.onCellMouse = function(t) {
            if (t.type === "mousedown")
                this._isMoved = false;
            var e = t.currentTarget;
            var i = this._startIndex + this._cells.indexOf(e);
            if (i < 0)
                return;
            if (t.type === "click" || t.type === "rightclick") {
                if (this.selectEnable && !this._isMoved)
                    this.selectedIndex = i;
                else
                    this.changeCellState(e, true, 0)
            } else if ((t.type === "mouseover" || t.type === "mouseout") && this._selectedIndex !== i) {
                this.changeCellState(e, t.type === "mouseover", 0)
            }
            this.mouseHandler && this.mouseHandler.runWith([t, i])
        }
        ;
        i.changeCellState = function(t, e, i) {
            var n = t.getChildByName("selectBox");
            if (n) {
                this.selectEnable = true;
                n.visible = e;
                n.index = i
            }
        }
        ;
        i.changeSize = function() {
            laya.ui.Component.prototype.changeSize.call(this);
            this.setContentSize(this.width, this.height);
            if (this._scrollBar)
                this.callLater(this.onScrollBarChange)
        }
        ;
        i.onScrollBarChange = function(t) {
            this.runCallLater(this.changeCells);
            var e = this._scrollBar.value;
            var i = this._isVertical ? this.repeatX : this.repeatY;
            var n = this._isVertical ? this.repeatY : this.repeatX;
            var s = Math.floor(e / this._cellSize);
            if (!this.cacheContent) {
                var r = s * i;
                var a = 0;
                if (r > this._startIndex) {
                    a = r - this._startIndex;
                    var o = true;
                    var l = this._startIndex + i * (n + 1);
                    this._isMoved = true
                } else if (r < this._startIndex) {
                    a = this._startIndex - r;
                    o = false;
                    l = this._startIndex - 1;
                    this._isMoved = true
                }
                for (var h = 0; h < a; h++) {
                    if (o) {
                        var u = this._cells.shift();
                        this._cells[this._cells.length] = u;
                        var c = l + h
                    } else {
                        u = this._cells.pop();
                        this._cells.unshift(u);
                        c = l - h
                    }
                    var f = Math.floor(c / i) * this._cellSize;
                    this._isVertical ? u.y = f : u.x = f;
                    this.renderItem(u, c)
                }
                this._startIndex = r;
                this.changeSelectStatus()
            } else {
                a = n + 1;
                if (this._createdLine - s < a) {
                    this._createItems(this._createdLine, i, this._createdLine + a);
                    this.renderItems(this._createdLine * i, 0);
                    this._createdLine += a
                }
            }
            var d = this._content.scrollRect;
            if (this._isVertical) {
                d.y = e - this._offset.y;
                d.x = -this._offset.x
            } else {
                d.y = -this._offset.y;
                d.x = e - this._offset.x
            }
            this._content.scrollRect = d
        }
        ;
        i.posCell = function(t, e) {
            if (!this._scrollBar)
                return;
            var i = this._isVertical ? this.repeatX : this.repeatY;
            var n = this._isVertical ? this.repeatY : this.repeatX;
            var s = Math.floor(e / i) * this._cellSize;
            this._isVertical ? t.y = s : t.x = s
        }
        ;
        i.changeSelectStatus = function() {
            for (var t = 0, e = this._cells.length; t < e; t++) {
                this.changeCellState(this._cells[t], this._selectedIndex === this._startIndex + t, 1)
            }
        }
        ;
        i.renderItems = function(t, e) {
            t === void 0 && (t = 0);
            e === void 0 && (e = 0);
            for (var i = t, n = e || this._cells.length; i < n; i++) {
                this.renderItem(this._cells[i], this._startIndex + i)
            }
            this.changeSelectStatus()
        }
        ;
        i.renderItem = function(t, e) {
            if (this._array && e >= 0 && e < this._array.length) {
                t.visible = true;
                if (t._$bindData) {
                    t._dataSource = this._array[e];
                    this._bindData(t, this._array[e])
                } else
                    t.dataSource = this._array[e];
                if (!this.cacheContent) {
                    this.posCell(t, e)
                }
                if (this.hasListener("render"))
                    this.event("render", [t, e]);
                if (this.renderHandler)
                    this.renderHandler.runWith([t, e])
            } else {
                t.visible = false;
                t.dataSource = null
            }
        }
        ;
        i._bindData = function(t, e) {
            var i = t._$bindData;
            for (var n = 0, s = i.length; n < s; n++) {
                var r = i[n++];
                var a = i[n++];
                var o = i[n];
                var l = Ue.getBindFun(o);
                r[a] = l.call(this, e)
            }
        }
        ;
        i.refresh = function() {
            this.array = this._array
        }
        ;
        i.getItem = function(t) {
            if (t > -1 && t < this._array.length) {
                return this._array[t]
            }
            return null
        }
        ;
        i.changeItem = function(t, e) {
            if (t > -1 && t < this._array.length) {
                this._array[t] = e;
                if (t >= this._startIndex && t < this._startIndex + this._cells.length) {
                    this.renderItem(this.getCell(t), t)
                }
            }
        }
        ;
        i.setItem = function(t, e) {
            this.changeItem(t, e)
        }
        ;
        i.addItem = function(t) {
            this._array.push(t);
            this.array = this._array
        }
        ;
        i.addItemAt = function(t, e) {
            this._array.splice(e, 0, t);
            this.array = this._array
        }
        ;
        i.deleteItem = function(t) {
            this._array.splice(t, 1);
            this.array = this._array
        }
        ;
        i.getCell = function(t) {
            this.runCallLater(this.changeCells);
            if (t > -1 && this._cells) {
                return this._cells[(t - this._startIndex) % this._cells.length]
            }
            return null
        }
        ;
        i.scrollTo = function(t) {
            if (this._scrollBar) {
                var e = this._isVertical ? this.repeatX : this.repeatY;
                this._scrollBar.value = Math.floor(t / e) * this._cellSize
            } else {
                this.startIndex = t
            }
        }
        ;
        i.tweenTo = function(t, e, i) {
            e === void 0 && (e = 200);
            if (this._scrollBar) {
                var n = this._isVertical ? this.repeatX : this.repeatY;
                ri.to(this._scrollBar, {
                    value: Math.floor(t / n) * this._cellSize
                }, e, null, i, 0, true)
            } else {
                this.startIndex = t;
                if (i)
                    i.run()
            }
        }
        ;
        i._setCellChanged = function() {
            if (!this._cellChanged) {
                this._cellChanged = true;
                this.callLater(this.changeCells)
            }
        }
        ;
        i.commitMeasure = function() {
            this.runCallLater(this.changeCells)
        }
        ;
        p(0, i, "cacheAs", t.prototype._$get_cacheAs, function(t) {
            st.superSet(Ns, this, "cacheAs", t);
            if (this._scrollBar) {
                this._$P.cacheAs = null;
                if (t !== "none")
                    this._scrollBar.on("start", this, this.onScrollStart);
                else
                    this._scrollBar.off("start", this, this.onScrollStart)
            }
        });
        p(0, i, "content", function() {
            return this._content
        });
        p(0, i, "height", t.prototype._$get_height, function(t) {
            if (t != this._height) {
                st.superSet(Ns, this, "height", t);
                this._setCellChanged()
            }
        });
        p(0, i, "itemRender", function() {
            return this._itemRender
        }, function(t) {
            if (this._itemRender != t) {
                this._itemRender = t;
                for (var e = this._cells.length - 1; e > -1; e--) {
                    this._cells[e].destroy()
                }
                this._cells.length = 0;
                this._setCellChanged()
            }
        });
        p(0, i, "vScrollBarSkin", function() {
            return this._scrollBar ? this._scrollBar.skin : null
        }, function(t) {
            this._removePreScrollBar();
            var e = new wr;
            e.name = "scrollBar";
            e.right = 0;
            if (t && t != " ")
                e.skin = t;
            this.scrollBar = e;
            this.addChild(e);
            this._setCellChanged()
        });
        p(0, i, "page", function() {
            return this._page
        }, function(t) {
            this._page = t;
            if (this._array) {
                this._page = t > 0 ? t : 0;
                this._page = this._page < this.totalPage ? this._page : this.totalPage - 1;
                this.startIndex = this._page * this.repeatX * this.repeatY
            }
        });
        p(0, i, "hScrollBarSkin", function() {
            return this._scrollBar ? this._scrollBar.skin : null
        }, function(t) {
            this._removePreScrollBar();
            var e = new yr;
            e.name = "scrollBar";
            e.bottom = 0;
            if (t && t != " ")
                e.skin = t;
            this.scrollBar = e;
            this.addChild(e);
            this._setCellChanged()
        });
        p(0, i, "repeatX", function() {
            return this._repeatX > 0 ? this._repeatX : this._repeatX2 > 0 ? this._repeatX2 : 1
        }, function(t) {
            this._repeatX = t;
            this._setCellChanged()
        });
        p(0, i, "scrollBar", function() {
            return this._scrollBar
        }, function(t) {
            if (this._scrollBar != t) {
                this._scrollBar = t;
                if (t) {
                    this._isVertical = this._scrollBar.isVertical;
                    this.addChild(this._scrollBar);
                    this._scrollBar.on("change", this, this.onScrollBarChange)
                }
            }
        });
        p(0, i, "width", t.prototype._$get_width, function(t) {
            if (t != this._width) {
                st.superSet(Ns, this, "width", t);
                this._setCellChanged()
            }
        });
        p(0, i, "repeatY", function() {
            return this._repeatY > 0 ? this._repeatY : this._repeatY2 > 0 ? this._repeatY2 : 1
        }, function(t) {
            this._repeatY = t;
            this._setCellChanged()
        });
        p(0, i, "spaceX", function() {
            return this._spaceX
        }, function(t) {
            this._spaceX = t;
            this._setCellChanged()
        });
        p(0, i, "spaceY", function() {
            return this._spaceY
        }, function(t) {
            this._spaceY = t;
            this._setCellChanged()
        });
        p(0, i, "selectedIndex", function() {
            return this._selectedIndex
        }, function(t) {
            if (this._selectedIndex != t) {
                this._selectedIndex = t;
                this.changeSelectStatus();
                this.event("change");
                this.selectHandler && this.selectHandler.runWith(t);
                this.startIndex = this._startIndex
            }
        });
        p(0, i, "selectedItem", function() {
            return this._selectedIndex != -1 ? this._array[this._selectedIndex] : null
        }, function(t) {
            this.selectedIndex = this._array.indexOf(t)
        });
        p(0, i, "length", function() {
            return this._array ? this._array.length : 0
        });
        p(0, i, "selection", function() {
            return this.getCell(this._selectedIndex)
        }, function(t) {
            this.selectedIndex = this._startIndex + this._cells.indexOf(t)
        });
        p(0, i, "startIndex", function() {
            return this._startIndex
        }, function(t) {
            this._startIndex = t > 0 ? t : 0;
            this.callLater(this.renderItems)
        });
        p(0, i, "array", function() {
            return this._array
        }, function(t) {
            this.runCallLater(this.changeCells);
            this._array = t || [];
            var e = this._array.length;
            this.totalPage = Math.ceil(e / (this.repeatX * this.repeatY));
            this._selectedIndex = this._selectedIndex < e ? this._selectedIndex : e - 1;
            this.startIndex = this._startIndex;
            if (this._scrollBar) {
                this._scrollBar.stopScroll();
                var i = this._isVertical ? this.repeatX : this.repeatY;
                var n = this._isVertical ? this.repeatY : this.repeatX;
                var s = Math.ceil(e / i);
                var r = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;
                if (r > 1) {
                    this._scrollBar.scrollSize = this._cellSize;
                    this._scrollBar.thumbPercent = n / s;
                    this._scrollBar.setScroll(0, (s - n) * this._cellSize + this._cellOffset, this._scrollBar.value);
                    this._scrollBar.target = this._content
                } else {
                    this._scrollBar.setScroll(0, 0, 0);
                    this._scrollBar.target = this._content
                }
            }
        });
        p(0, i, "dataSource", t.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" && Math.floor(t) == t || typeof t == "string")
                this.selectedIndex = parseInt(t);
            else if (t instanceof Array)
                this.array = t;
            else
                st.superSet(Ns, this, "dataSource", t)
        });
        p(0, i, "cells", function() {
            this.runCallLater(this.changeCells);
            return this._cells
        });
        return e
    }(Ns);
    var dr = function(t) {
        function e() {
            this._list = null;
            this._source = null;
            this._renderHandler = null;
            this._spaceLeft = 10;
            this._spaceBottom = 0;
            this._keepStatus = true;
            e.__super.call(this);
            this.width = this.height = 200
        }
        x(e, "laya.ui.Tree", t);
        var i = e.prototype;
        st.imps(i, {
            "laya.ui.IRender": true
        });
        i.destroy = function(t) {
            t === void 0 && (t = true);
            laya.ui.Component.prototype.destroy.call(this, t);
            this._list && this._list.destroy(t);
            this._list = null;
            this._source = null;
            this._renderHandler = null
        }
        ;
        i.createChildren = function() {
            this.addChild(this._list = new fr);
            this._list.renderHandler = b.create(this, this.renderItem, null, false);
            this._list.repeatX = 1;
            this._list.on("change", this, this.onListChange)
        }
        ;
        i.onListChange = function(t) {
            this.event("change")
        }
        ;
        i.getArray = function() {
            var t = [];
            var e;
            for (var i in this._source) {
                e = this._source[i];
                if (this.getParentOpenStatus(e)) {
                    e.x = this._spaceLeft * this.getDepth(e);
                    t.push(e)
                }
            }
            return t
        }
        ;
        i.getDepth = function(t, e) {
            e === void 0 && (e = 0);
            if (t.nodeParent == null)
                return e;
            else
                return this.getDepth(t.nodeParent, e + 1)
        }
        ;
        i.getParentOpenStatus = function(t) {
            var e = t.nodeParent;
            if (e == null) {
                return true
            } else {
                if (e.isOpen) {
                    if (e.nodeParent != null)
                        return this.getParentOpenStatus(e);
                    else
                        return true
                } else {
                    return false
                }
            }
        }
        ;
        i.renderItem = function(t, e) {
            var i = t.dataSource;
            if (i) {
                t.left = i.x;
                var n = t.getChildByName("arrow");
                if (n) {
                    if (i.hasChild) {
                        n.visible = true;
                        n.index = i.isOpen ? 1 : 0;
                        n.tag = e;
                        n.off("click", this, this.onArrowClick);
                        n.on("click", this, this.onArrowClick)
                    } else {
                        n.visible = false
                    }
                }
                var s = t.getChildByName("folder");
                if (s) {
                    if (s.clipY == 2) {
                        s.index = i.isDirectory ? 0 : 1
                    } else {
                        s.index = i.isDirectory ? i.isOpen ? 1 : 0 : 2
                    }
                }
                this._renderHandler && this._renderHandler.runWith([t, e])
            }
        }
        ;
        i.onArrowClick = function(t) {
            var e = t.currentTarget;
            var i = e.tag;
            this._list.array[i].isOpen = !this._list.array[i].isOpen;
            this.event("open");
            this._list.array = this.getArray()
        }
        ;
        i.setItemState = function(t, e) {
            if (!this._list.array[t])
                return;
            this._list.array[t].isOpen = e;
            this._list.array = this.getArray()
        }
        ;
        i.fresh = function() {
            this._list.array = this.getArray();
            this.repaint()
        }
        ;
        i.parseXml = function(t, e, i, n) {
            var s;
            var r = t.childNodes;
            var a = r.length;
            if (!n) {
                s = {};
                var o = t.attributes;
                var l;
                for (var h in o) {
                    l = o[h];
                    var u = l.nodeName;
                    var c = l.nodeValue;
                    s[u] = c == "true" ? true : c == "false" ? false : c
                }
                s.nodeParent = i;
                if (a > 0)
                    s.isDirectory = true;
                s.hasChild = a > 0;
                e.push(s)
            }
            for (var f = 0; f < a; f++) {
                var d = r[f];
                this.parseXml(d, e, s, false)
            }
        }
        ;
        i.parseOpenStatus = function(t, e) {
            for (var i = 0, n = e.length; i < n; i++) {
                var s = e[i];
                if (s.isDirectory) {
                    for (var r = 0, a = t.length; r < a; r++) {
                        var o = t[r];
                        if (o.isDirectory && this.isSameParent(o, s) && s.label == o.label) {
                            s.isOpen = o.isOpen;
                            break
                        }
                    }
                }
            }
        }
        ;
        i.isSameParent = function(t, e) {
            if (t.nodeParent == null && e.nodeParent == null)
                return true;
            else if (t.nodeParent == null || e.nodeParent == null)
                return false;
            else {
                if (t.nodeParent.label == e.nodeParent.label)
                    return this.isSameParent(t.nodeParent, e.nodeParent);
                else
                    return false
            }
        }
        ;
        i.filter = function(t) {
            if (Boolean(t)) {
                var e = [];
                this.getFilterSource(this._source, e, t);
                this._list.array = e
            } else {
                this._list.array = this.getArray()
            }
        }
        ;
        i.getFilterSource = function(t, e, i) {
            i = i.toLocaleLowerCase();
            var n;
            for (var s in t) {
                n = t[s];
                if (!n.isDirectory && String(n.label).toLowerCase().indexOf(i) > -1) {
                    n.x = 0;
                    e.push(n)
                }
                if (n.child && n.child.length > 0) {
                    this.getFilterSource(n.child, e, i)
                }
            }
        }
        ;
        p(0, i, "spaceBottom", function() {
            return this._list.spaceY
        }, function(t) {
            this._list.spaceY = t
        });
        p(0, i, "keepStatus", function() {
            return this._keepStatus
        }, function(t) {
            this._keepStatus = t
        });
        p(0, i, "itemRender", function() {
            return this._list.itemRender
        }, function(t) {
            this._list.itemRender = t
        });
        p(0, i, "array", function() {
            return this._list.array
        }, function(t) {
            if (this._keepStatus && this._list.array && t) {
                this.parseOpenStatus(this._list.array, t)
            }
            this._source = t;
            this._list.array = this.getArray()
        });
        p(0, i, "mouseHandler", function() {
            return this._list.mouseHandler
        }, function(t) {
            this._list.mouseHandler = t
        });
        p(0, i, "dataSource", t.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            st.superSet(Ns, this, "dataSource", t)
        });
        p(0, i, "source", function() {
            return this._source
        });
        p(0, i, "scrollBar", function() {
            return this._list.scrollBar
        });
        p(0, i, "list", function() {
            return this._list
        });
        p(0, i, "scrollBarSkin", function() {
            return this._list.vScrollBarSkin
        }, function(t) {
            this._list.vScrollBarSkin = t
        });
        p(0, i, "renderHandler", function() {
            return this._renderHandler
        }, function(t) {
            this._renderHandler = t
        });
        p(0, i, "selectedIndex", function() {
            return this._list.selectedIndex
        }, function(t) {
            this._list.selectedIndex = t
        });
        p(0, i, "spaceLeft", function() {
            return this._spaceLeft
        }, function(t) {
            this._spaceLeft = t
        });
        p(0, i, "selectedItem", function() {
            return this._list.selectedItem
        }, function(t) {
            this._list.selectedItem = t
        });
        p(0, i, "width", t.prototype._$get_width, function(t) {
            st.superSet(Ns, this, "width", t);
            this._list.width = t
        });
        p(0, i, "height", t.prototype._$get_height, function(t) {
            st.superSet(Ns, this, "height", t);
            this._list.height = t
        });
        p(0, i, "xml", null, function(t) {
            var e = [];
            this.parseXml(t.childNodes[0], e, null, true);
            this.array = e
        });
        p(0, i, "selectedPath", function() {
            if (this._list.selectedItem) {
                return this._list.selectedItem.path
            }
            return null
        });
        return e
    }(Ns);
    var _r = function(t) {
        function i(t, e) {
            this.data = null;
            this.img = null;
            i.__super.call(this);
            if (!this.img)
                this.img = new Es;
            if (t != "") {
                this.label = t;
                this.name = t
            } else {
                this.label = "------";
                this.height = 5;
                this.mouseEnabled = false;
                this.img.skin = Y.base64.getAdptUrl("comp/line2.png");
                this.img.sizeGrid = "0,2,0,2";
                this.addChild(this.img)
            }
            this.labelColors = "#000000,#000000,#000000,#000000";
            this._text.x = 10;
            this._text.padding = [-2, 0, 0, 0];
            this._text.align = "left";
            this._text.wordWrap = false;
            this._text.typeset();
            this.width = this._text.width + 25;
            this.sizeGrid = "3,3,3,3";
            this.skin = Y.base64.getAdptUrl("comp/button1.png")
        }
        x(i, "laya.debug.uicomps.ContextMenuItem", t);
        var e = i.prototype;
        p(0, e, "width", t.prototype._$get_width, function(t) {
            st.superSet(Vs, this, "width", t);
            this.img.width = this.width;
            this.img.x = 0
        });
        return i
    }(Vs);
    var pr = function(t) {
        function e() {
            this._space = 0;
            this._align = "none";
            this._itemChanged = false;
            e.__super.call(this)
        }
        x(e, "laya.ui.LayoutBox", t);
        var i = e.prototype;
        i.addChild = function(t) {
            t.on("resize", this, this.onResize);
            this._setItemChanged();
            return laya.display.Node.prototype.addChild.call(this, t)
        }
        ;
        i.onResize = function(t) {
            this._setItemChanged()
        }
        ;
        i.addChildAt = function(t, e) {
            t.on("resize", this, this.onResize);
            this._setItemChanged();
            return laya.display.Node.prototype.addChildAt.call(this, t, e)
        }
        ;
        i.removeChildAt = function(t) {
            this.getChildAt(t).off("resize", this, this.onResize);
            this._setItemChanged();
            return laya.display.Node.prototype.removeChildAt.call(this, t)
        }
        ;
        i.refresh = function() {
            this._setItemChanged()
        }
        ;
        i.changeItems = function() {
            this._itemChanged = false
        }
        ;
        i.sortItem = function(t) {
            if (t)
                t.sort(function(t, e) {
                    return t.y - e.y
                })
        }
        ;
        i._setItemChanged = function() {
            if (!this._itemChanged) {
                this._itemChanged = true;
                this.callLater(this.changeItems)
            }
        }
        ;
        p(0, i, "space", function() {
            return this._space
        }, function(t) {
            this._space = t;
            this._setItemChanged()
        });
        p(0, i, "align", function() {
            return this._align
        }, function(t) {
            this._align = t;
            this._setItemChanged()
        });
        return e
    }(Ns);
    var mr = function(t) {
        function i(t, e) {
            this.selectHandler = null;
            this._items = null;
            this._selectedIndex = -1;
            this._skin = null;
            this._direction = "horizontal";
            this._space = 0;
            this._labels = null;
            this._labelColors = null;
            this._labelFont = null;
            this._labelStrokeColor = null;
            this._strokeColors = null;
            this._labelStroke = NaN;
            this._labelSize = 0;
            this._labelBold = false;
            this._labelPadding = null;
            this._labelAlign = null;
            this._stateNum = 0;
            this._labelChanged = false;
            i.__super.call(this);
            this.skin = e;
            this.labels = t
        }
        x(i, "laya.ui.UIGroup", t);
        var e = i.prototype;
        st.imps(e, {
            "laya.ui.IItem": true
        });
        e.preinitialize = function() {
            this.mouseEnabled = true
        }
        ;
        e.destroy = function(t) {
            t === void 0 && (t = true);
            laya.ui.Component.prototype.destroy.call(this, t);
            this._items && (this._items.length = 0);
            this._items = null;
            this.selectHandler = null
        }
        ;
        e.addItem = function(t, e) {
            e === void 0 && (e = true);
            var i = t;
            var n = this._items.length;
            i.name = "item" + n;
            this.addChild(i);
            this.initItems();
            if (e && n > 0) {
                var s = this._items[n - 1];
                if (this._direction == "horizontal") {
                    i.x = s.x + s.width + this._space
                } else {
                    i.y = s.y + s.height + this._space
                }
            } else {
                if (e) {
                    i.x = 0;
                    i.y = 0
                }
            }
            return n
        }
        ;
        e.delItem = function(t, e) {
            e === void 0 && (e = true);
            var i = this._items.indexOf(t);
            if (i != -1) {
                var n = t;
                this.removeChild(n);
                for (var s = i + 1, r = this._items.length; s < r; s++) {
                    var a = this._items[s];
                    a.name = "item" + (s - 1);
                    if (e) {
                        if (this._direction == "horizontal") {
                            a.x -= n.width + this._space
                        } else {
                            a.y -= n.height + this._space
                        }
                    }
                }
                this.initItems();
                if (this._selectedIndex > -1) {
                    var o = 0;
                    o = this._selectedIndex < this._items.length ? this._selectedIndex : this._selectedIndex - 1;
                    this._selectedIndex = -1;
                    this.selectedIndex = o
                }
            }
        }
        ;
        e.initItems = function() {
            this._items || (this._items = []);
            this._items.length = 0;
            for (var t = 0; t < 1e4; t++) {
                var e = this.getChildByName("item" + t);
                if (e == null)
                    break;
                this._items.push(e);
                e.selected = t === this._selectedIndex;
                e.clickHandler = b.create(this, this.itemClick, [t], false)
            }
        }
        ;
        e.itemClick = function(t) {
            this.selectedIndex = t
        }
        ;
        e.setSelect = function(t, e) {
            if (this._items && t > -1 && t < this._items.length)
                this._items[t].selected = e
        }
        ;
        e.createItem = function(t, e) {
            return null
        }
        ;
        e.changeLabels = function() {
            this._labelChanged = false;
            if (this._items) {
                var t = 0;
                for (var e = 0, i = this._items.length; e < i; e++) {
                    var n = this._items[e];
                    this._skin && (n.skin = this._skin);
                    this._labelColors && (n.labelColors = this._labelColors);
                    this._labelSize && (n.labelSize = this._labelSize);
                    this._labelStroke && (n.labelStroke = this._labelStroke);
                    this._labelStrokeColor && (n.labelStrokeColor = this._labelStrokeColor);
                    this._strokeColors && (n.strokeColors = this._strokeColors);
                    this._labelBold && (n.labelBold = this._labelBold);
                    this._labelPadding && (n.labelPadding = this._labelPadding);
                    this._labelAlign && (n.labelAlign = this._labelAlign);
                    this._stateNum && (n.stateNum = this._stateNum);
                    this._labelFont && (n.labelFont = this._labelFont);
                    if (this._direction === "horizontal") {
                        n.y = 0;
                        n.x = t;
                        t += n.width + this._space
                    } else {
                        n.x = 0;
                        n.y = t;
                        t += n.height + this._space
                    }
                }
            }
            this.changeSize()
        }
        ;
        e.commitMeasure = function() {
            this.runCallLater(this.changeLabels)
        }
        ;
        e._setLabelChanged = function() {
            if (!this._labelChanged) {
                this._labelChanged = true;
                this.callLater(this.changeLabels)
            }
        }
        ;
        p(0, e, "labelStrokeColor", function() {
            return this._labelStrokeColor
        }, function(t) {
            if (this._labelStrokeColor != t) {
                this._labelStrokeColor = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "skin", function() {
            return this._skin
        }, function(t) {
            if (this._skin != t) {
                this._skin = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "selectedIndex", function() {
            return this._selectedIndex
        }, function(t) {
            if (this._selectedIndex != t) {
                this.setSelect(this._selectedIndex, false);
                this._selectedIndex = t;
                this.setSelect(t, true);
                this.event("change");
                this.selectHandler && this.selectHandler.runWith(this._selectedIndex)
            }
        });
        p(0, e, "labels", function() {
            return this._labels
        }, function(t) {
            if (this._labels != t) {
                this._labels = t;
                this.removeChildren();
                this._setLabelChanged();
                if (this._labels) {
                    var e = this._labels.split(",");
                    for (var i = 0, n = e.length; i < n; i++) {
                        var s = this.createItem(this._skin, e[i]);
                        s.name = "item" + i;
                        this.addChild(s)
                    }
                }
                this.initItems()
            }
        });
        p(0, e, "strokeColors", function() {
            return this._strokeColors
        }, function(t) {
            if (this._strokeColors != t) {
                this._strokeColors = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "labelColors", function() {
            return this._labelColors
        }, function(t) {
            if (this._labelColors != t) {
                this._labelColors = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "labelStroke", function() {
            return this._labelStroke
        }, function(t) {
            if (this._labelStroke != t) {
                this._labelStroke = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "labelSize", function() {
            return this._labelSize
        }, function(t) {
            if (this._labelSize != t) {
                this._labelSize = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "stateNum", function() {
            return this._stateNum
        }, function(t) {
            if (this._stateNum != t) {
                this._stateNum = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "labelBold", function() {
            return this._labelBold
        }, function(t) {
            if (this._labelBold != t) {
                this._labelBold = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "labelFont", function() {
            return this._labelFont
        }, function(t) {
            if (this._labelFont != t) {
                this._labelFont = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "labelPadding", function() {
            return this._labelPadding
        }, function(t) {
            if (this._labelPadding != t) {
                this._labelPadding = t;
                this._setLabelChanged()
            }
        });
        p(0, e, "direction", function() {
            return this._direction
        }, function(t) {
            this._direction = t;
            this._setLabelChanged()
        });
        p(0, e, "space", function() {
            return this._space
        }, function(t) {
            this._space = t;
            this._setLabelChanged()
        });
        p(0, e, "items", function() {
            return this._items
        });
        p(0, e, "selection", function() {
            return this._selectedIndex > -1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] : null
        }, function(t) {
            this.selectedIndex = this._items.indexOf(t)
        });
        p(0, e, "dataSource", t.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" && Math.floor(t) == t || typeof t == "string")
                this.selectedIndex = parseInt(t);
            else if (t instanceof Array)
                this.labels = t.join(",");
            else
                st.superSet(Ns, this, "dataSource", t)
        });
        return i
    }(Ns);
    var gr = function(t) {
        function e() {
            this._items = null;
            this._selectedIndex = 0;
            e.__super.call(this);
            this._setIndexHandler = b.create(this, this.setIndex, null, false)
        }
        x(e, "laya.ui.ViewStack", t);
        var i = e.prototype;
        st.imps(i, {
            "laya.ui.IItem": true
        });
        i.setItems = function(t) {
            this.removeChildren();
            var e = 0;
            for (var i = 0, n = t.length; i < n; i++) {
                var s = t[i];
                if (s) {
                    s.name = "item" + e;
                    this.addChild(s);
                    e++
                }
            }
            this.initItems()
        }
        ;
        i.addItem = function(t) {
            t.name = "item" + this._items.length;
            this.addChild(t);
            this.initItems()
        }
        ;
        i.initItems = function() {
            this._items = [];
            for (var t = 0; t < 1e4; t++) {
                var e = this.getChildByName("item" + t);
                if (e == null) {
                    break
                }
                this._items.push(e);
                e.visible = t == this._selectedIndex
            }
        }
        ;
        i.setSelect = function(t, e) {
            if (this._items && t > -1 && t < this._items.length) {
                this._items[t].visible = e
            }
        }
        ;
        i.setIndex = function(t) {
            this.selectedIndex = t
        }
        ;
        p(0, i, "dataSource", t.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "number" && Math.floor(t) == t || typeof t == "string") {
                this.selectedIndex = parseInt(t)
            } else {
                for (var e in this._dataSource) {
                    if (this.hasOwnProperty(e)) {
                        this[e] = this._dataSource[e]
                    }
                }
            }
        });
        p(0, i, "selectedIndex", function() {
            return this._selectedIndex
        }, function(t) {
            if (this._selectedIndex != t) {
                this.setSelect(this._selectedIndex, false);
                this._selectedIndex = t;
                this.setSelect(this._selectedIndex, true)
            }
        });
        p(0, i, "selection", function() {
            return this._selectedIndex > -1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] : null
        }, function(t) {
            this.selectedIndex = this._items.indexOf(t)
        });
        p(0, i, "items", function() {
            return this._items
        });
        p(0, i, "setIndexHandler", function() {
            return this._setIndexHandler
        }, function(t) {
            this._setIndexHandler = t
        });
        return e
    }(Ns);
    var vr = function(t) {
        function i(t, e) {
            e === void 0 && (e = "");
            i.__super.call(this, t, e)
        }
        x(i, "laya.ui.CheckBox", t);
        var e = i.prototype;
        e.preinitialize = function() {
            laya.ui.Component.prototype.preinitialize.call(this);
            this.toggle = true;
            this._autoSize = false
        }
        ;
        e.initialize = function() {
            t.prototype.initialize.call(this);
            this.createText();
            this._text.align = "left";
            this._text.valign = "top";
            this._text.width = 0
        }
        ;
        p(0, e, "dataSource", t.prototype._$get_dataSource, function(t) {
            this._dataSource = t;
            if (typeof t == "boolean")
                this.selected = t;
            else if (typeof t == "string")
                this.selected = t === "true";
            else
                st.superSet(Vs, this, "dataSource", t)
        });
        return i
    }(Vs);
    var br = function(e) {
        function i(t, e) {
            this._value = null;
            e === void 0 && (e = "");
            i.__super.call(this, t, e)
        }
        x(i, "laya.ui.Radio", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._value = null
        }
        ;
        t.preinitialize = function() {
            laya.ui.Component.prototype.preinitialize.call(this);
            this.toggle = false;
            this._autoSize = false
        }
        ;
        t.initialize = function() {
            e.prototype.initialize.call(this);
            this.createText();
            this._text.align = "left";
            this._text.valign = "top";
            this._text.width = 0;
            this.on("click", this, this.onClick)
        }
        ;
        t.onClick = function(t) {
            this.selected = true
        }
        ;
        p(0, t, "value", function() {
            return this._value != null ? this._value : this.label
        }, function(t) {
            this._value = t
        });
        return i
    }(Vs);
    var yr = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.HScrollBar", t);
        var i = e.prototype;
        i.initialize = function() {
            t.prototype.initialize.call(this);
            this.slider.isVertical = false
        }
        ;
        return e
    }(ks);
    var xr = function(t) {
        function e(t) {
            e.__super.call(this, t);
            this.isVertical = false
        }
        x(e, "laya.ui.HSlider", t);
        return e
    }(Fs);
    var wr = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.VScrollBar", t);
        return e
    }(ks);
    var Cr = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.VSlider", t);
        return e
    }(Fs);
    var Sr = function(t) {
        function r() {
            this.view = null;
            r.__super.call(this)
        }
        x(r, "laya.debug.view.nodeInfo.views.CacheRankView", t);
        var e = r.prototype;
        e.createPanel = function() {
            this.view = new Ga;
            this.view.top = this.view.bottom = this.view.left = this.view.right = 0;
            this.addChild(this.view);
            Qt.I.setNodeListAction(this.view.itemList);
            this.view.closeBtn.on("click", this, this.close);
            this.view.freshBtn.on("click", this, this.fresh);
            this.view.itemList.scrollBar.hide = true;
            this.view.autoUpdate.on("change", this, this.onAutoUpdateChange);
            this.dis = this;
            this.view.itemList.array = [];
            this.onAutoUpdateChange();
            this.fresh()
        }
        ;
        e.onRightClick = function() {
            var t;
            t = this.view.itemList;
            if (t.selectedItem) {
                var e;
                e = t.selectedItem.path;
                Qt.I.objRightClick(e)
            }
        }
        ;
        e.onAutoUpdateChange = function() {
            this.autoUpdate = this.view.autoUpdate.selected
        }
        ;
        e.fresh = function() {
            Q.counter.updates();
            this.view.title.text = "ReCache排行";
            if (!U.enableCacheAnalyse) {
                this.view.title.text = "ReCache排行(未开启)";
                this.view.title.toolTip = "DebugTool.init(true)可开启该功能"
            }
            var t;
            t = Q.counter.resultNodeDic;
            var e;
            var i;
            var n;
            var s;
            s = [];
            for (e in t) {
                i = t[e];
                if (r.filterDebugNodes && lt.isInTree(_s.I, i))
                    continue;
                if (Q.counter.getCount(i) <= 0)
                    continue;
                n = {};
                n.time = Q.counter.getCount(i);
                n.path = i;
                n.label = $.getNodeClassAndName(i) + ":" + n.time;
                s.push(n)
            }
            s.sort(yt.sortByKey("time", true, true));
            this.view.itemList.array = s
        }
        ;
        p(0, e, "autoUpdate", null, function(t) {
            st.timer.clear(this, this.fresh);
            if (t) {
                this.fresh();
                st.timer.loop(qt.RenderCostMaxTime, this, this.fresh)
            }
        });
        p(1, r, "I", function() {
            if (!r._I)
                r._I = new r;
            return r._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        r._I = null;
        r.filterDebugNodes = true;
        return r
    }(Ys);
    var Tr = function(t) {
        function e() {
            this.view = null;
            this.dragIcon = null;
            this.tSelectTar = null;
            this._selectTip = new Dn;
            e.__super.call(this);
            this._selectTip.setBounds(new Te(0,0,0,0))
        }
        x(e, "laya.debug.view.nodeInfo.views.DebugPanelView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new ga;
            this.dis = this.view;
            this.view.minBtn.minHandler = this.minHandler;
            this.view.minBtn.maxHandler = this.maxHandler;
            this.view.minBtn.tar = this.view;
            lt.setDragingItem(this.view.bg, this.view);
            lt.setDragingItem(this.view.tab, this.view);
            lt.setDragingItem(this.view.clearBtn, this.view);
            this.clickSelectChange();
            this.view.selectWhenClick.on("change", this, this.clickSelectChange);
            on.listen("ItemClicked", this, this.itemClicked);
            te.setViewScale(this.view);
            this.dragIcon = this.view.dragIcon;
            this.dragIcon.removeSelf();
            this.view.mouseAnalyseBtn.on("mousedown", this, this.mouseAnalyserMouseDown);
            this.dragIcon.on("dragend", this, this.mouseAnalyserDragEnd);
            this.view.clearBtn.on("mousedown", this, this.clearBtnClick)
        }
        ;
        i.clearBtnClick = function() {
            U.clearDebugLayer()
        }
        ;
        i.mouseAnalyserMouseDown = function() {
            var t = e.tempPos;
            t.setTo(0, 0);
            t = this.view.mouseAnalyseBtn.localToGlobal(t);
            this.dragIcon.pos(t.x, t.y);
            this.dragIcon.mouseEnabled = false;
            st.stage.addChild(this.dragIcon);
            this.dragIcon.startDrag()
        }
        ;
        i.mouseAnalyserDragEnd = function() {
            this.dragIcon.removeSelf();
            this.selectTarget(ht.instance.getDisUnderMouse());
            Mr.I.showByNode(ht.instance.getDisUnderMouse(), false)
        }
        ;
        i.switchToTree = function() {
            this.view.tab.selectedIndex = 0
        }
        ;
        i.swichToSelect = function() {
            this.view.tab.selectedIndex = 1
        }
        ;
        i.itemClicked = function(t) {
            if (!e.isClickSelectState)
                return;
            if (e.ignoreDebugTool) {
                if (_s.I.isDebugItem(t))
                    return
            }
            if (t instanceof laya.debug.uicomps.ContextMenuItem || t.parent instanceof laya.debug.uicomps.ContextMenuItem) {
                return
            }
            vs.I.showSelectInStage(t);
            Mr.I.showByNode(t, false);
            this.view.selectWhenClick.selected = false;
            U.showDisBound(t);
            this.clickSelectChange()
        }
        ;
        i.selectTarget = function(t) {
            if (!t)
                return;
            vs.I.showSelectInStage(t);
            U.showDisBound(t)
        }
        ;
        i.clickSelectChange = function() {
            e.isClickSelectState = this.view.selectWhenClick.selected;
            if (!He.onPC)
                return;
            this.tSelectTar = null;
            this.clearSelectTip();
            if (e.isClickSelectState) {
                st.timer.loop(200, this, this.updateSelectTar, null, true)
            } else {
                st.timer.clear(this, this.updateSelectTar)
            }
        }
        ;
        i.clearSelectTip = function() {
            this._selectTip.removeSelf()
        }
        ;
        i.updateSelectTar = function() {
            this.clearSelectTip();
            this.tSelectTar = ht.instance.getDisUnderMouse();
            if (!this.tSelectTar) {
                return
            }
            if (_s.I.isDebugItem(this.tSelectTar))
                return;
            var t;
            t = this._selectTip.graphics;
            t.clear();
            var e;
            e = $t.getGRec(this.tSelectTar);
            _s.I.popLayer.addChild(this._selectTip);
            t.drawRect(0, 0, e.width, e.height, null, "#00ffff", 2);
            this._selectTip.pos(e.x, e.y)
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        e.ignoreDebugTool = true;
        e.isClickSelectState = false;
        u(e, ["tempPos", function() {
            return this.tempPos = new Se
        }
        ]);
        return e
    }(Ys);
    var Rr = function(t) {
        function e() {
            this.input = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.FilterView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.input = new $s;
            this.input.size(400, 500);
            this.input.multiline = true;
            this.input.bgColor = "#ff00ff";
            this.input.fontSize = 24;
            this.addChild(this.input)
        }
        ;
        i.show = function() {
            this.input.text = ms.showValues.join("\n");
            t.prototype.show.call(this)
        }
        ;
        i.close = function() {
            t.prototype.close.call(this);
            ms.showValues = this.input.text.split("\n")
        }
        ;
        return e
    }(Ys);
    var Ir = function(t) {
        function e() {
            this.view = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.FindSmallView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new ba;
            te.setViewScale(this.view);
            lt.setDragingItem(this.view.bg, this.view);
            this.view.typeSelect.selectedIndex = 1;
            this.view.closeBtn.on("click", this, this.close);
            this.view.findBtn.on("click", this, this.onFind);
            this.dis = this.view
        }
        ;
        i.onFind = function() {
            var t;
            t = this.view.findTxt.text;
            t = Mt.trimSide(t);
            var e;
            if (this.view.typeSelect.selectedIndex == 0) {
                e = U.findNameHas(t, false)
            } else {
                e = U.findClassHas(st.stage, t)
            }
            vs.I.showSelectItems(e);
            this.close()
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        return e
    }(Ys);
    var Ar = function(t) {
        function e() {
            this.view = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.FindView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new va;
            lt.setDragingItem(this.view.bg, this.view);
            this.view.result.scrollBar.hide = true;
            this.view.result.array = [];
            this.view.typeSelect.selectedIndex = 1;
            this.view.closeBtn.on("click", this, this.close);
            this.view.findBtn.on("click", this, this.onFind);
            Qt.I.setNodeListAction(this.view.result);
            this.dis = this.view
        }
        ;
        i.onRightClick = function() {
            var t;
            t = this.view.result;
            if (t.selectedItem) {
                var e;
                e = t.selectedItem.path;
                Qt.I.objRightClick(e)
            }
        }
        ;
        i.onFind = function() {
            var t;
            t = this.view.findTxt.text;
            t = Mt.trimSide(t);
            var e;
            if (this.view.typeSelect.selectedIndex == 0) {
                e = U.findNameHas(t, false)
            } else {
                e = U.findClassHas(st.stage, t)
            }
            this.showFindResult(e)
        }
        ;
        i.showFindResult = function(t) {
            if (!t)
                return;
            var e = 0
              , i = 0;
            i = t.length;
            var n;
            n = [];
            var s;
            var r;
            for (e = 0; e < i; e++) {
                r = t[e];
                s = {};
                s.label = $.getNodeClassAndName(r);
                s.path = r;
                n.push(s)
            }
            this.view.result.array = n
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        return e
    }(Ys);
    var Gr = function(t) {
        function e() {
            this.view = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.NodeListPanelView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new xa;
            this.addChild(this.view);
            lt.setDragingItem(this.view.bg, this.view);
            Qt.I.setNodeListAction(this.view.itemList);
            this.view.closeBtn.on("click", this, this.close);
            this.view.itemList.scrollBar.hide = true;
            this.dis = this;
            this.view.itemList.array = []
        }
        ;
        i.showList = function(t) {
            this.view.itemList.array = t;
            this.show()
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        e.filterDebugNodes = true;
        return e
    }(Ys);
    var Mr = function(i) {
        function e() {
            this.view = null;
            this.dragIcon = null;
            this._tar = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.NodeToolView", i);
        var t = e.prototype;
        t.show = function() {
            this.showByNode()
        }
        ;
        t.createPanel = function() {
            this.view = new wa;
            this.addChild(this.view);
            this.view.on("click", this, this.onBtnClick);
            this.view.closeBtn.on("click", this, this.onCloseBtn);
            lt.setDragingItem(this.view.bg, this.view);
            this.dis = this.view;
            this.view.freshBtn.on("click", this, this.onFreshBtn);
            this.dragIcon = this.view.dragIcon;
            this.dragIcon.removeSelf();
            this.dragIcon.on("dragend", this, this.mouseAnalyserDragEnd);
            this.view.mouseAnalyseBtn.on("mousedown", this, this.mouseAnalyserMouseDown)
        }
        ;
        t.mouseAnalyserMouseDown = function() {
            var t = e.tempPos;
            t.setTo(0, 0);
            t = this.view.mouseAnalyseBtn.localToGlobal(t);
            this.dragIcon.pos(t.x, t.y);
            this.dragIcon.mouseEnabled = false;
            st.stage.addChild(this.dragIcon);
            this.dragIcon.startDrag()
        }
        ;
        t.mouseAnalyserDragEnd = function() {
            this.dragIcon.removeSelf();
            if (laya.debug.view.nodeInfo.views.NodeToolView.I.target) {
                xt.analyseNode(laya.debug.view.nodeInfo.views.NodeToolView.I.target)
            }
        }
        ;
        t.onFreshBtn = function() {
            if (!this._tar)
                return;
            this._tar.reCache();
            this._tar.repaint()
        }
        ;
        t.onCloseBtn = function() {
            this.close()
        }
        ;
        t.onBtnClick = function(t) {
            if (!this._tar)
                return;
            var e;
            e = t.target;
            console.log("onBtnClick:", e);
            var i;
            i = e.label;
            switch (i) {
            case "父链":
                U.showParentChain(this._tar);
                kr.I.setSelectList(U.selectedNodes);
                break;
            case "子":
                U.showAllChild(this._tar);
                kr.I.setSelectList(U.selectedNodes);
                break;
            case "兄弟":
                U.showAllBrother(this._tar);
                kr.I.setSelectList(U.selectedNodes);
                break;
            case "Enable链":
                Vr.I.dTrace(U.traceDisMouseEnable(this._tar));
                kr.I.setSelectList(U.selectedNodes);
                break;
            case "Size链":
                Vr.I.dTrace(U.traceDisSizeChain(this._tar));
                kr.I.setSelectList(U.selectedNodes);
                break;
            case "隐藏旁支":
                ps.I.recoverNodes();
                ps.I.hideOtherChain(this._tar);
                break;
            case "隐藏兄弟":
                ps.I.recoverNodes();
                ps.I.hideBrothers(this._tar);
                break;
            case "隐藏子":
                ps.I.recoverNodes();
                ps.I.hideChilds(this._tar);
                break;
            case "恢复":
                ps.I.recoverNodes();
                break;
            case "节点树定位":
                vs.I.showSelectInStage(this._tar);
                break;
            case "显示边框":
                U.showDisBound(this._tar);
                break;
            case "输出到控制台":
                console.log(this._tar);
                break;
            case "显示切换":
                this._tar.visible = !this._tar.visible;
                break
            }
        }
        ;
        t.showByNode = function(t, e) {
            e === void 0 && (e = true);
            if (!t)
                t = st.stage;
            if (e)
                i.prototype.show.call(this);
            this._tar = t;
            this.fresh()
        }
        ;
        t.fresh = function() {
            if (!this._tar)
                return;
            this.view.tarTxt.text = $.getNodeClassAndName(this._tar)
        }
        ;
        p(0, t, "target", function() {
            return this._tar
        });
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        u(e, ["tempPos", function() {
            return this.tempPos = new Se
        }
        ]);
        return e
    }(Ys);
    var Lr = function(t) {
        function e() {
            this.view = null;
            this._handler = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.NodeTreeSettingView", t);
        var i = e.prototype;
        i.createPanel = function() {
            t.prototype.createPanel.call(this);
            this.view = new Ca;
            te.setViewScale(this.view);
            this.addChild(this.view);
            this.inits();
            this.dis = this.view
        }
        ;
        i.show = function() {
            t.prototype.show.call(this)
        }
        ;
        i.showSetting = function(t, e, i) {
            if (i instanceof laya.display.Node) {
                this.view.showTxt.text = qt.defaultFitlerStr.split(",").join("\n")
            } else {
                this.view.showTxt.text = t.join("\n")
            }
            this._handler = e;
            this.show()
        }
        ;
        i.inits = function() {
            this.view.okBtn.on("click", this, this.onOkBtn);
            this.view.closeBtn.on("click", this, this.onCloseBtn);
            lt.setDragingItem(this.view.bg, this.view);
            this.dis = this.view
        }
        ;
        i.onCloseBtn = function() {
            this.close()
        }
        ;
        i.onOkBtn = function() {
            this.close();
            var t;
            t = this.view.showTxt.text.split("\n");
            if (this._handler) {
                this._handler.runWith([t]);
                this._handler = null
            }
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        return e
    }(Ys);
    var Wr = function(e) {
        function t() {
            this.nodeTree = null;
            t.__super.call(this)
        }
        x(t, "laya.debug.view.nodeInfo.views.NodeTreeView", e);
        var i = t.prototype;
        i.show = function() {
            this.showByNode()
        }
        ;
        i.showByNode = function(t) {
            if (!t)
                t = st.stage;
            this.nodeTree.setDis(t)
        }
        ;
        i.createPanel = function() {
            e.prototype.createPanel.call(this);
            if (!this.nodeTree)
                this.nodeTree = new Sa;
            this.dis = null;
            var t;
            t = this.nodeTree;
            t.top = t.bottom = t.left = t.right = 0;
            this.addChild(t);
            this.showByNode(st.stage)
        }
        ;
        i.showSelectInStage = function(t) {
            this.showByNode(st.stage);
            this.nodeTree.selectByNode(t)
        }
        ;
        return t
    }(Ys);
    var Er = function(t) {
        function e() {
            this.view = null;
            this._menu = null;
            this._menuItems = ["统计详情", "增量详情"];
            this._tSelectKey = null;
            this.preInfo = {};
            e.__super.call(this);
            e._I = this
        }
        x(e, "laya.debug.view.nodeInfo.views.ObjectCreateView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new Ta;
            this.view.top = this.view.bottom = this.view.left = this.view.right = 0;
            this.addChild(this.view);
            this.view.itemList.on(U.getMenuShowEvent(), this, this.onRightClick);
            this.view.closeBtn.on("click", this, this.close);
            this.view.freshBtn.on("click", this, this.fresh);
            this.view.itemList.scrollBar.hide = true;
            this._menu = cr.createMenuByArray(this._menuItems);
            this._menu.on("select", this, this.onEmunSelect);
            this.fresh()
        }
        ;
        i.onEmunSelect = function(t) {
            if (!this._tSelectKey)
                return;
            var e = t.target.data;
            if (typeof e == "string") {
                var i;
                i = e;
                var n;
                switch (i) {
                case "统计详情":
                    n = Gt.getRunInfo(this._tSelectKey);
                    if (n) {
                        Vr.I.showTxt(this._tSelectKey + " createInfo:\n" + n.traceSelfR())
                    }
                    break;
                case "增量详情":
                    n = Gt.getRunInfo(this._tSelectKey);
                    if (n) {
                        Vr.I.showTxt(this._tSelectKey + " createInfo:\n" + n.traceSelfR(n.changeO))
                    }
                    break
                }
            }
        }
        ;
        i.onRightClick = function() {
            var t;
            t = this.view.itemList;
            if (t.selectedItem) {
                var e;
                e = t.selectedItem.path;
                this._tSelectKey = e;
                if (this._tSelectKey) {
                    this._menu.show()
                }
            }
        }
        ;
        i.show = function() {
            this.fresh()
        }
        ;
        i.fresh = function() {
            var t;
            t = ct.I.createInfo;
            var e;
            var i;
            i = [];
            var n;
            var s;
            for (e in t) {
                if (!this.preInfo[e])
                    this.preInfo[e] = 0;
                n = {};
                n.path = e;
                n.count = t[e];
                n.add = t[e] - this.preInfo[e];
                if (n.add > 0) {
                    n.label = e + ":" + t[e] + " +" + n.add
                } else {
                    n.label = e + ":" + t[e]
                }
                s = Gt.getRunInfo(e);
                if (s) {
                    s.record()
                }
                n.rank = n.add * 1e3 + n.count;
                this.preInfo[e] = t[e];
                i.push(n)
            }
            i.sort(yt.sortByKey("rank", true, true));
            this.view.itemList.array = i
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        return e
    }(Ys);
    var Nr = function(t) {
        function a() {
            this.view = null;
            this.showKeys = ["x", "y", "width", "height", "renderCost"];
            this._closeSettingHandler = null;
            this._tar = null;
            a.__super.call(this)
        }
        x(a, "laya.debug.view.nodeInfo.views.ObjectInfoView", t);
        var e = a.prototype;
        e.createPanel = function() {
            t.prototype.createPanel.call(this);
            this.view = new Ra;
            te.setViewScale(this.view);
            this.addChild(this.view);
            this.inits()
        }
        ;
        e.inits = function() {
            this.view.closeBtn.on("click", this, this.close);
            this.view.settingBtn.on("click", this, this.onSettingBtn);
            this.view.autoUpdate.on("change", this, this.onAutoUpdateChange);
            lt.setDragingItem(this.view.bg, this.view);
            lt.setResizeAbleEx(this.view);
            this._closeSettingHandler = new b(this,this.closeSetting);
            this.dis = this.view
        }
        ;
        e.onAutoUpdateChange = function() {
            this.autoUpdate = this.view.autoUpdate.selected
        }
        ;
        e.onSettingBtn = function() {
            Lr.I.showSetting(this.showKeys, this._closeSettingHandler, this._tar)
        }
        ;
        e.reset = function() {
            this.showKeys = ["x", "y", "width", "height", "renderCost"]
        }
        ;
        e.closeSetting = function(t) {
            this.showKeys = t;
            this.fresh()
        }
        ;
        e.showObjectInfo = function(t) {
            this._tar = t;
            this.fresh();
            this.show();
            this.onAutoUpdateChange()
        }
        ;
        e.fresh = function() {
            if (!this._tar) {
                this.view.showTxt.text = "";
                this.view.title.text = "未选中对象"
            } else {
                this.view.title.text = $.getNodeClassAndName(this._tar);
                this.view.showTxt.text = a.getObjValueStr(this._tar, this.showKeys, false)
            }
        }
        ;
        e.freshKeyInfos = function() {
            this.fresh()
        }
        ;
        e.close = function() {
            t.prototype.close.call(this);
            this.autoUpdate = false;
            ei.recover("ObjectInfoView", this)
        }
        ;
        e.show = function() {
            t.prototype.show.call(this)
        }
        ;
        p(0, e, "autoUpdate", null, function(t) {
            st.timer.clear(this, this.freshKeyInfos);
            if (t) {
                st.timer.loop(2e3, this, this.freshKeyInfos)
            }
        });
        a.getObjValueStr = function(t, e, i) {
            i === void 0 && (i = true);
            var n = 0
              , s = 0;
            var r;
            a._txts.length = 0;
            s = e.length;
            if (i) {
                if (t.name) {
                    a._txts.push($.getClassName(t) + "(" + t.name + ")")
                } else {
                    a._txts.push($.getClassName(t))
                }
            }
            for (n = 0; n < s; n++) {
                r = e[n];
                a._txts.push(r + ":" + a.getNodeValue(t, r))
            }
            return a._txts.join("\n")
        }
        ;
        a.getNodeValue = function(t, e) {
            var i;
            if (t instanceof laya.display.Sprite) {
                var n;
                n = t;
                switch (e) {
                case "gRec":
                    i = $t.getGRec(n).toString();
                    break;
                case "gAlpha":
                    i = $t.getGAlpha(n) + "";
                    break;
                case "cmdCount":
                    i = $t.getNodeCmdCount(n) + "";
                    break;
                case "cmdAll":
                    i = $t.getNodeCmdTotalCount(n) + "";
                    break;
                case "nodeAll":
                    i = "" + $t.getNodeCount(n);
                    break;
                case "nodeVisible":
                    i = "" + $t.getNodeCount(n, true);
                    break;
                case "nodeRender":
                    i = "" + $t.getRenderNodeCount(n);
                    break;
                case "nodeReCache":
                    i = "" + $t.getReFreshRenderNodeCount(n);
                    break;
                case "renderCost":
                    i = "" + Tt.I.getTime(n);
                    break;
                case "renderCount":
                    i = "" + Tt.I.getCount(n);
                    break;
                default:
                    i = t[e] + ""
                }
            } else {
                i = t[e] + ""
            }
            return i
        }
        ;
        a.showObject = function(t) {
            var e;
            e = ei.getItemByClass("ObjectInfoView", a);
            e.reset();
            e.showObjectInfo(t)
        }
        ;
        a._txts = [];
        return a
    }(Ys);
    var Vr = function(t) {
        function e() {
            this.view = null;
            e.__super.call(this);
            U._logFun = e.log
        }
        x(e, "laya.debug.view.nodeInfo.views.OutPutView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new Ia;
            lt.setDragingItem(this.view.txt, this.view);
            lt.setDragingItem(this.view.bg, this.view);
            te.setViewScale(this.view);
            this.view.txt.textField.overflow = hs.SCROLL;
            this.view.txt.textField.wordWrap = true;
            this.view.on("mousewheel", this, this.mouseWheel);
            this.view.txt.text = "";
            lt.setResizeAbleEx(this.view);
            this.view.closeBtn.on("click", this, this.close);
            this.view.clearBtn.on("click", this, this.onClearBtn);
            this.dis = this.view
        }
        ;
        i.onClearBtn = function() {
            this.clearText()
        }
        ;
        i.mouseWheel = function(t) {
            this.view.txt.textField.scrollY -= t.delta * 10
        }
        ;
        i.showTxt = function(t) {
            this.view.txt.text = t;
            this.show();
            this.view.txt.textField.scrollY = this.view.txt.textField.maxScrollY
        }
        ;
        i.clearText = function() {
            this.view.txt.text = ""
        }
        ;
        i.dTrace = function(t) {
            var e = arguments;
            if (this.view.txt.textField.scrollY > 1e3) {
                this.view.txt.text = ""
            }
            var i;
            var n = 0
              , s = 0;
            s = e.length;
            i = e[0];
            for (n = 1; n < s; n++) {
                i += " " + e[n]
            }
            this.addStr(i)
        }
        ;
        i.addStr = function(t) {
            this.view.txt.text += "\n" + t;
            this.show();
            this.view.txt.textField.scrollY = this.view.txt.textField.maxScrollY
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e.log = function(t) {
            e.I.addStr(t)
        }
        ;
        e._I = null;
        return e
    }(Ys);
    var Zr = function(t) {
        function r() {
            this.view = null;
            r.__super.call(this)
        }
        x(r, "laya.debug.view.nodeInfo.views.RenderCostRankView", t);
        var e = r.prototype;
        e.createPanel = function() {
            this.view = new Ga;
            this.view.top = this.view.bottom = this.view.left = this.view.right = 0;
            this.addChild(this.view);
            Qt.I.setNodeListAction(this.view.itemList);
            this.view.closeBtn.on("click", this, this.close);
            this.view.freshBtn.on("click", this, this.fresh);
            this.view.itemList.scrollBar.hide = true;
            this.view.autoUpdate.on("change", this, this.onAutoUpdateChange);
            this.dis = this;
            this.view.itemList.array = [];
            this.onAutoUpdateChange();
            this.fresh();
            st.timer.once(5e3, this, this.fresh)
        }
        ;
        e.onRightClick = function() {
            var t;
            t = this.view.itemList;
            if (t.selectedItem) {
                var e;
                e = t.selectedItem.path;
                Qt.I.objRightClick(e)
            }
        }
        ;
        e.onAutoUpdateChange = function() {
            this.autoUpdate = this.view.autoUpdate.selected
        }
        ;
        e.fresh = function() {
            this.view.title.text = "渲染用时排行(" + qt.RenderCostMaxTime + "ms)";
            var t;
            t = Tt.I.nodeDic;
            var e;
            var i;
            var n;
            var s;
            s = [];
            for (e in t) {
                i = t[e];
                if (r.filterDebugNodes && lt.isInTree(_s.I, i))
                    continue;
                if (Tt.I.getTime(i) <= 0)
                    continue;
                n = {};
                n.time = Tt.I.getTime(i);
                if (r.filterDebugNodes && i == st.stage) {
                    n.time -= Tt.I.getTime(_s.I)
                }
                n.path = i;
                n.label = $.getNodeClassAndName(i) + ":" + n.time;
                s.push(n)
            }
            s.sort(yt.sortByKey("time", true, true));
            this.view.itemList.array = s
        }
        ;
        p(0, e, "autoUpdate", null, function(t) {
            st.timer.clear(this, this.fresh);
            if (t) {
                this.fresh();
                st.timer.loop(qt.RenderCostMaxTime, this, this.fresh)
            }
        });
        p(1, r, "I", function() {
            if (!r._I)
                r._I = new r;
            return r._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        r._I = null;
        r.filterDebugNodes = true;
        return r
    }(Ys);
    var Br = function(t) {
        function e() {
            this.view = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.ResRankView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new Ga;
            this.view.top = this.view.bottom = this.view.left = this.view.right = 0;
            this.addChild(this.view);
            this.view.closeBtn.on("click", this, this.close);
            this.view.freshBtn.on("click", this, this.fresh);
            this.view.itemList.scrollBar.hide = true;
            this.view.autoUpdate.on("change", this, this.onAutoUpdateChange);
            this.dis = this;
            this.view.itemList.array = [];
            this.view.itemList.on("rightclick", this, this.onRightClick);
            this.onAutoUpdateChange();
            this.fresh()
        }
        ;
        i.onRightClick = function() {
            var t;
            t = this.view.itemList;
            if (t.selectedItem) {
                console.log(t.selectedItem["url"])
            }
        }
        ;
        i.onAutoUpdateChange = function() {
            this.autoUpdate = this.view.autoUpdate.selected
        }
        ;
        i.fresh = function() {
            this.view.title.text = "图片缓存列表";
            var t;
            t = At.getCachedResList();
            var e;
            var i;
            var n;
            var s;
            s = [];
            var r = 0
              , a = 0;
            a = t.length;
            for (r = 0; r < a; r++) {
                n = {};
                var o;
                o = t[r];
                o = o.replace(Ge.rootPath, "");
                n.label = o;
                n.url = o;
                s.push(n)
            }
            this.view.itemList.array = s
        }
        ;
        p(0, i, "autoUpdate", null, function(t) {
            st.timer.clear(this, this.fresh);
            if (t) {
                this.fresh();
                st.timer.loop(qt.RenderCostMaxTime, this, this.fresh)
            }
        });
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        e.filterDebugNodes = true;
        return e
    }(Ys);
    var kr = function(t) {
        function e() {
            this.showKeys = [];
            this.view = null;
            this.fliterTxt = null;
            this.itemList = null;
            e.__super.call(this);
            e._I = this;
            this.setSelectList(null)
        }
        x(e, "laya.debug.view.nodeInfo.views.SelectInfosView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new Ma;
            this.addChild(this.view);
            this.view.top = this.view.bottom = this.view.left = this.view.right = 0;
            Qt.I.setNodeListAction(this.view.selectList);
            this.view.closeBtn.on("click", this, this.close);
            this.view.selectList.scrollBar.hide = true;
            this.dis = null;
            this.view.findBtn.on("click", this, this.onFindBtn);
            this.fliterTxt = this.view.fliterTxt;
            this.view.fliterTxt.on("enter", this, this.onFliterTxtChange);
            this.view.fliterTxt.on("blur", this, this.onFliterTxtChange)
        }
        ;
        i.onFliterTxtChange = function(t) {
            var e;
            e = this.fliterTxt.text;
            if (e == "") {
                if (this.showKeys.length != 0) {
                    this.showKeys.length = 0;
                    this.fresh()
                }
            } else if (e != this.showKeys.join(",")) {
                this.showKeys = e.split(",");
                this.fresh()
            }
        }
        ;
        i.onFindBtn = function() {
            Ir.I.show()
        }
        ;
        i.onRightClick = function() {
            var t;
            t = this.view.selectList;
            if (t.selectedItem) {
                var e;
                e = t.selectedItem.path;
                Qt.I.objRightClick(e)
            }
        }
        ;
        i.setSelectTarget = function(t) {
            if (!t)
                return;
            this.setSelectList([t])
        }
        ;
        i.setSelectList = function(t) {
            this.itemList = t;
            this.fresh()
        }
        ;
        i.fresh = function() {
            var t;
            t = this.itemList;
            if (!t || t.length < 1) {
                this.view.selectList.array = [];
                return
            }
            var e = 0
              , i = 0;
            var n;
            var s;
            i = t.length;
            var r;
            r = [];
            for (e = 0; e < i; e++) {
                n = t[e];
                s = {};
                s.label = this.getLabelTxt(n);
                s.path = n;
                r.push(s)
            }
            this.view.selectList.array = r
        }
        ;
        i.getLabelTxt = function(t) {
            var e;
            e = $.getNodeClassAndName(t);
            var i = 0
              , n = 0;
            n = this.showKeys.length;
            for (i = 0; i < n; i++) {
                e += "," + Nr.getNodeValue(t, this.showKeys[i])
            }
            return e
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        return e
    }(Ys);
    var Pr = function(t) {
        function e() {
            this.view = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.ToolBarView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.view = new La;
            this.addChild(this.view);
            lt.setDragingItem(this.view.bg, this.view);
            this.view.on("click", this, this.onBtnClick);
            this.view.minBtn.minHandler = this.minHandler;
            this.view.minBtn.maxHandler = this.maxHandler;
            this.view.minBtn.tar = this.view;
            this.clickSelectChange();
            this.view.selectWhenClick.on("change", this, this.clickSelectChange);
            on.listen("ItemClicked", this, this.itemClicked);
            this.dis = this.view
        }
        ;
        i.itemClicked = function(t) {
            if (!e.isClickSelectState)
                return;
            if (lt.isInTree(this.view.selectWhenClick, t))
                return;
            if (e.ignoreDebugTool) {
                if (_s.I.isDebugItem(t))
                    return
            }
        }
        ;
        i.clickSelectChange = function() {
            e.isClickSelectState = this.view.selectWhenClick.selected
        }
        ;
        i.firstShowFun = function() {
            this.dis.x = st.stage.width - this.dis.width - 20;
            this.dis.y = 5
        }
        ;
        i.onBtnClick = function(t) {
            switch (t.target) {
            case this.view.treeBtn:
                vs.I.switchShow("Tree");
                break;
            case this.view.findBtn:
                vs.I.switchShow("Find");
                break;
            case this.view.clearBtn:
                U.clearDebugLayer();
                break;
            case this.view.rankBtn:
                Zr.I.show();
                break;
            case this.view.nodeRankBtn:
                Er.I.show();
                break;
            case this.view.cacheBtn:
                $t.showCachedSpriteRecs();
                break
            }
        }
        ;
        p(1, e, "I", function() {
            if (!e._I)
                e._I = new e;
            return e._I
        }, laya.debug.view.nodeInfo.views.UIViewBase._$SET_I);
        e._I = null;
        e.ignoreDebugTool = true;
        e.isClickSelectState = false;
        return e
    }(Ys);
    var Fr = function(t) {
        function e() {
            this.input = null;
            this.btn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.view.nodeInfo.views.TxtInfoView", t);
        var i = e.prototype;
        i.createPanel = function() {
            this.input = new $s;
            this.input.size(200, 400);
            this.input.multiline = true;
            this.input.bgColor = "#ff00ff";
            this.input.fontSize = 12;
            this.input.wordWrap = true;
            this.addChild(this.input);
            this.btn = this.getButton();
            this.btn.text = "关闭";
            this.btn.size(50, 20);
            this.btn.align = "center";
            this.btn.on("mousedown", this, this.onCloseBtn);
            this.btn.pos(5, this.input.height + 5);
            this.addChild(this.btn)
        }
        ;
        i.showInfo = function(t) {
            this.input.text = t;
            this.show()
        }
        ;
        i.show = function() {
            _s.I.setTop();
            _s.I.popLayer.addChild(this);
            this.x = st.stage.width - this.width;
            this.y = 0
        }
        ;
        i.onCloseBtn = function() {
            this.close()
        }
        ;
        return e
    }(Ys);
    var Xr = function(e) {
        function i(t, e) {
            this._valueArr = null;
            this._indexMap = null;
            this._sheet = null;
            this._direction = "horizontal";
            this._spaceX = 0;
            this._spaceY = 0;
            this._align = "left";
            this._wordsW = 0;
            this._wordsH = 0;
            i.__super.call(this);
            if (t)
                this.skin = t;
            if (e)
                this.sheet = e
        }
        x(i, "laya.ui.FontClip", e);
        var t = i.prototype;
        t.createChildren = function() {
            this._bitmap = new gn;
            this.on("loaded", this, this._onClipLoaded)
        }
        ;
        t._onClipLoaded = function() {
            this.callLater(this.changeValue)
        }
        ;
        t.changeValue = function() {
            if (!this._sources)
                return;
            if (!this._valueArr)
                return;
            this.graphics.clear(true);
            var t;
            t = this._sources[0];
            if (!t)
                return;
            var e = this._direction === "horizontal";
            if (e) {
                this._wordsW = this._valueArr.length * (t.sourceWidth + this.spaceX);
                this._wordsH = t.sourceHeight
            } else {
                this._wordsW = t.sourceWidth;
                this._wordsH = (t.sourceHeight + this.spaceY) * this._valueArr.length
            }
            var i = 0;
            if (this._width) {
                switch (this._align) {
                case "center":
                    i = .5 * (this._width - this._wordsW);
                    break;
                case "right":
                    i = this._width - this._wordsW;
                    break;
                default:
                    i = 0
                }
            }
            for (var n = 0, s = this._valueArr.length; n < s; n++) {
                var r = this._indexMap[this._valueArr.charAt(n)];
                if (!this.sources[r])
                    continue;
                t = this.sources[r];
                if (e)
                    this.graphics.drawTexture(t, i + n * (t.sourceWidth + this.spaceX), 0, t.sourceWidth, t.sourceHeight);
                else
                    this.graphics.drawTexture(t, 0 + i, n * (t.sourceHeight + this.spaceY), t.sourceWidth, t.sourceHeight)
            }
            if (!this._width) {
                this.resetLayoutX();
                this.callLater(this.changeSize)
            }
            if (!this._height) {
                this.resetLayoutY();
                this.callLater(this.changeSize)
            }
        }
        ;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            this._valueArr = null;
            this._indexMap = null;
            this.graphics.clear(true);
            this.removeSelf();
            this.off("loaded", this, this._onClipLoaded);
            e.prototype.destroy.call(this, t)
        }
        ;
        p(0, t, "sheet", function() {
            return this._sheet
        }, function(t) {
            t += "";
            this._sheet = t;
            var e = t.split(" ");
            this._clipX = String(e[0]).length;
            this.clipY = e.length;
            this._indexMap = {};
            for (var i = 0; i < this._clipY; i++) {
                var n = e[i].split("");
                for (var s = 0, r = n.length; s < r; s++) {
                    this._indexMap[n[s]] = i * this._clipX + s
                }
            }
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(Os, this, "height", t);
            this.callLater(this.changeValue)
        });
        p(0, t, "direction", function() {
            return this._direction
        }, function(t) {
            this._direction = t;
            this.callLater(this.changeValue)
        });
        p(0, t, "value", function() {
            if (!this._valueArr)
                return "";
            return this._valueArr
        }, function(t) {
            t += "";
            this._valueArr = t;
            this.callLater(this.changeValue)
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(Os, this, "width", t);
            this.callLater(this.changeValue)
        });
        p(0, t, "spaceX", function() {
            return this._spaceX
        }, function(t) {
            this._spaceX = t;
            if (this._direction === "horizontal")
                this.callLater(this.changeValue)
        });
        p(0, t, "spaceY", function() {
            return this._spaceY
        }, function(t) {
            this._spaceY = t;
            if (!(this._direction === "horizontal"))
                this.callLater(this.changeValue)
        });
        p(0, t, "align", function() {
            return this._align
        }, function(t) {
            this._align = t;
            this.callLater(this.changeValue)
        });
        p(0, t, "measureWidth", function() {
            return this._wordsW
        });
        p(0, t, "measureHeight", function() {
            return this._wordsH
        });
        return i
    }(Os);
    var Dr = function(t) {
        function e() {
            e.__super.call(this);
            this.bgColor = "#11ff00"
        }
        x(e, "laya.debug.tools.debugUI.DInput", t);
        return e
    }($s);
    var Yr = function(e) {
        var I;
        function A() {
            this.animationList = null;
            this.animationDic = null;
            this._nodeList = null;
            this._nodeDefaultProps = null;
            this._gList = null;
            this._nodeIDAniDic = {};
            this._rootNode = null;
            this._nodeGDic = null;
            A.__super.call(this)
        }
        x(A, "laya.utils.GraphicAnimation", e);
        var t = A.prototype;
        t._parseNodeList = function(t) {
            if (!this._nodeList) {
                this._nodeList = []
            }
            this._nodeDefaultProps[t.compId] = t.props;
            if (t.compId)
                this._nodeList.push(t.compId);
            var e = t.child;
            if (e) {
                var i = 0
                  , n = e.length;
                for (i = 0; i < n; i++) {
                    this._parseNodeList(e[i])
                }
            }
        }
        ;
        t._calGraphicData = function(t) {
            this._setUp(null, t);
            this._createGraphicData();
            if (this._nodeIDAniDic) {
                var e;
                for (e in this._nodeIDAniDic) {
                    this._nodeIDAniDic[e] = null
                }
            }
        }
        ;
        t._createGraphicData = function() {
            var t = [];
            var e = 0
              , i = this.count;
            var n = this._animationNewFrames;
            if (!n)
                n = [];
            var s;
            for (e = 0; e < i; e++) {
                if (n[e] || !s) {
                    s = this._createFrameGraphic(e)
                }
                t.push(s)
            }
            this._gList = t
        }
        ;
        t._createFrameGraphic = function(t) {
            var e = G.createGraphics();
            if (!A._rootMatrix)
                A._rootMatrix = new Ce;
            this._updateNodeGraphic(this._rootNode, t, A._rootMatrix, e);
            return e
        }
        ;
        t._updateNodeGraphic = function(t, e, i, n, s) {
            s === void 0 && (s = 1);
            var r;
            r = this._nodeGDic[t.compId] = this._getNodeGraphicData(t.compId, e, this._nodeGDic[t.compId]);
            var a = r.alpha * s;
            if (a < .01)
                return;
            if (!r.resultTransform) {
                r.resultTransform = Ce.create()
            }
            var o;
            o = r.resultTransform;
            Ce.mul(r.transform, i, o);
            var l;
            if (r.skin) {
                l = this._getTextureByUrl(r.skin);
                if (l) {
                    if (o._checkTransform()) {
                        n.drawTexture(l, 0, 0, r.width, r.height, o, a);
                        r.resultTransform = null
                    } else {
                        n.drawTexture(l, o.tx, o.ty, r.width, r.height, null, a)
                    }
                }
            }
            var h;
            h = t.child;
            if (!h)
                return;
            var u = 0
              , c = 0;
            c = h.length;
            for (u = 0; u < c; u++) {
                this._updateNodeGraphic(h[u], e, o, n, a)
            }
        }
        ;
        t._updateNoChilds = function(t, e) {
            if (!t.skin)
                return;
            var i = this._getTextureByUrl(t.skin);
            if (!i)
                return;
            var n = t.transform;
            n._checkTransform();
            var s = false;
            s = !n.bTransform;
            if (!s) {
                e.drawTexture(i, 0, 0, t.width, t.height, n.clone(), t.alpha)
            } else {
                e.drawTexture(i, n.tx, n.ty, t.width, t.height, null, t.alpha)
            }
        }
        ;
        t._updateNodeGraphic2 = function(t, e, i) {
            var n;
            n = this._nodeGDic[t.compId] = this._getNodeGraphicData(t.compId, e, this._nodeGDic[t.compId]);
            if (!t.child) {
                this._updateNoChilds(n, i);
                return
            }
            var s = n.transform;
            s._checkTransform();
            var r = false;
            r = !s.bTransform;
            var a = false;
            a = r && (s.tx != 0 || s.ty != 0);
            var o = false;
            o = s.bTransform || n.alpha != 1;
            if (o) {
                i.save()
            }
            if (n.alpha != 1) {
                i.alpha(n.alpha)
            }
            if (!r) {
                i.transform(s.clone())
            } else if (a) {
                i.translate(s.tx, s.ty)
            }
            var l;
            l = t.child;
            var h;
            if (n.skin) {
                h = this._getTextureByUrl(n.skin);
                if (h) {
                    i.drawTexture(h, 0, 0, n.width, n.height)
                }
            }
            if (l) {
                var u = 0
                  , c = 0;
                c = l.length;
                for (u = 0; u < c; u++) {
                    this._updateNodeGraphic2(l[u], e, i)
                }
            }
            if (o) {
                i.restore()
            } else {
                if (!r) {
                    i.transform(s.clone().invert())
                } else if (a) {
                    i.translate(-s.tx, -s.ty)
                }
            }
        }
        ;
        t._calculateNodeKeyFrames = function(t) {
            e.prototype._calculateNodeKeyFrames.call(this, t);
            this._nodeIDAniDic[t.target] = t
        }
        ;
        t.getNodeDataByID = function(t) {
            return this._nodeIDAniDic[t]
        }
        ;
        t._getParams = function(t, e, i, n) {
            var s = A._temParam;
            s.length = e.length;
            var r = 0
              , a = e.length;
            for (r = 0; r < a; r++) {
                s[r] = this._getObjVar(t, e[r][0], i, e[r][1], n)
            }
            return s
        }
        ;
        t._getObjVar = function(t, e, i, n, s) {
            if (t.hasOwnProperty(e)) {
                var r = t[e];
                if (i >= r.length)
                    i = r.length - 1;
                if (t[e][i] != undefined)
                    return t[e][i]
            }
            if (s.hasOwnProperty(e)) {
                return s[e]
            }
            return n
        }
        ;
        t._getNodeGraphicData = function(t, e, i) {
            if (!i)
                i = I.create();
            if (!i.transform) {
                i.transform = Ce.create()
            } else {
                i.transform.identity()
            }
            var n = this.getNodeDataByID(t);
            if (!n)
                return i;
            var s = n.frames;
            var r = this._getParams(s, A._drawTextureCmd, e, this._nodeDefaultProps[t]);
            var a = r[0];
            var o = NaN
              , l = NaN;
            var h = r[5]
              , u = r[6];
            var c = r[13]
              , f = r[14];
            var d = r[7]
              , _ = r[8];
            var p = r[9];
            var m = r[11]
              , g = r[12];
            o = r[3];
            l = r[4];
            if (o == 0 || l == 0)
                a = null;
            if (o == -1)
                o = 0;
            if (l == -1)
                l = 0;
            var v;
            i.skin = a;
            i.width = o;
            i.height = l;
            if (a) {
                v = this._getTextureByUrl(a);
                if (v) {
                    if (!o)
                        o = v.sourceWidth;
                    if (!l)
                        l = v.sourceHeight
                } else {
                    console.warn("lost skin:", a, ",you may load pics first")
                }
            }
            i.alpha = r[10];
            var b;
            b = i.transform;
            if (c != 0) {
                h = c * o
            }
            if (f != 0) {
                u = f * l
            }
            if (h != 0 || u != 0) {
                b.translate(-h, -u)
            }
            var y = null;
            if (p || d !== 1 || _ !== 1 || m || g) {
                y = A._tempMt;
                y.identity();
                y.bTransform = true;
                var x = (p - m) * .0174532922222222;
                var w = (p + g) * .0174532922222222;
                var C = Math.cos(w);
                var S = Math.sin(w);
                var T = Math.sin(x);
                var R = Math.cos(x);
                y.a = d * C;
                y.b = d * S;
                y.c = -_ * T;
                y.d = _ * R;
                y.tx = y.ty = 0
            }
            if (y) {
                b = Ce.mul(b, y, b)
            }
            b.translate(r[1], r[2]);
            return i
        }
        ;
        t._getTextureByUrl = function(t) {
            return fn.getRes(t)
        }
        ;
        t.setAniData = function(t, e) {
            if (t.animations) {
                this._nodeDefaultProps = {};
                this._nodeGDic = {};
                if (this._nodeList)
                    this._nodeList.length = 0;
                this._rootNode = t;
                this._parseNodeList(t);
                var i = {};
                var n = [];
                var s = t.animations;
                var r = 0
                  , a = s.length;
                var o;
                for (r = 0; r < a; r++) {
                    o = s[r];
                    this._labels = null;
                    if (e && e != o.name) {
                        continue
                    }
                    if (!o)
                        continue;
                    try {
                        this._calGraphicData(o)
                    } catch (t) {
                        console.warn("parse animation fail:" + o.name + ",empty animation created");
                        this._gList = []
                    }
                    var l = {};
                    l.interval = 1e3 / o["frameRate"];
                    l.frames = this._gList;
                    l.labels = this._labels;
                    l.name = o.name;
                    n.push(l);
                    i[o.name] = l
                }
                this.animationList = n;
                this.animationDic = i
            }
            A._temParam.length = 0
        }
        ;
        t.parseByData = function(t) {
            var e, i;
            e = t.nodeRoot;
            i = t.aniO;
            delete t.nodeRoot;
            delete t.aniO;
            this._nodeDefaultProps = {};
            this._nodeGDic = {};
            if (this._nodeList)
                this._nodeList.length = 0;
            this._rootNode = e;
            this._parseNodeList(e);
            this._labels = null;
            try {
                this._calGraphicData(i)
            } catch (t) {
                console.warn("parse animation fail:" + i.name + ",empty animation created");
                this._gList = []
            }
            var n = t;
            n.interval = 1e3 / i["frameRate"];
            n.frames = this._gList;
            n.labels = this._labels;
            n.name = i.name;
            return n
        }
        ;
        t.setUpAniData = function(t) {
            if (t.animations) {
                var e = {};
                var i = [];
                var n = t.animations;
                var s = 0
                  , r = n.length;
                var a;
                for (s = 0; s < r; s++) {
                    a = n[s];
                    if (!a)
                        continue;
                    var o = {};
                    o.name = a.name;
                    o.aniO = a;
                    o.nodeRoot = t;
                    i.push(o);
                    e[a.name] = o
                }
                this.animationList = i;
                this.animationDic = e
            }
        }
        ;
        t._clear = function() {
            this.animationList = null;
            this.animationDic = null;
            this._gList = null;
            if (this._nodeGDic) {
                var t;
                var e;
                for (t in this._nodeGDic) {
                    e = this._nodeGDic[t];
                    if (e)
                        e.recover()
                }
            }
            this._nodeGDic = null
        }
        ;
        A.parseAnimationByData = function(t) {
            if (!A._I)
                A._I = new A;
            var e;
            e = A._I.parseByData(t);
            A._I._clear();
            return e
        }
        ;
        A.parseAnimationData = function(t) {
            if (!A._I)
                A._I = new A;
            A._I.setUpAniData(t);
            var e;
            e = {};
            e.animationList = A._I.animationList;
            e.animationDic = A._I.animationDic;
            A._I._clear();
            return e
        }
        ;
        A._drawTextureCmd = [["skin", null], ["x", 0], ["y", 0], ["width", -1], ["height", -1], ["pivotX", 0], ["pivotY", 0], ["scaleX", 1], ["scaleY", 1], ["rotation", 0], ["alpha", 1], ["skewX", 0], ["skewY", 0], ["anchorX", 0], ["anchorY", 0]];
        A._temParam = [];
        A._I = null;
        A._rootMatrix = null;
        u(A, ["_tempMt", function() {
            return this._tempMt = new Ce
        }
        ]);
        A.__init$ = function() {
            I = function() {
                function t() {
                    this.skin = null;
                    this.transform = null;
                    this.resultTransform = null;
                    this.width = NaN;
                    this.height = NaN;
                    this.alpha = 1
                }
                x(t, "");
                var e = t.prototype;
                e.recover = function() {
                    this.skin = null;
                    this.width = 0;
                    this.height = 0;
                    this.alpha = 1;
                    if (this.transform) {
                        this.transform.destroy();
                        this.transform = null
                    }
                    if (this.resultTransform) {
                        this.resultTransform.destroy();
                        this.resultTransform = null
                    }
                    ei.recover("GraphicNode", this)
                }
                ;
                t.create = function() {
                    return ei.getItemByClass("GraphicNode", t)
                }
                ;
                return t
            }()
        }
        ;
        return A
    }(ir);
    var Or = function(t) {
        function u(t, e, i, n) {
            this._format = 0;
            this._mipmap = false;
            this._allowMerageInAtlas = false;
            this._enableMerageInAtlas = false;
            this.repeat = false;
            this._image = null;
            this.minFifter = 0;
            this.magFifter = 0;
            i === void 0 && (i = 6408);
            n === void 0 && (n = true);
            u.__super.call(this, t, e);
            this._format = i;
            this._mipmap = n;
            this.repeat = false;
            this.minFifter = -1;
            this.magFifter = -1;
            if (typeof t == "string") {
                this._url = t;
                this._src = t;
                this._image = new He.window.Image;
                if (e) {
                    e.onload && (this.onload = e.onload);
                    e.onerror && (this.onerror = e.onerror);
                    e.onCreate && e.onCreate(this)
                }
                this._image.crossOrigin = t && t.indexOf("data:") == 0 ? null : "";
                t && (this._image.src = t)
            } else if (t instanceof ArrayBuffer) {
                this._src = e;
                this._url = this._src;
                var s = new Nt(t);
                var r = s.readUTFBytes(4);
                var a = s.readUTFBytes(2);
                var o = s.getInt16();
                s.endian = "bigEndian";
                this._w = s.getInt16();
                this._h = s.getInt16();
                var l = s.getInt16();
                var h = s.getInt16();
                this._image = new Uint8Array(t,s.pos);
                this._format = Hi.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL;
                ci.enabled && (this._w < ci.atlasLimitWidth && this._h < ci.atlasLimitHeight) ? this._allowMerageInAtlas = true : this._allowMerageInAtlas = false
            } else {
                this._src = e;
                this._url = this._src;
                this._image = t["source"] || t;
                this.onresize()
            }
            this._$5__enableMerageInAtlas = true
        }
        x(u, "laya.webgl.resource.WebGLImage", t);
        var e = u.prototype;
        st.imps(e, {
            "laya.webgl.resource.IMergeAtlasBitmap": true
        });
        e._init_ = function(t, e) {}
        ;
        e._createWebGlTexture = function() {
            if (!this._image) {
                throw "create GLTextur err:no data:" + this._image
            }
            var t = Hi.mainContext;
            var e = this._source = t.createTexture();
            var i = zi.curBindTexTarget;
            var n = zi.curBindTexValue;
            zi.bindTexture(t, 3553, e);
            if (Be.isConchWebGL) {
                switch (this._format) {
                case 6408:
                    t.texImage2DEx(true, 3553, 0, this._format, 6408, 5121, this._image);
                    break;
                case Hi.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:
                    t.compressedTexImage2D(3553, 0, this._format, this._w, this._h, 0, this._image);
                    break
                }
            } else {
                t.pixelStorei(37441, true);
                switch (this._format) {
                case 6408:
                    t.texImage2D(3553, 0, this._format, 6408, 5121, this._image);
                    break;
                case Hi.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:
                    t.compressedTexImage2D(3553, 0, this._format, this._w, this._h, 0, this._image);
                    break
                }
                t.pixelStorei(37441, false)
            }
            var s = this.minFifter;
            var r = this.magFifter;
            var a = this.repeat ? 10497 : 33071;
            var o = be.isPOT(this._w, this._h);
            if (o) {
                if (this.mipmap)
                    s !== -1 || (s = 9987);
                else
                    s !== -1 || (s = 9729);
                r !== -1 || (r = 9729);
                t.texParameteri(3553, 10241, s);
                t.texParameteri(3553, 10240, r);
                t.texParameteri(3553, 10242, a);
                t.texParameteri(3553, 10243, a);
                this.mipmap && t.generateMipmap(3553)
            } else {
                s !== -1 || (s = 9729);
                r !== -1 || (r = 9729);
                t.texParameteri(3553, 10241, s);
                t.texParameteri(3553, 10240, r);
                t.texParameteri(3553, 10242, 33071);
                t.texParameteri(3553, 10243, 33071)
            }
            i && n && zi.bindTexture(t, i, n);
            this._image.onload = null;
            this._image = null;
            if (o && this.mipmap)
                this.memorySize = this._w * this._h * 4 * (1 + 1 / 3);
            else
                this.memorySize = this._w * this._h * 4;
            this._recreateLock = false
        }
        ;
        e.recreateResource = function() {
            var t = this;
            if (this._src == null || this._src === "")
                return;
            this._needReleaseAgain = false;
            if (!this._image) {
                this._recreateLock = true;
                var e = this;
                this._image = new He.window.Image;
                this._image.crossOrigin = this._src.indexOf("data:") == 0 ? null : "";
                this._image.onload = function() {
                    if (e._needReleaseAgain) {
                        e._needReleaseAgain = false;
                        e._image.onload = null;
                        e._image = null;
                        return
                    }
                    !(e._allowMerageInAtlas && e._enableMerageInAtlas) ? e._createWebGlTexture() : (t.memorySize = 0,
                    t._recreateLock = false);
                    e.checkCompleteCreate()
                }
                ;
                this._image.src = this._src
            } else {
                if (this._recreateLock) {
                    return
                }
                !(this._allowMerageInAtlas && this._$5__enableMerageInAtlas) ? this._createWebGlTexture() : (this.memorySize = 0,
                this._recreateLock = false);
                this.completeCreate()
            }
        }
        ;
        e.checkCompleteCreate = function() {
            var t = this.completeCreate();
            if (!t) {
                this._released = true
            }
        }
        ;
        e.disposeResource = function() {
            if (this._recreateLock) {
                this._needReleaseAgain = true
            }
            if (this._source) {
                Hi.mainContext.deleteTexture(this._source);
                this._source = null;
                this._image = null;
                this.memorySize = 0
            }
        }
        ;
        e.onresize = function() {
            this._w = this._image.width;
            this._h = this._image.height;
            ci.enabled && (this._w < ci.atlasLimitWidth && this._h < ci.atlasLimitHeight) ? this._allowMerageInAtlas = true : this._allowMerageInAtlas = false
        }
        ;
        e.clearAtlasSource = function() {
            this._image = null
        }
        ;
        p(0, e, "format", function() {
            return this._format
        });
        p(0, e, "enableMerageInAtlas", function() {
            return this._$5__enableMerageInAtlas
        }, function(t) {
            this._$5__enableMerageInAtlas = t
        });
        p(0, e, "mipmap", function() {
            return this._mipmap
        });
        p(0, e, "allowMerageInAtlas", function() {
            return this._allowMerageInAtlas
        });
        p(0, e, "atlasSource", function() {
            return this._image
        });
        p(0, e, "onload", null, function(t) {
            var e = this;
            this._onload = t;
            this._image && (this._image.onload = this._onload != null ? function() {
                e.onresize();
                e._onload()
            }
            : null)
        });
        p(0, e, "onerror", null, function(t) {
            var e = this;
            this._onerror = t;
            this._image && (this._image.onerror = this._onerror != null ? function() {
                e._onerror()
            }
            : null)
        });
        return u
    }(rr);
    var Ur = function(e) {
        function i(t) {
            this._vScrollBar = null;
            this._hScrollBar = null;
            t === void 0 && (t = "");
            i.__super.call(this, t)
        }
        x(i, "laya.ui.TextArea", e);
        var t = i.prototype;
        t.destroy = function(t) {
            t === void 0 && (t = true);
            e.prototype.destroy.call(this, t);
            this._vScrollBar && this._vScrollBar.destroy();
            this._hScrollBar && this._hScrollBar.destroy();
            this._vScrollBar = null;
            this._hScrollBar = null
        }
        ;
        t.initialize = function() {
            this.width = 180;
            this.height = 150;
            this._tf.wordWrap = true;
            this.multiline = true
        }
        ;
        t.onVBarChanged = function(t) {
            if (this._tf.scrollY != this._vScrollBar.value) {
                this._tf.scrollY = this._vScrollBar.value
            }
        }
        ;
        t.onHBarChanged = function(t) {
            if (this._tf.scrollX != this._hScrollBar.value) {
                this._tf.scrollX = this._hScrollBar.value
            }
        }
        ;
        t.changeScroll = function() {
            var t = this._vScrollBar && this._tf.maxScrollY > 0;
            var e = this._hScrollBar && this._tf.maxScrollX > 0;
            var i = t ? this._width - this._vScrollBar.width : this._width;
            var n = e ? this._height - this._hScrollBar.height : this._height;
            var s = this._tf.padding || Oe.labelPadding;
            this._tf.width = i;
            this._tf.height = n;
            if (this._vScrollBar) {
                this._vScrollBar.x = this._width - this._vScrollBar.width - s[2];
                this._vScrollBar.y = s[1];
                this._vScrollBar.height = this._height - (e ? this._hScrollBar.height : 0) - s[1] - s[3];
                this._vScrollBar.scrollSize = 1;
                this._vScrollBar.thumbPercent = n / Math.max(this._tf.textHeight, n);
                this._vScrollBar.setScroll(1, this._tf.maxScrollY, this._tf.scrollY);
                this._vScrollBar.visible = t
            }
            if (this._hScrollBar) {
                this._hScrollBar.x = s[0];
                this._hScrollBar.y = this._height - this._hScrollBar.height - s[3];
                this._hScrollBar.width = this._width - (t ? this._vScrollBar.width : 0) - s[0] - s[2];
                this._hScrollBar.scrollSize = Math.max(i * .033, 1);
                this._hScrollBar.thumbPercent = i / Math.max(this._tf.textWidth, i);
                this._hScrollBar.setScroll(0, this.maxScrollX, this.scrollX);
                this._hScrollBar.visible = e
            }
        }
        ;
        t.scrollTo = function(t) {
            this.commitMeasure();
            this._tf.scrollY = t
        }
        ;
        p(0, t, "scrollY", function() {
            return this._tf.scrollY
        });
        p(0, t, "width", e.prototype._$get_width, function(t) {
            st.superSet(hr, this, "width", t);
            this.callLater(this.changeScroll)
        });
        p(0, t, "hScrollBar", function() {
            return this._hScrollBar
        });
        p(0, t, "height", e.prototype._$get_height, function(t) {
            st.superSet(hr, this, "height", t);
            this.callLater(this.changeScroll)
        });
        p(0, t, "maxScrollX", function() {
            return this._tf.maxScrollX
        });
        p(0, t, "vScrollBarSkin", function() {
            return this._vScrollBar ? this._vScrollBar.skin : null
        }, function(t) {
            if (this._vScrollBar == null) {
                this.addChild(this._vScrollBar = new wr);
                this._vScrollBar.on("change", this, this.onVBarChanged);
                this._vScrollBar.target = this._tf;
                this.callLater(this.changeScroll)
            }
            this._vScrollBar.skin = t
        });
        p(0, t, "hScrollBarSkin", function() {
            return this._hScrollBar ? this._hScrollBar.skin : null
        }, function(t) {
            if (this._hScrollBar == null) {
                this.addChild(this._hScrollBar = new yr);
                this._hScrollBar.on("change", this, this.onHBarChanged);
                this._hScrollBar.mouseWheelEnable = false;
                this._hScrollBar.target = this._tf;
                this.callLater(this.changeScroll)
            }
            this._hScrollBar.skin = t
        });
        p(0, t, "vScrollBar", function() {
            return this._vScrollBar
        });
        p(0, t, "maxScrollY", function() {
            return this._tf.maxScrollY
        });
        p(0, t, "scrollX", function() {
            return this._tf.scrollX
        });
        return i
    }(hr);
    var Hr = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.comps.ListItemUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                props: {
                    base64pic: true,
                    width: 244,
                    height: 19
                },
                child: [{
                    type: "Clip",
                    props: {
                        y: -1,
                        skin: "comp/clip_selectBox.png",
                        clipY: 2,
                        height: 19,
                        name: "selectBox",
                        left: 2,
                        right: 2,
                        x: 0
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 25,
                        text: "render",
                        color: "#dcea36",
                        width: 77,
                        height: 17,
                        name: "label",
                        y: 2,
                        fontSize: 12
                    }
                }, {
                    type: "Clip",
                    props: {
                        skin: "comp/clip_tree_arrow.png",
                        clipY: 2,
                        name: "arrow",
                        x: 8,
                        y: 4,
                        mouseEnabled: false
                    }
                }]
            }
        }
        ]);
        return e
    }(ur);
    var zr = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.comps.RankListItemUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        y: -1,
                        skin: "comp/clip_selectBox.png",
                        clipY: 2,
                        height: 19,
                        name: "selectBox",
                        left: 0,
                        right: 0,
                        x: 0
                    },
                    type: "Clip"
                }, {
                    props: {
                        text: "render",
                        color: "#a0a0a0",
                        height: 15,
                        name: "label",
                        y: 2,
                        left: 11,
                        right: 5,
                        fontSize: 12,
                        x: 11,
                        width: 163
                    },
                    type: "Label"
                }],
                props: {
                    width: 179,
                    height: 19
                }
            }
        }
        ]);
        return e
    }(ur);
    var Jr = function(t) {
        function e() {
            this.bg = null;
            this.minBtn = null;
            this.treePanel = null;
            this.selectWhenClick = null;
            this.profilePanel = null;
            this.resizeBtn = null;
            this.mouseAnalyseBtn = null;
            this.dragIcon = null;
            this.clearBtn = null;
            this.selectPanel = null;
            this.tab = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.DebugPanelUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.view.nodeInfo.nodetree.MinBtnComp", ya);
            ur.regComponent("laya.debug.view.nodeInfo.views.NodeTreeView", Wr);
            ur.regComponent("laya.debug.view.nodeInfo.nodetree.Profile", Aa);
            ur.regComponent("laya.debug.view.nodeInfo.views.SelectInfosView", kr)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                props: {
                    base64pic: true,
                    width: 260,
                    height: 400
                },
                child: [{
                    type: "Image",
                    props: {
                        x: 205,
                        y: 254,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    }
                }, {
                    type: "Image",
                    props: {
                        y: 0,
                        skin: "view/bg_top.png",
                        left: 0,
                        right: 0
                    }
                }, {
                    type: "MinBtnComp",
                    props: {
                        y: -3,
                        var: "minBtn",
                        runtime: "laya.debug.view.nodeInfo.nodetree.MinBtnComp",
                        right: -3,
                        x: 207
                    }
                }, {
                    type: "NodeTree",
                    props: {
                        left: 0,
                        right: 0,
                        top: 32,
                        bottom: 0,
                        name: "节点树",
                        var: "treePanel",
                        runtime: "laya.debug.view.nodeInfo.views.NodeTreeView"
                    }
                }, {
                    type: "CheckBox",
                    props: {
                        x: 8,
                        y: 9,
                        skin: "view/clickselect.png",
                        toolTip: "点击选取",
                        var: "selectWhenClick",
                        mouseEnabled: true,
                        width: 14,
                        height: 14
                    }
                }, {
                    type: "Profile",
                    props: {
                        name: "性能",
                        top: 32,
                        right: 0,
                        left: 0,
                        bottom: 0,
                        var: "profilePanel",
                        runtime: "laya.debug.view.nodeInfo.nodetree.Profile"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 169,
                        y: 247,
                        skin: "view/resize.png",
                        right: 2,
                        bottom: 2,
                        name: "resizeBtn",
                        var: "resizeBtn",
                        stateNum: 3
                    }
                }, {
                    type: "Clip",
                    props: {
                        y: 9,
                        skin: "view/clickanalyse.png",
                        var: "mouseAnalyseBtn",
                        toolTip: "拖动选取",
                        left: 33,
                        x: 33,
                        clipY: 3
                    }
                }, {
                    type: "Clip",
                    props: {
                        y: 0,
                        skin: "view/clickanalyse.png",
                        var: "dragIcon",
                        x: 33,
                        clipY: 3
                    }
                }, {
                    type: "Button",
                    props: {
                        y: 7,
                        skin: "view/res.png",
                        stateNum: 2,
                        toolTip: "清除边框",
                        var: "clearBtn",
                        right: 34,
                        x: 184
                    }
                }, {
                    type: "SelectInfos",
                    props: {
                        top: 32,
                        left: 0,
                        right: 0,
                        bottom: 0,
                        name: "选中",
                        var: "selectPanel",
                        runtime: "laya.debug.view.nodeInfo.views.SelectInfosView"
                    }
                }, {
                    type: "Tab",
                    props: {
                        x: 59,
                        y: 0,
                        name: "tab",
                        var: "tab",
                        selectedIndex: 0
                    },
                    child: [{
                        type: "Button",
                        props: {
                            skin: "view/tab_panel.png",
                            label: "节点",
                            width: 42,
                            height: 32,
                            name: "item0",
                            labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                        }
                    }, {
                        type: "Button",
                        props: {
                            x: 42,
                            skin: "view/tab_panel.png",
                            label: "查询",
                            width: 42,
                            height: 32,
                            name: "item1",
                            labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                        }
                    }, {
                        type: "Button",
                        props: {
                            x: 84,
                            skin: "view/tab_panel.png",
                            label: "性能",
                            width: 42,
                            height: 32,
                            name: "item2",
                            labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                        }
                    }]
                }]
            }
        }
        ]);
        return e
    }(ur);
    var jr = function(t) {
        function e() {
            this.bg = null;
            this.closeBtn = null;
            this.title = null;
            this.typeSelect = null;
            this.findTxt = null;
            this.findBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.FindNodeSmallUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 185,
                        y: 234,
                        skin: "view/bg_tool.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg"
                    },
                    type: "Image"
                }, {
                    props: {
                        x: 185,
                        y: 15,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 2,
                        right: 2
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 6,
                        y: 4,
                        text: "查找对象",
                        width: 67,
                        height: 20,
                        color: "#288edf",
                        var: "title"
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 60,
                        y: 81,
                        skin: "comp/combobox.png",
                        labels: "name,class",
                        width: 63,
                        height: 21,
                        var: "typeSelect",
                        sizeGrid: "5,35,5,5",
                        labelColors: "#a0a0a0,#fffff,#ffffff#fffff"
                    },
                    type: "ComboBox"
                }, {
                    props: {
                        x: 27,
                        y: 83,
                        text: "类型",
                        width: 27,
                        height: 20,
                        color: "#288edf",
                        align: "right"
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 7,
                        y: 40,
                        text: "包含内容",
                        width: 47,
                        height: 20,
                        color: "#288edf",
                        align: "right"
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 60,
                        y: 37,
                        skin: "comp/textinput.png",
                        text: "Sprite",
                        width: 164,
                        height: 22,
                        var: "findTxt",
                        sizeGrid: "5,5,5,5",
                        color: "#a0a0a0"
                    },
                    type: "TextInput"
                }, {
                    props: {
                        x: 158,
                        y: 79,
                        skin: "comp/button.png",
                        label: "查找",
                        width: 65,
                        height: 23,
                        var: "findBtn",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    },
                    type: "Button"
                }],
                props: {
                    base64pic: true,
                    width: 233,
                    height: 120
                }
            }
        }
        ]);
        return e
    }(ur);
    var Kr = function(t) {
        function e() {
            this.bg = null;
            this.closeBtn = null;
            this.title = null;
            this.typeSelect = null;
            this.findTxt = null;
            this.result = null;
            this.findBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.FindNodeUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.uicomps.RankListItem", pa)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 185,
                        y: 234,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    },
                    type: "Image"
                }, {
                    props: {
                        x: 185,
                        y: 15,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 2,
                        right: 2
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 6,
                        y: 4,
                        text: "查找对象",
                        width: 67,
                        height: 20,
                        color: "#88ef19",
                        var: "title"
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 52,
                        y: 75,
                        skin: "comp/combobox.png",
                        labels: "name,class",
                        width: 63,
                        height: 21,
                        var: "typeSelect",
                        sizeGrid: "5,35,5,5",
                        labelColors: "#a0a0a0,#fffff,#ffffff#fffff"
                    },
                    type: "ComboBox"
                }, {
                    props: {
                        x: 10,
                        y: 77,
                        text: "类型",
                        width: 27,
                        height: 20,
                        color: "#88ef19",
                        align: "right"
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 7,
                        y: 34,
                        text: "包含内容",
                        width: 47,
                        height: 20,
                        color: "#88ef19",
                        align: "right"
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 59,
                        y: 31,
                        skin: "comp/textinput.png",
                        text: "Sprite",
                        width: 131,
                        height: 22,
                        var: "findTxt",
                        sizeGrid: "5,5,5,5",
                        color: "#a0a0a0"
                    },
                    type: "TextInput"
                }, {
                    type: "List",
                    child: [{
                        type: "RankListItem",
                        props: {
                            y: 30,
                            left: 5,
                            right: 5,
                            name: "render",
                            x: 30,
                            runtime: "laya.debug.uicomps.RankListItem"
                        }
                    }],
                    props: {
                        x: 6,
                        y: 106,
                        width: 188,
                        height: 180,
                        vScrollBarSkin: "comp/vscroll.png",
                        var: "result"
                    }
                }, {
                    props: {
                        x: 125,
                        y: 73,
                        skin: "comp/button.png",
                        label: "查找",
                        width: 65,
                        height: 23,
                        var: "findBtn",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    },
                    type: "Button"
                }],
                props: {
                    width: 200,
                    height: 300,
                    base64pic: true
                }
            }
        }
        ]);
        return e
    }(ur);
    var Qr = function(t) {
        function e() {
            this.minBtn = null;
            this.maxUI = null;
            this.bg = null;
            this.maxBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.MinBtnCompUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 7,
                        y: 8,
                        skin: "comp/minBtn.png",
                        stateNum: "3",
                        var: "minBtn",
                        width: 22,
                        height: 20,
                        toolTip: "最小化"
                    },
                    type: "Button"
                }, {
                    type: "Box",
                    child: [{
                        props: {
                            x: 0,
                            y: 0,
                            skin: "view/bg_panel.png",
                            var: "bg",
                            width: 36,
                            height: 36,
                            sizeGrid: "5,5,5,5"
                        },
                        type: "Image"
                    }, {
                        props: {
                            x: 6,
                            y: 8,
                            skin: "view/zoom_out.png",
                            stateNum: "2",
                            var: "maxBtn"
                        },
                        type: "Button"
                    }],
                    props: {
                        var: "maxUI"
                    }
                }],
                props: {
                    width: 36,
                    height: 36,
                    base64pic: true
                }
            }
        }
        ]);
        return e
    }(ur);
    var qr = function(t) {
        function e() {
            this.bg = null;
            this.closeBtn = null;
            this.title = null;
            this.itemList = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.NodeListPanelUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.uicomps.RankListItem", pa)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 235,
                        y: 284,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    },
                    type: "Image"
                }, {
                    props: {
                        x: 204,
                        y: 32,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 2,
                        right: 2,
                        visible: true
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 10,
                        y: 6,
                        text: "节点信息",
                        width: 147,
                        height: 16,
                        color: "#288edf",
                        var: "title"
                    },
                    type: "Label"
                }, {
                    type: "List",
                    child: [{
                        type: "RankListItem",
                        props: {
                            left: 5,
                            right: 5,
                            name: "render",
                            runtime: "laya.debug.uicomps.RankListItem"
                        }
                    }],
                    props: {
                        vScrollBarSkin: "comp/vscroll.png",
                        var: "itemList",
                        left: 2,
                        right: 2,
                        top: 26,
                        bottom: 0,
                        repeatX: 1,
                        x: 20
                    }
                }],
                props: {
                    width: 200,
                    height: 300
                }
            }
        }
        ]);
        return e
    }(ur);
    var $r = function(t) {
        function e() {
            this.bg = null;
            this.closeBtn = null;
            this.tarTxt = null;
            this.freshBtn = null;
            this.mouseAnalyseBtn = null;
            this.dragIcon = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.NodeToolUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                props: {
                    base64pic: true,
                    width: 200,
                    height: 341
                },
                child: [{
                    type: "Image",
                    props: {
                        x: 195,
                        y: 244,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 9,
                        y: 5,
                        text: "当前选中对象",
                        width: 67,
                        height: 16,
                        color: "#a0a0a0"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 195,
                        y: 25,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 2,
                        right: 2
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 10,
                        y: 25,
                        text: "当前对象",
                        width: 67,
                        height: 16,
                        color: "#a0a0a0",
                        var: "tarTxt"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 15,
                        y: 65,
                        skin: "comp/button.png",
                        label: "父链",
                        width: 39,
                        height: 23,
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 66,
                        y: 65,
                        skin: "comp/button.png",
                        label: "子",
                        width: 35,
                        height: 23,
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 112,
                        y: 65,
                        skin: "comp/button.png",
                        label: "兄弟",
                        width: 49,
                        height: 23,
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 13,
                        y: 117,
                        skin: "comp/button.png",
                        label: "Enable链",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 100,
                        y: 117,
                        skin: "comp/button.png",
                        label: "Size链",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 14,
                        y: 97,
                        text: "节点链信息",
                        width: 67,
                        height: 16,
                        color: "#a0a0a0"
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 15,
                        y: 45,
                        text: "对象选取",
                        width: 67,
                        height: 16,
                        color: "#a0a0a0"
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 16,
                        y: 145,
                        text: "节点显示",
                        width: 67,
                        height: 16,
                        color: "#a0a0a0"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 13,
                        y: 164,
                        skin: "comp/button.png",
                        label: "隐藏旁支",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 100,
                        y: 164,
                        skin: "comp/button.png",
                        label: "隐藏兄弟",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 13,
                        y: 197,
                        skin: "comp/button.png",
                        label: "隐藏子",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 99,
                        y: 197,
                        skin: "comp/button.png",
                        label: "恢复",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 15,
                        y: 228,
                        text: "其他",
                        width: 67,
                        height: 16,
                        color: "#a0a0a0"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 12,
                        y: 247,
                        skin: "comp/button.png",
                        label: "节点树定位",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 99,
                        y: 247,
                        skin: "comp/button.png",
                        label: "显示边框",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Label",
                    props: {
                        x: 12,
                        y: 315,
                        text: "Alt+A分析鼠标能否够点中对象",
                        width: 173,
                        height: 16,
                        color: "#a0a0a0"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 156,
                        y: 1,
                        skin: "view/refresh2.png",
                        var: "freshBtn",
                        left: 156,
                        toolTip: "recache节点"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 12,
                        y: 279,
                        skin: "comp/button.png",
                        label: "输出到控制台",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 99,
                        y: 279,
                        skin: "comp/button.png",
                        label: "显示切换",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    }
                }, {
                    type: "Clip",
                    props: {
                        y: 44,
                        skin: "view/clickanalyse.png",
                        var: "mouseAnalyseBtn",
                        toolTip: "拖动到对象上方判断是否能够点中",
                        left: 84,
                        x: 84,
                        clipY: 3
                    }
                }, {
                    type: "Clip",
                    props: {
                        y: 35,
                        skin: "view/clickanalyse.png",
                        var: "dragIcon",
                        x: 94,
                        clipY: 3
                    }
                }]
            }
        }
        ]);
        return e
    }(ur);
    var ta = function(t) {
        function e() {
            this.bg = null;
            this.showTxt = null;
            this.okBtn = null;
            this.closeBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.NodeTreeSettingUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 0,
                        y: 0,
                        skin: "view/bg_panel.png",
                        left: 0,
                        top: 0,
                        bottom: 0,
                        right: 0,
                        var: "bg",
                        width: 200,
                        height: 300,
                        sizeGrid: "5,5,5,5"
                    },
                    type: "Image"
                }, {
                    props: {
                        x: 9,
                        y: 7,
                        text: "要显示的属性",
                        width: 76,
                        height: 16,
                        color: "#ffffff",
                        align: "left"
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 6,
                        y: 29,
                        skin: "comp/textinput.png",
                        text: "x\\ny\\nwidth\\nheight",
                        width: 188,
                        height: 230,
                        multiline: true,
                        var: "showTxt",
                        color: "#a0a0a0",
                        sizeGrid: "5,5,5,5"
                    },
                    type: "TextInput"
                }, {
                    props: {
                        x: 57,
                        y: 269,
                        skin: "comp/button.png",
                        label: "确定",
                        var: "okBtn",
                        mouseEnabled: "true",
                        labelColors: "#ffffff,#ffffff,#ffffff,#ffffff"
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 175,
                        y: 5,
                        skin: "view/btn_close.png",
                        var: "closeBtn"
                    },
                    type: "Button"
                }],
                props: {
                    base64pic: true,
                    width: 200,
                    height: 300
                }
            }
        }
        ]);
        return e
    }(ur);
    var ea = function(t) {
        function e() {
            this.nodeTree = null;
            this.controlBar = null;
            this.settingBtn = null;
            this.freshBtn = null;
            this.fliterTxt = null;
            this.closeBtn = null;
            this.ifShowProps = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.NodeTreeUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.uicomps.TreeListItem", ma)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                props: {
                    width: 200,
                    height: 260,
                    base64pic: true
                },
                child: [{
                    type: "Image",
                    props: {
                        x: -22,
                        y: -47,
                        skin: "view/bg_panel.png",
                        width: 211,
                        height: 206,
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        sizeGrid: "5,5,5,5"
                    }
                }, {
                    props: {
                        y: 0,
                        skin: "view/bg_tool.png",
                        left: 0,
                        right: 0
                    },
                    type: "Image"
                }, {
                    type: "Tree",
                    props: {
                        x: 0,
                        scrollBarSkin: "comp/vscroll.png",
                        width: 195,
                        height: 229,
                        var: "nodeTree",
                        left: 0,
                        right: 0,
                        top: 38,
                        bottom: 20
                    },
                    child: [{
                        type: "ListItem",
                        props: {
                            y: 0,
                            name: "render",
                            left: 0,
                            right: 0,
                            runtime: "laya.debug.uicomps.TreeListItem"
                        }
                    }]
                }, {
                    type: "Box",
                    props: {
                        x: 3,
                        y: 5,
                        var: "controlBar",
                        left: 3,
                        right: 3,
                        top: 5,
                        height: 23
                    },
                    child: [{
                        type: "Button",
                        props: {
                            x: 6,
                            skin: "view/setting.png",
                            stateNum: 3,
                            var: "settingBtn",
                            toolTip: "设置显示的属性",
                            y: 6
                        }
                    }, {
                        type: "Button",
                        props: {
                            y: 6,
                            skin: "view/refresh.png",
                            var: "freshBtn",
                            left: 30,
                            toolTip: "刷新数据"
                        }
                    }, {
                        type: "TextInput",
                        props: {
                            y: 0,
                            skin: "view/bg_top.png",
                            height: 22,
                            var: "fliterTxt",
                            left: 53,
                            right: 0,
                            color: "#a0a0a0"
                        }
                    }, {
                        type: "Button",
                        props: {
                            x: 172,
                            y: 2,
                            skin: "view/btn_close.png",
                            var: "closeBtn",
                            right: 1,
                            visible: false
                        }
                    }]
                }, {
                    props: {
                        y: 243,
                        skin: "comp/checkbox.png",
                        label: "显示属性",
                        var: "ifShowProps",
                        bottom: 3,
                        selected: true,
                        visible: true,
                        x: 2,
                        width: 70,
                        height: 14,
                        labelColors: "#a0a0a0,#fffff,#ffffff,#fffff"
                    },
                    type: "CheckBox"
                }]
            }
        }
        ]);
        return e
    }(ur);
    var ia = function(t) {
        function e() {
            this.bg = null;
            this.closeBtn = null;
            this.itemList = null;
            this.freshBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.ObjectCreateUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.uicomps.RankListItem", pa)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 215,
                        y: 264,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    },
                    type: "Image"
                }, {
                    props: {
                        x: 184,
                        y: 12,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 2,
                        right: 2,
                        visible: false
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 11,
                        y: 5,
                        text: "对象创建统计",
                        width: 83,
                        height: 16,
                        color: "#288edf"
                    },
                    type: "Label"
                }, {
                    type: "List",
                    child: [{
                        type: "RankListItem",
                        props: {
                            y: 0,
                            left: 5,
                            right: 5,
                            name: "render",
                            runtime: "laya.debug.uicomps.RankListItem"
                        }
                    }],
                    props: {
                        vScrollBarSkin: "comp/vscroll.png",
                        var: "itemList",
                        top: 26,
                        bottom: 5,
                        left: 5,
                        right: 5,
                        repeatX: 1
                    }
                }, {
                    props: {
                        y: 1,
                        skin: "view/refresh2.png",
                        var: "freshBtn",
                        toolTip: "刷新数据",
                        right: 1,
                        x: 178
                    },
                    type: "Button"
                }],
                props: {
                    width: 200,
                    height: 300,
                    base64pic: true
                }
            }
        }
        ]);
        return e
    }(ur);
    var na = function(t) {
        function e() {
            this.bg = null;
            this.title = null;
            this.showTxt = null;
            this.closeBtn = null;
            this.autoUpdate = null;
            this.settingBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.ObjectInfoUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: -1,
                        y: 0,
                        skin: "view/bg_panel.png",
                        left: -1,
                        right: 1,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    },
                    type: "Image"
                }, {
                    props: {
                        x: 7,
                        y: 5,
                        text: "对象类型",
                        width: 67,
                        height: 20,
                        color: "#ffffff",
                        var: "title",
                        left: 7,
                        right: 6
                    },
                    type: "Label"
                }, {
                    props: {
                        x: 2,
                        skin: "comp/textinput.png",
                        text: "属性内容",
                        width: 196,
                        height: 228,
                        left: 2,
                        right: 2,
                        var: "showTxt",
                        top: 25,
                        bottom: 20,
                        editable: false,
                        multiline: true,
                        sizeGrid: "5,5,5,5",
                        color: "#a0a0a0"
                    },
                    type: "TextArea"
                }, {
                    props: {
                        x: 178,
                        y: 4,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 4,
                        right: 2
                    },
                    type: "Button"
                }, {
                    props: {
                        skin: "comp/checkbox.png",
                        label: "自动刷新属性",
                        var: "autoUpdate",
                        bottom: 2,
                        x: 3,
                        labelColors: "#a0a0a0,#fffff,#ffffff,#fffff"
                    },
                    type: "CheckBox"
                }, {
                    props: {
                        x: 164,
                        skin: "view/setting.png",
                        stateNum: "3",
                        var: "settingBtn",
                        y: 6,
                        top: 6,
                        right: 24,
                        toolTip: "设置显示属性"
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 179,
                        y: 257,
                        skin: "view/resize.png",
                        right: 2,
                        bottom: 2,
                        name: "resizeBtn",
                        stateNum: 3
                    },
                    type: "Button"
                }],
                props: {
                    base64pic: true,
                    width: 200,
                    height: 200
                }
            }
        }
        ]);
        return e
    }(ur);
    var sa = function(t) {
        function e() {
            this.bg = null;
            this.txt = null;
            this.closeBtn = null;
            this.clearBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.OutPutUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {}
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                props: {
                    width: 300,
                    height: 200,
                    base64pic: true
                },
                child: [{
                    type: "Image",
                    props: {
                        x: 205,
                        y: 254,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    }
                }, {
                    type: "Label",
                    props: {
                        skin: "comp/textarea.png",
                        text: "TextArea",
                        color: "#a0a0a0",
                        var: "txt",
                        left: 5,
                        right: 5,
                        top: 22,
                        bottom: 5,
                        mouseEnabled: true,
                        sizeGrid: "3,3,3,3"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 185,
                        y: 15,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 2,
                        right: 2
                    }
                }, {
                    props: {
                        x: 253,
                        y: 1,
                        skin: "view/re.png",
                        stateNum: "2",
                        var: "clearBtn",
                        right: 25
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 169,
                        y: 247,
                        skin: "view/resize.png",
                        right: 2,
                        bottom: 2,
                        name: "resizeBtn",
                        stateNum: 3
                    },
                    type: "Button"
                }]
            }
        }
        ]);
        return e
    }(ur);
    var ra = function(t) {
        function e() {
            this.renderPanel = null;
            this.createPanel = null;
            this.cachePanel = null;
            this.tab = null;
            this.resPanel = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.ProfileUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.view.nodeInfo.views.RenderCostRankView", Zr);
            ur.regComponent("laya.debug.view.nodeInfo.views.ObjectCreateView", Er);
            ur.regComponent("laya.debug.view.nodeInfo.views.CacheRankView", Sr);
            ur.regComponent("laya.debug.view.nodeInfo.views.ResRankView", Br)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                props: {
                    width: 260,
                    height: 329,
                    base64pic: true
                },
                child: [{
                    type: "Image",
                    props: {
                        y: 0,
                        skin: "view/bg_tool.png",
                        right: 0,
                        left: 0
                    }
                }, {
                    type: "Rank",
                    props: {
                        var: "renderPanel",
                        top: 29,
                        runtime: "laya.debug.view.nodeInfo.views.RenderCostRankView",
                        right: 0,
                        name: "渲染用时",
                        left: 0,
                        bottom: 0
                    }
                }, {
                    type: "ObjectCreate",
                    props: {
                        var: "createPanel",
                        top: 29,
                        runtime: "laya.debug.view.nodeInfo.views.ObjectCreateView",
                        right: 0,
                        name: "对象创建统计",
                        left: 0,
                        bottom: 0
                    }
                }, {
                    type: "Rank",
                    props: {
                        x: 10,
                        var: "cachePanel",
                        top: 29,
                        runtime: "laya.debug.view.nodeInfo.views.CacheRankView",
                        right: 0,
                        name: "cache用时",
                        left: 0,
                        bottom: 0
                    }
                }, {
                    type: "Tab",
                    props: {
                        y: 9,
                        x: 7,
                        width: 191,
                        var: "tab",
                        selectedIndex: 0,
                        height: 19
                    },
                    child: [{
                        type: "CheckBox",
                        props: {
                            y: 0,
                            x: 0,
                            width: 50,
                            skin: "view/create.png",
                            name: "item0",
                            labelColors: "#a0a0a0,#ffffff,#ffffff,#ffffff",
                            label: "  对象",
                            height: 17
                        }
                    }, {
                        type: "CheckBox",
                        props: {
                            y: 0,
                            x: 55,
                            width: 50,
                            skin: "view/rendertime.png",
                            name: "item1",
                            labelColors: "#a0a0a0,#ffffff,#ffffff,#ffffff",
                            label: " 渲染",
                            height: 19
                        }
                    }, {
                        type: "CheckBox",
                        props: {
                            y: 0,
                            x: 110,
                            width: 50,
                            skin: "view/cache.png",
                            name: "item2",
                            labelColors: "#a0a0a0,#ffffff,#ffffff,#ffffff",
                            label: " 重绘",
                            height: 16
                        }
                    }, {
                        type: "CheckBox",
                        props: {
                            y: 0,
                            x: 165,
                            width: 50,
                            skin: "view/cache.png",
                            name: "item3",
                            labelColors: "#a0a0a0,#ffffff,#ffffff,#ffffff",
                            label: " 资源",
                            height: 16
                        }
                    }]
                }, {
                    type: "Rank",
                    props: {
                        y: 40,
                        x: 50,
                        var: "resPanel",
                        top: 29,
                        runtime: "laya.debug.view.nodeInfo.views.ResRankView",
                        right: 0,
                        name: "资源缓存",
                        left: 0,
                        bottom: 0
                    }
                }]
            }
        }
        ]);
        return e
    }(ur);
    var aa = function(t) {
        function e() {
            this.bg = null;
            this.closeBtn = null;
            this.title = null;
            this.itemList = null;
            this.autoUpdate = null;
            this.freshBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.RankUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.uicomps.RankListItem", pa)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 225,
                        y: 274,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    },
                    type: "Image"
                }, {
                    props: {
                        x: 194,
                        y: 22,
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 2,
                        right: 2,
                        visible: false
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 8,
                        y: 5,
                        text: "渲染用时表(3000ms)",
                        width: 109,
                        height: 16,
                        color: "#288edf",
                        var: "title"
                    },
                    type: "Label"
                }, {
                    type: "List",
                    child: [{
                        type: "RankListItem",
                        props: {
                            left: 5,
                            right: 5,
                            name: "render",
                            runtime: "laya.debug.uicomps.RankListItem"
                        }
                    }],
                    props: {
                        vScrollBarSkin: "comp/vscroll.png",
                        var: "itemList",
                        left: 2,
                        right: 2,
                        top: 26,
                        bottom: 25,
                        repeatX: 1,
                        x: 10,
                        y: 10
                    }
                }, {
                    props: {
                        skin: "comp/checkbox.png",
                        label: "自动刷新属性",
                        var: "autoUpdate",
                        bottom: 3,
                        selected: false,
                        visible: true,
                        left: 2,
                        labelColors: "#a0a0a0,#fffff,#ffffff,#fffff"
                    },
                    type: "CheckBox"
                }, {
                    props: {
                        y: 1,
                        skin: "view/refresh2.png",
                        var: "freshBtn",
                        toolTip: "刷新数据",
                        right: 1
                    },
                    type: "Button"
                }],
                props: {
                    width: 200,
                    height: 300
                }
            }
        }
        ]);
        return e
    }(ur);
    var oa = function(t) {
        function e() {
            this.bg = null;
            this.closeBtn = null;
            this.selectList = null;
            this.findBtn = null;
            this.fliterTxt = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.SelectInfosUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.uicomps.RankListItem", pa)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                child: [{
                    props: {
                        x: 205,
                        y: 254,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    },
                    type: "Image"
                }, {
                    props: {
                        skin: "view/btn_close.png",
                        var: "closeBtn",
                        top: 32,
                        visible: false,
                        right: 2
                    },
                    type: "Button"
                }, {
                    props: {
                        x: 7,
                        y: 36,
                        text: "当前选中列表",
                        width: 83,
                        height: 16,
                        color: "#288edf"
                    },
                    type: "Label"
                }, {
                    type: "List",
                    child: [{
                        type: "RankListItem",
                        props: {
                            left: 5,
                            right: 5,
                            name: "render",
                            runtime: "laya.debug.uicomps.RankListItem"
                        }
                    }],
                    props: {
                        vScrollBarSkin: "comp/vscroll.png",
                        var: "selectList",
                        left: 5,
                        right: 5,
                        top: 56,
                        bottom: 25,
                        repeatX: 1,
                        x: 20
                    }
                }, {
                    props: {
                        x: 6,
                        text: "Alt+V选取鼠标下的对象",
                        width: 189,
                        height: 16,
                        color: "#a0a0a0",
                        bottom: 3
                    },
                    type: "Label"
                }, {
                    type: "Image",
                    props: {
                        y: 0,
                        skin: "view/bg_tool.png",
                        left: 0,
                        right: 0
                    }
                }, {
                    type: "Clip",
                    props: {
                        y: 6,
                        skin: "view/search.png",
                        clipY: 2,
                        var: "findBtn",
                        right: 5,
                        toolTip: "查找",
                        x: 174
                    }
                }, {
                    type: "TextInput",
                    props: {
                        y: 6,
                        skin: "view/bg_top.png",
                        height: 22,
                        var: "fliterTxt",
                        left: 8,
                        right: 45,
                        color: "#a0a0a0",
                        x: 8,
                        width: 147
                    }
                }],
                props: {
                    width: 200,
                    height: 300,
                    base64pic: true
                }
            }
        }
        ]);
        return e
    }(ur);
    var la = function(t) {
        function e() {
            this.bg = null;
            this.treeBtn = null;
            this.findBtn = null;
            this.minBtn = null;
            this.selectWhenClick = null;
            this.clearBtn = null;
            this.rankBtn = null;
            this.nodeRankBtn = null;
            this.cacheBtn = null;
            e.__super.call(this)
        }
        x(e, "laya.debug.ui.debugui.ToolBarUI", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists();
            laya.ui.Component.prototype.createChildren.call(this);
            this.createView(e.uiView)
        }
        ;
        i.viewMapRegists = function() {
            ur.regComponent("laya.debug.view.nodeInfo.nodetree.MinBtnComp", ya)
        }
        ;
        u(e, ["uiView", function() {
            return this.uiView = {
                type: "View",
                props: {
                    base64pic: true,
                    width: 250,
                    height: 30
                },
                child: [{
                    type: "Image",
                    props: {
                        x: 195,
                        y: 244,
                        skin: "view/bg_panel.png",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        var: "bg",
                        sizeGrid: "5,5,5,5"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 2,
                        y: 6,
                        skin: "view/save.png",
                        stateNum: 2,
                        var: "treeBtn",
                        toolTip: "节点树"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 25,
                        y: 6,
                        skin: "view/save.png",
                        stateNum: 2,
                        var: "findBtn",
                        toolTip: "查找面板"
                    }
                }, {
                    type: "MinBtnComp",
                    props: {
                        x: 218,
                        y: -3,
                        var: "minBtn",
                        runtime: "laya.debug.view.nodeInfo.nodetree.MinBtnComp"
                    }
                }, {
                    type: "CheckBox",
                    props: {
                        x: 124,
                        y: 8,
                        skin: "comp/checkbox.png",
                        label: "点击选取",
                        var: "selectWhenClick",
                        labelColors: "#a0a0a0,#fffff,#ffffff,#fffff"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 193,
                        y: 5,
                        skin: "view/res.png",
                        stateNum: 2,
                        toolTip: "清除边框",
                        var: "clearBtn"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 49,
                        y: 6,
                        skin: "view/save.png",
                        stateNum: 2,
                        var: "rankBtn",
                        toolTip: "渲染用时排行"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 72,
                        y: 6,
                        skin: "view/save.png",
                        stateNum: 2,
                        var: "nodeRankBtn",
                        toolTip: "创建对象排行"
                    }
                }, {
                    type: "Button",
                    props: {
                        x: 94,
                        y: 6,
                        skin: "view/save.png",
                        stateNum: 2,
                        var: "cacheBtn",
                        toolTip: "cache对象"
                    }
                }]
            }
        }
        ]);
        return e
    }(ur);
    var ha = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.debug.uicomps.ListBase", t);
        var i = e.prototype;
        p(0, i, "selectedIndex", t.prototype._$get_selectedIndex, function(t) {
            if (this._selectedIndex != t) {
                this._selectedIndex = t;
                this.changeSelectStatus();
                this.event("change");
                this.selectHandler && this.selectHandler.runWith(t)
            }
            if (this.selectEnable && this._scrollBar) {
                var e = this._isVertical ? this.repeatX : this.repeatY;
                if (t < this._startIndex || t + e > this._startIndex + this.repeatX * this.repeatY) {
                    this.scrollTo(t)
                }
            }
        });
        return e
    }(fr);
    var ua = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.debug.uicomps.TreeBase", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.addChild(this._list = new ha);
            this._list.renderHandler = b.create(this, this.renderItem, null, false);
            this._list.repeatX = 1;
            this._list.on("change", this, this.onListChange)
        }
        ;
        return e
    }(dr);
    var ca = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.HBox", t);
        var i = e.prototype;
        i.sortItem = function(t) {
            if (t)
                t.sort(function(t, e) {
                    return t.x - e.x
                })
        }
        ;
        i.changeItems = function() {
            this._itemChanged = false;
            var t = [];
            var e = 0;
            for (var i = 0, n = this.numChildren; i < n; i++) {
                var s = this.getChildAt(i);
                if (s && s.layoutEnabled) {
                    t.push(s);
                    e = this._height ? this._height : Math.max(e, s.height * s.scaleY)
                }
            }
            this.sortItem(t);
            var r = 0;
            for (i = 0,
            n = t.length; i < n; i++) {
                s = t[i];
                s.x = r;
                r += s.width * s.scaleX + this._space;
                if (this._align == "top") {
                    s.y = 0
                } else if (this._align == "middle") {
                    s.y = (e - s.height * s.scaleY) * .5
                } else if (this._align == "bottom") {
                    s.y = e - s.height * s.scaleY
                }
            }
            this.changeSize()
        }
        ;
        p(0, i, "height", t.prototype._$get_height, function(t) {
            if (this._height != t) {
                st.superSet(pr, this, "height", t);
                this.callLater(this.changeItems)
            }
        });
        e.NONE = "none";
        e.TOP = "top";
        e.MIDDLE = "middle";
        e.BOTTOM = "bottom";
        return e
    }(pr);
    var fa = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.VBox", t);
        var i = e.prototype;
        i.changeItems = function() {
            this._itemChanged = false;
            var t = [];
            var e = 0;
            for (var i = 0, n = this.numChildren; i < n; i++) {
                var s = this.getChildAt(i);
                if (s && s.layoutEnabled) {
                    t.push(s);
                    e = this._width ? this._width : Math.max(e, s.width * s.scaleX)
                }
            }
            this.sortItem(t);
            var r = 0;
            for (i = 0,
            n = t.length; i < n; i++) {
                s = t[i];
                s.y = r;
                r += s.height * s.scaleY + this._space;
                if (this._align == "left") {
                    s.x = 0
                } else if (this._align == "center") {
                    s.x = (e - s.width * s.scaleX) * .5
                } else if (this._align == "right") {
                    s.x = e - s.width * s.scaleX
                }
            }
            this.changeSize()
        }
        ;
        p(0, i, "width", t.prototype._$get_width, function(t) {
            if (this._width != t) {
                st.superSet(pr, this, "width", t);
                this.callLater(this.changeItems)
            }
        });
        e.NONE = "none";
        e.LEFT = "left";
        e.CENTER = "center";
        e.RIGHT = "right";
        return e
    }(pr);
    var da = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.RadioGroup", t);
        var i = e.prototype;
        i.createItem = function(t, e) {
            return new br(t,e)
        }
        ;
        return e
    }(mr);
    var _a = function(t) {
        function e() {
            e.__super.call(this)
        }
        x(e, "laya.ui.Tab", t);
        var i = e.prototype;
        i.createItem = function(t, e) {
            return new Vs(t,e)
        }
        ;
        return e
    }(mr);
    var pa = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(zr.uiView);
            this.createView(zr.uiView)
        }
        x(e, "laya.debug.uicomps.RankListItem", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }(zr);
    var ma = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(Hr.uiView);
            this.createView(Hr.uiView)
        }
        x(e, "laya.debug.uicomps.TreeListItem", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }(Hr);
    var ga = function(t) {
        function e() {
            this.views = null;
            e.__super.call(this);
            this.msRec = new Te;
            Y.replaceRes(Jr.uiView);
            this.createView(Jr.uiView);
            lt.setResizeAbleEx(this);
            this.views = [this.treePanel, this.selectPanel, this.profilePanel];
            this.tab.selectedIndex = 0;
            this.tabChange();
            this.tab.on("change", this, this.tabChange);
            this.changeSize()
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.DebugPage", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        i.tabChange = function() {
            lt.addOnlyByIndex(this.views, this.tab.selectedIndex, this);
            lt.setTop(this.resizeBtn)
        }
        ;
        i.changeSize = function() {
            if (this.width < 245) {
                this.width = 245
            }
            if (this.height < 100) {
                this.height = 200
            }
            laya.ui.Component.prototype.changeSize.call(this);
            this.msRec.setTo(0, 0, this.width, this.height);
            this.scrollRect = this.msRec
        }
        ;
        return e
    }(Jr);
    var va = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(Kr.uiView);
            this.createView(Kr.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.FindNode", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        return e
    }(Kr);
    var ba = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(jr.uiView);
            this.createView(jr.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.FindNodeSmall", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }(jr);
    var ya = function(t) {
        function e() {
            this.tar = null;
            this.minHandler = null;
            this.maxHandler = null;
            this.prePos = new Se;
            e.__super.call(this);
            Y.replaceRes(Qr.uiView);
            this.createView(Qr.uiView);
            this.init()
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.MinBtnComp", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        i.init = function() {
            this.minBtn.on("click", this, this.onMinBtn);
            this.maxBtn.on("click", this, this.onMaxBtn);
            this.minState = false;
            this.maxUI.removeSelf();
            lt.setDragingItem(this.bg, this.maxUI)
        }
        ;
        i.onMaxBtn = function() {
            this.maxUI.removeSelf();
            if (this.maxHandler) {
                this.maxHandler.run()
            }
            if (this.tar) {
                this.tar.x += this.maxUI.x - this.prePos.x;
                this.tar.y += this.maxUI.y - this.prePos.y
            }
        }
        ;
        i.onMinBtn = function() {
            if (!this.displayedInStage)
                return;
            var t;
            t = Se.TEMP;
            t.setTo(0, 0);
            t = this.localToGlobal(t);
            t = _s.I.popLayer.globalToLocal(t);
            this.maxUI.pos(t.x, t.y);
            _s.I.popLayer.addChild(this.maxUI);
            if (this.tar) {
                this.prePos.setTo(t.x, t.y)
            }
            if (this.minHandler) {
                this.minHandler.run()
            }
        }
        ;
        p(0, i, "minState", null, function(t) {});
        return e
    }(Qr);
    var xa = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(qr.uiView);
            this.createView(qr.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.NodeListPanel", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        return e
    }(qr);
    var wa = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes($r.uiView);
            this.createView($r.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.NodeTool", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }($r);
    var Ca = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(ta.uiView);
            this.createView(ta.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.NodeTreeSetting", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }(ta);
    var Sa = function(t) {
        function i() {
            this.showProps = false;
            this._closeSettingHandler = null;
            this._tar = null;
            i.__super.call(this);
            Y.replaceRes(ea.uiView);
            ur.regComponent("Tree", ua);
            this.createView(ea.uiView);
            ur.regComponent("Tree", dr);
            this.inits();
            i.I = this
        }
        x(i, "laya.debug.view.nodeInfo.nodetree.NodeTree", t);
        var e = i.prototype;
        e.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        e.inits = function() {
            this.nodeTree.list.scrollBar.hide = true;
            this.nodeTree.list.selectEnable = true;
            this.settingBtn.on("click", this, this.onSettingBtn);
            this.freshBtn.on("click", this, this.fresh);
            this.closeBtn.on("click", this, this.onCloseBtn);
            this.fliterTxt.on("enter", this, this.onFliterTxtChange);
            this.fliterTxt.on("blur", this, this.onFliterTxtChange);
            Qt.I.setNodeListAction(this.nodeTree.list);
            this.nodeTree.list.on("click", this, this.onListClick, [this.nodeTree.list]);
            this.nodeTree.renderHandler = new b(this,this.treeRender);
            this._closeSettingHandler = new b(this,this.closeSetting);
            this.onIfShowPropsChange();
            this.ifShowProps.on("change", this, this.onIfShowPropsChange)
        }
        ;
        e.onIfShowPropsChange = function() {
            this.showProps = this.ifShowProps.selected;
            this.fresh()
        }
        ;
        e.onListClick = function(t) {
            if (t.selectedItem) {
                if (t.selectedItem.isDirectory) {
                    t.selectedItem.isOpen = !t.selectedItem.isOpen;
                    this.nodeTree.fresh()
                }
            }
        }
        ;
        e.onFindBtn = function() {
            Ir.I.show()
        }
        ;
        e.onCloseBtn = function() {
            this.removeSelf()
        }
        ;
        e.onTreeDoubleClick = function(t) {
            if (this.nodeTree.selectedItem) {
                var e;
                e = this.nodeTree.selectedItem.path;
                Qt.I.objRightClick(e)
            }
        }
        ;
        e.onTreeRightMouseDown = function(t) {
            if (this.nodeTree.selectedItem) {
                var e;
                e = this.nodeTree.selectedItem.path;
                Qt.I.objRightClick(e)
            }
        }
        ;
        e.onSettingBtn = function() {
            Lr.I.showSetting(i.showKeys, this._closeSettingHandler, this._tar)
        }
        ;
        e.closeSetting = function(t) {
            i.showKeys = t;
            this.fresh()
        }
        ;
        e.onFliterTxtChange = function(t) {
            var e;
            e = this.fliterTxt.text;
            if (e == "")
                return;
            if (e != i.showKeys.join(",")) {
                i.showKeys = e.split(",");
                this.fresh()
            }
            return;
            this.selecteByFile(e)
        }
        ;
        e.selecteByFile = function(t) {
            var e;
            e = this.nodeTree.source;
            var i;
            i = U.findNameHas(t, false);
            if (i && i.length > 0) {
                var n;
                n = i[0];
                this.parseOpen(e, n)
            }
        }
        ;
        e.showSelectInStage = function(t) {
            this.setDis(st.stage);
            this.selectByNode(t)
        }
        ;
        e.selectByNode = function(t) {
            if (!t)
                return;
            var e;
            e = this.nodeTree.source;
            this.parseOpen(e, t)
        }
        ;
        e.showNodeList = function(t) {
            if (!t)
                return;
            var e = 0
              , i = 0;
            i = t.length;
            var n;
            n = [];
            var s;
            var r;
            for (e = 0; e < i; e++) {
                r = t[e];
                s = {};
                s.label = $.getNodeClassAndName(r);
                s.path = r;
                n.push(s)
            }
            this.nodeTree.array = n
        }
        ;
        e.parseOpen = function(t, e) {
            if (t.length < 1)
                return;
            if (!e)
                return;
            var i = 0
              , n = 0;
            n = t.length;
            var s;
            for (i = 0; i < n; i++) {
                s = t[i];
                if (s.path == e) {
                    var r;
                    r = s;
                    while (s) {
                        s.isOpen = true;
                        this.nodeTree.fresh();
                        s = s.nodeParent
                    }
                    this.nodeTree.selectedItem = r;
                    return
                }
            }
        }
        ;
        e.getFilterSource = function(t, e, i) {
            i = i.toLocaleLowerCase();
            var n;
            for (var s in t) {
                n = t[s];
                if (n.isDirectory && String(n.label).toLowerCase().indexOf(i) > -1) {
                    n.x = 0;
                    e.push(n)
                }
                if (n.child && n.child.length > 0) {
                    this.getFilterSource(n.child, e, i)
                }
            }
        }
        ;
        e.onControlDown = function() {
            this.startDrag()
        }
        ;
        e.setDis = function(t) {
            this._tar = t;
            this.fresh()
        }
        ;
        e.fresh = function() {
            var t;
            if (this.nodeTree.selectedItem) {
                var e;
                e = this.nodeTree.selectedItem;
                while (e && !(e.path instanceof laya.display.Sprite)) {
                    e = e.nodeParent
                }
                if (e && e.path) {
                    t = e.path
                }
            }
            if (!this._tar) {
                this.nodeTree.array = []
            } else {
                this.nodeTree.array = $t.getNodeTreeData(this._tar, this.showProps ? i.showKeys : i.emptyShowKey)
            }
            if (t) {
                this.selectByNode(t)
            }
        }
        ;
        e.treeRender = function(t, e) {
            var i = t.dataSource;
            if (i) {
                var n = i.child || i.isDirectory;
                var s = t.getChildByName("label");
                if (i.path instanceof laya.display.Node) {
                    s.color = "#09a4f6"
                } else {
                    if (i.isChilds) {
                        s.color = "#00ff11"
                    } else {
                        s.color = "#838bc5"
                    }
                }
            }
        }
        ;
        i.I = null;
        i.emptyShowKey = [];
        u(i, ["showKeys", function() {
            return this.showKeys = ["x", "y", "width", "height", "renderCost"]
        }
        ]);
        return i
    }(ea);
    var Ta = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(ia.uiView);
            this.createView(ia.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.ObjectCreate", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        return e
    }(ia);
    var Ra = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(na.uiView);
            this.createView(na.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.ObjectInfo", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }(na);
    var Ia = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(sa.uiView);
            this.createView(sa.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.OutPut", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }(sa);
    var Aa = function(t) {
        function e() {
            this.views = null;
            e.__super.call(this);
            Y.replaceRes(ra.uiView);
            this.createView(ra.uiView);
            this.views = [this.createPanel, this.renderPanel, this.cachePanel, this.resPanel];
            this.tab.selectedIndex = 0;
            this.tabChange();
            this.tab.on("change", this, this.tabChange)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.Profile", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        i.tabChange = function() {
            lt.addOnlyByIndex(this.views, this.tab.selectedIndex, this)
        }
        ;
        return e
    }(ra);
    var Ga = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(aa.uiView);
            this.createView(aa.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.Rank", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        return e
    }(aa);
    var Ma = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(oa.uiView);
            this.createView(oa.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.SelectInfos", t);
        var i = e.prototype;
        i.createChildren = function() {
            this.viewMapRegists()
        }
        ;
        return e
    }(oa);
    var La = function(t) {
        function e() {
            e.__super.call(this);
            Y.replaceRes(la.uiView);
            this.createView(la.uiView)
        }
        x(e, "laya.debug.view.nodeInfo.nodetree.ToolBar", t);
        var i = e.prototype;
        i.createChildren = function() {}
        ;
        return e
    }(la);
    st.__init([an, v, Be, He, _, ui, si, pe, Ie, ki, Wn, ur, Yr, Ui]);
    new f
}
)(window, document, Laya);
if (typeof define === "function" && define.amd) {
    define("laya.core", ["require", "exports"], function(t, e) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: true
        });
        for (var i in Laya) {
            var n = Laya[i];
            n && n.__isclass && (e[i] = n)
        }
    })
}
